.class public Lorg/telegram/ui/PhotoViewer;
.super Lcom/iMe/ui/base/mvp/view/MvpNoParentCustomView;
.source "PhotoViewer.java"

# interfaces
.implements Lcom/iMe/ui/recognition/PhotoView;
.implements Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;
.implements Lorg/telegram/ui/Components/GestureDetector2$OnGestureListener;
.implements Lorg/telegram/ui/Components/GestureDetector2$OnDoubleTapListener;


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lorg/telegram/ui/PhotoViewer$FirstFrameView;,
        Lorg/telegram/ui/PhotoViewer$ListAdapter;,
        Lorg/telegram/ui/PhotoViewer$QualityChooseView;,
        Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;,
        Lorg/telegram/ui/PhotoViewer$CaptionTextView;,
        Lorg/telegram/ui/PhotoViewer$CaptionScrollView;,
        Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;,
        Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;,
        Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;,
        Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;,
        Lorg/telegram/ui/PhotoViewer$EmptyPhotoViewerProvider;,
        Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;,
        Lorg/telegram/ui/PhotoViewer$PhotoProgressView;,
        Lorg/telegram/ui/PhotoViewer$CounterView;,
        Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;,
        Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;,
        Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;,
        Lorg/telegram/ui/PhotoViewer$SavedState;,
        Lorg/telegram/ui/PhotoViewer$EditState;,
        Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;,
        Lorg/telegram/ui/PhotoViewer$PhotoCountView;,
        Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;
    }
.end annotation


# static fields
.field private static volatile Instance:Lorg/telegram/ui/PhotoViewer;

.field private static volatile PipInstance:Lorg/telegram/ui/PhotoViewer;

.field private static final VPC_PROGRESS:Landroid/util/Property;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroid/util/Property<",
            "Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;",
            "Ljava/lang/Float;",
            ">;"
        }
    .end annotation
.end field

.field private static decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

.field private static progressDrawables:[Landroid/graphics/drawable/Drawable;

.field private static progressPaint:Landroid/graphics/Paint;


# instance fields
.field private ALLOW_USE_SURFACE:Z

.field public final FLASH_VIEW_VALUE:Landroid/util/Property;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroid/util/Property<",
            "Landroid/view/View;",
            "Ljava/lang/Float;",
            ">;"
        }
    .end annotation
.end field

.field private aboutToSwitchTo:I

.field private actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

.field private actionBarAnimator:Landroid/animation/AnimatorSet;

.field private actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

.field private actionBarItemsVisibility:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map<",
            "Landroid/view/View;",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field private actionBarWasShownBeforeByEnd:Z

.field private activityContext:Landroid/content/Context;

.field private allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

.field private allowOrder:Z

.field private allowShare:Z

.field private allowShowFullscreenButton:Z

.field private animateToMirror:F

.field private animateToRotate:F

.field private animateToScale:F

.field private animateToX:F

.field private animateToY:F

.field private animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

.field private animationEndRunnable:Ljava/lang/Runnable;

.field private animationInProgress:I

.field private animationStartTime:J

.field private animationValue:F

.field private animationValues:[[F

.field private applying:Z

.field private aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

.field private attachedToWindow:Z

.field private audioFramesSize:J

.field private avatarStartProgress:F

.field private avatarStartTime:J

.field private final avatarsArr:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/tgnet/TLRPC$Photo;",
            ">;"
        }
    .end annotation
.end field

.field private avatarsDialogId:J

.field private backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

.field private bitmapPaint:Landroid/graphics/Paint;

.field private volatile bitrate:I

.field private blackPaint:Landroid/graphics/Paint;

.field private final blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

.field private blurBounds:Landroid/graphics/RectF;

.field private blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

.field private bottomFancyShadow:Landroid/graphics/LinearGradient;

.field private bottomFancyShadowMatrix:Landroid/graphics/Matrix;

.field private bottomFancyShadowPaint:Landroid/graphics/Paint;

.field private bottomLayout:Landroid/widget/FrameLayout;

.field private canDragDown:Z

.field private canEditAvatar:Z

.field private canZoom:Z

.field private captionAnimator:Landroid/animation/ObjectAnimator;

.field private captionContainer:Landroid/widget/FrameLayout;

.field private captionDetectedLanguage:Ljava/lang/String;

.field private captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

.field private captionEditContainer:Landroid/widget/FrameLayout;

.field public captionForAllMedia:Ljava/lang/CharSequence;

.field private captionHwLayerEnabled:Z

.field private captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

.field private captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

.field private captionTranslated:Z

.field private captureFrameAtTime:J

.field private captureFrameReadyAtTime:J

.field private centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private centerImage:Lorg/telegram/messenger/ImageReceiver;

.field private centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

.field private centerImageIsVideo:Z

.field private changeModeAnimation:Landroid/animation/AnimatorSet;

.field private changedTextureView:Landroid/view/TextureView;

.field private changingPage:Z

.field private changingTextureView:Z

.field private checkImageView:Lorg/telegram/ui/Components/CheckBox;

.field chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

.field private classGuid:I

.field private clipFancyShadows:Landroid/graphics/Path;

.field private clippingImageProgress:F

.field public closePhotoAfterSelect:Z

.field private compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

.field private volatile compressionsCount:I

.field private containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

.field private countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

.field private cropInitied:Z

.field private cropItem:Landroid/widget/ImageView;

.field private cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private currentAccount:I

.field private currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

.field private currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

.field private currentBitmap:Landroid/graphics/Bitmap;

.field private currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

.field private currentDialogId:J

.field private currentEditMode:I

.field private currentFileLocation:Lorg/telegram/messenger/ImageLocation;

.field private currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

.field private currentFileNames:[Ljava/lang/String;

.field private currentImageFaceKey:Ljava/lang/String;

.field private currentImageHasFace:I

.field private currentImagePath:Ljava/lang/String;

.field private currentIndex:I

.field private currentListViewAnimation:Landroid/animation/AnimatorSet;

.field private currentLoadingVideoRunnable:Ljava/lang/Runnable;

.field private currentMessageObject:Lorg/telegram/messenger/MessageObject;

.field private currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

.field private currentPanTranslationY:F

.field private currentPathObject:Ljava/lang/String;

.field private currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private currentPlayingVideoFile:Landroid/net/Uri;

.field private currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

.field private currentSubtitle:Ljava/lang/String;

.field private currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

.field private currentVideoFinishedLoading:Z

.field private currentVideoSpeed:F

.field private customTitle:Ljava/lang/CharSequence;

.field private dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

.field private disableShowCheck:Z

.field private discardTap:Z

.field private docInfoTextView:Landroid/widget/TextView;

.field private docNameTextView:Landroid/widget/TextView;

.field private doneButtonFullWidth:Landroid/widget/TextView;

.field private doneButtonPressed:Z

.field private dontAutoPlay:Z

.field private dontChangeCaptionPosition:Z

.field private dontResetZoomOnFirstLayout:Z

.field private doubleTap:Z

.field private doubleTapEnabled:Z

.field private dragY:F

.field private draggingDown:Z

.field private drawPressedDrawable:[Z

.field private editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private editState:Lorg/telegram/ui/PhotoViewer$EditState;

.field private editing:Z

.field private editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

.field private endReached:[Z

.field private endTime:J

.field private estimatedDuration:J

.field private estimatedSize:J

.field private exitFullscreenButton:Landroid/widget/ImageView;

.field private fancyShadows:Z

.field private firstAnimationDelay:Z

.field private firstFrameRendered:Z

.field private firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

.field private flashAnimator:Landroid/animation/AnimatorSet;

.field private flashView:Landroid/view/View;

.field private forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field fromCamera:Z

.field private fullscreenButton:[Landroid/widget/ImageView;

.field private fullscreenedByButton:I

.field private gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

.field private groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

.field public hasCaptionForAllMedia:Z

.field private hideActionBarRunnable:Ljava/lang/Runnable;

.field private hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private hintView:Lorg/telegram/ui/Components/UndoView;

.field private hitRect:Landroid/graphics/Rect;

.field private ignoreDidSetImage:Z

.field private imageBounds:Landroid/graphics/RectF;

.field private imageBoundsMatrix:Landroid/graphics/Matrix;

.field private imageBoundsPoints:[F

.field private imageMoveAnimation:Landroid/animation/AnimatorSet;

.field private final imagesArr:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocals:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocations:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/ImageLocation;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocationsSizes:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocationsVideo:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/ImageLocation;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrMessages:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/tgnet/TLRPC$Message;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrTemp:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesByIds:[Landroid/util/SparseArray;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "[",
            "Landroid/util/SparseArray<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesByIdsTemp:[Landroid/util/SparseArray;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "[",
            "Landroid/util/SparseArray<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private inBubbleMode:Z

.field private inPreview:Z

.field private injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

.field private injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

.field private inlineOutAnimationProgress:F

.field private final insets:Landroid/graphics/Rect;

.field private interpolator:Landroid/view/animation/DecelerateInterpolator;

.field private invalidCoords:Z

.field private isActionBarVisible:Z

.field private isCurrentVideo:Z

.field private isDocumentsPicker:Z

.field private isEmbedVideo:Z

.field private isEvent:Z

.field private isFirstLoading:Z

.field private volatile isH264Video:Z

.field private isInline:Z

.field private isPhotosListViewVisible:Z

.field private isPlaying:Z

.field private isStreaming:Z

.field private isVisible:Z

.field private isVisibleOrAnimating:Z

.field private itemsLayout:Landroid/widget/LinearLayout;

.field private keepScreenOnFlagSet:Z

.field private keyboardSize:I

.field private lastBufferedPositionCheck:J

.field private lastCaptionTranslating:Z

.field private lastControlFrameDuration:Ljava/lang/String;

.field private lastFrameBitmap:Landroid/graphics/Bitmap;

.field private lastFrameImageView:Landroid/widget/ImageView;

.field private lastImageId:I

.field private lastPhotoSetTime:J

.field private lastSaveTime:J

.field private lastTitle:Ljava/lang/CharSequence;

.field private leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private leftCropState:Lorg/telegram/messenger/MediaController$CropState;

.field private leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private leftImage:Lorg/telegram/messenger/ImageReceiver;

.field private leftImageIsVideo:Z

.field private leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private limitBulletin:Lorg/telegram/ui/Components/Bulletin;

.field private loadInitialVideo:Z

.field private loadingMoreImages:Z

.field longPressRunnable:Ljava/lang/Runnable;

.field longPressX:F

.field private manuallyPaused:Z

.field private masksAlert:Lorg/telegram/ui/Components/StickersAlert;

.field private masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private maxSelectedPhotos:I

.field private maxX:F

.field private maxY:F

.field private menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

.field private menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

.field private mergeDialogId:J

.field private minX:F

.field private minY:F

.field private miniProgressAnimator:Landroid/animation/AnimatorSet;

.field private miniProgressShowRunnable:Ljava/lang/Runnable;

.field private miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

.field private mirror:F

.field private mirrorItem:Landroid/widget/ImageView;

.field private moveStartX:F

.field private moveStartY:F

.field private moving:Z

.field private muteItem:Landroid/widget/ImageView;

.field private muteVideo:Z

.field private navigationBar:Landroid/view/View;

.field private navigationBarHeight:I

.field private needCaptionLayout:Z

.field private needCaptureFrameReadyAtTime:J

.field private needSearchImageInArr:Z

.field private needShowOnReady:Z

.field private onUserLeaveHintListener:Ljava/lang/Runnable;

.field private openedFromProfile:Z

.field private openedFullScreenVideo:Z

.field private opennedFromMedia:Z

.field private orientationEventListener:Landroid/view/OrientationEventListener;

.field private volatile originalBitrate:I

.field private volatile originalHeight:I

.field private originalSize:J

.field private volatile originalWidth:I

.field private padImageForHorizontalInsets:Z

.field private pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

.field private paintItem:Landroid/widget/ImageView;

.field private paintKeyboardAnimator:Landroid/animation/AnimatorSet;

.field private paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

.field private paintViewTouched:I

.field private paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private parentActivity:Landroid/app/Activity;

.field private parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

.field private parentChatActivity:Lorg/telegram/ui/ChatActivity;

.field private parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

.field private photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

.field private photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

.field private photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

.field private photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

.field private photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

.field private photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

.field private pickerView:Landroid/widget/FrameLayout;

.field private pickerViewSendButton:Landroid/widget/ImageView;

.field private pickerViewSendDrawable:Landroid/graphics/drawable/Drawable;

.field private pinchCenterX:F

.field private pinchCenterY:F

.field private pinchStartDistance:F

.field private pinchStartScale:F

.field private pinchStartX:F

.field private pinchStartY:F

.field private pipAnimationInProgress:Z

.field private pipAvailable:Z

.field private pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private pipPosition:[I

.field private pipVideoOverlayAnimateFlag:Z

.field private placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

.field private playButtonAccessibilityOverlay:Landroid/view/View;

.field private playerAutoStarted:Z

.field private playerInjected:Z

.field private playerLooping:Z

.field private playerWasPlaying:Z

.field private playerWasReady:Z

.field private pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

.field private pressedDrawableAlpha:[F

.field private prevOrientation:I

.field private previousCompression:I

.field private previousCropMirrored:Z

.field private previousCropOrientation:I

.field private previousCropPh:F

.field private previousCropPw:F

.field private previousCropPx:F

.field private previousCropPy:F

.field private previousCropRotation:F

.field private previousCropScale:F

.field private previousHasTransform:Z

.field private progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

.field private progressView:Lorg/telegram/ui/Components/RadialProgressView;

.field private qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

.field private qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

.field private qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

.field public recognitionPresenter:Lcom/iMe/ui/recognition/PhotoViewerPresenter;
    .annotation runtime Lmoxy/presenter/InjectPresenter;
    .end annotation
.end field

.field private requestingPreview:Z

.field private resetButton:Landroid/widget/TextView;

.field private resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

.field private volatile resultHeight:I

.field private volatile resultWidth:I

.field private rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private rightCropState:Lorg/telegram/messenger/MediaController$CropState;

.field private rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private rightImage:Lorg/telegram/messenger/ImageReceiver;

.field private rightImageIsVideo:Z

.field private rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private rotate:F

.field private rotateItem:Landroid/widget/ImageView;

.field private rotationValue:I

.field private savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

.field private savedVideoPositions:Landroidx/collection/ArrayMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroidx/collection/ArrayMap<",
            "Ljava/lang/String;",
            "Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;",
            ">;"
        }
    .end annotation
.end field

.field private scale:F

.field private scroller:Landroid/widget/Scroller;

.field private final secureDocuments:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;"
        }
    .end annotation
.end field

.field private seekToProgressPending:F

.field private seekToProgressPending2:F

.field private volatile selectedCompression:I

.field private selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

.field private selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

.field private sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private sendPhotoType:I

.field private sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

.field private sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

.field private setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

.field private setLoadingRunnable:Ljava/lang/Runnable;

.field private shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

.field private sharedMediaType:I

.field private shiftDp:F

.field private shouldSavePositionForCurrentVideo:Ljava/lang/String;

.field private shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

.field private showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private shownControlsByEnd:Z

.field private sideImage:Lorg/telegram/messenger/ImageReceiver;

.field private skipFirstBufferingProgress:Z

.field public skipLastFrameDraw:Z

.field private slideshowMessageId:I

.field private speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

.field private speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

.field private startOffset:I

.field private startTime:J

.field private startedPlayTime:J

.field private streamingAlertShown:Z

.field private surfaceBlackoutPaint:Landroid/graphics/Paint;

.field private surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

.field private switchImageAfterAnimation:I

.field private switchToInlineRunnable:Ljava/lang/Runnable;

.field private switchingInlineMode:Z

.field private switchingToIndex:I

.field private switchingToMode:I

.field private tempInt:[I

.field private textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

.field private textureImageView:Landroid/widget/ImageView;

.field private textureUploaded:Z

.field private tooltip:Lorg/telegram/ui/Components/Tooltip;

.field private topFancyShadow:Landroid/graphics/LinearGradient;

.field private topFancyShadowMatrix:Landroid/graphics/Matrix;

.field private topFancyShadowPaint:Landroid/graphics/Paint;

.field private topicId:J

.field private totalImagesCount:I

.field private totalImagesCountMerge:I

.field private touchSlop:I

.field private transitionAnimationStartTime:J

.field private transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

.field private translateY:F

.field private translateYAnimator:Landroid/animation/ValueAnimator;

.field private translationX:F

.field private translationY:F

.field private tryStartRequestPreviewOnFinish:Z

.field private tuneItem:Landroid/widget/ImageView;

.field private final updateContainerFlagsRunnable:Ljava/lang/Runnable;

.field private updateProgressRunnable:Ljava/lang/Runnable;

.field private usedSurfaceView:Z

.field private velocityTracker:Landroid/view/VelocityTracker;

.field private videoAvatarTooltip:Landroid/widget/TextView;

.field private volatile videoConvertSupported:Z

.field private videoCrossfadeAlpha:F

.field private videoCrossfadeAlphaLastTime:J

.field private videoCrossfadeStarted:Z

.field private videoCutEnd:F

.field private videoCutStart:F

.field private videoDuration:F

.field private videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

.field private videoFrameBitmap:Landroid/graphics/Bitmap;

.field private videoFrameBitmapPaint:Landroid/graphics/Paint;

.field private videoFramerate:I

.field private videoFramesSize:J

.field private videoHeight:I

.field private videoPlayRunnable:Ljava/lang/Runnable;

.field private videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

.field private videoPlayerControlAnimator:Landroid/animation/Animator;

.field private videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

.field private videoPlayerControlVisible:Z

.field private videoPlayerCurrentTime:[I

.field videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

.field private videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

.field private videoPlayerSeekbarView:Landroid/view/View;

.field private videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

.field private videoPlayerTotalTime:[I

.field private videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

.field private videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

.field private videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

.field private videoSizeSet:Z

.field private videoSurfaceView:Landroid/view/SurfaceView;

.field private videoTextureView:Landroid/view/TextureView;

.field private videoTimelineAnimator:Landroid/animation/ObjectAnimator;

.field private videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

.field private videoTimelineViewContainer:Landroid/widget/FrameLayout;

.field private videoWidth:I

.field private visibleDialog:Landroid/app/Dialog;

.field private waitingForDraw:I

.field private waitingForFirstTextureUpload:I

.field private wasCountViewShown:Z

.field private wasLayout:Z

.field private wasRotated:Z

.field private windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

.field private windowView:Landroid/widget/FrameLayout;

.field private zoomAnimation:Z

.field private zooming:Z


# direct methods
.method public static synthetic $r8$lambda$-AZBnKTzUJvASvetTWijFUiS0Zo(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$88()V

    return-void
.end method

.method public static synthetic $r8$lambda$-NA0Fx2Y3c2pICEKBCtYIjS5xNk(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$65()V

    return-void
.end method

.method public static synthetic $r8$lambda$0p8udDraC_ViS6uz2OM7myegBZw(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$new$2()V

    return-void
.end method

.method public static synthetic $r8$lambda$17DtQhzX1FkP5XrQZAVsUz8VlZM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$89()V

    return-void
.end method

.method public static synthetic $r8$lambda$2yVyyPb6iiaOpq0T7YqB3Ve3vjs(Lorg/telegram/ui/PhotoViewer;Landroid/view/KeyEvent;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$20(Landroid/view/KeyEvent;)V

    return-void
.end method

.method public static synthetic $r8$lambda$321WUtQsDZC9izBxlBvzd-Ncx9I(Lorg/telegram/ui/PhotoViewer;ZLandroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setItemVisible$74(ZLandroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$335CQ8LT4pcy9LioWcokTnkgMGM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$35()V

    return-void
.end method

.method public static synthetic $r8$lambda$3TNu3gKvFTsabrtEDCGov8r2dwg(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct/range {p0 .. p10}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$48(Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$3btRapgVD1b3QuE3V_cwktKxOlg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$34(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5GRgIccrE7gBhKwkCiIi5GOpZ_Y(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$67(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5QrQb6HDFLARSG1O8e68TuqYBSs(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$31(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5hAS0PBNXM2b0834KESVSZjx9WQ(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$90()V

    return-void
.end method

.method public static synthetic $r8$lambda$6_NutMDMq_A0iRCefDMD9FEsmw8(Lorg/telegram/ui/PhotoViewer;ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V
    .locals 0

    invoke-direct/range {p0 .. p10}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$79(ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$7_so8eXvqBtAzoDBFjvoAeXTxys(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/view/MotionEvent;)Z
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$19(Landroid/view/View;Landroid/view/MotionEvent;)Z

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$7mAjAwS1CzQ3Lm9mw7cI6sRKZ3g(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$63(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8MFGcaEqJepV0IXbKKoNmuQEH64(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$18(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8Yx9Z7jCQnMGR0s6tHta25Cz0QM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onPhotoClosed$86(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8rs8oLKph6-1rFmzzxOIEgTYOzA(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$toggleActionBar$72(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8tv8I4gkFhhpsgkzrIvb73bnJ1g(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$60(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$9HkFFCP5yLm1fUhxHcM_K8r3v_8(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$checkChangedTextureView$6(Landroid/view/View;Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$9h3uUlg2zaXV1-Fppnin-b9-03Y(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct/range {p0 .. p5}, Lorg/telegram/ui/PhotoViewer;->lambda$onLinkLongPress$3(Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$B8usTG0b7EYbVlwnwqkEH8nRmAo(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$57(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$CHDJli6hZ6Qo3Ho4WYMl0wC3RbM(Lorg/telegram/ui/PhotoViewer;Ljava/util/ArrayList;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$deleteVideoFromCache$1(Ljava/util/ArrayList;)V

    return-void
.end method

.method public static synthetic $r8$lambda$CQv-dj79Jg_EwcAe2M-3Dfy0_2U(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoControlsInterface$51()V

    return-void
.end method

.method public static synthetic $r8$lambda$DFJnyEXt6MH40A7FQ9ZOH_hBLuM(Lorg/telegram/ui/PhotoViewer;ILjava/lang/String;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$23(ILjava/lang/String;Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$DZp9fuxTsPz9F9hjqyb8Utde7Lg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$25(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$EImSZPnnHcsUHMPh0tTypu78ZUY(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/CharSequence;
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCaption()Ljava/lang/CharSequence;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$F7C8zAeXx-O0keCcTfOH5cSlgc8(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$82(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$FGtB-mPnfnyi3CpQhFrhgBG5-UU(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$33(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Fd0GCX2kvJa37lBGMMmwhDr1asc(Lorg/telegram/ui/PhotoViewer;ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$setIsAboutToSwitchToIndex$75(ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$GtWRWIOjM-FMhefMzJn_1zIqbQ4(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$8(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$Hqn2HsQb6oBzKVgUuUlW_ZY9b-I(Lorg/telegram/ui/PhotoViewer;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showAlertDialog$55(Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$I8m6umDdefrLRsC9mawEDXSquWA(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V

    return-void
.end method

.method public static synthetic $r8$lambda$IAgoVXY94x-0Bf6lK0YPVH23jRM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$new$7()V

    return-void
.end method

.method public static synthetic $r8$lambda$JlPr3jkeMOm9ZCKxZrPGLFAwx-s(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$17(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$KrsRdJ5UKEcdt-MSSStO1DGtvf4(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$showCaptionLimitBulletin$41()V

    return-void
.end method

.method public static synthetic $r8$lambda$LIdvqwO-iOESu4uwbBMdKySGlXM(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$38(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$L_KRSbUD-hk9qZn-Q_XImyrhUII(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/ShareAlert;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showShareAlert$46(Lorg/telegram/ui/Components/ShareAlert;)V

    return-void
.end method

.method public static synthetic $r8$lambda$MOYlYAdHKtdcSQj9VInO0oKjrKY(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$updateResetButtonVisibility$56(Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$NON_qvMFzl-kk1NXKCR01AoT5WE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHint()V

    return-void
.end method

.method public static synthetic $r8$lambda$NR4QScktwDBaTmue0Cw5sK5be-s(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$29(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$O8_WwyXX3mEDbed-AAJTYFHk1so(Lorg/telegram/ui/PhotoViewer;Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$openCurrentPhotoInPaintModeForSelect$80(Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$OHX67oQIc71Vyfk84fBeXSF3iUo(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$85(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$PYsylu19tlf58ZFPXDaKmL54BLI(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$30(Landroid/app/Activity;Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$QEU1Fa0biBgdSfsUDSeOauUeHK8(Lorg/telegram/ui/PhotoViewer;ZILjava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZILjava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$QeFF9eqA2-Z4LS1o_d5vwYWW-sw(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setVideoPlayerControlVisible$54(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$RLjC4so4nqt42ndAoAROgN_Wk_c(Lorg/telegram/ui/PhotoViewer;Landroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$61(Landroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$RbBYSoLp2Q44qMD67uIx3DA6OC0(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onLinkLongPress$4(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Rp4sNu93e_lBz9UJKT9HavHrXQA(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$14(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$V9Q07XJ1bVN84Kulo1Juyaz7498(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$83(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$VWcqH6qy5P2LiW3RNCE-HkvG0MM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$77(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$WJkKydMvfBHUv-H1JuD2hWgeB5I(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method public static synthetic $r8$lambda$WMlfxz7T8w3UhCDRz_nT8m-IaLE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$closePaintMode$69()V

    return-void
.end method

.method public static synthetic $r8$lambda$XOSO1cDfAksK6QPsYT5VOzCoe1c(Lorg/telegram/ui/PhotoViewer;FFLandroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->lambda$cropRotate$50(FFLandroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$XQRMML8WiZmysIuRVLHqC1hr2AE(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$12(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$YNI1g-aJY6O5RC0O9u1jg3hblcY(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$39(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Yth6afZtTgtmQWyU363Q_P200VI(Landroid/content/DialogInterface;I)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$sendPressed$44(Landroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$aG1uJVzS1QGeO_eSYEAGWlLoK_w(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$66()V

    return-void
.end method

.method public static synthetic $r8$lambda$bozdBAb14mSchWEQHkMUp3yaP7w(Lorg/telegram/ui/PhotoViewer;ILjava/io/File;Ljava/io/File;ZZZZZ)V
    .locals 0

    invoke-direct/range {p0 .. p8}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$78(ILjava/io/File;Ljava/io/File;ZZZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$dAycv_7mWkNqVpnhmuKQNQEhBDk(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$27(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dMNbMr76REuyuOf1F_J-AbA0Fd8(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$21(Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dVVMYEiEZJww4B4TrNThslsoUac(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$47(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dx34Kmg-X7pytr_m-YGubLZOIVc(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$16(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$eP2odfSVu2PQVkwye-wOvdRe7fc(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$13(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$fWDqj9gmPsf83B-LtEdfKnesV80(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Boolean;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$9(Ljava/lang/Boolean;)V

    return-void
.end method

.method public static synthetic $r8$lambda$g2UG7k5xw_ePIoKpQA8pTTmGdk4(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method public static synthetic $r8$lambda$gZMaB5WGlfuhr6eDdRYcSftFabA(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$translateY$68(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$g_CPZ-lh0wBShnIlgtsS-XcP3VI(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLObject;)Ljava/io/File;
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$76(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$i4Ht5gE0AIuXtqO-d347GfB8OLE(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$redraw$87(I)V

    return-void
.end method

.method public static synthetic $r8$lambda$j2sre6Q8bPBz1OQHcl7MPIyNsck(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkChangedTextureView$5(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$kTsTR1JoypidgJrjNksHYUHgWrM(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPaintMode$70(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$kUg3Ati6W9a8SDrnUYe_IKRzYw0(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$24(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$knNt2jIiwZ-Piihk_Jh2np_hbDE(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$49(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$lgZzwgh4TLHFhjdjXmG8FmXMTs4(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPaintMode$71(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$lrCCb6-CzfWco7HWS8L5Z84_cXM(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$15(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$m205K17S__UHd-meU2ZqDpgxqgI(Lorg/telegram/ui/PhotoViewer;ZIZZLandroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct/range {p0 .. p6}, Lorg/telegram/ui/PhotoViewer;->lambda$sendPressed$45(ZIZZLandroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$n-C9wcE_-K1SmaKzlHOaoN-hGMk(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$22(Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$nuNLNarPogfxbaWPBb0QX_yRD2w(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$10(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$o0zyc5dkRKVkTYOLu2FEmWL5Psc(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoControlsInterface$52(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$p2KXruaXNoe_X-xwQ6lukSZtZaw(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver;ZZZ)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$37(Lorg/telegram/messenger/ImageReceiver;ZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$pNNLa9LCK3D1X9v1VSlN6sCmMfQ(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->onLinkLongPress(Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V

    return-void
.end method

.method public static synthetic $r8$lambda$q6jj8-llr1LjzS6gPMNvFpL_B9Q(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$11()Landroid/view/View;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$q6sx4d3lw9yFZ5tPo6_JVC8w9BE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$32()V

    return-void
.end method

.method public static synthetic $r8$lambda$qJHVsbHMvJrb3VzWyrDsL4VthSY(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$26(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$qZULGqJ1evsQiHAykokml9ouY20(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$84(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$q_Yt8qFhGbSVkv_Ids6-lEm-uYE(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoTextureView$53(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V

    return-void
.end method

.method public static synthetic $r8$lambda$rmdWN2DdNVDzYIenPP7w8E-BGAE(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$81(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$sKdAF-UW7YxB4IdT4ia8X94BKd0(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$28(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$sx0V8KpF62eLkTaXR-IHVeIP2o4(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$36(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$uq_ualfJVhPz7aSzm4YlNVxFfqQ(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$62(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$vtdT2W5KmeP6JL-9E57MGDHruMk(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setItemVisible$73(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$wSBxXOoHn0JghU1PzuwGZYkXXTI(Lio/reactivex/disposables/Disposable;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showLoadingDialog$0(Lio/reactivex/disposables/Disposable;Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$wXPBc52L00IY0pl8iENNYUl6zm0(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$58(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$xMTwfb1RlZWzr3MhNWt_2YfJq40(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;I)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$40(Landroid/view/View;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$y3IJS8C7jQ_d8zzS8eEhQYtNWf8(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$showCaptionLimitBulletin$42()V

    return-void
.end method

.method public static synthetic $r8$lambda$yGKNixVKe3fGCU9b1C2K6A4N6Yc(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$64(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$z6UdvEMLx-nVc3Y-V0xfkx2CMJY(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$59(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method static constructor <clinit>()V
    .locals 3

    .line 3379
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const-string v1, "progress"

    const/16 v2, 0x18

    if-lt v0, v2, :cond_0

    .line 3380
    new-instance v0, Lorg/telegram/ui/PhotoViewer$11;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$11;-><init>(Ljava/lang/String;)V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    goto :goto_0

    .line 3392
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$12;

    const-class v2, Ljava/lang/Float;

    invoke-direct {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$12;-><init>(Ljava/lang/Class;Ljava/lang/String;)V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    :goto_0
    const/4 v0, 0x0

    .line 3992
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 3993
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-void
.end method

.method public constructor <init>()V
    .locals 11

    .line 4020
    invoke-direct {p0}, Lcom/iMe/ui/base/mvp/view/MvpNoParentCustomView;-><init>()V

    .line 328
    new-instance v0, Ljava/util/HashMap;

    const/4 v1, 0x4

    invoke-direct {v0, v1}, Ljava/util/HashMap;-><init>(I)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    .line 562
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/4 v2, 0x0

    const/4 v3, 0x1

    const/16 v4, 0x1e

    if-lt v0, v4, :cond_0

    move v0, v3

    goto :goto_0

    :cond_0
    move v0, v2

    :goto_0
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->ALLOW_USE_SURFACE:Z

    const/4 v0, -0x1

    .line 568
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    .line 569
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    .line 580
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda60;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda60;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    .line 586
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 591
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    .line 1079
    new-instance v4, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/high16 v5, -0x1000000

    invoke-direct {v4, p0, v5}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    .line 1080
    new-instance v4, Landroid/graphics/Paint;

    invoke-direct {v4}, Landroid/graphics/Paint;-><init>()V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    const/4 v4, 0x3

    new-array v6, v4, [Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    .line 1087
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    .line 1105
    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda67;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda67;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    const/4 v6, 0x2

    new-array v7, v6, [Landroid/graphics/drawable/GradientDrawable;

    .line 1111
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-array v7, v6, [Z

    .line 1112
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    new-array v7, v6, [F

    .line 1113
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    .line 1120
    new-instance v7, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 1121
    new-instance v7, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 1122
    new-instance v7, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/high16 v7, -0x3f000000    # -8.0f

    .line 1133
    iput v7, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    .line 1151
    new-instance v7, Landroid/graphics/Paint;

    invoke-direct {v7, v6}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    .line 1155
    new-instance v7, Landroid/graphics/Rect;

    invoke-direct {v7}, Landroid/graphics/Rect;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    .line 1162
    new-instance v7, Lorg/telegram/ui/PhotoViewer$2;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$2;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    .line 1172
    new-instance v7, Lorg/telegram/ui/PhotoViewer$3;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$3;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    .line 1223
    new-instance v7, Landroidx/collection/ArrayMap;

    invoke-direct {v7}, Landroidx/collection/ArrayMap;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    .line 1232
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    new-array v7, v6, [I

    .line 1233
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    new-array v7, v6, [I

    .line 1234
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    new-array v7, v4, [Landroid/widget/ImageView;

    .line 1245
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    new-array v7, v6, [I

    .line 1247
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    .line 1257
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 1268
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    const/16 v7, -0xa

    .line 1271
    iput v7, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 1284
    new-instance v7, Lorg/telegram/ui/PhotoViewer$4;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$4;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    .line 1315
    new-instance v7, Lorg/telegram/ui/PhotoViewer$5;

    const-string v8, "flashViewAlpha"

    invoke-direct {v7, p0, v8}, Lorg/telegram/ui/PhotoViewer$5;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->FLASH_VIEW_VALUE:Landroid/util/Property;

    .line 1600
    new-instance v7, Lorg/telegram/ui/PhotoViewer$6;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$6;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    .line 1716
    new-instance v7, Lorg/telegram/ui/PhotoViewer$7;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$7;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    .line 1793
    new-instance v7, Lorg/telegram/ui/PhotoViewer$8;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$8;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

    new-array v7, v6, [I

    .line 1982
    fill-array-data v7, :array_0

    const-class v8, F

    invoke-static {v8, v7}, Ljava/lang/reflect/Array;->newInstance(Ljava/lang/Class;[I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, [[F

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    .line 2010
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda65;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda65;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    .line 2075
    new-instance v7, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v7}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 2076
    new-instance v7, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v7}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 2077
    new-instance v7, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v7}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 2078
    new-instance v7, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v8, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v7, v3, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 2079
    new-instance v7, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v8, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v7, v3, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 2080
    new-instance v7, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v8, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v7, v3, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 2084
    new-instance v7, Landroid/graphics/Paint;

    invoke-direct {v7}, Landroid/graphics/Paint;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    const/4 v7, 0x0

    .line 2085
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    .line 2092
    new-instance v8, Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-direct {v8}, Lorg/telegram/ui/PhotoViewer$EditState;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    new-array v8, v4, [Ljava/lang/String;

    .line 2097
    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    new-array v8, v6, [Z

    .line 2123
    fill-array-data v8, :array_1

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    const/high16 v8, 0x3f800000    # 1.0f

    .line 2138
    iput v8, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/4 v9, 0x0

    .line 2139
    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 2140
    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 2150
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    .line 2155
    new-instance v9, Landroid/view/animation/DecelerateInterpolator;

    const/high16 v10, 0x3fc00000    # 1.5f

    invoke-direct {v9, v10}, Landroid/view/animation/DecelerateInterpolator;-><init>(F)V

    iput-object v9, p0, Lorg/telegram/ui/PhotoViewer;->interpolator:Landroid/view/animation/DecelerateInterpolator;

    .line 2157
    iput v8, p0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 2168
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    .line 2175
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 2181
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    .line 2182
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    .line 2184
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    new-array v8, v6, [Landroid/util/SparseArray;

    .line 2185
    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v2

    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v3

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    .line 2186
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    new-array v8, v6, [Landroid/util/SparseArray;

    .line 2187
    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v2

    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v3

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    .line 2188
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    .line 2189
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    .line 2190
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    .line 2191
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    .line 2192
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    .line 2193
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    .line 2194
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    .line 2195
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 2196
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 2215
    new-instance v7, Landroid/graphics/Rect;

    invoke-direct {v7}, Landroid/graphics/Rect;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    .line 2240
    new-instance v7, Lorg/telegram/messenger/AnimationNotificationsLocker;

    const/4 v8, 0x5

    new-array v8, v8, [I

    sget v9, Lorg/telegram/messenger/NotificationCenter;->dialogsNeedReload:I

    aput v9, v8, v2

    sget v2, Lorg/telegram/messenger/NotificationCenter;->closeChats:I

    aput v2, v8, v3

    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    aput v2, v8, v6

    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    aput v2, v8, v4

    sget v2, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    aput v2, v8, v1

    invoke-direct {v7, v8}, Lorg/telegram/messenger/AnimationNotificationsLocker;-><init>([I)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

    .line 15993
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda57;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda57;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    new-array v1, v6, [I

    .line 17336
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->tempInt:[I

    const-wide/16 v1, -0x1

    .line 17870
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 17871
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    .line 17872
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    .line 17875
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    .line 18744
    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    const-wide/16 v6, 0xb4

    sget-object v3, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-direct {v1, v2, v6, v7, v3}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    .line 4021
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    invoke-virtual {v1, v5}, Landroid/graphics/Paint;->setColor(I)V

    .line 4022
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 4023
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v4}, Lorg/telegram/messenger/ImageReceiver;->setFileLoadingPriority(I)V

    return-void

    :array_0
    .array-data 4
        0x2
        0xd
    .end array-data

    :array_1
    .array-data 1
        0x0t
        0x1t
    .end array-data
.end method

.method static synthetic access$000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    return p0
.end method

.method static synthetic access$1000(Lorg/telegram/ui/PhotoViewer;Landroid/view/MotionEvent;)Z
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onTouchEvent(Landroid/view/MotionEvent;)Z

    move-result p0

    return p0
.end method

.method static synthetic access$10000(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    return p0
.end method

.method static synthetic access$10002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    return p1
.end method

.method static synthetic access$10100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$10200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$10300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$10400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->editing:Z

    return p0
.end method

.method static synthetic access$10500(Lorg/telegram/ui/PhotoViewer;)[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    return-object p0
.end method

.method static synthetic access$10600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/SimpleTextView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    return-object p0
.end method

.method static synthetic access$10700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$10800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    return p0
.end method

.method static synthetic access$10900(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$1100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoForwardDrawable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    return-object p0
.end method

.method static synthetic access$11000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    return-void
.end method

.method static synthetic access$11100(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Rect;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    return-object p0
.end method

.method static synthetic access$11200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    return p0
.end method

.method static synthetic access$11302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasLayout:Z

    return p1
.end method

.method static synthetic access$11400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    return p0
.end method

.method static synthetic access$11402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    return p1
.end method

.method static synthetic access$11502(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    return p1
.end method

.method static synthetic access$11600(Lorg/telegram/ui/PhotoViewer;F)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    return-void
.end method

.method static synthetic access$11700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/CheckBox;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    return-object p0
.end method

.method static synthetic access$11800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setScaleToFill()V

    return-void
.end method

.method static synthetic access$11900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$1200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoPlayerSeekBar;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    return-object p0
.end method

.method static synthetic access$12000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$12102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->attachedToWindow:Z

    return p1
.end method

.method static synthetic access$12200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    return-object p0
.end method

.method static synthetic access$12300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p0

    return p0
.end method

.method static synthetic access$12400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    return-void
.end method

.method static synthetic access$12500(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Paint;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    return-object p0
.end method

.method static synthetic access$12600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ChatActivity;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    return-object p0
.end method

.method static synthetic access$12700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CounterView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    return-object p0
.end method

.method static synthetic access$12800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->deleteVideoFromCache()V

    return-void
.end method

.method static synthetic access$12900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->forwardCloud()V

    return-void
.end method

.method static synthetic access$1300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$13000(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSharePressed(Ljava/lang/String;)V

    return-void
.end method

.method static synthetic access$13100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/BaseFragment;
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$13200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    return-object p0
.end method

.method static synthetic access$13202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;)Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    return-object p1
.end method

.method static synthetic access$13300(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return p0
.end method

.method static synthetic access$13302(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return p1
.end method

.method static synthetic access$13400(Lorg/telegram/ui/PhotoViewer;I[J)Lorg/telegram/tgnet/TLObject;
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$13500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    return-object p0
.end method

.method static synthetic access$13600(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    return-wide v0
.end method

.method static synthetic access$13700(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    return p0
.end method

.method static synthetic access$13800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    return-object p0
.end method

.method static synthetic access$13900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V

    return-void
.end method

.method static synthetic access$1400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    return-object p0
.end method

.method static synthetic access$14000(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$14100(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    return-wide v0
.end method

.method static synthetic access$14202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    return p1
.end method

.method static synthetic access$14300(Lorg/telegram/ui/PhotoViewer;Ljava/util/ArrayList;)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showShareAlert(Ljava/util/ArrayList;)V

    return-void
.end method

.method static synthetic access$14400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->openCurrentPhotoInPaintModeForSelect()V

    return-void
.end method

.method static synthetic access$14500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    return p0
.end method

.method static synthetic access$14600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    return-object p0
.end method

.method static synthetic access$14700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onSharePressed()V

    return-void
.end method

.method static synthetic access$14800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/StickersAlert;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    return-object p0
.end method

.method static synthetic access$14802(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/StickersAlert;)Lorg/telegram/ui/Components/StickersAlert;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    return-object p1
.end method

.method static synthetic access$14900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    return-object p0
.end method

.method static synthetic access$1500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoCropView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    return-object p0
.end method

.method static synthetic access$15000()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 311
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method static synthetic access$15002(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer;
    .locals 0

    .line 311
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    return-object p0
.end method

.method static synthetic access$15102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    return p1
.end method

.method static synthetic access$15202(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return p1
.end method

.method static synthetic access$15300(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    return-void
.end method

.method static synthetic access$15400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    return-void
.end method

.method static synthetic access$15500(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15602(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    return-object p1
.end method

.method static synthetic access$15700(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15800(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15900(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$1600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoPlayer;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-object p0
.end method

.method static synthetic access$16000(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$16100(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    return-void
.end method

.method static synthetic access$16200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/UndoView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    return-object p0
.end method

.method static synthetic access$16300(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    return p0
.end method

.method static synthetic access$16400(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$16502(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    return p1
.end method

.method static synthetic access$16600(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTranslated()V

    return-void
.end method

.method static synthetic access$16700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/SecureDocument;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    return-object p0
.end method

.method static synthetic access$16800(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    return p0
.end method

.method static synthetic access$16900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result p0

    return p0
.end method

.method static synthetic access$1700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoViewerWebView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    return-object p0
.end method

.method static synthetic access$17000(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$17100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/BaseFragment;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    return-object p0
.end method

.method static synthetic access$17200(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return p0
.end method

.method static synthetic access$17202(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return p1
.end method

.method static synthetic access$17300(Lorg/telegram/ui/PhotoViewer;ZZ)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    return-void
.end method

.method static synthetic access$17400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    return-object p0
.end method

.method static synthetic access$17402(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    return-object p1
.end method

.method static synthetic access$17502(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->dontAutoPlay:Z

    return p1
.end method

.method static synthetic access$17600(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)Z
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result p0

    return p0
.end method

.method static synthetic access$17702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    return p1
.end method

.method static synthetic access$17800(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    return-void
.end method

.method static synthetic access$17900(Lorg/telegram/ui/PhotoViewer;IZZ)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return-void
.end method

.method static synthetic access$1800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    return p0
.end method

.method static synthetic access$18000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    return-void
.end method

.method static synthetic access$18100(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    return p0
.end method

.method static synthetic access$18200(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/TextView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    return-object p0
.end method

.method static synthetic access$18300(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/LinearLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    return-object p0
.end method

.method static synthetic access$18400(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$18500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/BlurringShader$BlurManager;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    return-object p0
.end method

.method static synthetic access$18600(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V
    .locals 0

    .line 311
    invoke-direct/range {p0 .. p7}, Lorg/telegram/ui/PhotoViewer;->drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V

    return-void
.end method

.method static synthetic access$18700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    return-void
.end method

.method static synthetic access$18800(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    return p0
.end method

.method static synthetic access$18802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    return p1
.end method

.method static synthetic access$18900(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    return-wide v0
.end method

.method static synthetic access$18902(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    return-wide p1
.end method

.method static synthetic access$1900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoTimelinePlayView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    return-object p0
.end method

.method static synthetic access$19000(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    return-wide v0
.end method

.method static synthetic access$19002(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    return-wide p1
.end method

.method static synthetic access$19100(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    return p0
.end method

.method static synthetic access$19102(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    return p1
.end method

.method static synthetic access$19200(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    return-wide v0
.end method

.method static synthetic access$19202(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    return-wide p1
.end method

.method static synthetic access$19302(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    return-wide p1
.end method

.method static synthetic access$19400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelFlashAnimations()V

    return-void
.end method

.method static synthetic access$19500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isVideoPlaying()Z

    move-result p0

    return p0
.end method

.method static synthetic access$19600(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$19700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->captureCurrentFrame()V

    return-void
.end method

.method static synthetic access$19800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Bulletin;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    return-object p0
.end method

.method static synthetic access$19900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method static synthetic access$200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/MessageObject;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    return-object p0
.end method

.method static synthetic access$2000(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v0

    return-wide v0
.end method

.method static synthetic access$20000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoCompressButton;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    return-object p0
.end method

.method static synthetic access$20100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    return p0
.end method

.method static synthetic access$20102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    return p1
.end method

.method static synthetic access$202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)Lorg/telegram/messenger/MessageObject;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    return-object p1
.end method

.method static synthetic access$20200(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$20202(Lorg/telegram/ui/PhotoViewer;Landroid/widget/ImageView;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    return-object p1
.end method

.method static synthetic access$20300(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Bitmap;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    return-object p0
.end method

.method static synthetic access$20302(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    return-object p1
.end method

.method static synthetic access$20400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->requestAdjust()V

    return-void
.end method

.method static synthetic access$20500(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$20502(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$20602(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$20700(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$20800(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$20802(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$20900(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$2100(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v0

    return-wide v0
.end method

.method static synthetic access$21002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    return p1
.end method

.method static synthetic access$21102(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    return p1
.end method

.method static synthetic access$21202(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    return p1
.end method

.method static synthetic access$21302(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    return p1
.end method

.method static synthetic access$21402(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    return p1
.end method

.method static synthetic access$21500(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$21600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$EditState;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    return-object p0
.end method

.method static synthetic access$21700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    return p0
.end method

.method static synthetic access$21802(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$21900(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showVideoSeekPreviewPosition(Z)V

    return-void
.end method

.method static synthetic access$2200(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    return p0
.end method

.method static synthetic access$22002(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    return p1
.end method

.method static synthetic access$22100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoSeekPreviewImage;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    return-object p0
.end method

.method static synthetic access$22200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoSeekPreviewPosition()V

    return-void
.end method

.method static synthetic access$22300(Lorg/telegram/ui/PhotoViewer;)[I
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    return-object p0
.end method

.method static synthetic access$22400(Lorg/telegram/ui/PhotoViewer;)[I
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    return-object p0
.end method

.method static synthetic access$22600(Lorg/telegram/ui/PhotoViewer;)Landroid/view/OrientationEventListener;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    return-object p0
.end method

.method static synthetic access$22700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    return p0
.end method

.method static synthetic access$22702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    return p1
.end method

.method static synthetic access$22800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    return p0
.end method

.method static synthetic access$22802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    return p1
.end method

.method static synthetic access$22900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    return p0
.end method

.method static synthetic access$2300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    return p0
.end method

.method static synthetic access$23000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->playOrStopAnimatedStickers(Z)V

    return-void
.end method

.method static synthetic access$23100(Lorg/telegram/ui/PhotoViewer;J)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->seekAnimatedStickersTo(J)V

    return-void
.end method

.method static synthetic access$23202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    return p1
.end method

.method static synthetic access$23300(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$23400(Lorg/telegram/ui/PhotoViewer;ZI)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    return-void
.end method

.method static synthetic access$23500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    return-object p0
.end method

.method static synthetic access$23600(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    return-void
.end method

.method static synthetic access$23702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    return p1
.end method

.method static synthetic access$23800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    return p0
.end method

.method static synthetic access$23802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    return p1
.end method

.method static synthetic access$23900(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView$SurfaceTextureListener;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

    return-object p0
.end method

.method static synthetic access$2400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    return p0
.end method

.method static synthetic access$24000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateResetButtonVisibility(Z)V

    return-void
.end method

.method static synthetic access$24100(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    return-void
.end method

.method static synthetic access$24200(Lorg/telegram/ui/PhotoViewer;F)Z
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(F)Z

    move-result p0

    return p0
.end method

.method static synthetic access$24300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cropMirror()Z

    move-result p0

    return p0
.end method

.method static synthetic access$24500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PickerBottomLayoutViewer;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    return-object p0
.end method

.method static synthetic access$24600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoFilterView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    return-object p0
.end method

.method static synthetic access$24602(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/PhotoFilterView;)Lorg/telegram/ui/Components/PhotoFilterView;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    return-object p1
.end method

.method static synthetic access$24700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    return-object p0
.end method

.method static synthetic access$24802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    return p1
.end method

.method static synthetic access$24902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->applying:Z

    return p1
.end method

.method static synthetic access$2500(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    return p0
.end method

.method static synthetic access$25002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    return p1
.end method

.method static synthetic access$2502(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    return p1
.end method

.method static synthetic access$25102(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    return p1
.end method

.method static synthetic access$25200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$SavedState;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    return-object p0
.end method

.method static synthetic access$25202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$SavedState;)Lorg/telegram/ui/PhotoViewer$SavedState;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    return-object p1
.end method

.method static synthetic access$25300(Lorg/telegram/ui/PhotoViewer;ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    return-void
.end method

.method static synthetic access$25400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result p0

    return p0
.end method

.method static synthetic access$25500(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method static synthetic access$25600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    return p0
.end method

.method static synthetic access$25602(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    return p1
.end method

.method static synthetic access$25702(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$25802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    return p1
.end method

.method static synthetic access$25900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$2600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$26000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p0

    return p0
.end method

.method static synthetic access$26100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p0

    return p0
.end method

.method static synthetic access$26200(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$26300(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$26400(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result p0

    return p0
.end method

.method static synthetic access$26500(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result p0

    return p0
.end method

.method static synthetic access$26602(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    return-wide p1
.end method

.method static synthetic access$26702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    return p1
.end method

.method static synthetic access$26802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    return p1
.end method

.method static synthetic access$26900(Lorg/telegram/ui/PhotoViewer;Z)F
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result p0

    return p0
.end method

.method static synthetic access$27000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->switchToPaintMode()V

    return-void
.end method

.method static synthetic access$2702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    return p1
.end method

.method static synthetic access$27100(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    return-wide v0
.end method

.method static synthetic access$27200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    return-void
.end method

.method static synthetic access$27300(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27302(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27400(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27402(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27500(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27502(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    return p0
.end method

.method static synthetic access$27800(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$27900(Lorg/telegram/ui/PhotoViewer;)[Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$2800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    return-void
.end method

.method static synthetic access$28000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    return p0
.end method

.method static synthetic access$28100(Lorg/telegram/ui/PhotoViewer;)[[F
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    return-object p0
.end method

.method static synthetic access$28200(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$28202(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$28300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    return p0
.end method

.method static synthetic access$28400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/AnimationNotificationsLocker;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

    return-object p0
.end method

.method static synthetic access$28500(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setCaptionHwLayerEnabled(Z)V

    return-void
.end method

.method static synthetic access$28602(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    return-wide p1
.end method

.method static synthetic access$28802(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MediaController$CropState;)Lorg/telegram/messenger/MediaController$CropState;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    return-object p1
.end method

.method static synthetic access$28900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$2900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    return p0
.end method

.method static synthetic access$29002(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MediaController$CropState;)Lorg/telegram/messenger/MediaController$CropState;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    return-object p1
.end method

.method static synthetic access$29100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$29200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    return-void
.end method

.method static synthetic access$29300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$29400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$29500(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->initEmbedVideo(I)V

    return-void
.end method

.method static synthetic access$29600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    return p0
.end method

.method static synthetic access$29602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    return p1
.end method

.method static synthetic access$29700(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->didChangedCompressionLevel(Z)V

    return-void
.end method

.method static synthetic access$29800(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method static synthetic access$29902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    return p1
.end method

.method static synthetic access$300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    return p0
.end method

.method static synthetic access$3000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    return p0
.end method

.method static synthetic access$30100(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$30102(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$30200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$QualityChooseView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    return-object p0
.end method

.method static synthetic access$30300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PickerBottomLayoutViewer;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    return-object p0
.end method

.method static synthetic access$30400(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$30402(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$30502(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    return p1
.end method

.method static synthetic access$30600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    return p0
.end method

.method static synthetic access$30602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    return p1
.end method

.method static synthetic access$30700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    return p0
.end method

.method static synthetic access$30702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    return p1
.end method

.method static synthetic access$30800(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    return p0
.end method

.method static synthetic access$30802(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    return p1
.end method

.method static synthetic access$30900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    return p0
.end method

.method static synthetic access$30902(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    return p1
.end method

.method static synthetic access$3100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    return p0
.end method

.method static synthetic access$31000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    return p0
.end method

.method static synthetic access$31002(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    return p1
.end method

.method static synthetic access$3102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    return p1
.end method

.method static synthetic access$31100(Lorg/telegram/ui/PhotoViewer;II)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updateCompressionsCount(II)V

    return-void
.end method

.method static synthetic access$31200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->selectCompression()I

    move-result p0

    return p0
.end method

.method static synthetic access$31300(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->prepareRealEncoderBitrate()V

    return-void
.end method

.method static synthetic access$31402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isH264Video:Z

    return p1
.end method

.method static synthetic access$31502(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    return-wide p1
.end method

.method static synthetic access$31602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    return p1
.end method

.method static synthetic access$31702(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    return-wide p1
.end method

.method static synthetic access$31800(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    return p0
.end method

.method static synthetic access$31802(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    return p1
.end method

.method static synthetic access$31900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    return-void
.end method

.method static synthetic access$3200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    return-void
.end method

.method static synthetic access$32000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/VideoEditedInfo;
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$32100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$ListAdapter;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    return-object p0
.end method

.method static synthetic access$32200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    return-void
.end method

.method static synthetic access$3300(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    return-void
.end method

.method static synthetic access$3400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method static synthetic access$3500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    return p0
.end method

.method static synthetic access$3600(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    return-wide v0
.end method

.method static synthetic access$3602(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    return-wide p1
.end method

.method static synthetic access$3700(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    return p0
.end method

.method static synthetic access$3800(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    return p0
.end method

.method static synthetic access$3802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    return p1
.end method

.method static synthetic access$3900(Lorg/telegram/ui/PhotoViewer;)[Ljava/lang/String;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    return-object p0
.end method

.method static synthetic access$400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    return p0
.end method

.method static synthetic access$4000(Lorg/telegram/ui/PhotoViewer;J)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebTo(J)V

    return-void
.end method

.method static synthetic access$4100(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/String;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    return-object p0
.end method

.method static synthetic access$4200(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 311
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    return-wide v0
.end method

.method static synthetic access$4202(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 311
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    return-wide p1
.end method

.method static synthetic access$4300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$FirstFrameView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    return-object p0
.end method

.method static synthetic access$4500(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$4600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    return p0
.end method

.method static synthetic access$4602(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    return p1
.end method

.method static synthetic access$4700(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Bitmap;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    return-object p0
.end method

.method static synthetic access$4702(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    return-object p1
.end method

.method static synthetic access$4800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    return p0
.end method

.method static synthetic access$4802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    return p1
.end method

.method static synthetic access$4900(Lorg/telegram/ui/PhotoViewer;)Landroid/app/Activity;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    return-object p0
.end method

.method static synthetic access$500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    return-object p0
.end method

.method static synthetic access$5000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    return p0
.end method

.method static synthetic access$5100(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$5200(Lorg/telegram/ui/PhotoViewer;)Landroid/view/SurfaceView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    return-object p0
.end method

.method static synthetic access$5300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    return-object p0
.end method

.method static synthetic access$5400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    return p0
.end method

.method static synthetic access$5402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    return p1
.end method

.method static synthetic access$5500(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    return-object p0
.end method

.method static synthetic access$5502(Lorg/telegram/ui/PhotoViewer;Landroid/view/TextureView;)Landroid/view/TextureView;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    return-object p1
.end method

.method static synthetic access$5600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoWidth:I

    return p0
.end method

.method static synthetic access$5602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoWidth:I

    return p1
.end method

.method static synthetic access$5700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoHeight:I

    return p0
.end method

.method static synthetic access$5702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoHeight:I

    return p1
.end method

.method static synthetic access$5800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    return p0
.end method

.method static synthetic access$5802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    return p1
.end method

.method static synthetic access$5900(Lorg/telegram/ui/PhotoViewer;)Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    return-object p0
.end method

.method static synthetic access$600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CaptionScrollView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    return-object p0
.end method

.method static synthetic access$6000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->checkChangedTextureView(Z)V

    return-void
.end method

.method static synthetic access$6100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    return p0
.end method

.method static synthetic access$6102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    return p1
.end method

.method static synthetic access$6200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    return-void
.end method

.method static synthetic access$6302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    return p1
.end method

.method static synthetic access$6400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    return-object p0
.end method

.method static synthetic access$6402(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;
    .locals 0

    .line 311
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    return-object p1
.end method

.method static synthetic access$6500(Lorg/telegram/ui/PhotoViewer;)Landroid/view/WindowManager$LayoutParams;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    return-object p0
.end method

.method static synthetic access$6600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$6700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    return-object p0
.end method

.method static synthetic access$6800(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    .line 311
    invoke-direct/range {p0 .. p9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method static synthetic access$6900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    return p0
.end method

.method static synthetic access$6902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 311
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    return p1
.end method

.method static synthetic access$700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/RadialProgressView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    return-object p0
.end method

.method static synthetic access$7000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/ChatAttachAlert;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    return-object p0
.end method

.method static synthetic access$7100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    return p0
.end method

.method static synthetic access$7102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    return p1
.end method

.method static synthetic access$7200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$7300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/ClippingImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    return-object p0
.end method

.method static synthetic access$7400()Landroid/view/animation/DecelerateInterpolator;
    .locals 1

    .line 311
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

    return-object v0
.end method

.method static synthetic access$7402(Landroid/view/animation/DecelerateInterpolator;)Landroid/view/animation/DecelerateInterpolator;
    .locals 0

    .line 311
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

    return-object p0
.end method

.method static synthetic access$7500()Landroid/graphics/Paint;
    .locals 1

    .line 311
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressPaint:Landroid/graphics/Paint;

    return-object v0
.end method

.method static synthetic access$7502(Landroid/graphics/Paint;)Landroid/graphics/Paint;
    .locals 0

    .line 311
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->progressPaint:Landroid/graphics/Paint;

    return-object p0
.end method

.method static synthetic access$7600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result p0

    return p0
.end method

.method static synthetic access$7700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    return p0
.end method

.method static synthetic access$7800()[Landroid/graphics/drawable/Drawable;
    .locals 1

    .line 311
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    return-object v0
.end method

.method static synthetic access$7900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    return p0
.end method

.method static synthetic access$800()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 311
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method static synthetic access$8000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    return-object p0
.end method

.method static synthetic access$802(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer;
    .locals 0

    .line 311
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object p0
.end method

.method static synthetic access$8100(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$8200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/GroupedPhotosListView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    return-object p0
.end method

.method static synthetic access$8300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    return-object p0
.end method

.method static synthetic access$8600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$8700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$8800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/CaptionPhotoViewer;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    return-object p0
.end method

.method static synthetic access$8900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    return p0
.end method

.method static synthetic access$900(Lorg/telegram/ui/PhotoViewer;ZZ)V
    .locals 0

    .line 311
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method static synthetic access$9000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 311
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->dontChangeCaptionPosition:Z

    return p0
.end method

.method static synthetic access$9102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->keyboardSize:I

    return p1
.end method

.method static synthetic access$9200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    return-object p0
.end method

.method static synthetic access$9300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBar;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    return-object p0
.end method

.method static synthetic access$9400(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$9500(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$9600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$9700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/TextView;
    .locals 0

    .line 311
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    return-object p0
.end method

.method static synthetic access$9800(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Canvas;)V
    .locals 0

    .line 311
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onDraw(Landroid/graphics/Canvas;)V

    return-void
.end method

.method static synthetic access$9900(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 311
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    return p0
.end method

.method static synthetic access$9902(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 311
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    return p1
.end method

.method private animateTo(FFFZ)V
    .locals 6

    const/16 v5, 0xfa

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    .line 16387
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZI)V

    return-void
.end method

.method private animateTo(FFFZI)V
    .locals 1

    .line 16391
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v0, v0, p1

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    cmpl-float v0, v0, p2

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v0, v0, p3

    if-nez v0, :cond_0

    return-void

    .line 16394
    :cond_0
    iput-boolean p4, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16395
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 16396
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 16397
    iput p3, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 16398
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide p1

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16399
    new-instance p1, Landroid/animation/AnimatorSet;

    invoke-direct {p1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 p2, 0x1

    new-array p2, p2, [Landroid/animation/Animator;

    const/4 p3, 0x0

    .line 16400
    sget-object p4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v0, 0x2

    new-array v0, v0, [F

    fill-array-data v0, :array_0

    .line 16401
    invoke-static {p0, p4, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p4

    aput-object p4, p2, p3

    .line 16400
    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 16403
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->interpolator:Landroid/view/animation/DecelerateInterpolator;

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 16404
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    int-to-long p2, p5

    invoke-virtual {p1, p2, p3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 16405
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$72;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$72;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 16412
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private applyCaption()Ljava/lang/CharSequence;
    .locals 4

    .line 8469
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->isVisible()Z

    move-result v0

    if-eqz v0, :cond_6

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_6

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_6

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto :goto_1

    .line 8472
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 8474
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getText()Ljava/lang/CharSequence;

    move-result-object v1

    .line 8477
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v2, :cond_1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    invoke-static {v2, v1}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v2, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPhotoIndex(I)I

    move-result v2

    if-eqz v2, :cond_1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v2

    if-lez v2, :cond_1

    const/4 v2, 0x0

    .line 8478
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 8482
    :cond_1
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    .line 8484
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_2

    .line 8485
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 8486
    iput-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    goto :goto_0

    .line 8488
    :cond_2
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v2, :cond_3

    .line 8489
    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 8490
    iput-object v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    .line 8494
    :cond_3
    :goto_0
    invoke-interface {v1}, Ljava/lang/CharSequence;->length()I

    move-result v0

    if-eqz v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_4

    .line 8495
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    .line 8497
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_5

    .line 8498
    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onApplyCaption(Ljava/lang/CharSequence;)V

    :cond_5
    return-object v1

    :cond_6
    :goto_1
    const/4 v0, 0x0

    return-object v0
.end method

.method private applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I
    .locals 22

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, p2

    move-object/from16 v3, p8

    int-to-float v2, v2

    move/from16 v4, p4

    int-to-float v5, v4

    div-float v6, v2, v5

    move/from16 v7, p3

    int-to-float v7, v7

    move/from16 v8, p5

    int-to-float v9, v8

    div-float v10, v7, v9

    .line 17341
    invoke-static {v6, v10}, Ljava/lang/Math;->min(FF)F

    move-result v11

    .line 17344
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v12

    const/16 v13, 0x5a

    if-eq v12, v13, :cond_1

    const/16 v13, 0x10e

    if-ne v12, v13, :cond_0

    goto :goto_0

    :cond_0
    move/from16 v21, v8

    move v8, v4

    move/from16 v4, v21

    .line 17355
    :cond_1
    :goto_0
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v14, 0x3

    const/4 v15, 0x1

    const/high16 v16, 0x3f800000    # 1.0f

    if-eq v13, v15, :cond_3

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v13, v14, :cond_2

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v13, v14, :cond_3

    :cond_2
    :goto_1
    move/from16 v13, v16

    goto :goto_2

    .line 17357
    :cond_3
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v13, :cond_7

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v14, -0x1

    if-eq v13, v14, :cond_7

    .line 17358
    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v14, v15, :cond_2

    if-eq v13, v15, :cond_2

    const/4 v15, 0x2

    if-eq v14, v15, :cond_4

    const/4 v15, 0x3

    if-ne v14, v15, :cond_5

    :cond_4
    const/4 v14, -0x1

    if-ne v13, v14, :cond_5

    goto :goto_1

    :cond_5
    if-nez v13, :cond_6

    .line 17361
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_2

    .line 17363
    :cond_6
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    sub-float v13, v16, v13

    goto :goto_2

    .line 17366
    :cond_7
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x2

    if-eq v13, v14, :cond_8

    const/4 v14, 0x3

    if-ne v13, v14, :cond_2

    :cond_8
    const/4 v13, 0x0

    .line 17368
    :goto_2
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v14

    .line 17369
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v8, v8

    sub-float v17, v16, v14

    sub-float v18, v16, v13

    mul-float v17, v17, v18

    add-float v14, v14, v17

    mul-float/2addr v14, v8

    float-to-int v14, v14

    int-to-float v4, v4

    sub-float v17, v16, v15

    mul-float v17, v17, v18

    add-float v15, v15, v17

    mul-float/2addr v15, v4

    float-to-int v15, v15

    move/from16 p3, v10

    int-to-float v10, v14

    div-float v17, v2, v10

    move/from16 p4, v14

    int-to-float v14, v15

    mul-float v19, v17, v14

    cmpl-float v19, v19, v7

    if-lez v19, :cond_9

    div-float v17, v7, v14

    :cond_9
    move/from16 v19, v15

    .line 17376
    iget v15, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v20, v12

    const/4 v12, 0x1

    if-eq v15, v12, :cond_c

    iget v15, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v15, v12, :cond_a

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v12, :cond_c

    :cond_a
    if-eqz v3, :cond_c

    mul-float v10, v10, v17

    mul-float v14, v14, v17

    mul-float v12, v6, v9

    cmpl-float v12, v12, v7

    if-lez v12, :cond_b

    move/from16 v6, p3

    :cond_b
    mul-float/2addr v5, v6

    div-float v5, v5, p6

    mul-float/2addr v9, v6

    div-float v9, v9, p6

    sub-float/2addr v5, v10

    mul-float v5, v5, v18

    add-float/2addr v10, v5

    sub-float/2addr v9, v14

    mul-float v9, v9, v18

    add-float/2addr v14, v9

    neg-float v5, v10

    const/high16 v6, 0x40000000    # 2.0f

    div-float/2addr v5, v6

    neg-float v9, v14

    div-float/2addr v9, v6

    div-float/2addr v10, v6

    div-float/2addr v14, v6

    .line 17389
    invoke-virtual {v1, v5, v9, v10, v14}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 17391
    :cond_c
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, 0x1

    if-eq v5, v6, :cond_d

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v5

    if-eqz v5, :cond_18

    .line 17393
    :cond_d
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v5, v6, :cond_10

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v5, v6, :cond_e

    goto :goto_4

    :cond_e
    if-eqz v3, :cond_f

    .line 17409
    iget v2, v3, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    goto :goto_3

    :cond_f
    move/from16 v2, v16

    :goto_3
    sub-float v3, v2, v16

    mul-float v3, v3, v18

    add-float v3, v3, v16

    div-float v17, v17, v11

    div-float v17, v17, v3

    mul-float v2, v2, v17

    goto :goto_7

    .line 17394
    :cond_10
    :goto_4
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v3

    sub-float v3, v3, v16

    mul-float v3, v3, v18

    add-float v3, v3, v16

    .line 17395
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v5

    div-float/2addr v5, v3

    div-float/2addr v2, v8

    mul-float v3, v2, v4

    cmpl-float v3, v3, v7

    if-lez v3, :cond_11

    div-float v2, v7, v4

    :cond_11
    div-float/2addr v2, v11

    mul-float/2addr v5, v2

    .line 17401
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v2, v3, :cond_14

    .line 17402
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v2, v3, :cond_13

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v2, v3, :cond_12

    goto :goto_5

    :cond_12
    if-nez v2, :cond_14

    .line 17405
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v2

    goto :goto_6

    .line 17403
    :cond_13
    :goto_5
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v2

    sub-float v2, v2, v16

    mul-float v2, v2, v18

    add-float v2, v2, v16

    :goto_6
    div-float/2addr v5, v2

    :cond_14
    move v2, v5

    .line 17414
    :goto_7
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v3

    mul-float/2addr v3, v13

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v5

    mul-float/2addr v5, v13

    invoke-virtual {v1, v3, v5}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17415
    invoke-virtual {v1, v2, v2}, Landroid/graphics/Canvas;->scale(FF)V

    .line 17416
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v2

    mul-float/2addr v2, v8

    mul-float/2addr v2, v11

    mul-float/2addr v2, v13

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float/2addr v3, v4

    mul-float/2addr v3, v11

    mul-float/2addr v3, v13

    invoke-virtual {v1, v2, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17417
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v2

    move/from16 v3, v20

    int-to-float v3, v3

    add-float/2addr v2, v3

    const/high16 v3, 0x43340000    # 180.0f

    cmpl-float v3, v2, v3

    if-lez v3, :cond_15

    const/high16 v3, 0x43b40000    # 360.0f

    sub-float/2addr v2, v3

    .line 17421
    :cond_15
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-ne v3, v4, :cond_17

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-eq v3, v4, :cond_16

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v3, v4, :cond_17

    .line 17422
    :cond_16
    invoke-virtual {v1, v2}, Landroid/graphics/Canvas;->rotate(F)V

    goto :goto_8

    :cond_17
    mul-float/2addr v2, v13

    .line 17424
    invoke-virtual {v1, v2}, Landroid/graphics/Canvas;->rotate(F)V

    .line 17427
    :cond_18
    :goto_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->tempInt:[I

    const/4 v2, 0x0

    aput p4, v1, v2

    const/4 v2, 0x1

    .line 17428
    aput v19, v1, v2

    return-object v1
.end method

.method private applyCurrentEditMode()V
    .locals 44

    move-object/from16 v7, p0

    .line 9717
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_49

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto/16 :goto_27

    .line 9720
    :cond_0
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 9721
    instance-of v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-nez v0, :cond_1

    return-void

    :cond_1
    const/4 v8, 0x1

    new-array v0, v8, [Landroid/graphics/Bitmap;

    .line 9731
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    move-object v9, v1

    check-cast v9, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 9732
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/high16 v2, 0x447a0000    # 1000.0f

    const/4 v10, 0x3

    const/high16 v3, 0x44000000    # 512.0f

    const/4 v11, 0x2

    const/4 v12, 0x0

    const/4 v13, 0x0

    if-eq v1, v8, :cond_7

    if-nez v1, :cond_2

    iget v4, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v8, :cond_2

    goto/16 :goto_1

    :cond_2
    if-ne v1, v11, :cond_3

    .line 9753
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoFilterView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v1

    .line 9754
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getSavedFilterState()Lorg/telegram/messenger/MediaController$SavedFilterState;

    move-result-object v4

    move-object v6, v1

    move-object v5, v4

    move-object v1, v12

    move-object v4, v1

    move-object v15, v4

    goto/16 :goto_5

    :cond_3
    if-ne v1, v10, :cond_6

    .line 9756
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x12

    if-lt v1, v4, :cond_5

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v1, :cond_4

    if-eq v1, v8, :cond_4

    if-ne v1, v11, :cond_5

    .line 9757
    :cond_4
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    goto :goto_0

    :cond_5
    move-object v1, v12

    .line 9759
    :goto_0
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->hasChanges()Z

    move-result v4

    .line 9760
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v5, v1, v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getBitmap(Ljava/util/ArrayList;[Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;

    move-result-object v5

    .line 9761
    iget-object v6, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getMasks()Ljava/util/List;

    move-result-object v6

    .line 9763
    iget-object v14, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v14}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onCleanupEntities()V

    move/from16 v22, v4

    move-object v15, v6

    move-object v4, v1

    move-object v6, v5

    move-object v1, v12

    move-object v5, v1

    goto/16 :goto_6

    :cond_6
    move-object v1, v12

    move-object v4, v1

    move-object v5, v4

    move-object v6, v5

    move-object v15, v6

    goto/16 :goto_5

    .line 9733
    :cond_7
    :goto_1
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v9}, Lorg/telegram/ui/Components/PhotoCropView;->makeCrop(Lorg/telegram/messenger/MediaController$MediaEditState;)V

    .line 9734
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v1, :cond_8

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v1, v8, :cond_8

    return-void

    .line 9737
    :cond_8
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_b

    .line 9738
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_9

    .line 9739
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-static {v1, v12, v3, v3, v8}, Lorg/telegram/messenger/ImageLoader;->loadBitmap(Ljava/lang/String;Landroid/net/Uri;FFZ)Landroid/graphics/Bitmap;

    move-result-object v1

    :goto_2
    move-object v6, v1

    move-object v1, v12

    move-object v4, v1

    goto :goto_4

    .line 9741
    :cond_9
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v8, :cond_a

    new-array v1, v8, [I

    .line 9743
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v4

    iget-wide v5, v7, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    const-wide/16 v14, 0x3e8

    div-long/2addr v5, v14

    invoke-static {v4, v5, v6, v1, v8}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J[IZ)Landroid/graphics/Bitmap;

    move-result-object v4

    move-object v6, v4

    goto :goto_3

    .line 9745
    :cond_a
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v1

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v4

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v5

    long-to-float v5, v5

    mul-float/2addr v4, v5

    mul-float/2addr v4, v2

    float-to-long v4, v4

    invoke-static {v1, v4, v5}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_2

    .line 9749
    :cond_b
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v1

    new-array v4, v11, [I

    .line 9750
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v5

    aput v5, v4, v13

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v5

    aput v5, v4, v8

    move-object v6, v1

    move-object v1, v4

    :goto_3
    move-object v4, v12

    :goto_4
    move-object v5, v4

    move-object v15, v5

    :goto_5
    move/from16 v22, v13

    :goto_6
    if-nez v6, :cond_c

    return-void

    .line 9769
    :cond_c
    iget-object v14, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    if-eqz v14, :cond_d

    .line 9770
    new-instance v14, Ljava/io/File;

    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    invoke-direct {v14, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v14}, Ljava/io/File;->delete()Z

    .line 9771
    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    .line 9773
    :cond_d
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    if-eqz v3, :cond_e

    .line 9774
    new-instance v3, Ljava/io/File;

    iget-object v14, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    invoke-direct {v3, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v3}, Ljava/io/File;->delete()Z

    .line 9775
    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    .line 9778
    :cond_e
    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const-string v14, "_temp.jpg"

    const/4 v10, 0x4

    if-eq v3, v8, :cond_35

    if-nez v3, :cond_f

    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v8, :cond_f

    goto/16 :goto_1d

    :cond_f
    if-ne v3, v11, :cond_1a

    .line 9820
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v0, :cond_10

    .line 9821
    new-instance v0, Ljava/io/File;

    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/io/File;->delete()Z

    .line 9823
    :cond_10
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object v4, v14

    move-object v14, v6

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9824
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    .line 9825
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_11

    invoke-direct {v7, v6, v0, v12, v8}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object/from16 v23, v0

    goto :goto_7

    :cond_11
    move-object/from16 v23, v6

    .line 9826
    :goto_7
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-nez v0, :cond_13

    .line 9827
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_12

    .line 9828
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9829
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    .line 9831
    :cond_12
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const/high16 v16, 0x44000000    # 512.0f

    const/high16 v17, 0x44000000    # 512.0f

    const/16 v18, 0x53

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9832
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    move-object/from16 v26, v5

    move-object v14, v6

    goto/16 :goto_d

    .line 9834
    :cond_13
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    .line 9835
    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_14

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PaintingOverlay;->getThumb()Landroid/graphics/Bitmap;

    move-result-object v0

    goto :goto_8

    :cond_14
    move-object v0, v12

    .line 9838
    :goto_8
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_16

    if-nez v0, :cond_15

    .line 9840
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 9841
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v7, v0, v1, v12, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    .line 9842
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    move-object v0, v1

    goto :goto_9

    .line 9844
    :cond_15
    invoke-direct {v7, v0, v1, v12, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    :goto_9
    move-object/from16 v24, v0

    move/from16 v25, v8

    goto :goto_a

    :cond_16
    move-object/from16 v24, v0

    move/from16 v25, v13

    .line 9851
    :goto_a
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_18

    .line 9852
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_17

    .line 9853
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9854
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_b

    .line 9856
    :cond_17
    new-instance v0, Ljava/io/File;

    invoke-static {v10}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v1

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v14

    invoke-virtual {v2, v14}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9857
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v14, v0

    const/4 v15, 0x1

    move-object/from16 v0, p0

    move-object v2, v3

    move-object/from16 v16, v3

    move-object/from16 v3, v24

    move-object v11, v4

    move-object/from16 v4, v23

    move-object/from16 v26, v5

    move v5, v14

    move-object v14, v6

    move v6, v15

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    goto :goto_c

    :cond_18
    :goto_b
    move-object/from16 v16, v3

    move-object v11, v4

    move-object/from16 v26, v5

    move-object v14, v6

    .line 9860
    :goto_c
    new-instance v0, Ljava/io/File;

    invoke-static {v10}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v1

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9861
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object/from16 v2, v16

    move-object/from16 v3, v24

    move-object/from16 v4, v23

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v25, :cond_19

    .line 9863
    invoke-virtual/range {v24 .. v24}, Landroid/graphics/Bitmap;->recycle()V

    .line 9866
    :cond_19
    :goto_d
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_34

    .line 9867
    invoke-virtual/range {v23 .. v23}, Landroid/graphics/Bitmap;->recycle()V

    goto/16 :goto_1c

    :cond_1a
    move-object/from16 v26, v5

    move-object v11, v14

    const/4 v1, 0x3

    move-object v14, v6

    if-ne v3, v1, :cond_34

    .line 9870
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-eqz v1, :cond_1b

    .line 9871
    new-instance v1, Ljava/io/File;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1}, Ljava/io/File;->delete()Z

    .line 9872
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_1b

    .line 9873
    new-instance v1, Ljava/io/File;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1}, Ljava/io/File;->delete()Z

    .line 9876
    :cond_1b
    sget-object v1, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    int-to-float v3, v3

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object v6, v14

    move-object v5, v15

    move-object v15, v1

    move/from16 v16, v2

    move/from16 v17, v3

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v5, :cond_1c

    .line 9878
    new-instance v2, Ljava/util/ArrayList;

    invoke-direct {v2, v5}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    goto :goto_e

    :cond_1c
    move-object v2, v12

    :goto_e
    iput-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->stickers:Ljava/util/ArrayList;

    .line 9879
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v3

    invoke-virtual {v3, v1, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v2, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 9880
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    if-eqz v4, :cond_1d

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_1e

    :cond_1d
    move-object v4, v12

    :cond_1e
    iput-object v4, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v4, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iget-boolean v2, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    invoke-virtual {v1, v4, v2, v8}, Lorg/telegram/ui/Components/PaintingOverlay;->setEntities(Ljava/util/ArrayList;ZZ)V

    .line 9881
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getLcm()J

    move-result-wide v2

    iput-wide v2, v1, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    iput-wide v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    .line 9882
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v1, :cond_1f

    aget-object v1, v0, v13

    if-eqz v1, :cond_1f

    .line 9883
    aget-object v14, v0, v13

    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move/from16 v16, v1

    move/from16 v17, v2

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    .line 9884
    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual {v2, v1, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    goto :goto_f

    .line 9886
    :cond_1f
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    .line 9888
    :goto_f
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/Components/PaintingOverlay;->setBitmap(Landroid/graphics/Bitmap;)V

    .line 9890
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_24

    iget-boolean v1, v1, Lorg/telegram/messenger/MediaController$CropState;->initied:Z

    if-eqz v1, :cond_24

    .line 9891
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    invoke-static {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getCopy(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 9892
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v2, :cond_20

    .line 9893
    new-instance v2, Ljava/io/File;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v2}, Ljava/io/File;->delete()Z

    .line 9894
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9896
    :cond_20
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v1, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9897
    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v2, :cond_21

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_21

    .line 9898
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    new-instance v3, Ljava/util/ArrayList;

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    invoke-direct {v3, v4}, Ljava/util/ArrayList;-><init>(I)V

    iput-object v3, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9899
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    move v3, v13

    :goto_10
    if-ge v3, v2, :cond_22

    .line 9900
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    invoke-virtual {v4}, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->copy()Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    move-result-object v4

    invoke-virtual {v5, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    add-int/lit8 v3, v3, 0x1

    goto :goto_10

    .line 9903
    :cond_21
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9905
    :cond_22
    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->width:I

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->height:I

    sget-object v4, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v3, v2, v4}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 9906
    new-instance v3, Landroid/graphics/Canvas;

    invoke-direct {v3, v2}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9908
    iget-boolean v4, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_23

    .line 9909
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 9910
    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v5

    .line 9911
    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v4

    move/from16 v35, v4

    move/from16 v34, v5

    goto :goto_11

    .line 9913
    :cond_23
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v4

    .line 9914
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v5

    move/from16 v34, v4

    move/from16 v35, v5

    .line 9916
    :goto_11
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/16 v29, 0x0

    sget-object v32, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    iget-object v5, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget-object v14, v5, Lorg/telegram/messenger/MediaController$CropState;->matrix:Landroid/graphics/Matrix;

    iget v15, v5, Lorg/telegram/messenger/MediaController$CropState;->stateScale:F

    iget v10, v5, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iget v8, v5, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    int-to-float v8, v8

    iget v5, v5, Lorg/telegram/messenger/MediaController$CropState;->scale:F

    const/16 v40, 0x0

    iget-object v12, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v12, v12, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    const/16 v42, 0x0

    move-object/from16 v27, v4

    move-object/from16 v28, v1

    move-object/from16 v30, v3

    move-object/from16 v31, v2

    move-object/from16 v33, v14

    move/from16 v36, v15

    move/from16 v37, v10

    move/from16 v38, v8

    move/from16 v39, v5

    move-object/from16 v41, v12

    invoke-static/range {v27 .. v42}, Lorg/telegram/ui/Components/Crop/CropView;->editBitmap(Landroid/content/Context;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Canvas;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;Landroid/graphics/Matrix;IIFFFFZLjava/util/ArrayList;Z)V

    .line 9917
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    .line 9919
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    .line 9920
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9924
    :cond_24
    aget-object v1, v0, v13

    if-eqz v1, :cond_25

    aget-object v0, v0, v13

    goto :goto_12

    :cond_25
    move-object v0, v6

    .line 9926
    :goto_12
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_26

    iget-boolean v2, v1, Lorg/telegram/messenger/MediaController$CropState;->initied:Z

    if-eqz v2, :cond_26

    const/4 v2, 0x0

    .line 9927
    invoke-direct {v7, v0, v1, v2, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object v8, v0

    const/4 v10, 0x1

    goto :goto_13

    :cond_26
    move-object v8, v0

    move v10, v13

    .line 9933
    :goto_13
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/high16 v12, 0x3f800000    # 1.0f

    if-eqz v0, :cond_29

    .line 9935
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-nez v0, :cond_27

    .line 9936
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v1

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    long-to-float v2, v2

    mul-float/2addr v1, v2

    const/high16 v2, 0x447a0000    # 1000.0f

    mul-float/2addr v1, v2

    float-to-long v1, v1

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J)Landroid/graphics/Bitmap;

    move-result-object v0

    const/4 v2, 0x0

    const/4 v3, 0x1

    goto :goto_14

    :cond_27
    const/high16 v1, 0x44000000    # 512.0f

    const/4 v2, 0x0

    const/4 v3, 0x1

    .line 9938
    invoke-static {v0, v2, v1, v1, v3}, Lorg/telegram/messenger/ImageLoader;->loadBitmap(Ljava/lang/String;Landroid/net/Uri;FFZ)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 9940
    :goto_14
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_28

    invoke-direct {v7, v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_15

    :cond_28
    move-object v1, v0

    .line 9941
    :goto_15
    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2d

    if-eqz v0, :cond_2d

    .line 9942
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    goto :goto_17

    :cond_29
    const/4 v0, 0x2

    new-array v1, v0, [I

    .line 9946
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v0

    aput v0, v1, v13

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v0

    const/4 v2, 0x1

    aput v0, v1, v2

    .line 9947
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_2a

    .line 9948
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v7, v0, v3, v1, v2}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    move-object v14, v1

    move v15, v2

    goto :goto_18

    .line 9951
    :cond_2a
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v27

    .line 9952
    aget v0, v1, v13

    if-eqz v0, :cond_2e

    .line 9953
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    .line 9954
    aget v3, v1, v13

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/graphics/Matrix;->postRotate(F)Z

    .line 9955
    aget v3, v1, v2

    const/high16 v4, -0x40800000    # -1.0f

    if-ne v3, v2, :cond_2b

    .line 9956
    invoke-virtual {v0, v4, v12}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_16

    .line 9957
    :cond_2b
    aget v1, v1, v2

    const/4 v2, 0x2

    if-ne v1, v2, :cond_2c

    .line 9958
    invoke-virtual {v0, v12, v4}, Landroid/graphics/Matrix;->postScale(FF)Z

    :cond_2c
    :goto_16
    const/16 v28, 0x0

    const/16 v29, 0x0

    .line 9960
    invoke-virtual/range {v27 .. v27}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v30

    invoke-virtual/range {v27 .. v27}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v31

    const/16 v33, 0x1

    move-object/from16 v32, v0

    invoke-static/range {v27 .. v33}, Lorg/telegram/messenger/Bitmaps;->createBitmap(Landroid/graphics/Bitmap;IIIILandroid/graphics/Matrix;Z)Landroid/graphics/Bitmap;

    move-result-object v1

    :cond_2d
    :goto_17
    move-object v14, v1

    const/4 v15, 0x1

    goto :goto_18

    :cond_2e
    move v15, v13

    move-object/from16 v14, v27

    .line 9967
    :goto_18
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_30

    .line 9968
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_2f

    .line 9969
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v14

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9970
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_19

    .line 9972
    :cond_2f
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9973
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v5, v0

    const/16 v19, 0x0

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    move-object/from16 v43, v6

    move/from16 v6, v19

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    goto :goto_1a

    :cond_30
    :goto_19
    move-object/from16 v43, v6

    .line 9976
    :goto_1a
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9977
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/4 v2, 0x0

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x0

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v10, :cond_31

    if-eqz v8, :cond_31

    .line 9980
    invoke-virtual {v8}, Landroid/graphics/Bitmap;->recycle()V

    :cond_31
    if-eqz v15, :cond_32

    if-eqz v14, :cond_32

    .line 9983
    invoke-virtual {v14}, Landroid/graphics/Bitmap;->recycle()V

    .line 9985
    :cond_32
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_3c

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_3c

    invoke-direct {v7, v13}, Lorg/telegram/ui/PhotoViewer;->getAnimatedMediaEntitiesCount(Z)I

    move-result v0

    if-ne v0, v1, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    const/4 v1, 0x0

    cmpg-float v0, v0, v1

    if-gtz v0, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    cmpl-float v0, v0, v12

    if-ltz v0, :cond_3c

    .line 9986
    iget-wide v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    .line 9987
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    :goto_1b
    const-wide/16 v4, 0xbb8

    cmp-long v4, v0, v4

    if-gez v4, :cond_33

    cmp-long v4, v0, v2

    if-gez v4, :cond_33

    .line 9989
    iget-wide v4, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    add-long/2addr v0, v4

    goto :goto_1b

    .line 9991
    :cond_33
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    long-to-float v0, v0

    long-to-float v1, v2

    div-float/2addr v0, v1

    invoke-static {v12, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setRightProgress(F)V

    goto/16 :goto_20

    :cond_34
    :goto_1c
    move-object v12, v14

    goto/16 :goto_21

    :cond_35
    :goto_1d
    move-object/from16 v26, v5

    move-object/from16 v43, v6

    move-object v11, v14

    .line 9779
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 9780
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9781
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v2, :cond_3c

    move-object/from16 v12, v43

    const/4 v0, 0x1

    .line 9784
    invoke-direct {v7, v12, v2, v1, v0}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v8

    .line 9785
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-eqz v0, :cond_39

    .line 9786
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v10

    .line 9787
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    const/4 v1, 0x0

    invoke-direct {v7, v10, v0, v1, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v14

    .line 9789
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_37

    .line 9790
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_36

    .line 9791
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v8

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9792
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_1e

    .line 9794
    :cond_36
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9795
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v5, v0

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    .line 9798
    :cond_37
    :goto_1e
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9799
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/4 v2, 0x0

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v14, :cond_38

    .line 9801
    invoke-virtual {v14}, Landroid/graphics/Bitmap;->recycle()V

    :cond_38
    if-eqz v10, :cond_3b

    .line 9804
    invoke-virtual {v10}, Landroid/graphics/Bitmap;->recycle()V

    goto :goto_1f

    .line 9807
    :cond_39
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_3a

    .line 9808
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v8

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9809
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    :cond_3a
    const/high16 v28, 0x44000000    # 512.0f

    const/high16 v29, 0x44000000    # 512.0f

    const/16 v30, 0x46

    const/16 v31, 0x0

    const/16 v32, 0x65

    const/16 v33, 0x65

    move-object/from16 v27, v8

    .line 9811
    invoke-static/range {v27 .. v33}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9812
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    .line 9814
    :cond_3b
    :goto_1f
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_3d

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_3d

    .line 9815
    invoke-virtual {v12}, Landroid/graphics/Bitmap;->recycle()V

    move-object v6, v8

    goto :goto_22

    :cond_3c
    :goto_20
    move-object/from16 v12, v43

    :cond_3d
    :goto_21
    move-object v6, v12

    .line 9995
    :goto_22
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->saveConfig()V

    move-object/from16 v12, v26

    if-eqz v12, :cond_3e

    .line 9998
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 10000
    :cond_3e
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_3f

    .line 10001
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    .line 10003
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v7, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_23

    :cond_3f
    const/4 v2, 0x2

    if-ne v0, v2, :cond_40

    .line 10008
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 10009
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v7, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_23

    :cond_40
    const/4 v2, 0x3

    if-ne v0, v2, :cond_41

    if-eqz v22, :cond_41

    .line 10012
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 10013
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    new-instance v1, Landroid/graphics/PorterDuffColorFilter;

    sget v2, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v7, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    sget-object v3, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v1, v2, v3}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 10017
    :cond_41
    :goto_23
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_42

    const/4 v1, 0x4

    if-ne v0, v1, :cond_43

    :cond_42
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_43

    .line 10018
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->updatePhotoAtIndex(I)V

    .line 10019
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_43

    .line 10020
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    .line 10023
    :cond_43
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_44

    .line 10024
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeX()F

    move-result v0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v0, v1

    .line 10025
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeY()F

    move-result v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v1, v2

    .line 10026
    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 10027
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectX()F

    move-result v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeX()F

    move-result v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    add-float/2addr v0, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    const/4 v3, 0x2

    div-int/2addr v1, v3

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 10028
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectY()F

    move-result v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeY()F

    move-result v1

    div-float/2addr v1, v2

    add-float/2addr v0, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v1

    div-int/2addr v1, v3

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v0, 0x1

    .line 10029
    iput-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 10032
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->onDisappear()V

    goto :goto_24

    :cond_44
    move v0, v1

    .line 10034
    :goto_24
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 10035
    iput-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 10037
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_47

    .line 10038
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v1, v0, :cond_46

    if-nez v1, :cond_45

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v0, :cond_45

    goto :goto_25

    :cond_45
    move v3, v13

    goto :goto_26

    :cond_46
    :goto_25
    const/4 v3, 0x1

    goto :goto_26

    .line 10040
    :cond_47
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x2

    if-ne v0, v1, :cond_45

    goto :goto_25

    :goto_26
    if-eqz v3, :cond_48

    .line 10043
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v6}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 10044
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v1, 0x1

    invoke-virtual {v0, v13, v1}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    .line 10045
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 10046
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->requestLayout()V

    .line 10048
    :cond_48
    iput-boolean v13, v7, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 10049
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    :cond_49
    :goto_27
    return-void
.end method

.method private calculateEstimatedVideoSize(ZZ)V
    .locals 6

    if-eqz p1, :cond_1

    if-eqz p2, :cond_0

    const-wide/16 p1, 0x0

    goto :goto_0

    .line 18068
    :cond_0
    iget-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    :goto_0
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    add-long/2addr p1, v0

    long-to-float p1, p1

    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float p2, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr p2, v0

    mul-float/2addr p1, p2

    float-to-long p1, p1

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    const-wide/32 v0, 0x8000

    .line 18069
    div-long v0, p1, v0

    const-wide/16 v2, 0x10

    mul-long/2addr v0, v2

    add-long/2addr p1, v0

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    goto :goto_1

    .line 18071
    :cond_1
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    long-to-float p1, v0

    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float v2, v0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr v2, v3

    mul-float/2addr p1, v2

    float-to-long v4, p1

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    if-eqz p2, :cond_2

    .line 18073
    iget-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    long-to-float p1, p1

    long-to-float p2, v0

    div-float/2addr p2, v3

    mul-float/2addr p1, p2

    float-to-long p1, p1

    sub-long/2addr v4, p1

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    :cond_2
    :goto_1
    return-void
.end method

.method private calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;
    .locals 6

    .line 18218
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    .line 18219
    new-instance v0, Lorg/telegram/messenger/camera/Size;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    invoke-direct {v0, v1, v2}, Lorg/telegram/messenger/camera/Size;-><init>(II)V

    return-object v0

    .line 18224
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    const/4 v2, 0x2

    if-eqz v0, :cond_3

    if-eq v0, v1, :cond_2

    if-eq v0, v2, :cond_1

    const/high16 v0, 0x44f00000    # 1920.0f

    goto :goto_0

    :cond_1
    const/high16 v0, 0x44a00000    # 1280.0f

    goto :goto_0

    :cond_2
    const v0, 0x44558000    # 854.0f

    goto :goto_0

    :cond_3
    const/high16 v0, 0x43f00000    # 480.0f

    .line 18239
    :goto_0
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-le v3, v4, :cond_4

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    goto :goto_1

    :cond_4
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    :goto_1
    int-to-float v3, v3

    div-float/2addr v0, v3

    .line 18240
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v4, v1

    if-ne v3, v4, :cond_5

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v1, v0, v1

    if-ltz v1, :cond_5

    .line 18241
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    .line 18242
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    goto :goto_2

    .line 18244
    :cond_5
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v1, v1

    mul-float/2addr v1, v0

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    mul-int/2addr v1, v2

    .line 18245
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v4, v4

    mul-float/2addr v4, v0

    div-float/2addr v4, v3

    invoke-static {v4}, Ljava/lang/Math;->round(F)I

    move-result v0

    mul-int/2addr v0, v2

    move v5, v1

    move v1, v0

    move v0, v5

    .line 18247
    :goto_2
    new-instance v2, Lorg/telegram/messenger/camera/Size;

    invoke-direct {v2, v0, v1}, Lorg/telegram/messenger/camera/Size;-><init>(II)V

    return-object v2
.end method

.method private canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z
    .locals 8

    .line 17769
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return v1

    .line 17772
    :cond_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    .line 17773
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result p1

    .line 17774
    div-int/lit8 v0, v0, 0x3

    mul-int/lit8 v0, v0, 0x2

    int-to-float v0, v0

    cmpl-float p1, p1, v0

    const/4 v0, 0x1

    if-ltz p1, :cond_2

    move p1, v0

    goto :goto_0

    :cond_2
    move p1, v1

    .line 17775
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v2

    .line 17776
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v4

    const-wide v6, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v6, v2, v6

    if-eqz v6, :cond_4

    const-wide/16 v6, 0x3a98

    cmp-long v6, v4, v6

    if-lez v6, :cond_4

    if-eqz p1, :cond_3

    sub-long/2addr v4, v2

    const-wide/16 v2, 0x2710

    cmp-long p1, v4, v2

    if-lez p1, :cond_4

    :cond_3
    move v1, v0

    :cond_4
    return v1
.end method

.method private canSendMediaToParentChatActivity()Z
    .locals 2

    .line 12260
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1

    iget-object v1, v0, Lorg/telegram/ui/ChatActivity;->currentUser:Lorg/telegram/tgnet/TLRPC$User;

    if-nez v1, :cond_0

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    if-eqz v0, :cond_1

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isNotInChat(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendPhoto(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendVideo(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private cancelFlashAnimations()V
    .locals 3

    .line 1541
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 1542
    invoke-virtual {v0}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 1543
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/view/View;->setAlpha(F)V

    .line 1545
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 1546
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 1547
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    .line 1549
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v0, :cond_2

    .line 1550
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->cancelThumbAnimation()V

    :cond_2
    return-void
.end method

.method private cancelMoveZoomAnimation()V
    .locals 7

    .line 16363
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-nez v0, :cond_0

    return-void

    .line 16367
    :cond_0
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float/2addr v2, v1

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v2, v3

    add-float/2addr v1, v2

    .line 16368
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v4, v2

    mul-float/2addr v4, v3

    add-float/2addr v2, v4

    .line 16369
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sub-float/2addr v5, v4

    mul-float/2addr v5, v3

    add-float/2addr v4, v5

    .line 16370
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    sub-float/2addr v6, v5

    mul-float/2addr v6, v3

    add-float/2addr v5, v6

    .line 16371
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 16372
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16373
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16374
    iput v4, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const-wide/16 v2, 0x0

    .line 16375
    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16376
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 16377
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v0, 0x0

    .line 16378
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16379
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private cancelVideoPlayRunnable()V
    .locals 1

    .line 1555
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 1556
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    const/4 v0, 0x0

    .line 1557
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    :cond_0
    return-void
.end method

.method private captureCurrentFrame()V
    .locals 4

    .line 7339
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    const-wide/16 v2, -0x1

    cmp-long v0, v0, v2

    if-eqz v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-nez v0, :cond_0

    goto :goto_0

    .line 7342
    :cond_0
    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 7343
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 7344
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-virtual {v1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    sget-object v2, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_BOTH:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const-wide/16 v2, 0x55

    invoke-virtual {v1, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    new-instance v2, Lorg/telegram/ui/PhotoViewer$35;

    invoke-direct {v2, p0, v0}, Lorg/telegram/ui/PhotoViewer$35;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)V

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    .line 7374
    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    :cond_1
    :goto_0
    return-void
.end method

.method private checkAnimation()Z
    .locals 6

    .line 14631
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v1, 0x0

    if-eqz v0, :cond_1

    .line 14632
    iget-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    sub-long/2addr v2, v4

    invoke-static {v2, v3}, Ljava/lang/Math;->abs(J)J

    move-result-wide v2

    const-wide/16 v4, 0x1f4

    cmp-long v0, v2, v4

    if-ltz v0, :cond_1

    .line 14633
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 14634
    invoke-interface {v0}, Ljava/lang/Runnable;->run()V

    const/4 v0, 0x0

    .line 14635
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 14637
    :cond_0
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 14638
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 14641
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_2

    const/4 v1, 0x1

    :cond_2
    return v1
.end method

.method private checkBufferedProgress(F)V
    .locals 8

    .line 8588
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    if-eqz v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_8

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    if-nez v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    goto/16 :goto_2

    .line 8591
    :cond_0
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    if-nez v0, :cond_1

    return-void

    .line 8595
    :cond_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    const-wide/high16 v3, 0x4034000000000000L    # 20.0

    cmpg-double v1, v1, v3

    if-gez v1, :cond_2

    return-void

    .line 8599
    :cond_2
    iget-wide v1, v0, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    const-wide v3, 0x80000000L

    cmp-long v1, v1, v3

    const/4 v2, 0x0

    const/4 v3, 0x1

    if-ltz v1, :cond_3

    move v1, v3

    goto :goto_0

    :cond_3
    move v1, v2

    .line 8600
    :goto_0
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v4

    invoke-virtual {v4}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v4

    and-int/lit8 v4, v4, 0x4

    if-eqz v4, :cond_4

    move v2, v3

    :cond_4
    if-eqz v2, :cond_8

    const v2, 0x3f666666    # 0.9f

    cmpg-float v2, p1, v2

    if-gez v2, :cond_8

    .line 8601
    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    long-to-float v0, v4

    mul-float/2addr v0, p1

    const/high16 v2, 0x4aa00000    # 5242880.0f

    cmpl-float v0, v0, v2

    if-gez v0, :cond_5

    const/high16 v0, 0x3f000000    # 0.5f

    cmpl-float p1, p1, v0

    if-ltz p1, :cond_8

    const-wide/32 v6, 0x200000

    cmp-long p1, v4, v6

    if-ltz p1, :cond_8

    :cond_5
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iget-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->startedPlayTime:J

    sub-long/2addr v4, v6

    invoke-static {v4, v5}, Ljava/lang/Math;->abs(J)J

    move-result-wide v4

    if-eqz v1, :cond_6

    const/16 p1, 0x2710

    goto :goto_1

    :cond_6
    const/16 p1, 0xbb8

    :goto_1
    int-to-long v0, p1

    cmp-long p1, v4, v0

    if-ltz p1, :cond_8

    .line 8602
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    const-wide v4, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long p1, v0, v4

    if-nez p1, :cond_7

    .line 8604
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v0, Lorg/telegram/messenger/R$string;->VideoDoesNotSupportStreaming:I

    const-string v1, "VideoDoesNotSupportStreaming"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-static {p1, v0, v3}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object p1

    .line 8605
    invoke-virtual {p1}, Landroid/widget/Toast;->show()V

    .line 8607
    :cond_7
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    :cond_8
    :goto_2
    return-void
.end method

.method private checkChangedTextureView(Z)V
    .locals 13

    if-eqz p1, :cond_1

    .line 1832
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    if-nez p1, :cond_0

    return-void

    .line 1835
    :cond_0
    invoke-virtual {p1}, Landroid/view/TextureView;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object p1

    new-instance v0, Lorg/telegram/ui/PhotoViewer$9;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$9;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    .line 1867
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    invoke-virtual {p1}, Landroid/view/TextureView;->invalidate()V

    goto/16 :goto_6

    .line 1869
    :cond_1
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    const/4 v0, 0x2

    if-ne p1, v0, :cond_f

    .line 1870
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz p1, :cond_2

    const/4 v1, 0x4

    .line 1879
    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 1880
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 1881
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz p1, :cond_2

    .line 1882
    invoke-virtual {p1}, Landroid/graphics/Bitmap;->recycle()V

    .line 1883
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    :cond_2
    const/4 p1, 0x0

    .line 1888
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 1890
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v2, 0x15

    const/4 v3, 0x1

    if-lt v1, v2, :cond_e

    .line 1891
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 1892
    :goto_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-nez v2, :cond_4

    return-void

    .line 1895
    :cond_4
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->getLocationInWindow([I)V

    .line 1897
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v4, v2, v3

    int-to-float v4, v4

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v5

    sub-float/2addr v4, v5

    float-to-int v4, v4

    aput v4, v2, v3

    .line 1898
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz v2, :cond_5

    .line 1899
    invoke-virtual {v2}, Landroid/widget/ImageView;->getTranslationX()F

    move-result v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v5

    int-to-float v5, v5

    add-float/2addr v4, v5

    invoke-virtual {v2, v4}, Landroid/widget/ImageView;->setTranslationX(F)V

    :cond_5
    if-eqz v1, :cond_6

    .line 1902
    invoke-virtual {v1}, Landroid/view/View;->getTranslationX()F

    move-result v2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v4

    int-to-float v4, v4

    add-float/2addr v2, v4

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getX()F

    move-result v4

    sub-float/2addr v2, v4

    invoke-virtual {v1, v2}, Landroid/view/View;->setTranslationX(F)V

    .line 1904
    :cond_6
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v2, :cond_7

    .line 1905
    invoke-virtual {v1}, Landroid/view/View;->getTranslationX()F

    move-result v4

    invoke-virtual {v2, v4}, Landroid/widget/ImageView;->setTranslationX(F)V

    :cond_7
    new-array v2, v0, [F

    .line 1908
    fill-array-data v2, :array_0

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 1909
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda7;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda7;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 1911
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    const/4 v5, 0x0

    if-eqz v4, :cond_8

    move v4, v5

    goto :goto_1

    :cond_8
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v4, v4, p1

    int-to-float v4, v4

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getX()F

    move-result v6

    sub-float/2addr v4, v6

    .line 1912
    :goto_1
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v6, :cond_9

    move v6, v5

    goto :goto_2

    :cond_9
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v6, v6, v3

    int-to-float v6, v6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getY()F

    move-result v7

    sub-float/2addr v6, v7

    .line 1913
    :goto_2
    new-instance v7, Landroid/animation/AnimatorSet;

    invoke-direct {v7}, Landroid/animation/AnimatorSet;-><init>()V

    .line 1914
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    .line 1915
    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1916
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v10, v3, [F

    const/high16 v11, 0x3f800000    # 1.0f

    aput v11, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1917
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v10, v3, [F

    aput v11, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1918
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v10, v3, [F

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v12, :cond_a

    move v12, v5

    goto :goto_3

    :cond_a
    iget-object v12, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v12, v12, p1

    int-to-float v12, v12

    :goto_3
    aput v12, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1919
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v3, [F

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v12, :cond_b

    goto :goto_4

    :cond_b
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v5, v5, v3

    int-to-float v5, v5

    :goto_4
    aput v5, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1920
    sget-object v2, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v5, v3, [F

    aput v11, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1921
    sget-object v2, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v11, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1922
    sget-object v2, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v5, v3, [F

    aput v4, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1923
    sget-object v2, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v6, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1924
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v9, v3, [I

    const/16 v10, 0xff

    aput v10, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1925
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v2, :cond_c

    .line 1926
    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v9, v3, [F

    aput v11, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1927
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v9, v3, [F

    aput v11, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1928
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v5, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v9, v3, [F

    aput v4, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1929
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v6, v5, p1

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1932
    :cond_c
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v2}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v2

    invoke-static {p1, v2}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v2

    .line 1933
    iget v2, v2, Lorg/telegram/ui/Components/Rect;->width:F

    invoke-virtual {v1}, Landroid/view/View;->getWidth()I

    new-array v0, v0, [F

    .line 1934
    fill-array-data v0, :array_1

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v0

    .line 1935
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda17;

    invoke-direct {v2, p0, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda17;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v0, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 1945
    invoke-virtual {v8, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1947
    invoke-virtual {v7, v8}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 1948
    new-instance v0, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v0}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    .line 1949
    invoke-virtual {v7, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v4, 0xfa

    .line 1950
    invoke-virtual {v7, v4, v5}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 1951
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v2, :cond_d

    .line 1952
    invoke-virtual {v2, p1}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 1954
    :cond_d
    new-instance v2, Lorg/telegram/ui/PhotoViewer$10;

    invoke-direct {v2, p0, v1}, Lorg/telegram/ui/PhotoViewer$10;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v7, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 1970
    invoke-virtual {v7}, Landroid/animation/AnimatorSet;->start()V

    .line 1971
    new-instance v1, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    invoke-virtual {v1, p1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    invoke-virtual {v1, p1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    const/16 v2, 0xfa

    invoke-virtual {v1, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration(I)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator(Landroid/view/animation/Interpolator;)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    invoke-direct {p0, v3, v3, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    goto :goto_5

    .line 1973
    :cond_e
    invoke-direct {p0, v3, p1}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 1977
    :goto_5
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    :cond_f
    :goto_6
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private checkInlinePermissions()Z
    .locals 4

    .line 7327
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v1, 0x0

    if-nez v0, :cond_0

    return v1

    .line 7330
    :cond_0
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v3, 0x17

    if-lt v2, v3, :cond_2

    invoke-static {v0}, Landroid/provider/Settings;->canDrawOverlays(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_1

    goto :goto_0

    .line 7333
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v2, 0x0

    invoke-static {v0, v2}, Lorg/telegram/ui/Components/AlertsCreator;->createDrawOverlayPermissionDialog(Landroid/app/Activity;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    return v1

    :cond_2
    :goto_0
    const/4 v0, 0x1

    return v0
.end method

.method private checkMinMax(Z)V
    .locals 5

    .line 16328
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16329
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16330
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16331
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v4, v2, v3

    if-gez v4, :cond_0

    :goto_0
    move v0, v3

    goto :goto_1

    .line 16333
    :cond_0
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v2, v2, v3

    if-lez v2, :cond_1

    goto :goto_0

    .line 16336
    :cond_1
    :goto_1
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v4, v2, v3

    if-gez v4, :cond_2

    :goto_2
    move v1, v3

    goto :goto_3

    .line 16338
    :cond_2
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v2, v2, v3

    if-lez v2, :cond_3

    goto :goto_2

    .line 16341
    :cond_3
    :goto_3
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {p0, v2, v0, v1, p1}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private checkProgress(IZZ)V
    .locals 16

    move-object/from16 v12, p0

    move/from16 v6, p1

    move/from16 v11, p3

    .line 13744
    iget v0, v12, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v1, 0x1

    if-ne v6, v1, :cond_0

    add-int/lit8 v2, v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v2, 0x2

    if-ne v6, v2, :cond_1

    add-int/lit8 v2, v0, -0x1

    goto :goto_0

    :cond_1
    move v2, v0

    .line 13750
    :goto_0
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v6

    const/4 v4, 0x3

    const/4 v5, -0x1

    const/4 v7, 0x0

    if-eqz v3, :cond_21

    if-nez v6, :cond_2

    if-nez v0, :cond_2

    .line 13759
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v0, :cond_2

    .line 13760
    invoke-virtual {v0}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->hasBitmap()Z

    move-result v0

    move v3, v0

    goto :goto_1

    :cond_2
    move v3, v7

    .line 13762
    :goto_1
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v8, 0x0

    if-eqz v0, :cond_a

    if-ltz v2, :cond_9

    .line 13763
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_3

    goto/16 :goto_6

    .line 13767
    :cond_3
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    .line 13768
    invoke-direct {v12, v0}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result v4

    .line 13769
    iget v9, v12, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v9, v1, :cond_4

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v9

    if-nez v9, :cond_4

    .line 13770
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13773
    :cond_4
    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_5

    .line 13774
    new-instance v5, Ljava/io/File;

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v5, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    goto :goto_2

    :cond_5
    move-object v5, v8

    .line 13776
    :goto_2
    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    instance-of v9, v9, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v9, :cond_6

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v9, :cond_6

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$WebPage;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-nez v9, :cond_6

    .line 13777
    invoke-direct {v12, v2, v8}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object v2

    .line 13778
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda84;

    invoke-direct {v9, v12, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda84;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLObject;)V

    goto :goto_3

    .line 13780
    :cond_6
    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    .line 13781
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda85;

    invoke-direct {v9, v12, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda85;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLRPC$Message;)V

    .line 13783
    :goto_3
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_8

    .line 13784
    sget-boolean v2, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz v2, :cond_7

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result v2

    if-eqz v2, :cond_7

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v13

    invoke-static {v13, v14}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v2

    if-nez v2, :cond_7

    move v2, v1

    goto :goto_4

    :cond_7
    move v2, v7

    :goto_4
    move v13, v1

    move v10, v2

    move v2, v4

    goto :goto_5

    :cond_8
    move v2, v4

    move v10, v7

    move v13, v10

    :goto_5
    move-object v4, v8

    move-object v8, v9

    move-object v9, v0

    goto/16 :goto_13

    .line 13764
    :cond_9
    :goto_6
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13787
    :cond_a
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    const/4 v9, 0x4

    if-eqz v0, :cond_13

    if-ltz v2, :cond_12

    .line 13788
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_b

    goto/16 :goto_b

    .line 13792
    :cond_b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 13793
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v5, "video"

    invoke-virtual {v2, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_f

    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v2

    if-eqz v2, :cond_c

    goto :goto_8

    .line 13800
    :cond_c
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_d

    .line 13801
    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    :goto_7
    move v2, v7

    goto :goto_a

    .line 13802
    :cond_d
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v0, :cond_e

    .line 13803
    new-instance v0, Ljava/io/File;

    invoke-static {v7}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    goto :goto_7

    :cond_e
    move v2, v7

    move-object v0, v8

    goto :goto_a

    .line 13794
    :cond_f
    :goto_8
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_10

    .line 13795
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v0

    goto :goto_9

    .line 13796
    :cond_10
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v2, :cond_11

    .line 13797
    new-instance v2, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v10, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v10}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v10, "."

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    const-string v10, "mp4"

    invoke-static {v0, v10}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v4, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v0, v2

    goto :goto_9

    :cond_11
    move-object v0, v8

    :goto_9
    move v2, v1

    .line 13805
    :goto_a
    new-instance v4, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v5

    iget-object v9, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v9, v6

    invoke-direct {v4, v5, v9}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v5, v0

    move v13, v2

    move v2, v7

    move v10, v2

    goto/16 :goto_10

    .line 13789
    :cond_12
    :goto_b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13806
    :cond_13
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_17

    if-ltz v2, :cond_16

    .line 13807
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_14

    goto :goto_c

    .line 13811
    :cond_14
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_15

    .line 13813
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v4, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v4, v5, v7}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v2

    .line 13814
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v5, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v5, v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v0

    goto :goto_d

    :cond_15
    move-object v0, v8

    move-object v2, v0

    goto :goto_d

    .line 13808
    :cond_16
    :goto_c
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13816
    :cond_17
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    if-eqz v0, :cond_1a

    if-ltz v2, :cond_19

    .line 13817
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_18

    goto :goto_e

    .line 13821
    :cond_18
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    .line 13822
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual {v2, v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v2

    .line 13823
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    invoke-virtual {v4, v0, v7}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    :goto_d
    move-object v4, v0

    move-object v5, v2

    goto :goto_f

    .line 13818
    :cond_19
    :goto_e
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13824
    :cond_1a
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    if-eqz v0, :cond_1b

    .line 13825
    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 13826
    new-instance v2, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v5, v5, v6

    invoke-direct {v2, v4, v5}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v5, v0

    move-object v4, v2

    :goto_f
    move v2, v7

    move v10, v2

    move v13, v10

    :goto_10
    move-object v9, v8

    goto :goto_13

    .line 13827
    :cond_1b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1e

    .line 13828
    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v0

    .line 13829
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v4

    if-nez v4, :cond_1d

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v4

    if-eqz v4, :cond_1c

    goto :goto_11

    :cond_1c
    move v4, v7

    goto :goto_12

    :cond_1d
    :goto_11
    move v4, v1

    .line 13830
    :goto_12
    invoke-direct {v12, v2}, Lorg/telegram/ui/PhotoViewer;->shouldIndexAutoPlayed(I)Z

    move-result v2

    move-object v5, v0

    move v13, v4

    move v10, v7

    move-object v4, v8

    move-object v9, v4

    goto :goto_13

    :cond_1e
    move v2, v7

    move v10, v2

    move v13, v10

    move-object v4, v8

    move-object v5, v4

    move-object v9, v5

    :goto_13
    if-nez v6, :cond_1f

    .line 13837
    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->dontAutoPlay:Z

    if-nez v0, :cond_20

    :cond_1f
    if-eqz v2, :cond_20

    move v14, v1

    goto :goto_14

    :cond_20
    move v14, v7

    .line 13841
    :goto_14
    sget-object v15, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda83;

    move-object v0, v7

    move-object/from16 v1, p0

    move v2, v3

    move-object v3, v5

    move-object v5, v8

    move/from16 v6, p1

    move-object v8, v7

    move-object v7, v9

    move-object v9, v8

    move v8, v10

    move-object v10, v9

    move v9, v13

    move-object v13, v10

    move v10, v14

    move/from16 v11, p3

    invoke-direct/range {v0 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda83;-><init>(Lorg/telegram/ui/PhotoViewer;ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V

    invoke-virtual {v15, v13}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    goto :goto_15

    .line 13922
    :cond_21
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_22

    if-ltz v2, :cond_22

    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge v2, v0, :cond_22

    .line 13923
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 13924
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_22

    .line 13925
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13926
    iget-boolean v7, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    :cond_22
    if-eqz v7, :cond_23

    .line 13930
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v4, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_15

    .line 13932
    :cond_23
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :goto_15
    return-void
.end method

.method private closeCaptionEnter(Z)V
    .locals 2

    .line 8455
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_3

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v0

    if-nez v0, :cond_0

    goto :goto_0

    .line 8458
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    if-eqz p1, :cond_1

    .line 8460
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCaption()Ljava/lang/CharSequence;

    .line 8462
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result p1

    if-eqz p1, :cond_2

    .line 8463
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/EditTextEmoji;->hidePopup(Z)V

    .line 8465
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->closeKeyboard()V

    :cond_3
    :goto_0
    return-void
.end method

.method private closePaintMode()V
    .locals 3

    .line 11019
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda69;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda69;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p0, v1, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->maybeShowDismissalAlert(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;Ljava/lang/Runnable;)V

    return-void
.end method

.method private createCropView()V
    .locals 11

    .line 10100
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v0, :cond_0

    return-void

    .line 10103
    :cond_0
    new-instance v0, Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/Components/PhotoCropView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/16 v1, 0x8

    .line 10104
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 10105
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onDisappear()V

    .line 10106
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->indexOfChild(Landroid/view/View;)I

    move-result v0

    .line 10107
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v3, 0x1

    sub-int/2addr v0, v3

    const/4 v4, -0x1

    const/4 v5, -0x1

    const/16 v6, 0x33

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/16 v10, 0x30

    invoke-static/range {v4 .. v10}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v0, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 10109
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_1

    .line 10110
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->bringToFront()V

    .line 10113
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$52;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$52;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->setDelegate(Lorg/telegram/ui/Components/PhotoCropView$PhotoCropViewDelegate;)V

    return-void
.end method

.method private createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;
    .locals 16

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    .line 9675
    :try_start_0
    iget v2, v0, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    const/4 v3, 0x0

    if-eqz v1, :cond_0

    aget v4, v1, v3

    goto :goto_0

    :cond_0
    move v4, v3

    :goto_0
    add-int/2addr v2, v4

    rem-int/lit16 v2, v2, 0x168

    const/4 v4, 0x1

    if-eqz v1, :cond_1

    .line 9676
    array-length v5, v1

    if-le v5, v4, :cond_1

    aget v3, v1, v4

    .line 9677
    :cond_1
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    .line 9678
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    const/16 v6, 0x10e

    const/16 v7, 0x5a

    if-eq v2, v7, :cond_3

    if-ne v2, v6, :cond_2

    goto :goto_1

    :cond_2
    move v8, v1

    move v9, v5

    goto :goto_2

    :cond_3
    :goto_1
    move v9, v1

    move v8, v5

    :goto_2
    int-to-float v8, v8

    .line 9686
    iget v10, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v10, v8

    float-to-int v10, v10

    int-to-float v9, v9

    .line 9687
    iget v11, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v11, v9

    float-to-int v11, v11

    .line 9688
    sget-object v12, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v10, v11, v12}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v12

    .line 9689
    new-instance v13, Landroid/graphics/Matrix;

    invoke-direct {v13}, Landroid/graphics/Matrix;-><init>()V

    neg-int v1, v1

    const/4 v14, 0x2

    .line 9690
    div-int/2addr v1, v14

    int-to-float v1, v1

    neg-int v5, v5

    div-int/2addr v5, v14

    int-to-float v5, v5

    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    const/high16 v1, 0x3f800000    # 1.0f

    const/high16 v5, -0x40800000    # -1.0f

    if-eqz p4, :cond_6

    .line 9691
    iget-boolean v15, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v15, :cond_6

    if-eq v2, v7, :cond_5

    if-ne v2, v6, :cond_4

    goto :goto_3

    .line 9695
    :cond_4
    invoke-virtual {v13, v5, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_4

    .line 9693
    :cond_5
    :goto_3
    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postScale(FF)Z

    :cond_6
    :goto_4
    if-ne v3, v4, :cond_7

    .line 9699
    invoke-virtual {v13, v5, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_5

    :cond_7
    if-ne v3, v14, :cond_8

    .line 9701
    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 9703
    :cond_8
    :goto_5
    iget v1, v0, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    int-to-float v2, v2

    add-float/2addr v1, v2

    invoke-virtual {v13, v1}, Landroid/graphics/Matrix;->postRotate(F)Z

    .line 9704
    iget v1, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    mul-float/2addr v1, v8

    iget v2, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    mul-float/2addr v2, v9

    invoke-virtual {v13, v1, v2}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 9705
    iget v0, v0, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    invoke-virtual {v13, v0, v0}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 9706
    div-int/2addr v10, v14

    int-to-float v0, v10

    div-int/2addr v11, v14

    int-to-float v1, v11

    invoke-virtual {v13, v0, v1}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 9707
    new-instance v0, Landroid/graphics/Canvas;

    invoke-direct {v0, v12}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9708
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v14}, Landroid/graphics/Paint;-><init>(I)V

    move-object/from16 v2, p1

    invoke-virtual {v0, v2, v13, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Matrix;Landroid/graphics/Paint;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    return-object v12

    :catchall_0
    move-exception v0

    .line 9711
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    const/4 v0, 0x0

    return-object v0
.end method

.method private createPaintView()V
    .locals 14

    .line 10874
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-nez v0, :cond_7

    .line 10877
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_1

    .line 10878
    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 10879
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v1

    .line 10880
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v0

    :goto_0
    const/16 v2, 0x500

    if-gt v1, v2, :cond_0

    if-le v0, v2, :cond_2

    .line 10882
    :cond_0
    div-int/lit8 v1, v1, 0x2

    .line 10883
    div-int/lit8 v0, v0, 0x2

    goto :goto_0

    .line 10886
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    .line 10887
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v0

    .line 10889
    :cond_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/PaintingOverlay;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-nez v2, :cond_3

    if-lez v1, :cond_3

    if-lez v0, :cond_3

    .line 10893
    sget-object v2, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v0, v2}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object v5, v0

    goto :goto_1

    :cond_3
    move-object v5, v2

    .line 10896
    :goto_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_4

    .line 10897
    new-instance v0, Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v0}, Lorg/telegram/messenger/MediaController$CropState;-><init>()V

    .line 10898
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v2

    iput v2, v0, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    goto :goto_2

    .line 10900
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    :goto_2
    move-object v9, v0

    .line 10902
    new-instance v0, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda92;

    invoke-direct {v3, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda92;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;-><init>(Landroid/view/View;Lorg/telegram/messenger/Utilities$Callback;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    .line 10931
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    const/4 v12, 0x0

    if-eq v2, v3, :cond_5

    goto :goto_3

    :cond_5
    move v1, v12

    :goto_3
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 10932
    new-instance v13, Lorg/telegram/ui/PhotoViewer$57;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_6

    const/4 v0, 0x0

    goto :goto_4

    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    :goto_4
    move-object v6, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v7

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    new-instance v10, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda59;

    invoke-direct {v10, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda59;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iget-object v11, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object v0, v13

    move-object v1, p0

    move-object v2, v3

    invoke-direct/range {v0 .. v11}, Lorg/telegram/ui/PhotoViewer$57;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/app/Activity;ILandroid/graphics/Bitmap;Landroid/graphics/Bitmap;ILjava/util/ArrayList;Lorg/telegram/messenger/MediaController$CropState;Ljava/lang/Runnable;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    .line 10984
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v1

    const/4 v2, -0x1

    invoke-static {v2, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 10985
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda70;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda70;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOnDoneButtonClickedListener(Ljava/lang/Runnable;)V

    .line 10990
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getCancelView()Landroid/view/View;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda28;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda28;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10991
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/16 v1, 0x7e

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2, v12, v12}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    .line 10992
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/16 v1, 0xc

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    :cond_7
    return-void
.end method

.method private createVideoControlsInterface()V
    .locals 13

    .line 8159
    new-instance v0, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, p0, v1}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    .line 8160
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, -0x1

    const/16 v3, 0x30

    const/16 v4, 0x53

    invoke-static {v2, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v0, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8162
    new-instance v0, Lorg/telegram/ui/PhotoViewer$43;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$43;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 8192
    new-instance v1, Lorg/telegram/ui/PhotoViewer$44;

    invoke-direct {v1, p0, v0}, Lorg/telegram/ui/PhotoViewer$44;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/VideoPlayerSeekBar$SeekBarDelegate;)V

    .line 8212
    new-instance v4, Lorg/telegram/ui/PhotoViewer$45;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v5

    invoke-direct {v4, p0, v5}, Lorg/telegram/ui/PhotoViewer$45;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    .line 8218
    invoke-virtual {v4, v1}, Landroid/view/View;->setAccessibilityDelegate(Landroid/view/View$AccessibilityDelegate;)V

    .line 8219
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    const/4 v4, 0x1

    invoke-virtual {v1, v4}, Landroid/view/View;->setImportantForAccessibility(I)V

    .line 8220
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-static {v2, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v1, v4, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8222
    new-instance v1, Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-direct {v1, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;-><init>(Landroid/view/View;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const/4 v4, 0x2

    .line 8223
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setHorizontalPadding(I)V

    .line 8224
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const v7, 0x33ffffff

    const v8, 0x33ffffff

    const/4 v9, -0x1

    const/4 v10, -0x1

    const/4 v11, -0x1

    const v12, 0x59ffffff

    invoke-virtual/range {v6 .. v12}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setColors(IIIIII)V

    .line 8225
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setDelegate(Lorg/telegram/ui/Components/VideoPlayerSeekBar$SeekBarDelegate;)V

    .line 8227
    new-instance v0, Lorg/telegram/ui/PhotoViewer$46;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda98;

    invoke-direct {v5, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda98;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, p0, v1, v5}, Lorg/telegram/ui/PhotoViewer$46;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/Components/VideoSeekPreviewImage$VideoSeekPreviewImageDelegate;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    const/4 v1, 0x0

    .line 8246
    invoke-virtual {v0, v1}, Landroid/view/View;->setAlpha(F)V

    .line 8247
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    const/4 v5, -0x2

    const/4 v6, -0x2

    const/16 v7, 0x53

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/16 v11, 0x3a

    invoke-static/range {v5 .. v11}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8249
    new-instance v0, Lorg/telegram/ui/ActionBar/SimpleTextView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Lorg/telegram/ui/ActionBar/SimpleTextView;-><init>(Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    .line 8250
    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setTextColor(I)V

    .line 8251
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/16 v1, 0x35

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setGravity(I)V

    .line 8252
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/16 v2, 0xe

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setTextSize(I)V

    .line 8253
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    invoke-virtual {v0, v4}, Landroid/view/View;->setImportantForAccessibility(I)V

    .line 8254
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/4 v4, -0x2

    const/4 v5, -0x2

    const/16 v6, 0x35

    const/4 v7, 0x0

    const/16 v8, 0xf

    const/16 v9, 0xc

    invoke-static/range {v4 .. v10}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v2, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8256
    new-instance v0, Landroid/widget/ImageView;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    .line 8257
    sget v2, Lorg/telegram/messenger/R$drawable;->msg_minvideo:I

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 8258
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccExitFullscreen:I

    const-string v4, "AccExitFullscreen"

    invoke-static {v4, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 8259
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 8260
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    const v2, 0x40ffffff    # 7.9999995f

    invoke-static {v2}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 8261
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8262
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    invoke-static {v3, v3, v1}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {v0, v2, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8263
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda43;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda43;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    return-void
.end method

.method private createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V
    .locals 7

    .line 9322
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_0

    return-void

    .line 9325
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$50;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, p0, v1}, Lorg/telegram/ui/PhotoViewer$50;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v1, 0x0

    .line 9357
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setWillNotDraw(Z)V

    .line 9358
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9359
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v3, -0x1

    const/16 v4, 0x11

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v2, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 9360
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 9362
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v2, 0x1

    if-eqz v0, :cond_2

    .line 9363
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ALLOW_USE_SURFACE:Z

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    if-nez p1, :cond_1

    .line 9364
    new-instance p1, Landroid/view/SurfaceView;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v0}, Landroid/view/SurfaceView;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    .line 9365
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    goto :goto_0

    .line 9367
    :cond_1
    new-instance p1, Landroid/view/TextureView;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v0}, Landroid/view/TextureView;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    goto :goto_0

    .line 9370
    :cond_2
    new-instance v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-direct {v0, v5, v6}, Lorg/telegram/ui/Components/VideoEditTextureView;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/VideoPlayer;)V

    .line 9371
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 9372
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoEditTextureView;->updateUiBlurManager(Lorg/telegram/ui/Components/BlurringShader$BlurManager;)V

    if-eqz p1, :cond_3

    .line 9374
    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda97;

    invoke-direct {v5, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda97;-><init>(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoEditTextureView;->setDelegate(Lorg/telegram/ui/Components/VideoEditTextureView$VideoEditTextureViewDelegate;)V

    .line 9376
    :cond_3
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 9378
    :goto_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    if-eqz p1, :cond_4

    .line 9379
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0, p1}, Landroid/view/TextureView;->setSurfaceTexture(Landroid/graphics/SurfaceTexture;)V

    .line 9380
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    .line 9381
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    const/4 p1, 0x0

    .line 9382
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    .line 9384
    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    const/4 v0, 0x0

    if-eqz p1, :cond_5

    .line 9385
    invoke-virtual {p1, v0}, Landroid/view/TextureView;->setPivotX(F)V

    .line 9386
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {p1, v0}, Landroid/view/TextureView;->setPivotY(F)V

    .line 9387
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {p1, v1}, Landroid/view/TextureView;->setOpaque(Z)V

    .line 9388
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_1

    .line 9390
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 9393
    :goto_1
    new-instance p1, Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, p0, v1}, Lorg/telegram/ui/PhotoViewer$FirstFrameView;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    .line 9394
    invoke-virtual {p1, v0}, Landroid/widget/ImageView;->setPivotX(F)V

    .line 9395
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p1, v0}, Landroid/widget/ImageView;->setPivotY(F)V

    .line 9396
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v1, Landroid/widget/ImageView$ScaleType;->FIT_XY:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 9397
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 9399
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p1, v2, :cond_6

    .line 9400
    new-instance p1, Landroid/view/View;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v1}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    .line 9401
    invoke-virtual {p1, v3}, Landroid/view/View;->setBackgroundColor(I)V

    .line 9402
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-virtual {p1, v0}, Landroid/view/View;->setAlpha(F)V

    .line 9403
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {p1, v0, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    :cond_6
    return-void
.end method

.method private cropMirror()Z
    .locals 6

    .line 7834
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    .line 7837
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    const/high16 v0, 0x3f800000    # 1.0f

    .line 7838
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    .line 7839
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 7840
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v2, 0x1

    new-array v3, v2, [Landroid/animation/Animator;

    .line 7841
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v5, v5, [F

    fill-array-data v5, :array_0

    invoke-static {p0, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    aput-object v4, v3, v1

    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7842
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xfa

    invoke-virtual {v0, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7843
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 7844
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$39;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$39;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7860
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    .line 7861
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropView;->isMirrored()Z

    move-result v0

    xor-int/2addr v0, v2

    return v0

    :cond_1
    :goto_0
    return v1

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private cropRotate(F)Z
    .locals 2

    const/4 v0, 0x0

    const/4 v1, 0x0

    .line 7865
    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    move-result p1

    return p1
.end method

.method private cropRotate(FZLjava/lang/Runnable;)Z
    .locals 9

    .line 7869
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    return v1

    .line 7872
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_1

    return v1

    .line 7875
    :cond_1
    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    const/4 v2, 0x1

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/Crop/CropView;->maximize(Z)V

    const/4 v0, 0x0

    .line 7876
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    add-float v3, v0, p1

    .line 7877
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz p2, :cond_2

    .line 7879
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 7880
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    .line 7882
    :cond_2
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 7883
    new-instance p2, Landroid/animation/AnimatorSet;

    invoke-direct {p2}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 7884
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v0, 0x2

    if-ne p2, v2, :cond_3

    .line 7885
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    goto :goto_1

    .line 7886
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz p2, :cond_7

    .line 7887
    invoke-virtual {p2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result p2

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    .line 7888
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v5, v5, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result v5

    float-to-int v5, v5

    div-int/lit8 v5, v5, 0x5a

    rem-int/2addr v5, v0

    invoke-static {v5}, Ljava/lang/Math;->abs(I)I

    move-result v5

    if-ne v5, v2, :cond_4

    move v8, v4

    move v4, p2

    move p2, v8

    .line 7893
    :cond_4
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v5, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v5, :cond_5

    int-to-float p2, p2

    .line 7894
    iget v6, v5, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr p2, v6

    float-to-int p2, p2

    int-to-float v4, v4

    .line 7895
    iget v5, v5, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v4, v5

    float-to-int v4, v4

    .line 7897
    :cond_5
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v5

    int-to-float v5, v5

    int-to-float p2, p2

    div-float/2addr v5, p2

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v6

    int-to-float v6, v6

    int-to-float v4, v4

    div-float/2addr v6, v4

    invoke-static {v5, v6}, Ljava/lang/Math;->min(FF)F

    move-result v5

    const/high16 v6, 0x42b40000    # 90.0f

    div-float v6, p1, v6

    const/high16 v7, 0x40000000    # 2.0f

    rem-float/2addr v6, v7

    .line 7899
    invoke-static {v6}, Ljava/lang/Math;->abs(F)F

    move-result v6

    cmpl-float v3, v6, v3

    if-nez v3, :cond_6

    .line 7900
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v4

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, p2

    invoke-static {v3, v4}, Ljava/lang/Math;->min(FF)F

    move-result p2

    goto :goto_0

    :cond_6
    move p2, v5

    :goto_0
    div-float/2addr p2, v5

    .line 7902
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    :cond_7
    :goto_1
    new-array p2, v0, [F

    .line 7904
    fill-array-data p2, :array_0

    invoke-static {p2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p2

    .line 7905
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v3, v3, Lorg/telegram/ui/Components/PhotoCropView;->wheelView:Lorg/telegram/ui/Components/Crop/CropRotationWheel;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropRotationWheel;->getRotation()F

    move-result v3

    .line 7906
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda16;

    invoke-direct {v4, p0, p1, v3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda16;-><init>(Lorg/telegram/ui/PhotoViewer;FF)V

    invoke-virtual {p2, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7910
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v4, v0, [Landroid/animation/Animator;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    new-array v0, v0, [F

    fill-array-data v0, :array_1

    .line 7911
    invoke-static {p0, v5, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    aput-object v0, v4, v1

    aput-object p2, v4, v2

    .line 7910
    invoke-virtual {v3, v4}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7914
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xfa

    invoke-virtual {p2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7915
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 7916
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$40;

    invoke-direct {v0, p0, p1, p3}, Lorg/telegram/ui/PhotoViewer$40;-><init>(Lorg/telegram/ui/PhotoViewer;FLjava/lang/Runnable;)V

    invoke-virtual {p2, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7942
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p2}, Landroid/animation/AnimatorSet;->start()V

    .line 7943
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p2, p2, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {p2}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result p2

    add-float/2addr p2, p1

    invoke-static {p2}, Ljava/lang/Math;->abs(F)F

    move-result p1

    const p2, 0x3c23d70a    # 0.01f

    cmpl-float p1, p1, p2

    if-lez p1, :cond_8

    move v1, v2

    :cond_8
    return v1

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private deleteVideoFromCache()V
    .locals 3

    .line 543
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesStorage;->getInstance(I)Lorg/telegram/messenger/MessagesStorage;

    move-result-object v0

    new-instance v1, Ljava/util/ArrayList;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-static {v2}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v2

    invoke-direct {v1, v2}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda54;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda54;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MessagesStorage;->getCachedFilesFromMessages(Ljava/util/ArrayList;Lcom/iMe/fork/utils/Callbacks$Callback1;)V

    return-void
.end method

.method private detectFaces()V
    .locals 3

    .line 10178
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v0

    if-nez v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_2

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    goto :goto_0

    .line 10181
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageKey()Ljava/lang/String;

    move-result-object v0

    .line 10182
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageFaceKey:Ljava/lang/String;

    if-eqz v1, :cond_1

    invoke-virtual {v1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_1

    return-void

    :cond_1
    const/4 v1, 0x0

    .line 10185
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    .line 10186
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapSafe()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v1

    .line 10187
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->detectFaces(Ljava/lang/String;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;I)V

    :cond_2
    :goto_0
    return-void
.end method

.method private detectFaces(Ljava/lang/String;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;I)V
    .locals 0

    return-void
.end method

.method private didChangedCompressionLevel(Z)V
    .locals 5

    .line 18055
    invoke-static {}, Lorg/telegram/messenger/MessagesController;->getGlobalMainSettings()Landroid/content/SharedPreferences;

    move-result-object v0

    .line 18056
    invoke-interface {v0}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    const/4 v1, 0x1

    new-array v2, v1, [Ljava/lang/Object;

    .line 18057
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const/4 v4, 0x0

    aput-object v3, v2, v4

    const-string v3, "compress_video_%d"

    invoke-static {v3, v2}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v2

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    invoke-interface {v0, v2, v3}, Landroid/content/SharedPreferences$Editor;->putInt(Ljava/lang/String;I)Landroid/content/SharedPreferences$Editor;

    .line 18058
    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 18059
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    .line 18060
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    if-eqz p1, :cond_0

    .line 18062
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    :cond_0
    return-void
.end method

.method private dismissInternal()V
    .locals 2

    .line 7631
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object v0

    if-eqz v0, :cond_1

    .line 7632
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 7633
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    iget-object v0, v0, Lorg/telegram/ui/LaunchActivity;->drawerLayoutContainer:Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;->setAllowDrawContent(Z)V

    .line 7635
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 7636
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v0, v1}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 7637
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 7640
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    return-void
.end method

.method private drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V
    .locals 44

    move-object/from16 v9, p0

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move/from16 v0, p3

    move/from16 v12, p4

    .line 18752
    sget-boolean v1, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v13, 0x3

    const/4 v14, 0x0

    const/4 v15, 0x2

    const/4 v8, 0x1

    const/high16 v7, 0x3f800000    # 1.0f

    if-nez v1, :cond_0

    move v6, v7

    goto :goto_2

    :cond_0
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v2, :cond_2

    if-eq v2, v15, :cond_2

    if-ne v2, v13, :cond_1

    goto :goto_0

    :cond_1
    move v2, v14

    goto :goto_1

    :cond_2
    :goto_0
    move v2, v8

    :goto_1
    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v1

    move v6, v1

    .line 18754
    :goto_2
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v1, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    const v4, 0x3f333333    # 0.7f

    if-eqz v0, :cond_4

    .line 18756
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18757
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    if-eqz p6, :cond_3

    move v2, v6

    goto :goto_3

    :cond_3
    move v2, v7

    :goto_3
    invoke-static {v4, v7, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float/2addr v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18758
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    .line 18761
    :cond_4
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v3, 0x0

    if-eqz v0, :cond_71

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_5

    goto/16 :goto_39

    :cond_5
    if-eqz p7, :cond_b

    .line 18772
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    if-nez v0, :cond_6

    new-array v0, v13, [Lorg/telegram/ui/Components/AnimatedFloat;

    .line 18773
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    .line 18774
    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    sget-object v4, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    move/from16 v17, v6

    const-wide/16 v5, 0xb4

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v14

    .line 18775
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v8

    .line 18776
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v15

    goto :goto_4

    :cond_6
    move/from16 v17, v6

    .line 18779
    :goto_4
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v14

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    .line 18780
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v15

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    .line 18781
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    if-nez v0, :cond_7

    .line 18782
    new-instance v0, Landroid/graphics/RectF;

    invoke-direct {v0}, Landroid/graphics/RectF;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    .line 18784
    :cond_7
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    if-nez v0, :cond_8

    .line 18785
    new-instance v0, Landroid/graphics/RectF;

    invoke-direct {v0}, Landroid/graphics/RectF;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    .line 18787
    :cond_8
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    if-nez v0, :cond_9

    .line 18788
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    .line 18790
    :cond_9
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    if-nez v0, :cond_a

    const/16 v0, 0x8

    new-array v0, v0, [F

    .line 18791
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    .line 18793
    :cond_a
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getBounds()Landroid/graphics/RectF;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/graphics/RectF;->set(Landroid/graphics/RectF;)V

    .line 18794
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getY()F

    move-result v2

    invoke-virtual {v0, v1, v2}, Landroid/graphics/RectF;->offset(FF)V

    .line 18795
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getY()F

    move-result v2

    invoke-virtual {v0, v1, v2}, Landroid/graphics/RectF;->offset(FF)V

    .line 18796
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    goto :goto_5

    :cond_b
    move/from16 v17, v6

    .line 18799
    :goto_5
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getSaveCount()I

    move-result v6

    .line 18800
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_c

    .line 18801
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18802
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v15

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v1

    div-int/2addr v1, v15

    sub-int/2addr v0, v1

    int-to-float v0, v0

    invoke-virtual {v10, v0, v3}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_c

    .line 18804
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v1

    div-int/2addr v1, v15

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v2

    div-int/2addr v2, v15

    sub-int/2addr v1, v2

    int-to-float v1, v1

    invoke-virtual {v0, v1, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18813
    :cond_c
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_d

    .line 18814
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->mirror:F

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v0

    .line 18815
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v1, v2, v4}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v1

    .line 18816
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v2, v4, v5}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    .line 18817
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v4, v5, v13}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v4

    .line 18818
    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v5, v13, v3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v3

    move v14, v0

    move/from16 v22, v1

    goto :goto_6

    .line 18820
    :cond_d
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 18821
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 18822
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 18823
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 18824
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 18825
    iget-wide v14, v9, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    const-wide/16 v20, 0x0

    cmp-long v5, v14, v20

    if-eqz v5, :cond_e

    .line 18826
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 18827
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 18828
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    :cond_e
    move/from16 v22, v0

    move v14, v1

    :goto_6
    move v15, v2

    move/from16 v20, v3

    move/from16 v21, v4

    .line 18832
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    .line 18833
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    .line 18835
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v23, 0x5

    if-nez v0, :cond_10

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v8, :cond_10

    .line 18836
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v0, v0, v7

    if-ltz v0, :cond_10

    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_10

    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-nez v0, :cond_10

    .line 18837
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-static/range {v23 .. v23}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    cmpl-float v0, v20, v0

    if-lez v0, :cond_f

    .line 18838
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    :goto_7
    move-object v3, v0

    goto :goto_8

    .line 18839
    :cond_f
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-static/range {v23 .. v23}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    sub-float/2addr v0, v1

    cmpg-float v0, v20, v0

    if-gez v0, :cond_10

    .line 18840
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_7

    :cond_10
    const/4 v3, 0x0

    .line 18844
    :goto_8
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    const v24, 0x3e99999a    # 0.3f

    const/16 v25, 0x1e

    const/high16 v26, 0x40400000    # 3.0f

    const/high16 v27, 0x437f0000    # 255.0f

    if-ne v3, v0, :cond_1a

    if-eqz p7, :cond_11

    .line 18845
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    move-result v0

    move/from16 v28, v0

    goto :goto_9

    :cond_11
    move/from16 v28, v7

    .line 18849
    :goto_9
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_12

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v20, v0

    if-gez v1, :cond_12

    sub-float v0, v0, v20

    int-to-float v1, v5

    div-float/2addr v0, v1

    .line 18850
    invoke-static {v7, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    sub-float v1, v7, v0

    mul-float v1, v1, v24

    neg-int v2, v5

    .line 18852
    invoke-static/range {v25 .. v25}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v29

    const/16 v19, 0x2

    div-int/lit8 v29, v29, 0x2

    sub-int v2, v2, v29

    int-to-float v2, v2

    move/from16 v29, v0

    goto :goto_a

    :cond_12
    move/from16 v29, v7

    move/from16 v2, v20

    const/4 v1, 0x0

    .line 18855
    :goto_a
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v0

    if-eqz v0, :cond_1a

    .line 18856
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18857
    div-int/lit8 v0, v5, 0x2

    int-to-float v0, v0

    div-int/lit8 v8, v4, 0x2

    int-to-float v8, v8

    invoke-virtual {v10, v0, v8}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18858
    invoke-static/range {v25 .. v25}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    const/4 v8, 0x2

    div-int/2addr v0, v8

    add-int/2addr v0, v5

    int-to-float v0, v0

    add-float/2addr v0, v2

    const/4 v8, 0x0

    invoke-virtual {v10, v0, v8}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v0, v7, v1

    .line 18859
    invoke-virtual {v10, v0, v0}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18860
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    .line 18861
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    .line 18862
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    if-nez v0, :cond_13

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_13

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_13

    const/high16 v31, 0x3f800000    # 1.0f

    .line 18863
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v32, v0

    move-object/from16 v0, p0

    move/from16 v33, v1

    move-object/from16 v1, p1

    move/from16 v34, v2

    const/high16 v13, -0x40800000    # -1.0f

    move v2, v5

    move-object/from16 v35, v3

    move v3, v4

    move v13, v4

    move/from16 v4, v34

    move v12, v5

    move/from16 v16, v14

    const/4 v14, 0x0

    move/from16 v5, v33

    move/from16 v37, v6

    move/from16 v36, v17

    move/from16 v6, v31

    move v14, v7

    move-object/from16 v7, v32

    const/4 v14, 0x1

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_b

    :cond_13
    move/from16 v33, v1

    move/from16 v34, v2

    move-object/from16 v35, v3

    move v13, v4

    move v12, v5

    move/from16 v37, v6

    move/from16 v16, v14

    move/from16 v36, v17

    const/4 v14, 0x1

    :goto_b
    int-to-float v0, v12

    move/from16 v1, v34

    int-to-float v1, v1

    div-float/2addr v0, v1

    int-to-float v2, v13

    move/from16 v3, v33

    int-to-float v3, v3

    div-float/2addr v2, v3

    .line 18867
    invoke-static {v0, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float/2addr v1, v0

    float-to-int v1, v1

    mul-float/2addr v3, v0

    float-to-int v0, v3

    .line 18871
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_16

    .line 18872
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v2, v14, :cond_15

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v14, :cond_14

    goto :goto_c

    .line 18875
    :cond_14
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_16

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_16

    move v8, v14

    goto :goto_d

    .line 18873
    :cond_15
    :goto_c
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v2

    move v8, v2

    goto :goto_d

    :cond_16
    const/4 v8, 0x0

    :goto_d
    if-eqz v8, :cond_17

    const/high16 v2, -0x40800000    # -1.0f

    const/high16 v3, 0x3f800000    # 1.0f

    .line 18879
    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18883
    :cond_17
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    move-object/from16 v8, v35

    invoke-virtual {v2, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_19

    .line 18885
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18886
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v29, v29, v27

    move/from16 v7, v36

    mul-float v29, v29, v7

    mul-float v4, v29, v28

    float-to-int v4, v4

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18887
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v3, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v3, v1

    const/4 v4, 0x2

    .line 18888
    div-int/2addr v3, v4

    int-to-float v3, v3

    neg-int v5, v0

    div-int/2addr v5, v4

    int-to-float v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->translate(FF)V

    int-to-float v1, v1

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float/2addr v1, v3

    .line 18889
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v1, v4

    int-to-float v0, v0

    mul-float/2addr v0, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v0, v3

    invoke-virtual {v10, v1, v0}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v6, 0x0

    if-eqz p5, :cond_18

    float-to-int v0, v6

    .line 18892
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    sub-int/2addr v1, v0

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    sub-int/2addr v3, v0

    invoke-virtual {v10, v0, v0, v1, v3}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18894
    :cond_18
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v2, v6, v6, v0}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    goto :goto_e

    :cond_19
    move/from16 v7, v36

    const/4 v6, 0x0

    .line 18897
    :goto_e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_f

    :cond_1a
    move v13, v4

    move v12, v5

    move/from16 v37, v6

    move/from16 v16, v14

    move/from16 v7, v17

    const/4 v6, 0x0

    move v14, v8

    move-object v8, v3

    .line 18904
    :goto_f
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_1b

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v1, v20, v0

    if-lez v1, :cond_1b

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1b

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v14, :cond_1b

    sub-float v0, v20, v0

    int-to-float v1, v12

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18905
    invoke-static {v1, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float v3, v0, v24

    sub-float v0, v1, v0

    .line 18908
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    goto :goto_10

    :cond_1b
    move v3, v6

    move/from16 v1, v20

    const/high16 v0, 0x3f800000    # 1.0f

    .line 18911
    :goto_10
    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v2, :cond_1c

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v2, :cond_1c

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v2

    if-nez v2, :cond_1c

    move v2, v14

    goto :goto_11

    :cond_1c
    const/4 v2, 0x0

    .line 18912
    :goto_11
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v4

    if-nez v4, :cond_1e

    if-eqz v2, :cond_1d

    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_1d

    goto :goto_12

    :cond_1d
    move/from16 v33, v7

    move-object/from16 v39, v8

    move/from16 v38, v12

    move/from16 v32, v13

    const/4 v8, 0x0

    goto/16 :goto_33

    .line 18913
    :cond_1e
    :goto_12
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18914
    div-int/lit8 v4, v12, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v24

    add-int v5, v4, v24

    int-to-float v5, v5

    div-int/lit8 v24, v13, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v29

    add-int v14, v24, v29

    int-to-float v14, v14

    invoke-virtual {v10, v5, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18915
    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x3

    if-eq v5, v14, :cond_1f

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_13

    :cond_1f
    move v5, v6

    :goto_13
    add-float v5, v21, v5

    invoke-virtual {v10, v1, v5}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v3, v22, v3

    .line 18916
    invoke-virtual {v10, v3, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18917
    invoke-virtual {v10, v15}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_21

    .line 18919
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v14

    add-int/2addr v4, v14

    int-to-float v4, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v14

    add-int v14, v24, v14

    int-to-float v14, v14

    invoke-virtual {v5, v4, v14}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18920
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x3

    if-eq v5, v14, :cond_20

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_14

    :cond_20
    move v5, v6

    :goto_14
    add-float v5, v21, v5

    invoke-virtual {v4, v1, v5}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18921
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v3, v3, v6, v6}, Landroid/graphics/Matrix;->preScale(FFFF)Z

    .line 18922
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v15}, Landroid/graphics/Matrix;->preRotate(F)Z

    .line 18924
    :cond_21
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v1, v4, :cond_23

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v1, :cond_23

    const/4 v1, 0x0

    const/4 v4, 0x1

    .line 18925
    invoke-direct {v9, v4, v1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v5

    .line 18926
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    sget-object v14, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v14, v14, Landroid/graphics/Point;->y:I

    sget v15, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v14, v15

    sub-int/2addr v14, v5

    invoke-static {v14}, Ljava/lang/Math;->abs(I)I

    move-result v14

    const/16 v15, 0x14

    invoke-static {v15}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v15

    if-ge v14, v15, :cond_22

    const/4 v14, 0x1

    goto :goto_15

    :cond_22
    const/4 v14, 0x0

    :goto_15
    invoke-virtual {v4, v14}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v4

    sub-int/2addr v5, v4

    const/4 v1, 0x0

    .line 18927
    invoke-direct {v9, v1, v1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v4

    sub-int/2addr v5, v4

    int-to-float v4, v5

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    .line 18928
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v5

    const/high16 v14, 0x3f800000    # 1.0f

    sub-float v5, v14, v5

    mul-float/2addr v5, v4

    invoke-virtual {v10, v6, v5}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_23

    .line 18930
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v15, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v15

    sub-float v15, v14, v15

    mul-float/2addr v4, v15

    invoke-virtual {v5, v6, v4}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    :cond_23
    if-eqz v2, :cond_25

    .line 18936
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_25

    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v4, :cond_25

    .line 18937
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_24

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_16

    :cond_24
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 18938
    :goto_16
    invoke-virtual {v4}, Landroid/view/View;->getMeasuredWidth()I

    move-result v5

    .line 18939
    invoke-virtual {v4}, Landroid/view/View;->getMeasuredHeight()I

    move-result v4

    goto :goto_17

    .line 18941
    :cond_25
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v5

    .line 18942
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    :goto_17
    int-to-float v14, v12

    int-to-float v15, v5

    div-float v1, v14, v15

    int-to-float v6, v13

    move/from16 v21, v5

    int-to-float v5, v4

    move/from16 v24, v4

    div-float v4, v6, v5

    .line 18945
    invoke-static {v1, v4}, Ljava/lang/Math;->min(FF)F

    move-result v29

    move/from16 v31, v4

    mul-float v4, v15, v29

    float-to-int v4, v4

    move/from16 v32, v13

    mul-float v13, v5, v29

    float-to-int v13, v13

    int-to-float v4, v4

    int-to-float v13, v13

    move/from16 v33, v4

    .line 18949
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    const/16 v34, 0x7

    const/16 v35, 0x6

    const/16 v36, 0x4

    if-nez v4, :cond_31

    if-eqz v2, :cond_27

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-nez v2, :cond_26

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v2, :cond_27

    :cond_26
    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v2, :cond_27

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v4, 0x3f800000    # 1.0f

    cmpl-float v2, v2, v4

    if-eqz v2, :cond_31

    .line 18950
    :cond_27
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_28

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v2, :cond_31

    .line 18951
    :cond_28
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    int-to-float v2, v2

    .line 18952
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    int-to-float v4, v4

    .line 18954
    iget-boolean v13, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_29

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v13, :cond_29

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v38, v12

    const/4 v12, 0x1

    if-ne v13, v12, :cond_2a

    const/4 v12, 0x0

    .line 18955
    invoke-direct {v9, v12}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v13

    goto :goto_18

    :cond_29
    move/from16 v38, v12

    :cond_2a
    div-float v13, v14, v2

    div-float v12, v6, v4

    .line 18957
    invoke-static {v13, v12}, Ljava/lang/Math;->min(FF)F

    move-result v13

    :goto_18
    mul-float/2addr v2, v13

    mul-float/2addr v13, v4

    .line 18961
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_30

    if-eqz p7, :cond_2b

    .line 18964
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    neg-float v12, v2

    const/high16 v28, 0x40000000    # 2.0f

    div-float v12, v12, v28

    move-object/from16 v39, v8

    neg-float v8, v13

    div-float v8, v8, v28

    invoke-virtual {v4, v12, v8}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18965
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v8, 0x0

    const/4 v12, 0x0

    aput v12, v4, v8

    const/16 v30, 0x1

    .line 18966
    aput v12, v4, v30

    const/16 v19, 0x2

    .line 18967
    aput v2, v4, v19

    const/16 v18, 0x3

    .line 18968
    aput v12, v4, v18

    .line 18969
    aput v2, v4, v36

    .line 18970
    aput v13, v4, v23

    .line 18971
    aput v12, v4, v35

    .line 18972
    aput v13, v4, v34

    .line 18973
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v12, v4}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 18974
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 p6, v3

    const/4 v8, 0x0

    aget v3, v12, v8

    aget v12, v12, v19

    .line 18975
    invoke-static {v3, v12}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v8, v12, v36

    aget v12, v12, v35

    invoke-static {v8, v12}, Ljava/lang/Math;->min(FF)F

    move-result v8

    invoke-static {v3, v8}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v40, v15

    const/4 v12, 0x1

    aget v15, v8, v12

    const/4 v12, 0x3

    aget v8, v8, v12

    .line 18976
    invoke-static {v15, v8}, Ljava/lang/Math;->min(FF)F

    move-result v8

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v23

    aget v12, v12, v34

    invoke-static {v15, v12}, Ljava/lang/Math;->min(FF)F

    move-result v12

    invoke-static {v8, v12}, Ljava/lang/Math;->min(FF)F

    move-result v8

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v41, v1

    const/4 v15, 0x0

    aget v1, v12, v15

    const/16 v19, 0x2

    aget v12, v12, v19

    .line 18977
    invoke-static {v1, v12}, Ljava/lang/Math;->max(FF)F

    move-result v1

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v36

    aget v12, v12, v35

    invoke-static {v15, v12}, Ljava/lang/Math;->max(FF)F

    move-result v12

    invoke-static {v1, v12}, Ljava/lang/Math;->max(FF)F

    move-result v1

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v42, v5

    const/4 v15, 0x1

    aget v5, v12, v15

    const/16 v18, 0x3

    aget v12, v12, v18

    .line 18978
    invoke-static {v5, v12}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v23

    aget v12, v12, v34

    invoke-static {v15, v12}, Ljava/lang/Math;->max(FF)F

    move-result v12

    invoke-static {v5, v12}, Ljava/lang/Math;->max(FF)F

    move-result v5

    .line 18974
    invoke-virtual {v4, v3, v8, v1, v5}, Landroid/graphics/RectF;->set(FFFF)V

    .line 18980
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v3, 0x1

    aget-object v1, v1, v3

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    invoke-virtual {v3, v4}, Landroid/graphics/RectF;->intersect(Landroid/graphics/RectF;)Z

    move-result v3

    invoke-virtual {v1, v3}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v1

    goto :goto_19

    :cond_2b
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v40, v15

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18985
    :goto_19
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v4, 0x3f800000    # 1.0f

    cmpg-float v3, v3, v4

    if-gez v3, :cond_2d

    .line 18986
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v3

    if-eqz v3, :cond_2d

    .line 18988
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18989
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18990
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v5, v1, v27

    mul-float/2addr v5, v0

    iget v8, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v12, 0x3f800000    # 1.0f

    sub-float v8, v12, v8

    mul-float/2addr v5, v8

    mul-float/2addr v5, v7

    float-to-int v5, v5

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18991
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    int-to-float v8, v8

    sub-float v8, v8, v26

    div-float/2addr v5, v8

    invoke-virtual {v10, v4, v5}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v4, v2

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    neg-float v8, v13

    div-float/2addr v8, v5

    .line 18992
    invoke-virtual {v10, v4, v8}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v4, 0x3f800000    # 1.0f

    mul-float v5, v2, v4

    .line 18993
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    int-to-float v8, v8

    div-float/2addr v5, v8

    mul-float v8, v13, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v8, v4

    invoke-virtual {v10, v5, v8}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v4, 0x0

    if-eqz p5, :cond_2c

    float-to-int v5, v4

    .line 18996
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    sub-int/2addr v8, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v12

    sub-int/2addr v12, v5

    invoke-virtual {v10, v5, v5, v8, v12}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18998
    :cond_2c
    iget-object v5, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v3, v4, v4, v5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 18999
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_1a

    :cond_2d
    const/4 v4, 0x0

    .line 19002
    :goto_1a
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_2f

    .line 19003
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v3

    if-eqz v3, :cond_2f

    .line 19005
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19006
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19007
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v1, v1, v27

    mul-float/2addr v1, v0

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    mul-float/2addr v1, v5

    mul-float/2addr v1, v7

    float-to-int v1, v1

    invoke-virtual {v4, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19008
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v1, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v10, v1, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v1, v2

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v1, v4

    neg-float v5, v13

    div-float/2addr v5, v4

    .line 19009
    invoke-virtual {v10, v1, v5}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v1, 0x3f800000    # 1.0f

    mul-float v4, v2, v1

    .line 19010
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    int-to-float v5, v5

    div-float/2addr v4, v5

    mul-float v5, v13, v1

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v5, v1

    invoke-virtual {v10, v4, v5}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v1, 0x0

    if-eqz p5, :cond_2e

    float-to-int v4, v1

    .line 19013
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    sub-int/2addr v5, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    sub-int/2addr v8, v4

    invoke-virtual {v10, v4, v4, v5, v8}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19015
    :cond_2e
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v3, v1, v1, v4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 19016
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_2f
    move v4, v2

    const/4 v8, 0x1

    goto :goto_1c

    :cond_30
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v40, v15

    move v4, v2

    goto :goto_1b

    :cond_31
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v38, v12

    move/from16 v40, v15

    move/from16 v4, v33

    :goto_1b
    const/4 v8, 0x0

    .line 19026
    :goto_1c
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, -0x1

    if-nez v1, :cond_36

    .line 19027
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_35

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v5, v3, :cond_32

    goto :goto_1d

    .line 19029
    :cond_32
    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v15, 0x1

    if-ne v12, v15, :cond_33

    if-eqz v5, :cond_35

    if-eq v1, v3, :cond_36

    const/4 v3, 0x2

    if-eq v1, v3, :cond_36

    goto :goto_1d

    .line 19032
    :cond_33
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v3, :cond_34

    if-ne v5, v2, :cond_35

    :cond_34
    if-eqz v1, :cond_35

    const/4 v3, 0x1

    if-eq v1, v3, :cond_35

    if-eq v5, v2, :cond_36

    :cond_35
    :goto_1d
    const/4 v1, 0x1

    goto :goto_1e

    :cond_36
    const/4 v1, 0x0

    :goto_1e
    if-eqz v1, :cond_54

    .line 19040
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v1

    const/16 v3, 0x5a

    if-eq v1, v3, :cond_38

    const/16 v3, 0x10e

    if-ne v1, v3, :cond_37

    goto :goto_1f

    :cond_37
    move/from16 v3, v21

    move/from16 v5, v24

    goto :goto_20

    :cond_38
    :goto_1f
    move/from16 v5, v21

    move/from16 v3, v24

    .line 19051
    :goto_20
    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v15, 0x1

    if-eq v12, v15, :cond_3a

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v15, 0x3

    if-eq v12, v15, :cond_39

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v12, v15, :cond_3a

    :cond_39
    :goto_21
    const/high16 v2, 0x3f800000    # 1.0f

    goto :goto_22

    .line 19053
    :cond_3a
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v12, :cond_3e

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-eq v12, v2, :cond_3e

    .line 19054
    iget v15, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x1

    if-eq v15, v2, :cond_39

    if-eq v12, v2, :cond_39

    const/4 v2, 0x2

    if-eq v15, v2, :cond_3b

    const/4 v2, 0x3

    if-ne v15, v2, :cond_3c

    :cond_3b
    const/4 v2, -0x1

    if-ne v12, v2, :cond_3c

    goto :goto_21

    :cond_3c
    if-nez v12, :cond_3d

    .line 19057
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_22

    .line 19059
    :cond_3d
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    const/high16 v12, 0x3f800000    # 1.0f

    sub-float v2, v12, v2

    goto :goto_22

    .line 19062
    :cond_3e
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v12, 0x2

    if-eq v2, v12, :cond_3f

    const/4 v12, 0x3

    if-ne v2, v12, :cond_39

    :cond_3f
    const/4 v2, 0x0

    .line 19064
    :goto_22
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v12}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v12

    .line 19065
    iget-object v15, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v3, v3

    const/high16 v17, 0x3f800000    # 1.0f

    sub-float v21, v17, v12

    sub-float v24, v17, v2

    mul-float v21, v21, v24

    add-float v12, v12, v21

    mul-float/2addr v12, v3

    float-to-int v12, v12

    int-to-float v5, v5

    sub-float v21, v17, v15

    mul-float v21, v21, v24

    add-float v15, v15, v21

    mul-float/2addr v15, v5

    float-to-int v15, v15

    int-to-float v12, v12

    div-float v21, v14, v12

    int-to-float v15, v15

    mul-float v33, v21, v15

    cmpl-float v33, v33, v6

    if-lez v33, :cond_40

    div-float v21, v6, v15

    :cond_40
    move/from16 v33, v7

    .line 19072
    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v43, v0

    const/4 v0, 0x1

    if-eq v7, v0, :cond_43

    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v7, v0, :cond_41

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v0, :cond_43

    :cond_41
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_43

    mul-float v12, v12, v21

    mul-float v15, v15, v21

    mul-float v0, v41, v42

    cmpl-float v0, v0, v6

    if-lez v0, :cond_42

    move/from16 v41, v31

    :cond_42
    mul-float v0, v40, v41

    div-float v0, v0, p6

    mul-float v7, v42, v41

    div-float v7, v7, p6

    sub-float/2addr v0, v12

    mul-float v0, v0, v24

    add-float/2addr v12, v0

    sub-float/2addr v7, v15

    mul-float v7, v7, v24

    add-float/2addr v15, v7

    neg-float v0, v12

    const/high16 v7, 0x40000000    # 2.0f

    div-float/2addr v0, v7

    neg-float v11, v15

    div-float/2addr v11, v7

    div-float/2addr v12, v7

    div-float/2addr v15, v7

    .line 19085
    invoke-virtual {v10, v0, v11, v12, v15}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 19087
    :cond_43
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, 0x1

    if-eq v0, v7, :cond_44

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_55

    .line 19089
    :cond_44
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v0, v7, :cond_49

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v7, :cond_45

    goto :goto_25

    .line 19111
    :cond_45
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_47

    .line 19112
    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v6, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v6, :cond_46

    iget-boolean v6, v6, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v6, :cond_46

    const/high16 v7, -0x40800000    # -1.0f

    goto :goto_23

    :cond_46
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_23
    invoke-virtual {v0, v7}, Landroid/view/TextureView;->setScaleX(F)V

    .line 19113
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_47

    .line 19114
    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v6}, Landroid/view/TextureView;->getScaleX()F

    move-result v6

    invoke-virtual {v0, v6}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 19117
    :cond_47
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_48

    iget v7, v0, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_24

    :cond_48
    const/high16 v0, 0x3f800000    # 1.0f

    const/high16 v7, 0x3f800000    # 1.0f

    :goto_24
    sub-float v6, v7, v0

    mul-float v6, v6, v24

    add-float/2addr v6, v0

    div-float v21, v21, v29

    div-float v21, v21, v6

    mul-float v7, v7, v21

    goto :goto_29

    .line 19090
    :cond_49
    :goto_25
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_4b

    .line 19091
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v7

    if-eqz v7, :cond_4a

    const/high16 v7, -0x40800000    # -1.0f

    goto :goto_26

    :cond_4a
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_26
    invoke-virtual {v0, v7}, Landroid/view/TextureView;->setScaleX(F)V

    .line 19092
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_4b

    .line 19093
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v7}, Landroid/view/TextureView;->getScaleX()F

    move-result v7

    invoke-virtual {v0, v7}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 19096
    :cond_4b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v0

    const/high16 v7, 0x3f800000    # 1.0f

    sub-float/2addr v0, v7

    mul-float v0, v0, v24

    add-float/2addr v0, v7

    .line 19097
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v7

    div-float/2addr v7, v0

    div-float/2addr v14, v3

    mul-float v0, v14, v5

    cmpl-float v0, v0, v6

    if-lez v0, :cond_4c

    div-float v14, v6, v5

    :cond_4c
    div-float v14, v14, v29

    mul-float/2addr v7, v14

    .line 19103
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, 0x1

    if-ne v0, v6, :cond_4f

    .line 19104
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v6, 0x3

    if-eq v0, v6, :cond_4e

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v0, v6, :cond_4d

    goto :goto_27

    :cond_4d
    if-nez v0, :cond_4f

    .line 19107
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v0

    goto :goto_28

    .line 19105
    :cond_4e
    :goto_27
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v0

    const/high16 v6, 0x3f800000    # 1.0f

    sub-float/2addr v0, v6

    mul-float v0, v0, v24

    add-float/2addr v0, v6

    :goto_28
    div-float/2addr v7, v0

    .line 19122
    :cond_4f
    :goto_29
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v0

    mul-float/2addr v0, v2

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v6

    mul-float/2addr v6, v2

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19123
    invoke-virtual {v10, v7, v7}, Landroid/graphics/Canvas;->scale(FF)V

    .line 19124
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v0

    mul-float/2addr v0, v3

    mul-float v0, v0, v29

    mul-float/2addr v0, v2

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v6

    mul-float/2addr v6, v5

    mul-float v6, v6, v29

    mul-float/2addr v6, v2

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_50

    .line 19126
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v6

    mul-float/2addr v6, v2

    iget-object v11, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v11

    mul-float/2addr v11, v2

    invoke-virtual {v0, v6, v11}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 19127
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v7, v7}, Landroid/graphics/Matrix;->preScale(FF)Z

    .line 19128
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v6

    mul-float/2addr v6, v3

    mul-float v6, v6, v29

    mul-float/2addr v6, v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float/2addr v3, v5

    mul-float v3, v3, v29

    mul-float/2addr v3, v2

    invoke-virtual {v0, v6, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 19130
    :cond_50
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v0

    int-to-float v1, v1

    add-float/2addr v0, v1

    const/high16 v1, 0x43340000    # 180.0f

    cmpl-float v1, v0, v1

    if-lez v1, :cond_51

    const/high16 v1, 0x43b40000    # 360.0f

    sub-float/2addr v0, v1

    .line 19134
    :cond_51
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v1, v3, :cond_53

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_52

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v3, :cond_53

    .line 19135
    :cond_52
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_55

    .line 19137
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->preRotate(F)Z

    goto :goto_2a

    :cond_53
    mul-float/2addr v0, v2

    .line 19140
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_55

    .line 19142
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->preRotate(F)Z

    goto :goto_2a

    :cond_54
    move/from16 v43, v0

    move/from16 v33, v7

    :cond_55
    :goto_2a
    if-nez v8, :cond_62

    .line 19150
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_58

    .line 19151
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_57

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v1, :cond_56

    goto :goto_2b

    .line 19154
    :cond_56
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_58

    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v0, :cond_58

    const/4 v8, 0x1

    goto :goto_2c

    .line 19152
    :cond_57
    :goto_2b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v0

    move v8, v0

    goto :goto_2c

    :cond_58
    const/4 v8, 0x0

    :goto_2c
    if-eqz v8, :cond_59

    .line 19159
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, -0x40800000    # -1.0f

    const/high16 v1, 0x3f800000    # 1.0f

    .line 19160
    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v0, 0x0

    const/4 v8, 0x1

    goto :goto_2d

    :cond_59
    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v0, 0x0

    const/4 v8, 0x0

    :goto_2d
    cmpl-float v2, v16, v0

    if-lez v2, :cond_5b

    if-nez v8, :cond_5a

    .line 19165
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, 0x40000000    # 2.0f

    const/4 v8, 0x1

    goto :goto_2e

    :cond_5a
    const/high16 v0, 0x40000000    # 2.0f

    :goto_2e
    mul-float v14, v16, v0

    sub-float v7, v1, v14

    .line 19168
    invoke-virtual {v10, v7, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/high16 v0, 0x40800000    # 4.0f

    mul-float v14, v16, v0

    sub-float v7, v1, v16

    mul-float/2addr v14, v7

    const/high16 v0, 0x3e800000    # 0.25f

    mul-float/2addr v14, v0

    const/4 v0, 0x0

    .line 19169
    invoke-virtual {v10, v0, v14}, Landroid/graphics/Canvas;->skew(FF)V

    .line 19171
    :cond_5b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_5d

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isLoaded()Z

    move-result v0

    if-nez v0, :cond_5c

    goto :goto_2f

    :cond_5c
    move-object/from16 v11, p2

    goto/16 :goto_31

    :cond_5d
    :goto_2f
    if-eqz p7, :cond_5e

    .line 19174
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    neg-float v1, v4

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    neg-float v3, v13

    div-float/2addr v3, v2

    invoke-virtual {v0, v1, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 19175
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    const/4 v2, 0x0

    aput v2, v0, v1

    const/4 v3, 0x1

    .line 19176
    aput v2, v0, v3

    const/4 v3, 0x2

    .line 19177
    aput v4, v0, v3

    const/4 v5, 0x3

    .line 19178
    aput v2, v0, v5

    .line 19179
    aput v4, v0, v36

    .line 19180
    aput v13, v0, v23

    .line 19181
    aput v2, v0, v35

    .line 19182
    aput v13, v0, v34

    .line 19183
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2, v0}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 19184
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    aget v5, v2, v1

    aget v2, v2, v3

    .line 19185
    invoke-static {v5, v2}, Ljava/lang/Math;->min(FF)F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v5, v3, v36

    aget v3, v3, v35

    invoke-static {v5, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    invoke-static {v2, v3}, Ljava/lang/Math;->min(FF)F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v5, 0x1

    aget v6, v3, v5

    const/4 v5, 0x3

    aget v3, v3, v5

    .line 19186
    invoke-static {v6, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v6, v5, v23

    aget v5, v5, v34

    invoke-static {v6, v5}, Ljava/lang/Math;->min(FF)F

    move-result v5

    invoke-static {v3, v5}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    aget v6, v5, v1

    const/4 v7, 0x2

    aget v5, v5, v7

    .line 19187
    invoke-static {v6, v5}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v7, v6, v36

    aget v6, v6, v35

    invoke-static {v7, v6}, Ljava/lang/Math;->max(FF)F

    move-result v6

    invoke-static {v5, v6}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v7, 0x1

    aget v11, v6, v7

    const/4 v12, 0x3

    aget v6, v6, v12

    .line 19188
    invoke-static {v11, v6}, Ljava/lang/Math;->max(FF)F

    move-result v6

    iget-object v11, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v12, v11, v23

    aget v11, v11, v34

    invoke-static {v12, v11}, Ljava/lang/Math;->max(FF)F

    move-result v11

    invoke-static {v6, v11}, Ljava/lang/Math;->max(FF)F

    move-result v6

    .line 19184
    invoke-virtual {v0, v2, v3, v5, v6}, Landroid/graphics/RectF;->set(FFFF)V

    .line 19190
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v7

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    invoke-virtual {v2, v3}, Landroid/graphics/RectF;->intersect(Landroid/graphics/RectF;)Z

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v7

    goto :goto_30

    :cond_5e
    const/high16 v7, 0x3f800000    # 1.0f

    .line 19194
    :goto_30
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-nez v0, :cond_5f

    .line 19196
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v0

    :cond_5f
    if-eqz v0, :cond_5c

    move-object/from16 v11, p2

    .line 19199
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19200
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v3, v43, v27

    mul-float/2addr v3, v7

    mul-float v3, v3, v33

    float-to-int v3, v3

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19201
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, v3, v26

    div-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v3, v5

    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v2, v4

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v2, v3

    neg-float v5, v13

    div-float/2addr v5, v3

    .line 19202
    invoke-virtual {v10, v2, v5}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v2, 0x3f800000    # 1.0f

    mul-float/2addr v4, v2

    .line 19203
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v4, v3

    mul-float/2addr v13, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v13, v2

    invoke-virtual {v10, v4, v13}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v2, 0x0

    if-eqz p5, :cond_60

    float-to-int v3, v2

    .line 19206
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    sub-int/2addr v4, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    sub-int/2addr v5, v3

    invoke-virtual {v10, v3, v3, v4, v5}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19208
    :cond_60
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0, v2, v2, v3}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    :goto_31
    if-eqz v8, :cond_61

    .line 19212
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_61
    const/4 v8, 0x1

    goto :goto_32

    :cond_62
    move-object/from16 v11, p2

    .line 19216
    :goto_32
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :goto_33
    if-nez v8, :cond_66

    .line 19218
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-nez v0, :cond_66

    .line 19219
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19220
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_63

    .line 19221
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v0

    const/4 v2, 0x2

    div-int/2addr v0, v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    div-int/2addr v3, v2

    sub-int/2addr v0, v3

    int-to-float v0, v0

    const/4 v2, 0x0

    invoke-virtual {v10, v0, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19223
    :cond_63
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getX()F

    move-result v0

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    invoke-virtual {v10, v0, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19224
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v0

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v3}, Landroid/view/View;->getPivotX()F

    move-result v3

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getPivotY()F

    move-result v4

    invoke-virtual {v10, v0, v2, v3, v4}, Landroid/graphics/Canvas;->scale(FFFF)V

    .line 19227
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/ClippingImageView;->getBitmapHolder()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_65

    .line 19229
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19230
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19231
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v6, v33, v27

    float-to-int v3, v6

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19232
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v2

    int-to-float v2, v2

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v2, v4

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getHeight()I

    move-result v4

    int-to-float v4, v4

    mul-float/2addr v4, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v4, v3

    invoke-virtual {v10, v2, v4}, Landroid/graphics/Canvas;->scale(FF)V

    .line 19233
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, v3, v26

    div-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v3, v4

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    int-to-float v6, v6

    div-float/2addr v6, v5

    invoke-virtual {v10, v2, v3, v4, v6}, Landroid/graphics/Canvas;->scale(FFFF)V

    .line 19234
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v10, v0, v3, v3, v2}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    if-eqz p5, :cond_64

    float-to-int v2, v3

    .line 19237
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    sub-int/2addr v3, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v0

    sub-int/2addr v0, v2

    invoke-virtual {v10, v2, v2, v3, v0}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19239
    :cond_64
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 19242
    :cond_65
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 19246
    :cond_66
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    move-object/from16 v8, v39

    if-ne v8, v0, :cond_6f

    if-eqz p7, :cond_67

    .line 19247
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v12, 0x0

    aget-object v0, v0, v12

    const/4 v1, 0x1

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    move-result v7

    move v13, v7

    goto :goto_34

    :cond_67
    const/4 v12, 0x0

    const/high16 v13, 0x3f800000    # 1.0f

    :goto_34
    if-eqz v8, :cond_6f

    .line 19248
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v0

    if-eqz v0, :cond_6f

    .line 19249
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19250
    div-int/lit8 v5, v38, 0x2

    int-to-float v0, v5

    div-int/lit8 v4, v32, 0x2

    int-to-float v1, v4

    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v2, v38

    int-to-float v14, v2

    .line 19251
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    add-float/2addr v0, v1

    mul-float/2addr v0, v14

    invoke-static/range {v25 .. v25}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    neg-float v0, v0

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    add-float v0, v0, v20

    const/4 v6, 0x0

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19252
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v15

    .line 19253
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v7

    .line 19254
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    if-nez v0, :cond_68

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_68

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_68

    .line 19255
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v3, v32

    move-object/from16 v16, v4

    move v4, v15

    move-object/from16 v18, v5

    move v5, v7

    move v12, v6

    move/from16 v6, v22

    move/from16 p7, v13

    move/from16 v12, v33

    move v13, v7

    move-object/from16 v7, v18

    move/from16 v36, v12

    move-object v12, v8

    move-object/from16 v8, v16

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_35

    :cond_68
    move-object v12, v8

    move/from16 p7, v13

    move/from16 v36, v33

    move v13, v7

    :goto_35
    int-to-float v0, v15

    div-float/2addr v14, v0

    move/from16 v1, v32

    int-to-float v1, v1

    int-to-float v2, v13

    div-float/2addr v1, v2

    .line 19259
    invoke-static {v14, v1}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float/2addr v0, v1

    float-to-int v0, v0

    mul-float/2addr v2, v1

    float-to-int v1, v2

    .line 19264
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_6b

    .line 19265
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_6a

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v3, :cond_69

    goto :goto_36

    .line 19268
    :cond_69
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_6b

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_6b

    const/4 v14, 0x1

    goto :goto_37

    .line 19266
    :cond_6a
    :goto_36
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v14

    goto :goto_37

    :cond_6b
    const/4 v14, 0x0

    :goto_37
    if-eqz v14, :cond_6c

    const/high16 v2, -0x40800000    # -1.0f

    const/high16 v3, 0x3f800000    # 1.0f

    .line 19272
    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 19275
    :cond_6c
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v2, v12}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_6e

    .line 19278
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19279
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v6, v36, v27

    mul-float v6, v6, p7

    float-to-int v4, v6

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19280
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v3, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v3, v0

    const/4 v4, 0x2

    .line 19281
    div-int/2addr v3, v4

    int-to-float v3, v3

    neg-int v5, v1

    div-int/2addr v5, v4

    int-to-float v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->translate(FF)V

    int-to-float v0, v0

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float/2addr v0, v3

    .line 19282
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v0, v4

    int-to-float v1, v1

    mul-float/2addr v1, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v1, v3

    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v0, 0x0

    if-eqz p5, :cond_6d

    float-to-int v1, v0

    .line 19285
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    sub-int/2addr v3, v1

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    sub-int/2addr v4, v1

    invoke-virtual {v10, v1, v1, v3, v4}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19287
    :cond_6d
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v2, v0, v0, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 19290
    :cond_6e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_38

    :cond_6f
    move/from16 v36, v33

    :goto_38
    move/from16 v0, v37

    .line 19294
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->restoreToCount(I)V

    move/from16 v0, p4

    if-eqz v0, :cond_70

    .line 19297
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 19298
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    move/from16 v7, v36

    const v2, 0x3f333333    # 0.7f

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-static {v2, v3, v7}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float/2addr v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19299
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    :cond_70
    return-void

    :cond_71
    :goto_39
    move v2, v4

    move v7, v6

    move v0, v12

    .line 18762
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v3, 0x0

    const/4 v4, 0x1

    invoke-virtual {v1, v3, v4}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    if-eqz v0, :cond_73

    .line 18764
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18765
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz p6, :cond_72

    goto :goto_3a

    :cond_72
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_3a
    invoke-static {v2, v3, v7}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float/2addr v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18766
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    :cond_73
    return-void
.end method

.method private drawCenterImageInternal(Landroid/graphics/Canvas;FF)V
    .locals 5

    .line 17266
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-nez v0, :cond_2

    .line 17267
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v0, v2, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_0

    goto :goto_0

    .line 17270
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_2

    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v0, :cond_2

    move v0, v2

    goto :goto_1

    .line 17268
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v0

    goto :goto_1

    :cond_2
    move v0, v1

    :goto_1
    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz v0, :cond_3

    .line 17275
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, -0x40800000    # -1.0f

    .line 17276
    invoke-virtual {p1, v0, v3}, Landroid/graphics/Canvas;->scale(FF)V

    move v1, v2

    :cond_3
    const/4 v0, 0x0

    cmpl-float v4, p2, v0

    if-lez v4, :cond_5

    if-nez v1, :cond_4

    .line 17281
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    goto :goto_2

    :cond_4
    move v2, v1

    :goto_2
    const/high16 v1, 0x40000000    # 2.0f

    mul-float/2addr v1, p2

    sub-float v1, v3, v1

    .line 17284
    invoke-virtual {p1, v1, v3}, Landroid/graphics/Canvas;->scale(FF)V

    const/high16 v1, 0x40800000    # 4.0f

    mul-float/2addr v1, p2

    sub-float/2addr v3, p2

    mul-float/2addr v1, v3

    const/high16 p2, 0x3e800000    # 0.25f

    mul-float/2addr v1, p2

    .line 17285
    invoke-virtual {p1, v0, v1}, Landroid/graphics/Canvas;->skew(FF)V

    move v1, v2

    .line 17287
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p2, :cond_6

    invoke-virtual {p2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isLoaded()Z

    move-result p2

    if-nez p2, :cond_7

    .line 17288
    :cond_6
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 17289
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p2, p1}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    :cond_7
    if-eqz v1, :cond_8

    .line 17292
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_8
    return-void
.end method

.method private drawFancyShadows(Landroid/graphics/Canvas;)V
    .locals 29

    move-object/from16 v8, p0

    move-object/from16 v9, p1

    .line 17216
    iget-boolean v0, v8, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-nez v0, :cond_0

    return-void

    .line 17219
    :cond_0
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/high16 v10, 0x3f800000    # 1.0f

    const/4 v3, 0x2

    if-nez v0, :cond_1

    move v0, v10

    goto :goto_2

    :cond_1
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    iget v4, v8, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v4, :cond_3

    if-eq v4, v3, :cond_3

    const/4 v5, 0x3

    if-ne v4, v5, :cond_2

    goto :goto_0

    :cond_2
    move v4, v1

    goto :goto_1

    :cond_3
    :goto_0
    move v4, v2

    :goto_1
    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v0

    :goto_2
    const/4 v11, 0x0

    cmpg-float v4, v0, v11

    if-gtz v4, :cond_4

    return-void

    .line 17224
    :cond_4
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    int-to-float v4, v4

    const/high16 v5, 0x3fc00000    # 1.5f

    mul-float/2addr v4, v5

    float-to-int v4, v4

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v5

    add-int v7, v4, v5

    .line 17225
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v5

    add-int/2addr v4, v5

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v5

    if-nez v5, :cond_5

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeightClosedKeyboard()I

    move-result v1

    div-int/2addr v1, v3

    const/16 v5, 0x14

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    add-int/2addr v1, v5

    :cond_5
    add-int v12, v4, v1

    .line 17227
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    if-nez v1, :cond_6

    .line 17228
    new-instance v1, Landroid/graphics/Path;

    invoke-direct {v1}, Landroid/graphics/Path;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    .line 17229
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v2}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    .line 17230
    new-instance v4, Landroid/graphics/PorterDuffXfermode;

    sget-object v5, Landroid/graphics/PorterDuff$Mode;->DST_IN:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v4, v5}, Landroid/graphics/PorterDuffXfermode;-><init>(Landroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v4}, Landroid/graphics/Paint;->setXfermode(Landroid/graphics/Xfermode;)Landroid/graphics/Xfermode;

    .line 17231
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v2}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    .line 17232
    new-instance v2, Landroid/graphics/PorterDuffXfermode;

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->DST_IN:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v4}, Landroid/graphics/PorterDuffXfermode;-><init>(Landroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setXfermode(Landroid/graphics/Xfermode;)Landroid/graphics/Xfermode;

    .line 17233
    new-instance v1, Landroid/graphics/LinearGradient;

    const/4 v14, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x0

    const/high16 v17, 0x41800000    # 16.0f

    new-array v2, v3, [I

    fill-array-data v2, :array_0

    new-array v4, v3, [F

    fill-array-data v4, :array_1

    sget-object v20, Landroid/graphics/Shader$TileMode;->CLAMP:Landroid/graphics/Shader$TileMode;

    move-object v13, v1

    move-object/from16 v18, v2

    move-object/from16 v19, v4

    invoke-direct/range {v13 .. v20}, Landroid/graphics/LinearGradient;-><init>(FFFF[I[FLandroid/graphics/Shader$TileMode;)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    .line 17234
    new-instance v1, Landroid/graphics/LinearGradient;

    const/16 v22, 0x0

    const/16 v23, 0x0

    const/16 v24, 0x0

    const/high16 v25, 0x41800000    # 16.0f

    new-array v2, v3, [I

    fill-array-data v2, :array_2

    new-array v3, v3, [F

    fill-array-data v3, :array_3

    sget-object v28, Landroid/graphics/Shader$TileMode;->CLAMP:Landroid/graphics/Shader$TileMode;

    move-object/from16 v21, v1

    move-object/from16 v26, v2

    move-object/from16 v27, v3

    invoke-direct/range {v21 .. v28}, Landroid/graphics/LinearGradient;-><init>(FFFF[I[FLandroid/graphics/Shader$TileMode;)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    .line 17235
    new-instance v1, Landroid/graphics/Matrix;

    invoke-direct {v1}, Landroid/graphics/Matrix;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    .line 17236
    new-instance v1, Landroid/graphics/Matrix;

    invoke-direct {v1}, Landroid/graphics/Matrix;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    .line 17237
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 17238
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    :cond_6
    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 17241
    iget-object v3, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v3

    int-to-float v3, v3

    iget-object v4, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v4

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v4, v5

    int-to-float v4, v4

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    invoke-virtual {v5}, Landroid/graphics/drawable/ColorDrawable;->getAlpha()I

    move-result v5

    add-int/lit8 v5, v5, -0x7f

    int-to-float v5, v5

    mul-float/2addr v0, v5

    const v5, 0x40008102

    mul-float/2addr v0, v5

    float-to-int v5, v0

    const/16 v6, 0x1f

    move-object/from16 v0, p1

    invoke-virtual/range {v0 .. v6}, Landroid/graphics/Canvas;->saveLayerAlpha(FFFFII)I

    .line 17242
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    invoke-virtual {v0}, Landroid/graphics/Path;->rewind()V

    .line 17243
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    const/4 v3, 0x0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v4, v0

    int-to-float v13, v7

    sget-object v6, Landroid/graphics/Path$Direction;->CW:Landroid/graphics/Path$Direction;

    move v5, v13

    invoke-virtual/range {v1 .. v6}, Landroid/graphics/Path;->addRect(FFFFLandroid/graphics/Path$Direction;)V

    .line 17244
    iget-object v14, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    const/4 v15, 0x0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v1, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v1

    sub-int/2addr v0, v12

    int-to-float v0, v0

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v1

    int-to-float v1, v1

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v2

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v2, v3

    int-to-float v2, v2

    sget-object v19, Landroid/graphics/Path$Direction;->CW:Landroid/graphics/Path$Direction;

    move/from16 v16, v0

    move/from16 v17, v1

    move/from16 v18, v2

    invoke-virtual/range {v14 .. v19}, Landroid/graphics/Path;->addRect(FFFFLandroid/graphics/Path$Direction;)V

    .line 17245
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    invoke-virtual {v9, v0}, Landroid/graphics/Canvas;->clipPath(Landroid/graphics/Path;)Z

    const/high16 v0, -0x1000000

    .line 17246
    invoke-virtual {v9, v0}, Landroid/graphics/Canvas;->drawColor(I)V

    .line 17247
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x1

    const/4 v6, 0x1

    const/4 v7, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V

    .line 17248
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 17249
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    .line 17250
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    const/high16 v6, 0x41800000    # 16.0f

    div-float v1, v13, v6

    invoke-virtual {v0, v10, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 17251
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v1}, Landroid/graphics/LinearGradient;->setLocalMatrix(Landroid/graphics/Matrix;)V

    .line 17252
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    const/16 v1, 0xd0

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 17253
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v3, v0

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    move-object/from16 v0, p1

    move v4, v13

    invoke-virtual/range {v0 .. v5}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    .line 17254
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    .line 17255
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    int-to-float v1, v12

    div-float/2addr v1, v6

    invoke-virtual {v0, v10, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 17256
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v1

    sub-int/2addr v1, v12

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v1, v2

    int-to-float v1, v1

    invoke-virtual {v0, v11, v1}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 17257
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v1}, Landroid/graphics/LinearGradient;->setLocalMatrix(Landroid/graphics/Matrix;)V

    .line 17258
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    const/16 v1, 0xbb

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    const/4 v1, 0x0

    .line 17259
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v2

    sub-int/2addr v0, v12

    int-to-float v2, v0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v3, v0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v4

    int-to-float v4, v0

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    move-object/from16 v0, p1

    invoke-virtual/range {v0 .. v5}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    .line 17260
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 17261
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    return-void

    nop

    :array_0
    .array-data 4
        -0x1000000
        0x0
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        -0x1000000
    .end array-data

    :array_3
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private drawProgress(Landroid/graphics/Canvas;FFFF)V
    .locals 8

    .line 17298
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_3

    .line 17299
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->isDragging()Z

    move-result v0

    if-nez v0, :cond_2

    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v1, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    if-eqz v0, :cond_2

    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-nez v0, :cond_2

    goto :goto_0

    :cond_2
    move v0, v2

    goto :goto_1

    :cond_3
    :goto_0
    move v0, v1

    .line 17303
    :goto_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    if-eqz v3, :cond_5

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz v3, :cond_4

    goto :goto_2

    :cond_4
    move v1, v2

    :cond_5
    :goto_2
    if-eqz v0, :cond_c

    .line 17305
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v3, 0x0

    if-nez v0, :cond_6

    neg-float v0, p2

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v0, v0, v4

    if-lez v0, :cond_6

    add-float/2addr v4, p2

    goto :goto_3

    :cond_6
    move v4, v3

    :goto_3
    const/high16 v0, 0x3f800000    # 1.0f

    cmpl-float v5, p3, v0

    if-nez v5, :cond_7

    move v3, p4

    :cond_7
    if-eqz v1, :cond_8

    .line 17309
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v5}, Landroid/view/View;->getAlpha()F

    move-result v5

    sub-float v5, v0, v5

    mul-float/2addr v5, p5

    goto :goto_4

    :cond_8
    move v5, p5

    .line 17311
    :goto_4
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-eqz v6, :cond_9

    .line 17312
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v6

    mul-float/2addr v5, v6

    goto :goto_5

    .line 17313
    :cond_9
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v6, v6, v2

    invoke-static {v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v6

    const/4 v7, 0x4

    if-ne v6, v7, :cond_a

    const/high16 v6, 0x41000000    # 8.0f

    .line 17314
    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v7

    sub-float v7, v0, v7

    mul-float/2addr v6, v7

    add-float/2addr v3, v6

    .line 17316
    :cond_a
    :goto_5
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    .line 17317
    invoke-virtual {p1, v4, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17318
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v2

    invoke-virtual {v3, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 17319
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, v5}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 17320
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 17322
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_b

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v0, :cond_b

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v2

    invoke-virtual {v0}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_b

    .line 17323
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v0, v2

    aget-object v0, v0, v2

    invoke-virtual {v0}, Landroid/widget/ImageView;->getAlpha()F

    move-result v0

    invoke-static {v0, p5}, Ljava/lang/Math;->min(FF)F

    move-result p5

    invoke-virtual {v3, p5}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 17326
    :cond_b
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_c
    if-eqz v1, :cond_d

    .line 17328
    iget-boolean p5, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez p5, :cond_d

    .line 17329
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    .line 17330
    iget-object p5, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p5}, Landroid/view/View;->getLeft()I

    move-result p5

    int-to-float p5, p5

    add-float/2addr p5, p2

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p2}, Landroid/view/View;->getTop()I

    move-result p2

    int-to-float p2, p2

    div-float/2addr p4, p3

    add-float/2addr p2, p4

    invoke-virtual {p1, p5, p2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17331
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p2, p1}, Landroid/view/View;->draw(Landroid/graphics/Canvas;)V

    .line 17332
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_d
    return-void
.end method

.method private enableSwipeToPiP()Z
    .locals 1

    const/4 v0, 0x0

    return v0
.end method

.method private fixVideoWidthHeight(II)[I
    .locals 7

    const-string v0, "video/avc"

    const/4 v1, 0x2

    new-array v1, v1, [I

    const/4 v2, 0x0

    aput p1, v1, v2

    const/4 v3, 0x1

    aput p2, v1, v3

    .line 8278
    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v5, 0x15

    if-lt v4, v5, :cond_1

    const/4 v4, 0x0

    .line 8281
    :try_start_0
    invoke-static {v0}, Landroid/media/MediaCodec;->createEncoderByType(Ljava/lang/String;)Landroid/media/MediaCodec;

    move-result-object v4

    .line 8282
    invoke-virtual {v4}, Landroid/media/MediaCodec;->getCodecInfo()Landroid/media/MediaCodecInfo;

    move-result-object v5

    invoke-virtual {v5, v0}, Landroid/media/MediaCodecInfo;->getCapabilitiesForType(Ljava/lang/String;)Landroid/media/MediaCodecInfo$CodecCapabilities;

    move-result-object v0

    .line 8283
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$CodecCapabilities;->getVideoCapabilities()Landroid/media/MediaCodecInfo$VideoCapabilities;

    move-result-object v0

    .line 8284
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$VideoCapabilities;->getSupportedWidths()Landroid/util/Range;

    move-result-object v5

    .line 8285
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$VideoCapabilities;->getSupportedHeights()Landroid/util/Range;

    move-result-object v0

    .line 8286
    invoke-virtual {v5}, Landroid/util/Range;->getLower()Ljava/lang/Comparable;

    move-result-object v5

    check-cast v5, Ljava/lang/Integer;

    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I

    move-result v5

    int-to-float p1, p1

    const/high16 v6, 0x41800000    # 16.0f

    div-float/2addr p1, v6

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result p1

    mul-int/lit8 p1, p1, 0x10

    invoke-static {v5, p1}, Ljava/lang/Math;->max(II)I

    move-result p1

    aput p1, v1, v2

    .line 8287
    invoke-virtual {v0}, Landroid/util/Range;->getLower()Ljava/lang/Comparable;

    move-result-object p1

    check-cast p1, Ljava/lang/Integer;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    int-to-float p2, p2

    div-float/2addr p2, v6

    invoke-static {p2}, Ljava/lang/Math;->round(F)I

    move-result p2

    mul-int/lit8 p2, p2, 0x10

    invoke-static {p1, p2}, Ljava/lang/Math;->max(II)I

    move-result p1

    aput p1, v1, v3
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 8293
    :goto_0
    :try_start_1
    invoke-virtual {v4}, Landroid/media/MediaCodec;->release()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_2

    goto :goto_1

    :catchall_0
    move-exception p1

    if-eqz v4, :cond_0

    :try_start_2
    invoke-virtual {v4}, Landroid/media/MediaCodec;->release()V
    :try_end_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_0

    .line 8298
    :catch_0
    :cond_0
    throw p1

    :catch_1
    if-eqz v4, :cond_1

    goto :goto_0

    :catch_2
    :cond_1
    :goto_1
    return-object v1
.end method

.method private format(II)Ljava/lang/String;
    .locals 5

    const/4 v0, 0x5

    new-array v0, v0, [C

    const/16 v1, 0x63

    const/16 v2, 0x64

    if-lt p1, v2, :cond_0

    move v3, v1

    goto :goto_0

    :cond_0
    move v3, p1

    .line 8579
    :goto_0
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    const/4 v4, 0x0

    aput-char v3, v0, v4

    const/4 v3, 0x1

    if-lt p1, v2, :cond_1

    move p1, v1

    .line 8580
    :cond_1
    rem-int/lit8 p1, p1, 0xa

    add-int/lit8 p1, p1, 0x30

    int-to-char p1, p1

    aput-char p1, v0, v3

    const/4 p1, 0x2

    const/16 v3, 0x3a

    aput-char v3, v0, p1

    const/4 p1, 0x3

    if-lt p2, v2, :cond_2

    move v3, v1

    goto :goto_1

    :cond_2
    move v3, p2

    .line 8582
    :goto_1
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    aput-char v3, v0, p1

    const/4 p1, 0x4

    if-lt p2, v2, :cond_3

    move p2, v1

    .line 8583
    :cond_3
    rem-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    .line 8584
    new-instance p1, Ljava/lang/String;

    invoke-direct {p1, v0}, Ljava/lang/String;-><init>([C)V

    return-object p1
.end method

.method private format(III)Ljava/lang/String;
    .locals 5

    const/16 v0, 0x8

    new-array v0, v0, [C

    const/16 v1, 0x63

    const/16 v2, 0x64

    if-lt p1, v2, :cond_0

    move v3, v1

    goto :goto_0

    :cond_0
    move v3, p1

    .line 8566
    :goto_0
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    const/4 v4, 0x0

    aput-char v3, v0, v4

    const/4 v3, 0x1

    if-lt p1, v2, :cond_1

    move p1, v1

    .line 8567
    :cond_1
    rem-int/lit8 p1, p1, 0xa

    add-int/lit8 p1, p1, 0x30

    int-to-char p1, p1

    aput-char p1, v0, v3

    const/4 p1, 0x2

    const/16 v3, 0x3a

    aput-char v3, v0, p1

    const/4 p1, 0x3

    if-lt p2, v2, :cond_2

    move v4, v1

    goto :goto_1

    :cond_2
    move v4, p2

    .line 8569
    :goto_1
    div-int/lit8 v4, v4, 0xa

    add-int/lit8 v4, v4, 0x30

    int-to-char v4, v4

    aput-char v4, v0, p1

    const/4 p1, 0x4

    if-lt p2, v2, :cond_3

    move p2, v1

    .line 8570
    :cond_3
    rem-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    const/4 p1, 0x5

    aput-char v3, v0, p1

    const/4 p1, 0x6

    if-lt p3, v2, :cond_4

    move p2, v1

    goto :goto_2

    :cond_4
    move p2, p3

    .line 8572
    :goto_2
    div-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    const/4 p1, 0x7

    if-lt p3, v2, :cond_5

    move p3, v1

    .line 8573
    :cond_5
    rem-int/lit8 p3, p3, 0xa

    add-int/lit8 p3, p3, 0x30

    int-to-char p2, p3

    aput-char p2, v0, p1

    .line 8574
    new-instance p1, Ljava/lang/String;

    invoke-direct {p1, v0}, Ljava/lang/String;-><init>([C)V

    return-object p1
.end method

.method private forwardCloud()V
    .locals 4

    .line 517
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    return-void

    .line 520
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast v1, Lorg/telegram/ui/LaunchActivity;

    .line 521
    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/ui/LaunchActivity;->switchToAccount(IZ)V

    .line 523
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 524
    new-instance v1, Lorg/telegram/ui/PhotoViewer$1;

    invoke-direct {v1, p0, v0}, Lorg/telegram/ui/PhotoViewer$1;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)V

    .line 535
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->isCloudAlbumsEnabled:Z

    if-eqz v0, :cond_1

    .line 536
    new-instance v0, Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v2

    invoke-direct {v0, v2, v1}, Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet;-><init>(Lorg/telegram/ui/ActionBar/BaseFragment;Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet$Delegate;)V

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showDialog(Landroid/app/Dialog;)V

    goto :goto_0

    .line 538
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/messenger/UserConfig;->getClientUserId()J

    move-result-wide v2

    invoke-interface {v1, v2, v3}, Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet$Delegate;->didSelectCloudDialog(J)V

    :goto_0
    return-void
.end method

.method private getAdditionX()I
    .locals 3

    .line 15931
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2

    if-nez v0, :cond_0

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v1, :cond_0

    goto :goto_0

    :cond_0
    if-eqz v0, :cond_1

    const/4 v1, 0x3

    if-eq v0, v1, :cond_1

    const/16 v0, 0xe

    .line 15934
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    return v0

    :cond_1
    const/4 v0, 0x0

    return v0

    :cond_2
    :goto_0
    const/16 v0, 0x10

    .line 15932
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    return v0
.end method

.method private getAdditionY()I
    .locals 4

    .line 15940
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eq v0, v1, :cond_5

    if-nez v0, :cond_0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v1, :cond_0

    goto :goto_0

    :cond_0
    const/4 v1, 0x3

    if-ne v0, v1, :cond_2

    const/16 v0, 0x8

    .line 15943
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_1

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_1
    add-int/2addr v0, v2

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v1

    add-int/2addr v0, v1

    return v0

    :cond_2
    if-eqz v0, :cond_4

    const/16 v0, 0xe

    .line 15945
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_3

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_3
    add-int/2addr v0, v2

    return v0

    :cond_4
    return v2

    :cond_5
    :goto_0
    const/16 v0, 0x10

    .line 15941
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_6

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_6
    add-int/2addr v0, v2

    return v0
.end method

.method private getAnimatedMediaEntitiesCount(Z)I
    .locals 6

    .line 9655
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    const/4 v1, 0x0

    if-eqz v0, :cond_4

    .line 9656
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    move v2, v1

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9657
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9658
    iget-byte v4, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v4, :cond_0

    iget-byte v4, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v5, v4, 0x1

    if-nez v5, :cond_1

    and-int/lit8 v4, v4, 0x4

    if-nez v4, :cond_1

    :cond_0
    iget-object v3, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->entities:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_2

    :cond_1
    add-int/lit8 v2, v2, 0x1

    if-eqz p1, :cond_2

    goto :goto_1

    :cond_2
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    :goto_1
    move v1, v2

    :cond_4
    return v1
.end method

.method private getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;
    .locals 5

    .line 15705
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isTablet()Z

    move-result v0

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-nez v0, :cond_0

    if-eqz p1, :cond_0

    iget-object v0, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_0

    move v0, v2

    goto :goto_0

    :cond_0
    move v0, v1

    :goto_0
    add-int/lit8 v3, v0, 0x1

    .line 15706
    new-array v3, v3, [Lorg/telegram/ui/Components/ClippingImageView;

    .line 15707
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    aput-object v4, v3, v1

    if-eqz v0, :cond_1

    .line 15709
    iget-object v0, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    aput-object v0, v3, v2

    .line 15710
    iget p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageViewYOffset:I

    int-to-float p1, p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/ClippingImageView;->setAdditionalTranslationY(F)V

    :cond_1
    return-object v3
.end method

.method private getContainerViewHeight()I
    .locals 1

    .line 15965
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v0

    return v0
.end method

.method private getContainerViewHeight(I)I
    .locals 1

    const/4 v0, 0x0

    .line 15969
    invoke-direct {p0, v0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result p1

    return p1
.end method

.method private getContainerViewHeight(ZI)I
    .locals 2

    const/4 v0, 0x1

    if-nez p1, :cond_1

    .line 15974
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-eqz p1, :cond_0

    goto :goto_0

    .line 15977
    :cond_0
    sget-object p1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget p1, p1, Landroid/graphics/Point;->y:I

    if-nez p2, :cond_2

    .line 15978
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 15979
    sget v1, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr p1, v1

    goto :goto_1

    .line 15975
    :cond_1
    :goto_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result p1

    :cond_2
    :goto_1
    if-nez p2, :cond_3

    .line 15982
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_4

    :cond_3
    if-ne p2, v0, :cond_5

    :cond_4
    const/16 p2, 0x90

    .line 15983
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p2

    :goto_2
    sub-int/2addr p1, p2

    goto :goto_3

    :cond_5
    const/4 v0, 0x2

    if-ne p2, v0, :cond_6

    const/16 p2, 0xd6

    .line 15985
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p2

    goto :goto_2

    :cond_6
    const/4 v0, 0x3

    if-ne p2, v0, :cond_7

    const/16 p2, 0x30

    .line 15987
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v0

    add-int/2addr p2, v0

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v0

    add-int/2addr p2, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v0

    add-int/2addr p2, v0

    goto :goto_2

    :cond_7
    :goto_3
    return p1
.end method

.method private getContainerViewWidth()I
    .locals 1

    .line 15951
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v0

    return v0
.end method

.method private getContainerViewWidth(I)I
    .locals 3

    .line 15955
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    const/4 v1, 0x1

    if-eq p1, v1, :cond_1

    if-nez p1, :cond_0

    .line 15956
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v1, :cond_0

    goto :goto_0

    :cond_0
    if-eqz p1, :cond_2

    const/4 v1, 0x3

    if-eq p1, v1, :cond_2

    const/16 p1, 0x1c

    .line 15959
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p1

    goto :goto_1

    :cond_1
    :goto_0
    const/16 p1, 0x20

    .line 15957
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p1

    :goto_1
    sub-int/2addr v0, p1

    :cond_2
    return v0
.end method

.method private getCropFillScale(Z)F
    .locals 4

    .line 16476
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz p1, :cond_0

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v0

    goto :goto_0

    :cond_0
    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    :goto_0
    if-eqz p1, :cond_1

    .line 16477
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result p1

    goto :goto_1

    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result p1

    .line 16478
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_2

    sget v1, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_2

    :cond_2
    const/4 v1, 0x0

    :goto_2
    int-to-float v1, v1

    .line 16479
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    int-to-float v2, v2

    const/16 v3, 0x40

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v2, v3

    sub-float/2addr v2, v1

    .line 16480
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-static {v1, v2}, Ljava/lang/Math;->min(FF)F

    move-result v1

    const/16 v2, 0x10

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    mul-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    int-to-float v0, v0

    div-float v0, v1, v0

    int-to-float p1, p1

    div-float/2addr v1, p1

    .line 16481
    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result p1

    return p1
.end method

.method private getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;
    .locals 17

    move-object/from16 v0, p0

    .line 8309
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/16 v2, 0x10e

    const/16 v3, 0x5a

    const/high16 v4, 0x447a0000    # 1000.0f

    const/4 v5, -0x1

    const/4 v6, 0x0

    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x1

    if-nez v1, :cond_b

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    if-lez v1, :cond_b

    .line 8310
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v10, :cond_0

    const/high16 v1, 0x44480000    # 800.0f

    goto :goto_0

    :cond_0
    const v1, 0x44558000    # 854.0f

    .line 8311
    :goto_0
    new-instance v11, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v11}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    .line 8312
    iput-wide v7, v11, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    long-to-float v12, v7

    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    const-wide/16 v12, 0xbb8

    .line 8313
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-wide v14, v14, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    invoke-static {v12, v13, v14, v15}, Ljava/lang/Math;->min(JJ)J

    move-result-wide v12

    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 8314
    :goto_1
    iget-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    cmp-long v14, v12, v7

    if-lez v14, :cond_1

    const-wide/16 v14, 0x3e8

    cmp-long v14, v12, v14

    if-gez v14, :cond_1

    const-wide/16 v14, 0x2

    mul-long/2addr v12, v14

    .line 8315
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    goto :goto_1

    :cond_1
    long-to-float v12, v12

    .line 8317
    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 8318
    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    .line 8319
    iput v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8320
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 8321
    iget-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    long-to-float v6, v12

    div-float/2addr v6, v4

    const/high16 v4, 0x47e10000    # 115200.0f

    mul-float/2addr v6, v4

    float-to-int v4, v6

    int-to-long v14, v4

    iput-wide v14, v11, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    .line 8322
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->estimatedDuration:J

    const/16 v4, 0x1e

    .line 8323
    iput v4, v11, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 8324
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 8325
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->filterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 8326
    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v6, :cond_3

    .line 8327
    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8328
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_2

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_2

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    :cond_2
    iput-object v9, v11, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_2

    .line 8330
    :cond_3
    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8331
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v4, v11, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    .line 8333
    :goto_2
    iput-boolean v10, v11, Lorg/telegram/messenger/VideoEditedInfo;->isPhoto:Z

    .line 8334
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v4

    .line 8335
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v6}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v6

    .line 8336
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v9, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v9, :cond_6

    .line 8337
    iget v12, v9, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v12, v3, :cond_4

    if-ne v12, v2, :cond_5

    :cond_4
    move/from16 v16, v6

    move v6, v4

    move/from16 v4, v16

    :cond_5
    int-to-float v2, v4

    .line 8342
    iget v3, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v2, v3

    float-to-int v4, v2

    int-to-float v2, v6

    .line 8343
    iget v3, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v2, v3

    float-to-int v6, v2

    .line 8345
    :cond_6
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_7

    move v4, v6

    :cond_7
    int-to-float v2, v4

    div-float v3, v2, v1

    int-to-float v4, v6

    div-float v1, v4, v1

    .line 8348
    invoke-static {v3, v1}, Ljava/lang/Math;->max(FF)F

    move-result v1

    const/high16 v3, 0x3f800000    # 1.0f

    cmpg-float v6, v1, v3

    if-gez v6, :cond_8

    move v1, v3

    :cond_8
    div-float/2addr v2, v1

    float-to-int v2, v2

    div-float/2addr v4, v1

    float-to-int v1, v4

    .line 8354
    rem-int/lit8 v3, v2, 0x10

    const/high16 v4, 0x41800000    # 16.0f

    if-eqz v3, :cond_9

    int-to-float v2, v2

    div-float/2addr v2, v4

    .line 8355
    invoke-static {v2}, Ljava/lang/Math;->round(F)I

    move-result v2

    invoke-static {v10, v2}, Ljava/lang/Math;->max(II)I

    move-result v2

    mul-int/lit8 v2, v2, 0x10

    .line 8357
    :cond_9
    rem-int/lit8 v3, v1, 0x10

    if-eqz v3, :cond_a

    int-to-float v1, v1

    div-float/2addr v1, v4

    .line 8358
    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    invoke-static {v10, v1}, Ljava/lang/Math;->max(II)I

    move-result v1

    mul-int/lit8 v1, v1, 0x10

    .line 8360
    :cond_a
    iput v2, v11, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    iput v2, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 8361
    iput v1, v11, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    iput v1, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 8362
    iput v5, v11, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8363
    iput-boolean v10, v11, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    .line 8364
    iput-wide v7, v11, Lorg/telegram/messenger/VideoEditedInfo;->avatarStartTime:J

    return-object v11

    .line 8367
    :cond_b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_23

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    if-eqz v1, :cond_23

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-nez v1, :cond_c

    goto/16 :goto_b

    .line 8370
    :cond_c
    new-instance v1, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v1}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    .line 8371
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    .line 8372
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 8373
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    .line 8374
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 8375
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    .line 8376
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8377
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 8378
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 8379
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8380
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    iput-object v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 8381
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    cmp-long v7, v11, v7

    if-eqz v7, :cond_d

    goto :goto_3

    :cond_d
    const-wide/16 v11, 0x1

    :goto_3
    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    .line 8382
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    iput-wide v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->estimatedDuration:J

    .line 8383
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    iput v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 8384
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v7, v4

    float-to-long v7, v7

    iput-wide v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 8385
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->filterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 8386
    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v7, :cond_f

    .line 8387
    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8388
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_e

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_e

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    :cond_e
    iput-object v9, v1, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_4

    .line 8390
    :cond_f
    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8391
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_10

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_10

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    :cond_10
    iput-object v9, v1, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    .line 8394
    :goto_4
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v10, :cond_13

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_13

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v4}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v4

    if-eqz v4, :cond_11

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne v4, v7, :cond_13

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v4, v7, :cond_13

    .line 8395
    :cond_11
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 8396
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 8397
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v4, :cond_12

    goto :goto_5

    :cond_12
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    :goto_5
    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    goto :goto_7

    .line 8399
    :cond_13
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_14

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v10, :cond_15

    .line 8400
    :cond_14
    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 8401
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    .line 8403
    :cond_15
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 8404
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 8405
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_17

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v10, :cond_16

    goto :goto_6

    :cond_16
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    :cond_17
    :goto_6
    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8407
    :goto_7
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v4, :cond_1f

    .line 8409
    iget v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    add-int/2addr v5, v4

    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8410
    :goto_8
    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    const/16 v5, 0x168

    if-lt v4, v5, :cond_18

    add-int/lit16 v4, v4, -0x168

    .line 8411
    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    goto :goto_8

    :cond_18
    if-eq v4, v3, :cond_1a

    if-ne v4, v2, :cond_19

    goto :goto_9

    .line 8417
    :cond_19
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8418
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    goto :goto_a

    .line 8414
    :cond_1a
    :goto_9
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8415
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8420
    :goto_a
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_1d

    .line 8421
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    const/16 v4, 0x320

    if-le v3, v4, :cond_1b

    .line 8422
    iput v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8424
    :cond_1b
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    if-le v3, v4, :cond_1c

    .line 8425
    iput v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8427
    :cond_1c
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-static {v3, v4}, Ljava/lang/Math;->min(II)I

    move-result v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8429
    :cond_1d
    sget-boolean v2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    const-string v3, " h = "

    if-eqz v2, :cond_1e

    .line 8430
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "original transformed w = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v4, " r = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->d(Ljava/lang/String;)V

    .line 8432
    :cond_1e
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-direct {v0, v4, v2}, Lorg/telegram/ui/PhotoViewer;->fixVideoWidthHeight(II)[I

    move-result-object v2

    .line 8433
    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    aget v5, v2, v6

    iput v5, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8434
    aget v2, v2, v10

    iput v2, v4, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8435
    sget-boolean v2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    if-eqz v2, :cond_1f

    .line 8436
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "fixed transformed w = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v3, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->d(Ljava/lang/String;)V

    .line 8439
    :cond_1f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_20

    .line 8440
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    iput-wide v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->avatarStartTime:J

    .line 8441
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iput v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalBitrate:I

    .line 8443
    :cond_20
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v2, :cond_21

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_22

    :cond_21
    move v6, v10

    :cond_22
    iput-boolean v6, v1, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    return-object v1

    :cond_23
    :goto_b
    return-object v9
.end method

.method private getCurrentVideoPosition()J
    .locals 2

    .line 1562
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1563
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getCurrentPosition()I

    move-result v0

    int-to-long v0, v0

    return-wide v0

    .line 1565
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    const-wide/16 v0, 0x0

    return-wide v0

    .line 1568
    :cond_1
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    return-wide v0
.end method

.method private getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;
    .locals 8

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11646
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, 0x0

    if-nez v1, :cond_3

    .line 11647
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    :cond_1
    if-eqz p2, :cond_2

    .line 11651
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    iget-object v0, v0, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v0, v0, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    aput-wide v0, p2, v2

    .line 11653
    :cond_2
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLObject;

    return-object p1

    .line 11654
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_7

    .line 11655
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    :cond_4
    if-eqz p2, :cond_5

    .line 11658
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_5

    .line 11659
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    aput-wide v3, p2, v2

    .line 11661
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p2

    if-eqz p2, :cond_6

    .line 11662
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    iget-object p1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    return-object p1

    :cond_6
    return-object v0

    .line 11666
    :cond_7
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_14

    .line 11667
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_8

    return-object v0

    .line 11670
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    .line 11671
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageService;

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    if-eqz v3, :cond_c

    .line 11672
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageActionUserUpdatedPhoto;

    if-eqz v3, :cond_9

    .line 11673
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$MessageAction;->newUserPhoto:Lorg/telegram/tgnet/TLRPC$UserProfilePhoto;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$UserProfilePhoto;->photo_big:Lorg/telegram/tgnet/TLRPC$FileLocation;

    return-object p1

    .line 11675
    :cond_9
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    invoke-static {p1, v1}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p1, :cond_b

    if-eqz p2, :cond_a

    .line 11678
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11679
    aget-wide v0, p2, v2

    cmp-long v0, v0, v4

    if-nez v0, :cond_a

    .line 11680
    aput-wide v6, p2, v2

    :cond_a
    return-object p1

    :cond_b
    if-eqz p2, :cond_14

    .line 11685
    aput-wide v6, p2, v2

    goto/16 :goto_0

    .line 11688
    :cond_c
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaPhoto;

    if-eqz v1, :cond_d

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-nez v1, :cond_e

    :cond_d
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v1, :cond_11

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_11

    .line 11690
    :cond_e
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    const/4 v3, 0x1

    invoke-static {p1, v1, v2, v0, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;IZLorg/telegram/tgnet/TLRPC$PhotoSize;Z)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p1, :cond_10

    if-eqz p2, :cond_f

    .line 11693
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11694
    aget-wide v0, p2, v2

    cmp-long v0, v0, v4

    if-nez v0, :cond_f

    .line 11695
    aput-wide v6, p2, v2

    :cond_f
    return-object p1

    :cond_10
    if-eqz p2, :cond_14

    .line 11700
    aput-wide v6, p2, v2

    goto :goto_0

    .line 11702
    :cond_11
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-eqz v1, :cond_12

    .line 11703
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    return-object p1

    .line 11704
    :cond_12
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_14

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isDocumentHasThumb(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-eqz v1, :cond_14

    .line 11705
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v0, 0x5a

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p2, :cond_13

    .line 11707
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11708
    aget-wide v0, p2, v2

    cmp-long v0, v0, v4

    if-nez v0, :cond_13

    .line 11709
    aput-wide v6, p2, v2

    :cond_13
    return-object p1

    :cond_14
    :goto_0
    return-object v0
.end method

.method public static getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;
    .locals 0

    if-nez p0, :cond_0

    const/4 p0, 0x0

    return-object p0

    .line 13059
    :cond_0
    iget-object p0, p0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    return-object p0
.end method

.method public static getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;
    .locals 1

    if-eqz p0, :cond_1

    .line 13063
    iget p0, p0, Lorg/telegram/messenger/ImageLocation;->imageType:I

    const/4 v0, 0x2

    if-eq p0, v0, :cond_0

    goto :goto_0

    :cond_0
    const-string p0, "mp4"

    return-object p0

    :cond_1
    :goto_0
    const/4 p0, 0x0

    return-object p0
.end method

.method private getFileName(I)Ljava/lang/String;
    .locals 6

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11509
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v2, ".jpg"

    const-string v3, "_"

    if-nez v1, :cond_2

    .line 11510
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    .line 11513
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/SecureDocument;

    .line 11514
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget v1, v1, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->dc_id:I

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v3, p1, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->id:J

    invoke-virtual {v0, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11515
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-eqz v1, :cond_a

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_3

    goto/16 :goto_0

    .line 11536
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_8

    .line 11537
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    .line 11540
    :cond_4
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 11541
    instance-of v1, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_5

    .line 11542
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 11543
    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController$SearchImage;->getAttachName()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11544
    :cond_5
    instance-of v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_9

    .line 11545
    check-cast p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 11546
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_6

    .line 11547
    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getAttachFileName(Lorg/telegram/tgnet/TLObject;)Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11548
    :cond_6
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v1, :cond_7

    .line 11549
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    .line 11550
    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getAttachFileName(Lorg/telegram/tgnet/TLObject;)Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11551
    :cond_7
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v1, :cond_9

    .line 11552
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v1}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v1, "."

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$WebDocument;->mime_type:Ljava/lang/String;

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getMimeTypePart(Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11555
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_9

    .line 11556
    invoke-interface {v1, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFileName(I)Ljava/lang/String;

    move-result-object p1

    return-object p1

    :cond_9
    return-object v0

    .line 11516
    :cond_a
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_e

    .line 11517
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_b

    return-object v0

    .line 11520
    :cond_b
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    .line 11521
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    if-nez v1, :cond_c

    return-object v0

    :cond_c
    if-eqz p1, :cond_d

    if-eq p1, v1, :cond_d

    .line 11526
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v1, v1, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget p1, p1, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string p1, ".mp4"

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11528
    :cond_d
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v0, v1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    invoke-virtual {p1, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v0, v1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v0, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11531
    :cond_e
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_f

    return-object v0

    .line 11534
    :cond_f
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getMessageFileName(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/lang/String;

    move-result-object p1

    return-object p1
.end method

.method private getImageLocation(I[J)Lorg/telegram/messenger/ImageLocation;
    .locals 10

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11565
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, 0x0

    if-nez v1, :cond_3

    .line 11566
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    :cond_1
    if-eqz p2, :cond_2

    .line 11570
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    iget-object v0, v0, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v0, v0, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    aput-wide v0, p2, v2

    .line 11572
    :cond_2
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/SecureDocument;

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForSecureDocument(Lorg/telegram/messenger/SecureDocument;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11573
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_6

    .line 11574
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    :cond_4
    if-eqz p2, :cond_5

    .line 11577
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_5

    .line 11578
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Long;

    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    aput-wide v0, p2, v2

    .line 11580
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    return-object p1

    .line 11581
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_15

    .line 11582
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_7

    return-object v0

    .line 11585
    :cond_7
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    .line 11586
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageService;

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    if-eqz v3, :cond_b

    .line 11587
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageActionUserUpdatedPhoto;

    if-eqz v1, :cond_8

    return-object v0

    .line 11590
    :cond_8
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    invoke-static {v1, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v1, :cond_a

    if-eqz p2, :cond_9

    .line 11593
    iget v0, v1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11594
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_9

    .line 11595
    aput-wide v6, p2, v2

    .line 11598
    :cond_9
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_a
    if-eqz p2, :cond_15

    .line 11600
    aput-wide v6, p2, v2

    goto/16 :goto_0

    .line 11603
    :cond_b
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaPhoto;

    if-eqz v1, :cond_c

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-nez v1, :cond_d

    :cond_c
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v1, :cond_11

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_11

    .line 11604
    :cond_d
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v1

    if-eqz v1, :cond_e

    .line 11605
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11608
    :cond_e
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    const/4 v8, 0x1

    invoke-static {v1, v3, v2, v0, v8}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;IZLorg/telegram/tgnet/TLRPC$PhotoSize;Z)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v1, :cond_10

    if-eqz p2, :cond_f

    .line 11611
    iget v0, v1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11612
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_f

    .line 11613
    aput-wide v6, p2, v2

    .line 11616
    :cond_f
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_10
    if-eqz p2, :cond_15

    .line 11618
    aput-wide v6, p2, v2

    goto :goto_0

    .line 11621
    :cond_11
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-eqz v1, :cond_12

    .line 11622
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;->webPhoto:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {p1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11623
    :cond_12
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_15

    .line 11624
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    .line 11625
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    const/4 v8, 0x5

    if-ne v3, v8, :cond_13

    .line 11626
    invoke-static {v1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11627
    :cond_13
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->isDocumentHasThumb(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result p1

    if-eqz p1, :cond_15

    .line 11628
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v0, 0x5a

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p2, :cond_14

    .line 11630
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11631
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_14

    .line 11632
    aput-wide v6, p2, v2

    .line 11635
    :cond_14
    invoke-static {p1, v1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_15
    :goto_0
    return-object v0
.end method

.method public static getInstance()Lorg/telegram/ui/PhotoViewer;
    .locals 2

    .line 4000
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-nez v0, :cond_1

    .line 4002
    const-class v1, Lorg/telegram/ui/PhotoViewer;

    monitor-enter v1

    .line 4003
    :try_start_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-nez v0, :cond_0

    .line 4005
    new-instance v0, Lorg/telegram/ui/PhotoViewer;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer;-><init>()V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 4007
    :cond_0
    monitor-exit v1

    goto :goto_0

    :catchall_0
    move-exception v0

    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0

    :cond_1
    :goto_0
    return-object v0
.end method

.method private getLeftInset()I
    .locals 1

    .line 7622
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v0, v0, Landroid/graphics/Rect;->left:I

    return v0
.end method

.method public static getPipInstance()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 3996
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method private getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;
    .locals 1

    .line 446
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 447
    invoke-virtual {v0}, Lorg/telegram/ui/LaunchActivity;->getActionBarLayout()Lorg/telegram/ui/ActionBar/INavigationLayout;

    move-result-object v0

    invoke-interface {v0}, Lorg/telegram/ui/ActionBar/INavigationLayout;->getLastFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    return-object v0
.end method

.method private getRightInset()I
    .locals 1

    .line 7626
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v0, v0, Landroid/graphics/Rect;->right:I

    return v0
.end method

.method private getThemedColor(I)I
    .locals 1

    .line 18738
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    if-eqz v0, :cond_0

    .line 18739
    invoke-interface {v0, p1}, Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;->getColor(I)I

    move-result p1

    return p1

    .line 18741
    :cond_0
    invoke-static {p1}, Lorg/telegram/ui/ActionBar/Theme;->getColor(I)I

    move-result p1

    return p1
.end method

.method private getVideoDuration()J
    .locals 2

    .line 1573
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1574
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v0

    int-to-long v0, v0

    return-wide v0

    .line 1576
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    const-wide/16 v0, 0x0

    return-wide v0

    .line 1579
    :cond_1
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    return-wide v0
.end method

.method private goToNext()V
    .locals 4

    .line 16346
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-eqz v0, :cond_0

    .line 16347
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v1

    sub-float/2addr v0, v1

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v0, v1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    const/4 v1, 0x1

    .line 16349
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16350
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v2, v3

    sub-float/2addr v2, v0

    const/16 v0, 0x1e

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    div-int/lit8 v0, v0, 0x2

    int-to-float v0, v0

    sub-float/2addr v2, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v3, 0x0

    invoke-direct {p0, v1, v2, v0, v3}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private goToPrev()V
    .locals 5

    .line 16355
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-eqz v0, :cond_0

    .line 16356
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v1

    sub-float/2addr v0, v1

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v0, v1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    const/4 v1, 0x2

    .line 16358
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16359
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    int-to-float v4, v4

    add-float/2addr v3, v4

    add-float/2addr v3, v0

    const/16 v0, 0x1e

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    div-int/2addr v0, v1

    int-to-float v0, v0

    add-float/2addr v3, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v1, 0x0

    invoke-direct {p0, v2, v3, v0, v1}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private hasAnimatedMediaEntities()Z
    .locals 2

    const/4 v0, 0x1

    .line 9670
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getAnimatedMediaEntitiesCount(Z)I

    move-result v1

    if-eqz v1, :cond_0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public static hasInstance()Z
    .locals 1

    .line 4017
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private hidePressedDrawables()V
    .locals 3

    .line 17583
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    aput-boolean v2, v0, v1

    aput-boolean v2, v0, v2

    .line 17584
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private initCropView()V
    .locals 9

    .line 14667
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_0

    return-void

    :cond_0
    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    .line 14670
    invoke-virtual/range {v0 .. v8}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    .line 14671
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_1

    return-void

    .line 14674
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onAppear()V

    .line 14675
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14676
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 14677
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onAppeared()V

    .line 14678
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    return-void
.end method

.method private initEmbedVideo(I)V
    .locals 3

    .line 15186
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v0, :cond_0

    return-void

    .line 15189
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$69;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, p0, p0, v1, v2}, Lorg/telegram/ui/PhotoViewer$69;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/view/View;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    .line 15212
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->init(ILorg/telegram/tgnet/TLRPC$WebPage;)V

    .line 15213
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->setPlaybackSpeed(F)V

    .line 15214
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v1, 0x0

    const/4 v2, -0x1

    invoke-static {v2, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {p1, v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 15216
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    .line 15217
    invoke-direct {p0, p1, p1}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 15219
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->clearTimestamps()V

    .line 15220
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    const/4 p1, 0x0

    .line 15222
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    .line 15223
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    const-wide/16 v0, 0x0

    .line 15224
    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    .line 15225
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 15226
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 15227
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 15228
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    return-void
.end method

.method private invalidateBlur()V
    .locals 1

    .line 19304
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_0

    return-void

    .line 19307
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    .line 19308
    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->invalidateBlur()V

    .line 19310
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_2

    .line 19311
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->invalidateBlur()V

    .line 19313
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_3

    .line 19314
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_3
    return-void
.end method

.method private isAccessibilityEnabled()Z
    .locals 3

    const/4 v0, 0x0

    .line 8695
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const-string v2, "accessibility"

    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/accessibility/AccessibilityManager;

    .line 8696
    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isEnabled()Z

    move-result v2

    if-eqz v2, :cond_0

    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isTouchExplorationEnabled()Z

    move-result v1
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    if-eqz v1, :cond_0

    const/4 v0, 0x1

    :cond_0
    return v0

    :catch_0
    move-exception v1

    .line 8698
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    return v0
.end method

.method private isCaptionOpen()Z
    .locals 1

    .line 7224
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    .line 7226
    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->keyboardVisible()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private isCurrentAvatarSet()Z
    .locals 9

    .line 11730
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    const/4 v1, 0x0

    if-eqz v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_4

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v0, v2, :cond_0

    goto :goto_1

    .line 11733
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Photo;

    .line 11734
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/ImageLocation;

    .line 11735
    instance-of v3, v0, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    if-eqz v3, :cond_1

    const/4 v0, 0x0

    :cond_1
    const/4 v3, 0x1

    if-eqz v0, :cond_3

    .line 11739
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    move v4, v1

    :goto_0
    if-ge v4, v2, :cond_4

    .line 11740
    iget-object v5, v0, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v5, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 11741
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v5, :cond_2

    iget v6, v5, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v7, v7, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v8, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v6, v8, :cond_2

    iget-wide v5, v5, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v7, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v5, v5, v7

    if-nez v5, :cond_2

    return v3

    :cond_2
    add-int/lit8 v4, v4, 0x1

    goto :goto_0

    :cond_3
    if-eqz v2, :cond_4

    .line 11745
    iget-object v0, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v4, v4, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v5, v4, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v2, v5, :cond_4

    iget-wide v5, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v7, v4, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v5, v7

    if-nez v0, :cond_4

    return v3

    :cond_4
    :goto_1
    return v1
.end method

.method public static isPlayingMessage(Lorg/telegram/messenger/MessageObject;)Z
    .locals 4

    .line 14338
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    if-ne v0, v1, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v2

    cmp-long p0, v0, v2

    if-nez p0, :cond_0

    const/4 p0, 0x1

    goto :goto_0

    :cond_0
    const/4 p0, 0x0

    :goto_0
    return p0
.end method

.method public static isPlayingMessageInPip(Lorg/telegram/messenger/MessageObject;)Z
    .locals 4

    .line 14334
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    if-ne v0, v1, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v2

    cmp-long p0, v0, v2

    if-nez p0, :cond_0

    const/4 p0, 0x1

    goto :goto_0

    :cond_0
    const/4 p0, 0x0

    :goto_0
    return p0
.end method

.method public static isShowingImage(Ljava/lang/String;)Z
    .locals 2

    .line 14361
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 14362
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p0

    if-eqz p0, :cond_0

    const/4 p0, 0x1

    move v1, p0

    :cond_0
    return v1
.end method

.method public static isShowingImage(Lorg/telegram/messenger/MessageObject;)Z
    .locals 7

    .line 14318
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    .line 14319
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_1

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_1

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_1

    if-eqz p0, :cond_1

    .line 14320
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    .line 14321
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_0

    .line 14322
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getEditingMessageObject()Lorg/telegram/messenger/MessageObject;

    move-result-object v0

    :cond_0
    if-eqz v0, :cond_1

    .line 14324
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v4

    if-ne v3, v4, :cond_1

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v5

    cmp-long v0, v3, v5

    if-nez v0, :cond_1

    move v0, v1

    goto :goto_0

    :cond_1
    move v0, v2

    :goto_0
    if-nez v0, :cond_3

    .line 14327
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v3, :cond_3

    .line 14328
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_2

    if-eqz p0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    if-ne v0, v3, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v5

    cmp-long p0, v3, v5

    if-nez p0, :cond_2

    goto :goto_1

    :cond_2
    move v1, v2

    :goto_1
    move v0, v1

    :cond_3
    return v0
.end method

.method public static isShowingImage(Lorg/telegram/tgnet/TLRPC$BotInlineResult;)Z
    .locals 2

    .line 14353
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 14354
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_0

    iget-object p0, p0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->id:Ljava/lang/String;

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->id:Ljava/lang/String;

    if-ne p0, v0, :cond_0

    const/4 p0, 0x1

    move v1, p0

    :cond_0
    return v1
.end method

.method public static isShowingImage(Lorg/telegram/tgnet/TLRPC$FileLocation;)Z
    .locals 6

    .line 14343
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    .line 14344
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_2

    if-eqz p0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v2, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v0, v2, :cond_0

    iget-wide v2, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v0, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v2, v4

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget v2, v2, Lorg/telegram/messenger/ImageLocation;->dc_id:I

    if-eq v0, v2, :cond_1

    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_2

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-object v2, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v0, v2, :cond_2

    iget-wide v2, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-object v0, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v2, v4

    if-nez v0, :cond_2

    iget p0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget v0, v0, Lorg/telegram/messenger/ImageLocation;->dc_id:I

    if-ne p0, v0, :cond_2

    :cond_1
    const/4 p0, 0x1

    move v1, p0

    :cond_2
    return v1
.end method

.method private isStatusBarVisible()Z
    .locals 2

    .line 16485
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-nez v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private isVideoPlaying()Z
    .locals 1

    .line 1593
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1594
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v0

    return v0

    .line 1596
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-eqz v0, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private synthetic lambda$checkChangedTextureView$5(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 1909
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/high16 v0, 0x3f800000    # 1.0f

    sub-float/2addr v0, p1

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$checkChangedTextureView$6(Landroid/view/View;Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 1936
    invoke-virtual {p2}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p2

    check-cast p2, Ljava/lang/Float;

    invoke-virtual {p2}, Ljava/lang/Float;->floatValue()F

    move-result p2

    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    .line 1937
    invoke-virtual {p1}, Landroid/view/View;->invalidateOutline()V

    .line 1938
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz p1, :cond_0

    .line 1939
    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    .line 1941
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz p1, :cond_1

    .line 1942
    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_1
    return-void
.end method

.method private synthetic lambda$checkProgress$76(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;
    .locals 2

    .line 13778
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    const/4 v1, 0x1

    invoke-virtual {v0, p1, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$checkProgress$77(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;
    .locals 1

    .line 13781
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    invoke-virtual {v0, p1}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$checkProgress$78(ILjava/io/File;Ljava/io/File;ZZZZZ)V
    .locals 3

    .line 13875
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    const/4 v1, 0x3

    const/4 v2, 0x0

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v0, :cond_0

    .line 13876
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p2, p1

    invoke-virtual {p1, v1, v2, v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    :cond_0
    const/4 v0, 0x1

    if-nez p2, :cond_1

    if-eqz p3, :cond_2

    :cond_1
    if-nez p4, :cond_6

    if-eqz p5, :cond_2

    goto :goto_1

    :cond_2
    if-eqz p6, :cond_4

    .line 13901
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p2

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p3, p3, p1

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p2

    if-nez p2, :cond_3

    .line 13902
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    const/4 p3, 0x2

    invoke-virtual {p2, p3, v2, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_0

    .line 13904
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v0, v2, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_0

    .line 13907
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v2, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 13909
    :goto_0
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p2

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p3, p3, p1

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/ImageLoader;->getFileProgress(Ljava/lang/String;)Ljava/lang/Float;

    move-result-object p2

    if-nez p2, :cond_5

    const/4 p2, 0x0

    .line 13911
    invoke-static {p2}, Ljava/lang/Float;->valueOf(F)Ljava/lang/Float;

    move-result-object p2

    .line 13913
    :cond_5
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p3, p3, p1

    invoke-virtual {p2}, Ljava/lang/Float;->floatValue()F

    move-result p2

    invoke-virtual {p3, p2, v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    goto/16 :goto_4

    :cond_6
    :goto_1
    if-nez p1, :cond_7

    .line 13880
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez p2, :cond_a

    :cond_7
    if-eqz p6, :cond_9

    if-eqz p7, :cond_8

    if-nez p1, :cond_9

    .line 13881
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz p2, :cond_9

    .line 13882
    :cond_8
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v1, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_2

    .line 13884
    :cond_9
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    const/4 p3, -0x1

    invoke-virtual {p2, p3, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_a
    :goto_2
    if-nez p1, :cond_e

    .line 13887
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->isSubMenuShowing()Z

    move-result p2

    if-nez p2, :cond_e

    .line 13888
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget p3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_DELETE_FROM_CACHE:I

    if-eqz p4, :cond_b

    iget-boolean p5, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez p5, :cond_b

    sget-object p5, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object p6, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->CLEAR_CACHE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p5, p6}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p5

    if-eqz p5, :cond_b

    move p5, v0

    goto :goto_3

    :cond_b
    move p5, v2

    :goto_3
    invoke-virtual {p2, p3, p5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubItemVisible(IZ)V

    const/4 p2, 0x7

    if-nez p4, :cond_d

    .line 13890
    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p3

    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p4, p4, p1

    invoke-virtual {p3, p4}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p3

    if-nez p3, :cond_c

    .line 13891
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_4

    .line 13893
    :cond_c
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_4

    .line 13896
    :cond_d
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_e
    :goto_4
    if-nez p1, :cond_11

    .line 13916
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez p1, :cond_10

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p1

    if-eqz p1, :cond_f

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p1, p1, v2

    if-eqz p1, :cond_10

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_10

    :cond_f
    move v2, v0

    :cond_10
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    :cond_11
    return-void
.end method

.method private synthetic lambda$checkProgress$79(ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V
    .locals 12

    move-object v10, p0

    move-object/from16 v0, p6

    if-nez p1, :cond_0

    if-eqz p2, :cond_0

    .line 13844
    invoke-virtual {p2}, Ljava/io/File;->exists()Z

    move-result v1

    goto :goto_0

    :cond_0
    move v1, p1

    :goto_0
    const/4 v2, 0x0

    if-nez p3, :cond_1

    if-eqz p4, :cond_1

    .line 13850
    invoke-interface/range {p4 .. p4}, Lorg/telegram/messenger/FileLoader$FileResolver;->getFile()Ljava/io/File;

    move-result-object v3

    move-object v4, v3

    goto :goto_1

    :cond_1
    if-eqz p4, :cond_2

    .line 13852
    invoke-interface/range {p4 .. p4}, Lorg/telegram/messenger/FileLoader$FileResolver;->getFile()Ljava/io/File;

    move-result-object v2

    :cond_2
    move-object v4, p3

    :goto_1
    if-nez v1, :cond_3

    if-eqz v4, :cond_3

    .line 13856
    invoke-virtual {v4}, Ljava/io/File;->exists()Z

    move-result v1

    :cond_3
    if-nez v1, :cond_4

    if-eqz v2, :cond_4

    .line 13860
    invoke-virtual {v2}, Ljava/io/File;->exists()Z

    move-result v1

    :cond_4
    move v5, v1

    if-nez v5, :cond_6

    if-eqz p5, :cond_6

    if-eqz v0, :cond_6

    if-eqz p7, :cond_6

    .line 13863
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/DownloadController;->canDownloadMedia(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v1

    if-eqz v1, :cond_6

    .line 13864
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_5

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentEncryptedChat()Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    move-result-object v1

    if-nez v1, :cond_6

    :cond_5
    invoke-virtual/range {p6 .. p6}, Lorg/telegram/messenger/MessageObject;->shouldEncryptPhotoOrVideo()Z

    move-result v1

    if-nez v1, :cond_6

    .line 13865
    invoke-virtual/range {p6 .. p6}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_6

    .line 13867
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    const/4 v3, 0x0

    const/16 v6, 0xa

    invoke-virtual {v2, v1, v0, v3, v6}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    .line 13874
    :cond_6
    new-instance v11, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda75;

    move-object v0, v11

    move-object v1, p0

    move/from16 v2, p5

    move-object v3, p2

    move/from16 v6, p7

    move/from16 v7, p8

    move/from16 v8, p9

    move/from16 v9, p10

    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda75;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/io/File;Ljava/io/File;ZZZZZ)V

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    return-void
.end method

.method private synthetic lambda$closePaintMode$69()V
    .locals 1

    const/4 v0, 0x0

    .line 11019
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$closePhoto$81(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15566
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 15567
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method private synthetic lambda$closePhoto$82(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15586
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$closePhoto$83(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 3

    const/4 v0, 0x0

    .line 15601
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 15602
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, 0x0

    invoke-virtual {v1, v2, v0}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15603
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15604
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 15605
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15606
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController;->tryResumePausedAudio()V

    return-void
.end method

.method private synthetic lambda$closePhoto$84(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15627
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$closePhoto$85(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 3

    const/4 v0, 0x0

    .line 15641
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 15642
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-nez v1, :cond_0

    return-void

    :cond_0
    const/4 v2, 0x0

    .line 15645
    invoke-virtual {v1, v2, v0}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15646
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15647
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15648
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v0, 0x3f800000    # 1.0f

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setScaleX(F)V

    .line 15649
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setScaleY(F)V

    .line 15650
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController;->tryResumePausedAudio()V

    return-void
.end method

.method private synthetic lambda$createPaintView$63(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 10913
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz p1, :cond_0

    .line 10914
    iget-object p1, p1, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->overlayLayout:Landroid/widget/FrameLayout;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$createPaintView$64(Ljava/lang/Integer;)V
    .locals 14

    .line 10903
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->keyboardVisible()Z

    move-result v1

    iput-boolean v1, v0, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->keyboardVisible:Z

    .line 10904
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 10905
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v0

    invoke-static {p1, v0}, Ljava/lang/Math;->max(II)I

    move-result p1

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object p1

    .line 10906
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->isCurrentText()Z

    move-result v0

    const/4 v2, 0x0

    if-eqz v0, :cond_0

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v0

    if-lez v0, :cond_0

    sget-object v0, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v0, v0, Landroid/graphics/Point;->y:I

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v3

    sub-int/2addr v0, v3

    const/16 v3, 0x50

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    sub-int/2addr v0, v3

    int-to-float v0, v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getSelectedEntityBottom()F

    move-result v3

    sub-float/2addr v0, v3

    goto :goto_0

    :cond_0
    move v0, v2

    :goto_0
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->translateY(F)V

    .line 10908
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 10909
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    :cond_1
    const/4 v0, 0x2

    new-array v3, v0, [F

    .line 10911
    fill-array-data v3, :array_0

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v3

    .line 10912
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda1;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda1;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10917
    new-instance v4, Landroid/animation/AnimatorSet;

    invoke-direct {v4}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardAnimator:Landroid/animation/AnimatorSet;

    const/4 v5, 0x6

    new-array v5, v5, [Landroid/animation/Animator;

    .line 10918
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->weightChooserView:Lorg/telegram/ui/Components/Paint/Views/PaintWeightChooserView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v8, 0x1

    new-array v9, v8, [F

    .line 10919
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    neg-int v10, v10

    int-to-float v10, v10

    const/high16 v11, 0x40200000    # 2.5f

    div-float/2addr v10, v11

    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v1

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->bottomLayout:Landroid/widget/FrameLayout;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10920
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    neg-int v10, v10

    const/16 v11, 0x28

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v11

    add-int/2addr v10, v11

    invoke-static {v1, v10}, Ljava/lang/Math;->min(II)I

    move-result v10

    int-to-float v10, v10

    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v8

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->tabsLayout:Landroid/widget/LinearLayout;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10921
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    const/16 v11, 0x14

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v12

    const/high16 v13, 0x3f800000    # 1.0f

    if-le v10, v12, :cond_2

    move v10, v2

    goto :goto_1

    :cond_2
    move v10, v13

    :goto_1
    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v0

    const/4 v0, 0x3

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->cancelButton:Lorg/telegram/ui/Components/Paint/Views/PaintCancelView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10922
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v12

    if-le v10, v12, :cond_3

    move v10, v2

    goto :goto_2

    :cond_3
    move v10, v13

    :goto_2
    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v0

    const/4 v0, 0x4

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->doneButton:Lorg/telegram/ui/Components/Paint/Views/PaintDoneView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v8, [F

    .line 10923
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    if-le p1, v9, :cond_4

    goto :goto_3

    :cond_4
    move v2, v13

    :goto_3
    aput v2, v8, v1

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p1

    aput-object p1, v5, v0

    const/4 p1, 0x5

    aput-object v3, v5, p1

    .line 10918
    invoke-virtual {v4, v5}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    const-wide/16 v0, 0x140

    .line 10926
    invoke-virtual {v4, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10927
    sget-object p1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT_QUINT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v4, p1}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 10928
    invoke-virtual {v4}, Landroid/animation/AnimatorSet;->start()V

    .line 10929
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updatePlusEmojiKeyboardButton()V

    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private synthetic lambda$createPaintView$65()V
    .locals 1

    .line 10932
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PaintingOverlay;->hideBitmap()V

    return-void
.end method

.method private synthetic lambda$createPaintView$66()V
    .locals 1

    const/4 v0, 0x0

    .line 10986
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 10987
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 v0, 0x0

    .line 10988
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$createPaintView$67(Landroid/view/View;)V
    .locals 0

    .line 10990
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->closePaintMode()V

    return-void
.end method

.method private synthetic lambda$createVideoControlsInterface$51()V
    .locals 1

    .line 8228
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    .line 8229
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showVideoSeekPreviewPosition(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$createVideoControlsInterface$52(Landroid/view/View;)V
    .locals 2

    .line 8264
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    .line 8267
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    const/4 v0, 0x2

    .line 8268
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 8269
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    const/16 v1, -0xa

    if-ne v0, v1, :cond_1

    .line 8270
    invoke-virtual {p1}, Landroid/app/Activity;->getRequestedOrientation()I

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 8272
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Landroid/app/Activity;->setRequestedOrientation(I)V

    return-void
.end method

.method private static synthetic lambda$createVideoTextureView$53(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V
    .locals 0

    .line 9374
    invoke-static {p0}, Lorg/telegram/ui/Components/FilterShaders;->getFilterShadersDelegate(Lorg/telegram/messenger/MediaController$SavedFilterState;)Lorg/telegram/ui/Components/FilterShaders$FilterShadersDelegate;

    move-result-object p0

    invoke-virtual {p1, p0}, Lorg/telegram/ui/Components/FilterGLThread;->setFilterGLThreadDelegate(Lorg/telegram/ui/Components/FilterShaders$FilterShadersDelegate;)V

    return-void
.end method

.method private synthetic lambda$cropRotate$50(FFLandroid/animation/ValueAnimator;)V
    .locals 4

    .line 7907
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/Crop/CropView;->areaView:Lorg/telegram/ui/Components/Crop/CropAreaView;

    invoke-virtual {p3}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/Float;

    invoke-virtual {v1}, Ljava/lang/Float;->floatValue()F

    move-result v1

    mul-float/2addr v1, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float/2addr v2, p1

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v2, v3

    add-float/2addr p1, v2

    const/4 v2, 0x0

    invoke-virtual {v0, v1, p1, v2, v2}, Lorg/telegram/ui/Components/Crop/CropAreaView;->setRotationScaleTranslation(FFFF)V

    .line 7908
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->wheelView:Lorg/telegram/ui/Components/Crop/CropRotationWheel;

    invoke-virtual {p3}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p3

    check-cast p3, Ljava/lang/Float;

    invoke-virtual {p3}, Ljava/lang/Float;->floatValue()F

    move-result p3

    invoke-static {p2, v2, p3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result p2

    const/4 p3, 0x0

    invoke-virtual {p1, p2, p3}, Lorg/telegram/ui/Components/Crop/CropRotationWheel;->setRotation(FZ)V

    return-void
.end method

.method private synthetic lambda$deleteVideoFromCache$1(Ljava/util/ArrayList;)V
    .locals 4

    .line 544
    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_0

    .line 545
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    const/4 v1, 0x2

    invoke-virtual {v0, p1, v1}, Lorg/telegram/messenger/FileLoader;->deleteFiles(Ljava/util/ArrayList;I)V

    .line 546
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_0

    const/4 v0, 0x0

    .line 547
    iput-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    iput-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    .line 548
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 549
    sget p1, Lorg/telegram/messenger/R$string;->CacheWasCleared:I

    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/Object;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getSize()J

    move-result-wide v2

    invoke-static {v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v1, v0

    const-string v0, "CacheWasCleared"

    invoke-static {v0, p1, v1}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showToast(Ljava/lang/String;)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$new$2()V
    .locals 1

    const/4 v0, 0x1

    .line 580
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    return-void
.end method

.method private synthetic lambda$new$7()V
    .locals 1

    .line 2011
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v0, :cond_0

    .line 2012
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$onDraw$88()V
    .locals 2

    const/4 v0, 0x1

    const/4 v1, 0x0

    .line 16632
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return-void
.end method

.method private synthetic lambda$onDraw$89()V
    .locals 2

    const/4 v0, -0x1

    const/4 v1, 0x0

    .line 16634
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return-void
.end method

.method private synthetic lambda$onDraw$90()V
    .locals 1

    const/4 v0, 0x0

    .line 17185
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->checkChangedTextureView(Z)V

    const/4 v0, 0x1

    .line 17186
    invoke-static {v0, v0}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(ZZ)V

    return-void
.end method

.method private synthetic lambda$onLinkLongPress$3(Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V
    .locals 5

    if-nez p5, :cond_0

    .line 1463
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V

    goto/16 :goto_5

    :cond_0
    const/4 p2, 0x1

    if-ne p5, p2, :cond_d

    .line 1465
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object p1

    const-string p4, "mailto:"

    .line 1467
    invoke-virtual {p1, p4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p4

    const/4 p5, 0x0

    if-eqz p4, :cond_2

    const/4 p2, 0x7

    .line 1468
    invoke-virtual {p1, p2}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object p1

    :cond_1
    :goto_0
    move p2, p5

    goto/16 :goto_3

    :cond_2
    const-string p4, "tel:"

    .line 1469
    invoke-virtual {p1, p4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p4

    if-eqz p4, :cond_3

    const/4 p3, 0x4

    .line 1470
    invoke-virtual {p1, p3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_3

    :cond_3
    if-ltz p3, :cond_1

    .line 1473
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p4, :cond_1

    iget-boolean v0, p4, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v0, :cond_1

    .line 1475
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isRoundVideo()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVoice()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isMusic()Z

    move-result v0

    if-eqz v0, :cond_4

    goto :goto_1

    :cond_4
    move p2, p5

    :cond_5
    :goto_1
    if-nez p2, :cond_6

    .line 1476
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p2, p2, Lorg/telegram/messenger/MessageObject;->replyMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p2, :cond_6

    move-object p4, p2

    .line 1479
    :cond_6
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    .line 1480
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result p2

    .line 1482
    iget-object v2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    if-eqz v2, :cond_8

    .line 1483
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->saved_from_peer:Lorg/telegram/tgnet/TLRPC$Peer;

    if-eqz v3, :cond_7

    .line 1484
    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getPeerId(Lorg/telegram/tgnet/TLRPC$Peer;)J

    move-result-wide v0

    .line 1485
    iget-object p2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object p2, p2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    iget p2, p2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->saved_from_msg_id:I

    goto :goto_2

    .line 1486
    :cond_7
    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->from_id:Lorg/telegram/tgnet/TLRPC$Peer;

    if-eqz v2, :cond_8

    .line 1487
    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getPeerId(Lorg/telegram/tgnet/TLRPC$Peer;)J

    move-result-wide v0

    .line 1488
    iget-object p2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object p2, p2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    iget p2, p2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->channel_post:I

    .line 1492
    :cond_8
    :goto_2
    invoke-static {v0, v1}, Lorg/telegram/messenger/DialogObject;->isChatDialog(J)Z

    move-result p4

    const-string v2, "?t="

    const-string v3, "/"

    const-string v4, "https://t.me/"

    if-eqz p4, :cond_9

    .line 1493
    iget p4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p4

    neg-long v0, v0

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {p4, v0}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object p4

    .line 1494
    invoke-static {p4}, Lorg/telegram/messenger/ChatObject;->getPublicUsername(Lorg/telegram/tgnet/TLRPC$Chat;)Ljava/lang/String;

    move-result-object p4

    if-eqz p4, :cond_1

    .line 1496
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_0

    .line 1499
    :cond_9
    iget p4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p4

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {p4, v0}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object p4

    .line 1500
    invoke-static {p4}, Lorg/telegram/messenger/UserObject;->getPublicUsername(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v0

    if-eqz p4, :cond_1

    if-eqz v0, :cond_1

    .line 1502
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_0

    .line 1507
    :goto_3
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->addToClipboard(Ljava/lang/CharSequence;)Z

    if-eqz p2, :cond_a

    .line 1510
    sget p1, Lorg/telegram/messenger/R$string;->PhoneCopied:I

    const-string p2, "PhoneCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    :cond_a
    const-string p2, "#"

    .line 1511
    invoke-virtual {p1, p2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p2

    if-eqz p2, :cond_b

    .line 1512
    sget p1, Lorg/telegram/messenger/R$string;->HashtagCopied:I

    const-string p2, "HashtagCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    :cond_b
    const-string p2, "@"

    .line 1513
    invoke-virtual {p1, p2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p1

    if-eqz p1, :cond_c

    .line 1514
    sget p1, Lorg/telegram/messenger/R$string;->UsernameCopied:I

    const-string p2, "UsernameCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    .line 1516
    :cond_c
    sget p1, Lorg/telegram/messenger/R$string;->LinkCopied:I

    const-string p2, "LinkCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    .line 1518
    :goto_4
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->shouldShowClipboardToast()Z

    move-result p2

    if-eqz p2, :cond_d

    .line 1519
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {p2, p3}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object p2

    sget p3, Lorg/telegram/messenger/R$raw;->voip_invite:I

    invoke-virtual {p2, p3, p1}, Lorg/telegram/ui/Components/BulletinFactory;->createSimpleBulletin(ILjava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    :cond_d
    :goto_5
    return-void
.end method

.method private static synthetic lambda$onLinkLongPress$4(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V
    .locals 0

    .line 1523
    invoke-interface {p0}, Ljava/lang/Runnable;->run()V

    return-void
.end method

.method private synthetic lambda$onPhotoClosed$86(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 2

    .line 15817
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    if-eqz p1, :cond_0

    .line 15818
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isTablet()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz p1, :cond_0

    .line 15819
    invoke-virtual {p1, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    .line 15822
    :cond_0
    :try_start_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object p1

    if-eqz p1, :cond_1

    .line 15823
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v0, "window"

    invoke-virtual {p1, v0}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Landroid/view/WindowManager;

    .line 15824
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {p1, v0}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 15825
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception p1

    .line 15828
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$openCurrentPhotoInPaintModeForSelect$80(Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V
    .locals 23

    move-object/from16 v10, p0

    .line 14525
    invoke-static/range {p1 .. p1}, Lorg/telegram/messenger/AndroidUtilities;->getImageOrientation(Ljava/io/File;)Landroid/util/Pair;

    move-result-object v0

    .line 14526
    new-instance v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    add-int/lit8 v2, v13, -0x1

    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    invoke-virtual/range {p1 .. p1}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v16

    const/4 v9, 0x0

    if-eqz p2, :cond_0

    move/from16 v17, v9

    goto :goto_0

    :cond_0
    iget-object v2, v0, Landroid/util/Pair;->first:Ljava/lang/Object;

    check-cast v2, Ljava/lang/Integer;

    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I

    move-result v2

    move/from16 v17, v2

    :goto_0
    const/16 v19, 0x0

    const/16 v20, 0x0

    const-wide/16 v21, 0x0

    const/4 v12, 0x0

    const-wide/16 v14, 0x0

    move-object v11, v1

    move/from16 v18, p2

    invoke-direct/range {v11 .. v22}, Lorg/telegram/messenger/MediaController$PhotoEntry;-><init>(IIJLjava/lang/String;IZIIJ)V

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/MediaController$PhotoEntry;->setOrientation(Landroid/util/Pair;)Lorg/telegram/messenger/MediaController$PhotoEntry;

    move-result-object v6

    const/4 v0, 0x2

    .line 14528
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 14529
    iput-boolean v9, v10, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14530
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 14531
    new-instance v7, Lorg/telegram/ui/PhotoViewer$66;

    move-object v0, v7

    move-object/from16 v1, p0

    move-object/from16 v3, p3

    move-object v4, v6

    move/from16 v5, p4

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer$66;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/MediaController$PhotoEntry;Z)V

    iput-object v7, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 14595
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 14597
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v0, :cond_1

    .line 14598
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    :cond_1
    const/4 v0, 0x3

    .line 14601
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    .line 14603
    invoke-direct {v10, v9, v9}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    const/4 v0, 0x1

    .line 14604
    invoke-direct {v10, v0, v9}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 14606
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    if-eqz v0, :cond_2

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->isKeyboardVisible()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 14607
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->closeKeyboard()V

    goto :goto_1

    .line 14609
    :cond_2
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14611
    :goto_1
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    .line 14612
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    .line 14614
    invoke-static {v6}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v8

    const/4 v11, 0x0

    const/4 v12, 0x0

    move-object/from16 v0, p0

    move-object v6, v7

    move-object v7, v8

    move v8, v11

    move v11, v9

    move-object v9, v12

    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14616
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/16 v2, 0x9a

    const/16 v3, 0x60

    if-eqz v1, :cond_3

    move v1, v2

    goto :goto_2

    :cond_3
    move v1, v3

    :goto_2
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 14617
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_4

    move v1, v2

    goto :goto_3

    :cond_4
    move v1, v3

    :goto_3
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 14618
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 14619
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_5

    goto :goto_4

    :cond_5
    move v2, v3

    :goto_4
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setTranslationY(F)V

    .line 14621
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createPaintView()V

    .line 14622
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->switchToPaintMode()V

    .line 14623
    iput v11, v10, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    return-void
.end method

.method private synthetic lambda$redraw$87(I)V
    .locals 0

    add-int/lit8 p1, p1, 0x1

    .line 15861
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->redraw(I)V

    return-void
.end method

.method private static synthetic lambda$sendPressed$44(Landroid/content/DialogInterface;I)V
    .locals 0

    return-void
.end method

.method private synthetic lambda$sendPressed$45(ZIZZLandroid/content/DialogInterface;I)V
    .locals 6

    const/4 v5, 0x1

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    .line 7125
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private synthetic lambda$setIsAboutToSwitchToIndex$75(ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V
    .locals 1

    .line 12349
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-eq p1, v0, :cond_0

    return-void

    .line 12352
    :cond_0
    iput-object p4, p0, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    .line 12353
    invoke-virtual {p2}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result p1

    const/16 p4, 0x16

    const/16 v0, 0x15

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    invoke-virtual {p2, p3, p1}, Lorg/telegram/messenger/TranslateController;->canTranslatePhoto(Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)Z

    move-result p1

    if-eqz p1, :cond_2

    .line 12354
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz p1, :cond_1

    .line 12355
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12356
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_0

    .line 12358
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12359
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_0

    .line 12362
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12363
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$setItemVisible$73(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 11770
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method private synthetic lambda$setItemVisible$74(ZLandroid/view/View;)V
    .locals 0

    if-nez p1, :cond_0

    const/16 p1, 0x8

    .line 11772
    invoke-virtual {p2, p1}, Landroid/view/View;->setVisibility(I)V

    .line 11774
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method private synthetic lambda$setParentActivity$10(Landroid/view/View;)V
    .locals 3

    .line 5896
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    .line 5899
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    const/4 v1, 0x1

    .line 5900
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 5901
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    const/16 v2, -0xa

    if-ne v1, v2, :cond_1

    .line 5902
    invoke-virtual {p1}, Landroid/app/Activity;->getRequestedOrientation()I

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 5904
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {p1, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Landroid/view/WindowManager;

    .line 5905
    invoke-interface {p1}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object p1

    invoke-virtual {p1}, Landroid/view/Display;->getRotation()I

    move-result p1

    const/4 v1, 0x3

    if-ne p1, v1, :cond_2

    .line 5907
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/16 v1, 0x8

    invoke-virtual {p1, v1}, Landroid/app/Activity;->setRequestedOrientation(I)V

    goto :goto_0

    .line 5909
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {p1, v0}, Landroid/app/Activity;->setRequestedOrientation(I)V

    .line 5911
    :goto_0
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$11()Landroid/view/View;
    .locals 7

    .line 5923
    new-instance v6, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda87;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda87;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda88;

    invoke-direct {v5, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda88;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    move-object v0, v6

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextView;-><init>(Landroid/content/Context;Lorg/telegram/ui/PhotoViewer$CaptionScrollView;Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;Lorg/telegram/messenger/Utilities$Callback2;Lorg/telegram/messenger/Utilities$Callback3;)V

    return-object v6
.end method

.method private synthetic lambda$setParentActivity$12(Landroid/view/View;)V
    .locals 0

    .line 5987
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->previousCompression:I

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    const/4 p1, 0x0

    .line 5988
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->didChangedCompressionLevel(Z)V

    .line 5989
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    const/4 p1, 0x2

    .line 5990
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$13(Landroid/view/View;)V
    .locals 1

    .line 5993
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 5994
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_0

    .line 5995
    check-cast p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_0
    const/4 p1, 0x0

    .line 5997
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    const/4 p1, 0x2

    .line 5998
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$14(Landroid/view/View;)V
    .locals 0

    const/4 p1, 0x0

    .line 6132
    invoke-direct {p0, p1, p1}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$15(Ljava/lang/Integer;)V
    .locals 2

    .line 6377
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 6378
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v1, :cond_0

    .line 6379
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    goto :goto_0

    .line 6380
    :cond_0
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_1

    .line 6381
    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 6383
    :cond_1
    :goto_0
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {p1, v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result p1

    if-nez p1, :cond_2

    .line 6384
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    :cond_2
    return-void
.end method

.method private synthetic lambda$setParentActivity$16(Ljava/lang/Integer;)V
    .locals 5

    .line 6389
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v1

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v2

    const/16 v3, 0x2e

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    sub-int/2addr v2, v4

    const/4 v4, 0x0

    invoke-static {v4, v2}, Ljava/lang/Math;->max(II)I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 6390
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    sub-int/2addr p1, v1

    invoke-static {v4, p1}, Ljava/lang/Math;->max(II)I

    move-result p1

    neg-int p1, p1

    int-to-float p1, p1

    invoke-virtual {v0, p1}, Landroid/widget/ImageView;->setTranslationY(F)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$17(Landroid/view/View;)V
    .locals 1

    .line 6393
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    goto :goto_0

    .line 6396
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->needAddMorePhotos()V

    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 6397
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$18(Landroid/view/View;)V
    .locals 1

    .line 6430
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->isCaptionOverLimit()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 6431
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->limitTextView:Lorg/telegram/ui/Components/AnimatedTextView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    neg-float v0, v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    invoke-static {p1, v0}, Lorg/telegram/messenger/AndroidUtilities;->shakeViewSpring(Landroid/view/View;F)V

    .line 6432
    sget-object p1, Lorg/telegram/messenger/BotWebViewVibrationEffect;->APP_ERROR:Lorg/telegram/messenger/BotWebViewVibrationEffect;

    invoke-virtual {p1}, Lorg/telegram/messenger/BotWebViewVibrationEffect;->vibrate()V

    .line 6433
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MessagesController;->premiumFeaturesBlocked()Z

    move-result p1

    if-nez p1, :cond_0

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    iget p1, p1, Lorg/telegram/messenger/MessagesController;->captionLengthLimitPremium:I

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getCodePointCount()I

    move-result v0

    if-le p1, v0, :cond_0

    .line 6434
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showCaptionLimitBulletin(Landroid/widget/FrameLayout;)Z

    :cond_0
    return-void

    .line 6438
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result p1

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result p1

    if-eqz p1, :cond_3

    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v0, 0x1

    if-eqz p1, :cond_4

    invoke-virtual {p1, v0, v0}, Lorg/telegram/ui/ChatActivity;->isTemplatesChannel(ZZ)Z

    move-result p1

    if-eqz p1, :cond_4

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result p1

    if-nez p1, :cond_4

    .line 6439
    :cond_3
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showScheduleDatePickerDialog()V

    goto :goto_0

    :cond_4
    const/4 p1, 0x0

    .line 6441
    invoke-direct {p0, v0, p1}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$19(Landroid/view/View;Landroid/view/MotionEvent;)Z
    .locals 1

    .line 6461
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v0

    if-nez v0, :cond_0

    .line 6462
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6463
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {p1, v0}, Landroid/view/View;->getHitRect(Landroid/graphics/Rect;)V

    .line 6464
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    float-to-int v0, v0

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getY()F

    move-result p2

    float-to-int p2, p2

    invoke-virtual {p1, v0, p2}, Landroid/graphics/Rect;->contains(II)Z

    move-result p1

    if-nez p1, :cond_0

    .line 6465
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    const/4 p1, 0x0

    return p1
.end method

.method private synthetic lambda$setParentActivity$20(Landroid/view/KeyEvent;)V
    .locals 2

    .line 6472
    invoke-virtual {p1}, Landroid/view/KeyEvent;->getKeyCode()I

    move-result v0

    const/4 v1, 0x4

    if-ne v0, v1, :cond_0

    invoke-virtual {p1}, Landroid/view/KeyEvent;->getRepeatCount()I

    move-result p1

    if-nez p1, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz p1, :cond_0

    invoke-virtual {p1}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result p1

    if-eqz p1, :cond_0

    .line 6473
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$21(Ljava/lang/String;)V
    .locals 1

    .line 6573
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_0

    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 6574
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;)V

    .line 6575
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    const/4 p1, 0x1

    .line 6576
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$22(Ljava/lang/String;)V
    .locals 2

    .line 6572
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda53;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda53;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ChatActivity;->createTranslateOutgoingDialog(Ljava/lang/String;Lcom/iMe/fork/utils/Callbacks$Callback1;)Lcom/iMe/fork/ui/dialog/TranslateAlert;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$23(ILjava/lang/String;Landroid/view/View;)V
    .locals 8

    .line 6564
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz p3, :cond_0

    invoke-virtual {p3}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result p3

    if-eqz p3, :cond_0

    .line 6565
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    .line 6568
    :cond_0
    sget p3, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    if-ne p1, p3, :cond_1

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x1

    move-object v0, p0

    .line 6569
    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZLjava/lang/String;Z)V

    goto :goto_0

    .line 6570
    :cond_1
    sget p3, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    if-ne p1, p3, :cond_2

    .line 6571
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda55;

    invoke-direct {p3, p0, p2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda55;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V

    invoke-static {p1, p3}, Lcom/iMe/utils/helper/wallet/WalletHelper;->safeRunWithActivationCheck(Lorg/telegram/ui/ActionBar/BaseFragment;Lcom/iMe/fork/utils/Callbacks$Callback;)V

    goto :goto_0

    :cond_2
    if-nez p1, :cond_3

    .line 6582
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showScheduleDatePickerDialog()V

    goto :goto_0

    :cond_3
    const/4 p2, 0x1

    const/4 p3, 0x0

    if-ne p1, p2, :cond_4

    .line 6584
    invoke-direct {p0, p3, p3}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    goto :goto_0

    :cond_4
    const/4 v0, 0x2

    if-ne p1, v0, :cond_5

    .line 6586
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->replacePressed()V

    goto :goto_0

    :cond_5
    const/4 v0, 0x3

    if-ne p1, v0, :cond_6

    .line 6588
    invoke-direct {p0, p2, p3}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    goto :goto_0

    :cond_6
    const/4 p2, 0x4

    if-ne p1, p2, :cond_7

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x1

    const/4 v5, 0x0

    move-object v0, p0

    .line 6590
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    :cond_7
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$24(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z
    .locals 16

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    .line 6445
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v3, 0x0

    if-eqz v2, :cond_0

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->allowSendingSubmenu()Z

    move-result v2

    if-nez v2, :cond_0

    return v3

    .line 6448
    :cond_0
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/4 v4, 0x1

    if-eqz v2, :cond_1

    iget-object v2, v2, Lorg/telegram/ui/ActionBar/BaseFragment;->storyViewer:Lorg/telegram/ui/Stories/StoryViewer;

    if-eqz v2, :cond_1

    invoke-virtual {v2}, Lorg/telegram/ui/Stories/StoryViewer;->isShown()Z

    move-result v2

    if-eqz v2, :cond_1

    move v2, v4

    goto :goto_0

    :cond_1
    move v2, v3

    :goto_0
    if-nez v2, :cond_3

    .line 6449
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v2, :cond_2

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v2

    if-nez v2, :cond_2

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2, v4, v3}, Lorg/telegram/ui/ChatActivity;->isTemplatesChannel(ZZ)Z

    move-result v2

    if-eqz v2, :cond_3

    :cond_2
    return v3

    .line 6452
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v2}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->isCaptionOverLimit()Z

    move-result v2

    if-eqz v2, :cond_4

    return v3

    .line 6455
    :cond_4
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    .line 6456
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v2

    .line 6458
    new-instance v5, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;-><init>(Landroid/content/Context;)V

    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    .line 6459
    invoke-virtual {v5, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setAnimationEnabled(Z)V

    .line 6460
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda51;

    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda51;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 6471
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda94;

    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda94;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setDispatchKeyEventListener(Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$OnDispatchKeyEventListener;)V

    .line 6476
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v5, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setShownFromBottom(Z)V

    .line 6477
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const v6, -0x6ddddde

    invoke-virtual {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setBackgroundColor(I)V

    .line 6479
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v5, :cond_5

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v5, v6}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canReplace(I)Z

    move-result v5

    if-eqz v5, :cond_5

    move v5, v4

    goto :goto_1

    :cond_5
    move v5, v3

    :goto_1
    const/4 v6, 0x7

    new-array v7, v6, [I

    .line 6480
    sget v8, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    aput v8, v7, v3

    sget v8, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    aput v8, v7, v4

    const/4 v8, 0x2

    const/4 v9, 0x4

    aput v9, v7, v8

    const/4 v10, 0x3

    aput v10, v7, v10

    aput v8, v7, v9

    const/4 v11, 0x5

    aput v3, v7, v11

    const/4 v11, 0x6

    aput v4, v7, v11

    .line 6481
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v11

    invoke-interface {v11}, Ljava/lang/CharSequence;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v11

    move v12, v3

    :goto_2
    if-ge v12, v6, :cond_1f

    .line 6483
    aget v13, v7, v12

    .line 6485
    sget v14, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    if-ne v13, v14, :cond_7

    .line 6486
    sget-boolean v14, Lorg/telegram/messenger/SharedConfig;->isReactionsInSendPopupEnabled:Z

    if-eqz v14, :cond_6

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v14, :cond_6

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    if-eqz v14, :cond_6

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    invoke-virtual {v14}, Ljava/util/HashMap;->size()I

    move-result v14

    if-eq v14, v4, :cond_8

    :cond_6
    :goto_3
    move-object/from16 v3, p1

    goto/16 :goto_b

    .line 6489
    :cond_7
    sget v14, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    if-ne v13, v14, :cond_8

    .line 6490
    sget-boolean v14, Lorg/telegram/messenger/SharedConfig;->isTranslateInSendPopupEnabled:Z

    if-eqz v14, :cond_6

    invoke-virtual {v11}, Ljava/lang/String;->isEmpty()Z

    move-result v14

    if-nez v14, :cond_6

    sget v14, Lorg/telegram/messenger/R$string;->AddCaption:I

    const-string v15, "AddCaption"

    invoke-static {v15, v14}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v11, v14}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v14

    if-eqz v14, :cond_8

    goto :goto_3

    :cond_8
    if-eq v13, v8, :cond_9

    if-eq v13, v10, :cond_9

    if-eqz v5, :cond_9

    goto :goto_3

    :cond_9
    if-nez v13, :cond_a

    .line 6498
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v14}, Lorg/telegram/ui/ChatActivity;->canScheduleMessage()Z

    move-result v14

    if-nez v14, :cond_a

    goto :goto_3

    :cond_a
    if-nez v13, :cond_e

    .line 6501
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v14, :cond_e

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    if-eqz v14, :cond_e

    .line 6502
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    .line 6504
    invoke-virtual {v14}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;

    move-result-object v14

    invoke-interface {v14}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v14

    :goto_4
    invoke-interface {v14}, Ljava/util/Iterator;->hasNext()Z

    move-result v15

    if-eqz v15, :cond_d

    invoke-interface {v14}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v15

    check-cast v15, Ljava/util/Map$Entry;

    .line 6505
    invoke-interface {v15}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;

    move-result-object v15

    .line 6506
    instance-of v6, v15, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v6, :cond_b

    .line 6507
    check-cast v15, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 6508
    iget v6, v15, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    if-eqz v6, :cond_c

    :goto_5
    move v6, v4

    goto :goto_6

    .line 6512
    :cond_b
    instance-of v6, v15, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v6, :cond_c

    .line 6513
    check-cast v15, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 6514
    iget v6, v15, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    if-eqz v6, :cond_c

    goto :goto_5

    :cond_c
    const/4 v6, 0x7

    goto :goto_4

    :cond_d
    move v6, v3

    :goto_6
    if-eqz v6, :cond_12

    goto :goto_3

    :cond_e
    if-ne v13, v4, :cond_f

    .line 6523
    invoke-static {v2}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v6

    if-eqz v6, :cond_f

    goto/16 :goto_3

    :cond_f
    if-eq v13, v8, :cond_10

    if-ne v13, v10, :cond_11

    :cond_10
    if-nez v5, :cond_11

    goto/16 :goto_3

    :cond_11
    if-ne v13, v9, :cond_12

    .line 6527
    iget-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v6, :cond_6

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->hasTimer()Z

    move-result v6

    if-eqz v6, :cond_12

    goto/16 :goto_3

    .line 6530
    :cond_12
    new-instance v6, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v13, :cond_13

    move v15, v4

    goto :goto_7

    :cond_13
    move v15, v3

    :goto_7
    if-ne v13, v10, :cond_14

    move-object/from16 v3, p1

    move v9, v4

    goto :goto_8

    :cond_14
    move v9, v3

    move-object/from16 v3, p1

    :goto_8
    invoke-direct {v6, v14, v15, v9, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;-><init>(Landroid/content/Context;ZZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 6532
    sget v9, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    if-ne v13, v9, :cond_15

    .line 6533
    sget v9, Lorg/telegram/messenger/R$string;->sending_settings_send_add_reactions:I

    invoke-static {v9}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->fork_ic_reactions:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    :goto_9
    const/4 v9, 0x4

    goto/16 :goto_a

    .line 6534
    :cond_15
    sget v9, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    if-ne v13, v9, :cond_16

    .line 6535
    sget v9, Lorg/telegram/messenger/R$string;->chat_long_action_translate:I

    invoke-static {v9}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_translate:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_16
    if-nez v13, :cond_18

    .line 6538
    invoke-static {v2}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v9

    if-eqz v9, :cond_17

    .line 6539
    sget v9, Lorg/telegram/messenger/R$string;->SetReminder:I

    const-string v14, "SetReminder"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_calendar2:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    .line 6541
    :cond_17
    sget v9, Lorg/telegram/messenger/R$string;->ScheduleMessage:I

    const-string v14, "ScheduleMessage"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_calendar2:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_18
    if-ne v13, v4, :cond_1a

    .line 6545
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v9}, Lcom/iMe/fork/controller/ToolsController;->getInstance(I)Lcom/iMe/fork/controller/ToolsController;

    move-result-object v9

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v14}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v14

    invoke-virtual {v9, v14, v15}, Lcom/iMe/fork/controller/ToolsController;->isSilentSendingEnabledForDialog(J)Z

    move-result v9

    if-eqz v9, :cond_19

    .line 6546
    sget v9, Lorg/telegram/messenger/R$string;->send_with_sound:I

    invoke-static {v9}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->input_notify_on:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    .line 6548
    :cond_19
    sget v9, Lorg/telegram/messenger/R$string;->SendWithoutSound:I

    const-string v14, "SendWithoutSound"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->input_notify_off:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_1a
    if-ne v13, v8, :cond_1b

    .line 6550
    sget v9, Lorg/telegram/messenger/R$string;->ReplacePhoto:I

    const-string v14, "ReplacePhoto"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_replace:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_1b
    if-ne v13, v10, :cond_1c

    .line 6552
    sget v9, Lorg/telegram/messenger/R$string;->SendAsNewPhoto:I

    const-string v14, "SendAsNewPhoto"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_send:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto/16 :goto_9

    :cond_1c
    const/4 v9, 0x4

    if-ne v13, v9, :cond_1e

    .line 6554
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v14, :cond_1d

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v14

    if-le v14, v4, :cond_1d

    .line 6555
    sget v14, Lorg/telegram/messenger/R$string;->SendAsFiles:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v14

    sget v15, Lorg/telegram/messenger/R$drawable;->msg_sendfile:I

    invoke-virtual {v6, v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_a

    .line 6557
    :cond_1d
    sget v14, Lorg/telegram/messenger/R$string;->SendAsFile:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v14

    sget v15, Lorg/telegram/messenger/R$drawable;->msg_sendfile:I

    invoke-virtual {v6, v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    :cond_1e
    :goto_a
    const/16 v14, 0xc4

    .line 6560
    invoke-static {v14}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v14

    invoke-virtual {v6, v14}, Landroid/widget/FrameLayout;->setMinimumWidth(I)V

    const/4 v14, -0x1

    .line 6561
    invoke-virtual {v6, v14, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 6562
    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/16 v9, 0x30

    invoke-static {v14, v9}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v9

    invoke-virtual {v15, v6, v9}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->addView(Landroid/view/View;Landroid/widget/LinearLayout$LayoutParams;)V

    .line 6563
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda48;

    invoke-direct {v9, v0, v13, v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda48;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/lang/String;)V

    invoke-virtual {v6, v9}, Landroid/widget/FrameLayout;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    :goto_b
    add-int/lit8 v12, v12, 0x1

    const/4 v3, 0x0

    const/4 v6, 0x7

    const/4 v9, 0x4

    goto/16 :goto_2

    .line 6594
    :cond_1f
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getChildCount()I

    move-result v2

    if-nez v2, :cond_20

    const/4 v2, 0x0

    return v2

    :cond_20
    const/4 v2, 0x0

    .line 6597
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const v5, 0x24ffffff

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setupRadialSelectors(I)V

    .line 6599
    new-instance v3, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/4 v6, -0x2

    invoke-direct {v3, v5, v6, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;-><init>(Landroid/view/View;II)V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    .line 6600
    invoke-virtual {v3, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->setAnimationEnabled(Z)V

    .line 6601
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    sget v5, Lorg/telegram/messenger/R$style;->PopupContextAnimation2:I

    invoke-virtual {v3, v5}, Landroid/widget/PopupWindow;->setAnimationStyle(I)V

    .line 6602
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v4}, Landroid/widget/PopupWindow;->setOutsideTouchable(Z)V

    .line 6603
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v4}, Landroid/widget/PopupWindow;->setClippingEnabled(Z)V

    .line 6604
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v8}, Landroid/widget/PopupWindow;->setInputMethodMode(I)V

    .line 6605
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v2}, Landroid/widget/PopupWindow;->setSoftInputMode(I)V

    .line 6606
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v2}, Landroid/widget/PopupWindow;->getContentView()Landroid/view/View;

    move-result-object v2

    invoke-virtual {v2, v4}, Landroid/view/View;->setFocusableInTouchMode(Z)V

    .line 6608
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/16 v3, 0x3e8

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    const/high16 v6, -0x80000000

    invoke-static {v5, v6}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v5

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-static {v3, v6}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-virtual {v2, v5, v3}, Landroid/widget/FrameLayout;->measure(II)V

    .line 6609
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v2, v4}, Landroid/widget/PopupWindow;->setFocusable(Z)V

    new-array v2, v8, [I

    .line 6612
    invoke-virtual {v1, v2}, Landroid/view/View;->getLocationInWindow([I)V

    .line 6613
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    const/16 v5, 0x33

    const/4 v6, 0x0

    aget v7, v2, v6

    invoke-virtual/range {p2 .. p2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v6

    add-int/2addr v7, v6

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    sub-int/2addr v7, v6

    const/16 v6, 0xe

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    add-int/2addr v7, v6

    aget v2, v2, v4

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v4

    sub-int/2addr v2, v4

    const/16 v4, 0x12

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    sub-int/2addr v2, v4

    invoke-virtual {v3, v1, v5, v7, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->showAtLocation(Landroid/view/View;III)V

    .line 6614
    invoke-virtual {v1, v10, v8}, Landroid/view/View;->performHapticFeedback(II)Z

    const/4 v1, 0x0

    return v1
.end method

.method private synthetic lambda$setParentActivity$25(Landroid/view/View;)V
    .locals 1

    .line 6673
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6676
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6677
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6680
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6681
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6682
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x1

    .line 6689
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$26(Landroid/view/View;)V
    .locals 0

    const/high16 p1, -0x3d4c0000    # -90.0f

    .line 6698
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(F)Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$27(Landroid/view/View;)V
    .locals 0

    .line 6706
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cropMirror()Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$28(Landroid/view/View;)V
    .locals 1

    .line 6715
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6718
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6719
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6722
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6723
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6724
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x3

    .line 6731
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$29(Landroid/view/View;)V
    .locals 1

    .line 6740
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6743
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    xor-int/lit8 p1, p1, 0x1

    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 6744
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->updateMuteButton()V

    .line 6745
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    .line 6746
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/CheckBox;->isChecked()Z

    move-result p1

    if-nez p1, :cond_1

    .line 6747
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Landroid/view/View;->callOnClick()Z

    goto :goto_0

    .line 6749
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 6750
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_2

    .line 6751
    check-cast p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_2
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$30(Landroid/app/Activity;Landroid/view/View;)V
    .locals 3

    .line 6765
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p2

    if-nez p2, :cond_4

    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz p2, :cond_0

    goto :goto_0

    .line 6768
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {p2}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object p2

    if-nez p2, :cond_3

    .line 6769
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-eqz p2, :cond_2

    .line 6770
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    if-nez p2, :cond_1

    .line 6771
    new-instance p2, Lorg/telegram/ui/Components/Tooltip;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const v1, -0x33eeeeef    # -3.8028356E7f

    const/4 v2, -0x1

    invoke-direct {p2, p1, v0, v1, v2}, Lorg/telegram/ui/Components/Tooltip;-><init>(Landroid/content/Context;Landroid/view/ViewGroup;II)V

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    .line 6773
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    sget p2, Lorg/telegram/messenger/R$string;->VideoQualityIsTooLow:I

    const-string v0, "VideoQualityIsTooLow"

    invoke-static {v0, p2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p2

    invoke-virtual {p1, p2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6774
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/Components/Tooltip;->show(Landroid/view/View;)V

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x1

    .line 6778
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    .line 6779
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    :cond_4
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$31(Landroid/view/View;)V
    .locals 1

    .line 6788
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6791
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6792
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6795
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6796
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6797
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x2

    .line 6804
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$32()V
    .locals 14

    .line 6818
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    iget v9, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v10, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    iget-boolean v13, p0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    const/high16 v7, 0x3f800000    # 1.0f

    const/high16 v8, 0x3f800000    # 1.0f

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v0 .. v13}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    const/4 v0, 0x0

    .line 6833
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$33(Landroid/view/View;)V
    .locals 3

    .line 6814
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_0

    return-void

    .line 6817
    :cond_0
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda72;

    invoke-direct {p1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda72;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6835
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    if-nez v0, :cond_3

    .line 6836
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, v1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result v1

    sub-float/2addr v0, v1

    .line 6837
    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v1

    const/high16 v2, 0x43340000    # 180.0f

    cmpl-float v1, v1, v2

    if-lez v1, :cond_2

    const/4 v1, 0x0

    cmpg-float v1, v0, v1

    const/high16 v2, 0x43b40000    # 360.0f

    if-gez v1, :cond_1

    add-float/2addr v0, v2

    goto :goto_0

    :cond_1
    sub-float/2addr v2, v0

    neg-float v0, v2

    .line 6840
    :cond_2
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, v1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateMirror()Z

    move-result v1

    invoke-direct {p0, v0, v1, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    goto :goto_1

    .line 6842
    :cond_3
    invoke-interface {p1}, Ljava/lang/Runnable;->run()V

    :goto_1
    return-void
.end method

.method private synthetic lambda$setParentActivity$34(Landroid/view/View;)V
    .locals 1

    .line 6846
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v0, 0x1

    if-ne p1, v0, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoCropView;->isReady()Z

    move-result p1

    if-nez p1, :cond_0

    return-void

    .line 6849
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 p1, 0x0

    .line 6850
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$35()V
    .locals 2

    .line 6870
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->reset(Z)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$36(Landroid/view/View;)V
    .locals 2

    .line 6865
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result p1

    neg-float p1, p1

    .line 6866
    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result v0

    const/high16 v1, 0x43340000    # 180.0f

    cmpl-float v0, v0, v1

    if-lez v0, :cond_1

    const/4 v0, 0x0

    cmpg-float v0, p1, v0

    const/high16 v1, 0x43b40000    # 360.0f

    if-gez v0, :cond_0

    add-float/2addr p1, v1

    goto :goto_0

    :cond_0
    sub-float/2addr v1, p1

    neg-float p1, v1

    .line 6869
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropView;->getStateMirror()Z

    move-result v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$37(Lorg/telegram/messenger/ImageReceiver;ZZZ)V
    .locals 10

    .line 6879
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v0, 0x1

    if-ne p1, p4, :cond_4

    if-eqz p2, :cond_4

    if-nez p3, :cond_4

    .line 6880
    iget-boolean p3, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez p3, :cond_2

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq p3, v0, :cond_0

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p3, v0, :cond_2

    :cond_0
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz p3, :cond_2

    .line 6881
    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_2

    .line 6883
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v3

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq p3, v0, :cond_1

    move v4, v0

    goto :goto_0

    :cond_1
    const/4 p3, 0x0

    move v4, p3

    :goto_0
    const/4 v5, 0x1

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v1 .. v9}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    .line 6886
    :cond_2
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {p3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result p3

    if-nez p3, :cond_3

    .line 6887
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p3}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->requestLayout()V

    .line 6889
    :cond_3
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->detectFaces()V

    .line 6891
    :cond_4
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne p1, p3, :cond_6

    if-eqz p2, :cond_6

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_6

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->scaleToFill()Z

    move-result p1

    if-eqz p1, :cond_6

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    if-nez p1, :cond_6

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq p1, v0, :cond_6

    .line 6892
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasLayout:Z

    if-nez p1, :cond_5

    .line 6893
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    goto :goto_1

    .line 6895
    :cond_5
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setScaleToFill()V

    :cond_6
    :goto_1
    return-void
.end method

.method private synthetic lambda$setParentActivity$38(Landroid/view/View;)V
    .locals 0

    .line 6928
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6931
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    return-void
.end method

.method private synthetic lambda$setParentActivity$39(Landroid/view/View;)V
    .locals 1

    .line 6940
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-nez p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_1

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotosOrder()Ljava/util/ArrayList;

    move-result-object p1

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotosOrder()Ljava/util/ArrayList;

    move-result-object p1

    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p1

    if-eqz p1, :cond_0

    goto :goto_0

    .line 6943
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    const/4 v0, 0x1

    xor-int/2addr p1, v0

    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$40(Landroid/view/View;I)V
    .locals 1

    .line 6965
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p2

    if-nez p2, :cond_0

    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz p2, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge p2, v0, :cond_0

    .line 6966
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p2

    .line 6967
    instance-of v0, p2, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_0

    .line 6968
    check-cast p2, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p2, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_0
    const/4 p2, 0x1

    .line 6971
    iput-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 6972
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p1}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object p1

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->indexOf(Ljava/lang/Object;)I

    move-result p1

    if-ltz p1, :cond_1

    const/4 p2, -0x1

    .line 6974
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 6975
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    :cond_1
    const/4 p1, 0x0

    .line 6977
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$8(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
    .locals 7

    .line 4827
    new-instance p1, Landroid/graphics/Rect;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    invoke-direct {p1, v0}, Landroid/graphics/Rect;-><init>(Landroid/graphics/Rect;)V

    .line 4828
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x1e

    if-lt v0, v1, :cond_0

    .line 4829
    invoke-static {}, Landroidx/core/view/WindowInsetsCompat$Type;->displayCutout()I

    move-result v2

    invoke-static {}, Landroidx/core/view/WindowInsetsCompat$Type;->systemBars()I

    move-result v3

    or-int/2addr v2, v3

    invoke-virtual {p2, v2}, Landroid/view/WindowInsets;->getInsets(I)Landroid/graphics/Insets;

    move-result-object v2

    .line 4830
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v4, v2, Landroid/graphics/Insets;->left:I

    iget v5, v2, Landroid/graphics/Insets;->top:I

    iget v6, v2, Landroid/graphics/Insets;->right:I

    iget v2, v2, Landroid/graphics/Insets;->bottom:I

    invoke-virtual {v3, v4, v5, v6, v2}, Landroid/graphics/Rect;->set(IIII)V

    goto :goto_0

    .line 4832
    :cond_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    .line 4833
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetLeft()I

    move-result v3

    .line 4834
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetTop()I

    move-result v4

    .line 4835
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetRight()I

    move-result v5

    .line 4836
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetBottom()I

    move-result v6

    .line 4832
    invoke-virtual {v2, v3, v4, v5, v6}, Landroid/graphics/Rect;->set(IIII)V

    .line 4839
    :goto_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v2, v2, Landroid/graphics/Rect;->top:I

    .line 4840
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v4, v3, Lorg/telegram/ui/LaunchActivity;

    if-eqz v4, :cond_2

    if-nez v2, :cond_1

    sget-boolean v4, Lorg/telegram/messenger/AndroidUtilities;->isInMultiwindow:Z

    if-eqz v4, :cond_2

    :cond_1
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-nez v4, :cond_2

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    if-eq v4, v2, :cond_2

    .line 4841
    sput v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    .line 4842
    check-cast v3, Lorg/telegram/ui/LaunchActivity;

    iget-object v2, v3, Lorg/telegram/ui/LaunchActivity;->drawerLayoutContainer:Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;->requestLayout()V

    .line 4844
    :cond_2
    invoke-virtual {p1, p2}, Landroid/graphics/Rect;->equals(Ljava/lang/Object;)Z

    move-result p1

    const/4 v2, 0x2

    const/4 v3, 0x0

    if-nez p1, :cond_5

    .line 4845
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v4, 0x1

    if-eq p1, v4, :cond_3

    const/4 v4, 0x3

    if-ne p1, v4, :cond_4

    .line 4846
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {p1}, Landroid/view/View;->getTranslationX()F

    move-result v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v5

    int-to-float v5, v5

    sub-float/2addr v4, v5

    invoke-virtual {p1, v4}, Landroid/view/View;->setTranslationX(F)V

    .line 4847
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object p1, p1, v3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getTranslationX()F

    move-result v4

    aput v4, p1, v2

    .line 4849
    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_5

    .line 4850
    invoke-virtual {p1}, Landroid/widget/FrameLayout;->requestLayout()V

    .line 4854
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz p1, :cond_6

    .line 4855
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v4, v4, Landroid/graphics/Rect;->bottom:I

    iput v4, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    .line 4856
    invoke-virtual {p1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object p1

    check-cast p1, Landroid/view/ViewGroup$MarginLayoutParams;

    .line 4857
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    iput v4, p1, Landroid/view/ViewGroup$MarginLayoutParams;->height:I

    neg-int v4, v4

    .line 4858
    div-int/2addr v4, v2

    iput v4, p1, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I

    .line 4859
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, p1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 4861
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p2}, Landroid/view/WindowInsets;->getSystemWindowInsetLeft()I

    move-result v2

    invoke-virtual {p2}, Landroid/view/WindowInsets;->getSystemWindowInsetRight()I

    move-result v4

    invoke-virtual {p1, v2, v3, v4, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 4862
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_7

    .line 4863
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 4864
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz p1, :cond_7

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez p1, :cond_7

    .line 4865
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0xc8

    invoke-static {p1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_7
    if-lt v0, v1, :cond_8

    .line 4869
    sget-object p1, Landroid/view/WindowInsets;->CONSUMED:Landroid/view/WindowInsets;

    return-object p1

    .line 4871
    :cond_8
    invoke-virtual {p2}, Landroid/view/WindowInsets;->consumeSystemWindowInsets()Landroid/view/WindowInsets;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$setParentActivity$9(Ljava/lang/Boolean;)V
    .locals 0

    const/4 p1, 0x0

    .line 5704
    invoke-direct {p0, p1, p1, p1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return-void
.end method

.method private synthetic lambda$setVideoPlayerControlVisible$54(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 9503
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    .line 9504
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v0, p1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    return-void
.end method

.method private synthetic lambda$showAlertDialog$55(Landroid/content/DialogInterface;)V
    .locals 0

    const/4 p1, 0x0

    .line 9569
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    return-void
.end method

.method private synthetic lambda$showCaptionLimitBulletin$41()V
    .locals 3

    const/4 v0, 0x0

    .line 7012
    invoke-virtual {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    .line 7013
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_0

    const/4 v1, 0x1

    .line 7014
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ChatAttachAlert;->dismiss(Z)V

    .line 7016
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_1

    .line 7017
    new-instance v1, Lorg/telegram/ui/PremiumPreviewFragment;

    const-string v2, "caption_limit"

    invoke-direct {v1, v2}, Lorg/telegram/ui/PremiumPreviewFragment;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->presentFragment(Lorg/telegram/ui/ActionBar/BaseFragment;)Z

    :cond_1
    return-void
.end method

.method private synthetic lambda$showCaptionLimitBulletin$42()V
    .locals 1

    const/4 v0, 0x0

    .line 7020
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    return-void
.end method

.method private static synthetic lambda$showLoadingDialog$0(Lio/reactivex/disposables/Disposable;Landroid/content/DialogInterface;)V
    .locals 0

    if-eqz p0, :cond_0

    .line 393
    invoke-interface {p0}, Lio/reactivex/disposables/Disposable;->dispose()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$showShareAlert$46(Lorg/telegram/ui/Components/ShareAlert;)V
    .locals 1

    if-eqz p1, :cond_0

    .line 7268
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v0

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    .line 7269
    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->setFocusable(Z)V

    .line 7270
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_0

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object p1

    if-eqz p1, :cond_0

    .line 7271
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object p1

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->hidePopup(Z)Z

    :cond_0
    return-void
.end method

.method private synthetic lambda$switchToEditMode$57(Landroid/animation/ValueAnimator;)V
    .locals 5

    .line 10375
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/Crop/CropView;->areaView:Lorg/telegram/ui/Components/Crop/CropAreaView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10377
    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10378
    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10379
    invoke-static {v2, v3, v4}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    const/4 v3, 0x0

    .line 10375
    invoke-virtual {p1, v3, v0, v1, v2}, Lorg/telegram/ui/Components/Crop/CropAreaView;->setRotationScaleTranslation(FFFF)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$58(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 10392
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-virtual {v0, p1, v1, v2, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$59(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 10393
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$60(Landroid/view/View;)V
    .locals 0

    .line 10699
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 p1, 0x0

    .line 10700
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$61(Landroid/content/DialogInterface;I)V
    .locals 0

    const/4 p1, 0x0

    .line 10710
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$62(Landroid/view/View;)V
    .locals 2

    .line 10703
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoFilterView;->hasChanges()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 10704
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    .line 10707
    :cond_0
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 10708
    sget p1, Lorg/telegram/messenger/R$string;->DiscardChanges:I

    const-string v1, "DiscardChanges"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10709
    sget p1, Lorg/telegram/messenger/R$string;->AppName:I

    const-string v1, "AppName"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10710
    sget p1, Lorg/telegram/messenger/R$string;->OK:I

    const-string v1, "OK"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda20;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda20;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10711
    sget p1, Lorg/telegram/messenger/R$string;->Cancel:I

    const-string v1, "Cancel"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    const/4 v1, 0x0

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10712
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    .line 10714
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$switchToPaintMode$70(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 11094
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-virtual {v0, p1, v1, v2, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    return-void
.end method

.method private synthetic lambda$switchToPaintMode$71(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 11095
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    return-void
.end method

.method private static synthetic lambda$switchToPip$47(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 7682
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {p0, p1}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    return-void
.end method

.method private synthetic lambda$switchToPip$48(Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V
    .locals 3

    .line 7764
    invoke-virtual {p10}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p10

    check-cast p10, Ljava/lang/Float;

    invoke-virtual {p10}, Ljava/lang/Float;->floatValue()F

    move-result p10

    if-nez p1, :cond_0

    move p1, p10

    goto :goto_0

    .line 7765
    :cond_0
    invoke-virtual {p1, p10}, Lorg/telegram/ui/Components/CubicBezierInterpolator;->getInterpolation(F)F

    move-result p1

    .line 7766
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/high16 v1, 0x3f800000    # 1.0f

    if-eqz v0, :cond_1

    sub-float v2, v1, p10

    mul-float/2addr v2, p2

    mul-float/2addr p3, p10

    add-float/2addr v2, p3

    .line 7767
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7768
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sub-float v0, v1, p1

    mul-float/2addr p4, v0

    mul-float/2addr p5, p1

    add-float/2addr p4, p5

    invoke-virtual {p3, p4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7769
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {p3}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_1
    sub-float p3, v1, p10

    mul-float/2addr p2, p3

    mul-float/2addr p7, p10

    add-float/2addr p2, p7

    .line 7772
    invoke-virtual {p6, p2}, Landroid/view/View;->setTranslationX(F)V

    sub-float/2addr v1, p1

    mul-float/2addr p8, v1

    mul-float/2addr p9, p1

    add-float/2addr p8, p9

    .line 7773
    invoke-virtual {p6, p8}, Landroid/view/View;->setTranslationY(F)V

    .line 7774
    invoke-virtual {p6}, Landroid/view/View;->invalidateOutline()V

    .line 7776
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz p1, :cond_2

    .line 7777
    invoke-virtual {p6}, Landroid/view/View;->getTranslationX()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7778
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getTranslationY()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7779
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getScaleX()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 7780
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getScaleY()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 7781
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_2
    return-void
.end method

.method private synthetic lambda$switchToPip$49(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 7787
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$toggleActionBar$72(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 11371
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v2, 0x1

    invoke-virtual {v0, v2, p1, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    return-void
.end method

.method private synthetic lambda$translateY$68(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 11007
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    .line 11008
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_0

    .line 11009
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->translateY(F)V

    .line 11011
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private synthetic lambda$updateResetButtonVisibility$56(Z)V
    .locals 1

    if-nez p1, :cond_0

    .line 10093
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v0, 0x8

    invoke-virtual {p1, v0}, Landroid/widget/TextView;->setVisibility(I)V

    :cond_0
    return-void
.end method

.method private makeFocusable()V
    .locals 3

    .line 15232
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_0

    .line 15233
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const v1, -0x7ffeff00

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_0

    .line 15238
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/4 v1, 0x0

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 15240
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x110

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 15241
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 15243
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    :catch_0
    move-exception v0

    .line 15245
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15247
    :goto_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 15248
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    return-void
.end method

.method private mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V
    .locals 6

    const/4 v0, 0x0

    if-nez p3, :cond_0

    .line 9581
    :try_start_0
    invoke-static {p2}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object p3

    const/4 p2, 0x1

    goto :goto_0

    :cond_0
    move p2, v0

    .line 9584
    :goto_0
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    .line 9585
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    int-to-float v3, v1

    cmpl-float v4, v3, p5

    if-gtz v4, :cond_1

    int-to-float v4, v2

    cmpl-float v4, v4, p5

    if-lez v4, :cond_2

    .line 9587
    :cond_1
    invoke-static {v1, v2}, Ljava/lang/Math;->max(II)I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v1, p5

    div-float/2addr v3, v1

    float-to-int v3, v3

    int-to-float v2, v2

    div-float/2addr v2, v1

    float-to-int v2, v2

    move v1, v3

    .line 9591
    :cond_2
    sget-object v3, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v2, v3}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v3

    .line 9592
    new-instance v4, Landroid/graphics/Canvas;

    invoke-direct {v4, v3}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9593
    new-instance v5, Landroid/graphics/Rect;

    invoke-direct {v5, v0, v0, v1, v2}, Landroid/graphics/Rect;-><init>(IIII)V

    const/4 v0, 0x0

    if-eqz p6, :cond_3

    .line 9595
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p4, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9596
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p3, v0, v5, p4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    goto :goto_1

    .line 9598
    :cond_3
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p3, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9599
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p4, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9601
    :goto_1
    new-instance p4, Ljava/io/FileOutputStream;

    new-instance p6, Ljava/io/File;

    invoke-direct {p6, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-direct {p4, p6}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V

    .line 9602
    sget-object p1, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const/high16 p6, 0x44000000    # 512.0f

    cmpl-float p5, p5, p6

    if-nez p5, :cond_4

    const/16 p5, 0x53

    goto :goto_2

    :cond_4
    const/16 p5, 0x57

    :goto_2
    invoke-virtual {v3, p1, p5, p4}, Landroid/graphics/Bitmap;->compress(Landroid/graphics/Bitmap$CompressFormat;ILjava/io/OutputStream;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 9604
    :try_start_1
    invoke-virtual {p4}, Ljava/io/FileOutputStream;->close()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_3

    :catch_0
    move-exception p1

    .line 9606
    :try_start_2
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_3
    if-eqz p2, :cond_5

    .line 9609
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->recycle()V

    .line 9611
    :cond_5
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception p1

    .line 9613
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_4
    return-void
.end method

.method private needEncoding()Z
    .locals 5

    .line 18078
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    const/4 v2, 0x0

    if-eqz v1, :cond_0

    .line 18079
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    goto :goto_0

    .line 18080
    :cond_0
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 18081
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v1, :cond_2

    goto :goto_1

    :cond_2
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 18082
    :goto_1
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isH264Video:Z

    const/4 v3, 0x1

    if-eqz v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/4 v4, 0x0

    cmpl-float v0, v0, v4

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne v0, v4, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v0, v4, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v4, :cond_4

    if-nez v2, :cond_4

    if-nez v1, :cond_4

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_3

    goto :goto_2

    :cond_3
    const/4 v3, 0x0

    :cond_4
    :goto_2
    return v3
.end method

.method private onActionClick(Z)V
    .locals 10

    const-string v0, "UTF-8"

    .line 17433
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v2, -0x1

    const/4 v3, 0x0

    if-nez v1, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-nez v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v4, :cond_0

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v3

    if-nez v4, :cond_1

    :cond_0
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v2, :cond_1

    return-void

    .line 17438
    :cond_1
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    const-string v4, "mp4"

    const/4 v5, 0x0

    const/4 v6, 0x1

    if-eqz v1, :cond_6

    .line 17440
    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    if-eqz v1, :cond_2

    invoke-virtual {v1}, Ljava/lang/String;->length()I

    move-result v1

    if-eqz v1, :cond_2

    .line 17441
    new-instance v1, Ljava/io/File;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 17442
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_3

    :cond_2
    move-object v1, v5

    :cond_3
    if-nez v1, :cond_5

    .line 17447
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v1

    .line 17448
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_5

    .line 17450
    sget-boolean v1, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v1

    invoke-static {v1, v2}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v1

    if-nez v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result v1

    if-eqz v1, :cond_b

    .line 17452
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v1, v1, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/FileLoader;->getFileReference(Ljava/lang/Object;)I

    move-result v1

    .line 17453
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v7

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2, v7, v8, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    .line 17454
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    .line 17455
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "?account="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v8, v8, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, "&id="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->id:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&hash="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->access_hash:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&dc="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->dc_id:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, "&size="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&mime="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->mime_type:Ljava/lang/String;

    .line 17460
    invoke-static {v8, v0}, Ljava/net/URLEncoder;->encode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v8, "&rid="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v1, "&name="

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 17462
    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getDocumentFileName(Lorg/telegram/tgnet/TLRPC$Document;)Ljava/lang/String;

    move-result-object v1

    invoke-static {v1, v0}, Ljava/net/URLEncoder;->encode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v0, "&reference="

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 17463
    iget-object v0, v2, Lorg/telegram/tgnet/TLRPC$Document;->file_reference:[B

    if-eqz v0, :cond_4

    goto :goto_0

    :cond_4
    new-array v0, v3, [B

    :goto_0
    invoke-static {v0}, Lorg/telegram/messenger/Utilities;->bytesToHex([B)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 17464
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "tg://"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getFileName()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v0
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 17465
    :try_start_1
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    .line 17466
    invoke-direct {p0, v3, v3, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_1

    :catch_0
    move-object v0, v5

    :catch_1
    :goto_1
    move-object v1, v5

    goto/16 :goto_4

    :cond_5
    :goto_2
    move-object v0, v5

    goto/16 :goto_4

    .line 17473
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_8

    .line 17474
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_7

    .line 17475
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    .line 17476
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_5

    goto/16 :goto_3

    .line 17479
    :cond_7
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v0, v0, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v0, :cond_b

    .line 17480
    new-instance v1, Ljava/io/File;

    const/4 v0, 0x4

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v0

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v7}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v7, "."

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v7, v4}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v1, v0, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 17481
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_5

    goto :goto_3

    .line 17485
    :cond_8
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_a

    .line 17486
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    .line 17487
    instance-of v1, v0, Lorg/telegram/tgnet/TLRPC$Document;

    if-nez v1, :cond_9

    return-void

    .line 17490
    :cond_9
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v1

    if-eqz v1, :cond_5

    .line 17491
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_5

    .line 17492
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v7

    invoke-static {v2, v0, v7}, Lorg/telegram/messenger/FileStreamLoadOperation;->prepareUri(ILorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;)Landroid/net/Uri;

    move-result-object v0

    .line 17493
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    goto :goto_4

    .line 17495
    :cond_a
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_b

    .line 17496
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_b

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_b

    .line 17497
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 17498
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v1, :cond_b

    .line 17499
    new-instance v1, Ljava/io/File;

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-object v0, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-direct {v1, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    goto/16 :goto_2

    :cond_b
    :goto_3
    move-object v0, v5

    move-object v1, v0

    :goto_4
    if-eqz v1, :cond_c

    if-nez v0, :cond_c

    .line 17504
    invoke-static {v1}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v0

    :cond_c
    if-nez v0, :cond_15

    if-eqz p1, :cond_17

    .line 17508
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_e

    .line 17509
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_d

    .line 17510
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto/16 :goto_5

    .line 17512
    :cond_d
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto/16 :goto_5

    .line 17514
    :cond_e
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz p1, :cond_12

    .line 17515
    iget-object v0, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v0, :cond_10

    .line 17516
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_f

    .line 17517
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto/16 :goto_5

    .line 17519
    :cond_f
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto/16 :goto_5

    .line 17521
    :cond_10
    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of p1, p1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz p1, :cond_14

    .line 17522
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/ImageLoader;->isLoadingHttpFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_11

    .line 17523
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {p1, v0, v4, v1}, Lorg/telegram/messenger/ImageLoader;->loadHttpFile(Ljava/lang/String;Ljava/lang/String;I)V

    goto :goto_5

    .line 17525
    :cond_11
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/ImageLoader;->cancelLoadHttpFile(Ljava/lang/String;)V

    goto :goto_5

    .line 17528
    :cond_12
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz p1, :cond_14

    .line 17529
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_13

    .line 17530
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v1

    invoke-virtual {p1, v0, v1, v6, v6}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto :goto_5

    .line 17532
    :cond_13
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    .line 17535
    :cond_14
    :goto_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getStaticThumb()Landroid/graphics/drawable/Drawable;

    move-result-object p1

    .line 17536
    instance-of v0, p1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    if-eqz v0, :cond_17

    .line 17537
    check-cast p1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;->checkFileExist()V

    goto :goto_6

    .line 17541
    :cond_15
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne p1, v6, :cond_16

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result p1

    if-nez p1, :cond_16

    .line 17542
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {p1, v0, v5}, Lorg/telegram/messenger/AndroidUtilities;->openDocument(Lorg/telegram/messenger/MessageObject;Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;)V

    return-void

    .line 17545
    :cond_16
    invoke-direct {p0, v0, v6, v3}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZ)V

    .line 17546
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    :cond_17
    :goto_6
    return-void
.end method

.method private onDraw(Landroid/graphics/Canvas;)V
    .locals 44

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    .line 16490
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/high16 v12, 0x40000000    # 2.0f

    const/4 v13, 0x3

    const/4 v14, 0x0

    const/4 v15, 0x1

    .line 16677
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    const/4 v9, 0x2

    const/high16 v8, 0x3f800000    # 1.0f

    if-eqz v0, :cond_a

    .line 16490
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_a

    .line 16491
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_2

    .line 16492
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->computeScrollOffset()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 16493
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_0

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_0

    .line 16494
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrX()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16496
    :cond_0
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_1

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_1

    .line 16497
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrY()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16499
    :cond_1
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16500
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16503
    :cond_2
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v2, v12

    div-float/2addr v0, v2

    .line 16504
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    cmpl-float v3, v2, v14

    if-eqz v3, :cond_3

    sub-float v3, v8, v0

    mul-float/2addr v3, v2

    add-float/2addr v0, v3

    .line 16507
    :cond_3
    invoke-static {v0, v8, v14}, Lorg/telegram/messenger/Utilities;->clamp(FFF)F

    move-result v0

    sub-float v0, v8, v0

    const v2, 0x3dcccccd    # 0.1f

    mul-float/2addr v0, v2

    add-float/2addr v0, v8

    const v2, 0x8000

    .line 16508
    invoke-static {v2}, Lorg/telegram/messenger/LiteMode;->isEnabled(I)Z

    move-result v2

    if-nez v2, :cond_4

    move v0, v8

    .line 16511
    :cond_4
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v2

    .line 16512
    invoke-virtual {v2}, Landroid/view/View;->getScaleX()F

    move-result v3

    cmpl-float v3, v3, v0

    if-nez v3, :cond_5

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v3

    cmpl-float v3, v3, v0

    if-eqz v3, :cond_6

    .line 16513
    :cond_5
    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotX(F)V

    .line 16514
    invoke-virtual {v2}, Landroid/view/View;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotY(F)V

    .line 16515
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleX(F)V

    .line 16516
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleY(F)V

    .line 16519
    :cond_6
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v2, :cond_8

    .line 16520
    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v2

    .line 16521
    invoke-virtual {v2}, Landroid/view/View;->getScaleX()F

    move-result v3

    cmpl-float v3, v3, v0

    if-nez v3, :cond_7

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v3

    cmpl-float v3, v3, v0

    if-eqz v3, :cond_8

    .line 16522
    :cond_7
    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotX(F)V

    .line 16523
    invoke-virtual {v2}, Landroid/view/View;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotY(F)V

    .line 16524
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleX(F)V

    .line 16525
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleY(F)V

    .line 16529
    :cond_8
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eq v0, v15, :cond_9

    if-eq v0, v9, :cond_9

    if-eq v0, v13, :cond_9

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-eqz v0, :cond_a

    .line 16530
    :cond_9
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16533
    :cond_a
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-ne v0, v15, :cond_10

    .line 16535
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_b

    .line 16536
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16537
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v9

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v1

    div-int/2addr v1, v9

    sub-int/2addr v0, v1

    int-to-float v0, v0

    invoke-virtual {v11, v0, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16539
    :cond_b
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_d

    .line 16540
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16541
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 16542
    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getCenterX()F

    move-result v0

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getWidth()I

    move-result v1

    div-int/2addr v1, v9

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 16543
    invoke-virtual {v1}, Lorg/telegram/ui/Components/ClippingImageView;->getCenterY()F

    move-result v1

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getHeight()I

    move-result v2

    div-int/2addr v2, v9

    int-to-float v2, v2

    sub-float/2addr v1, v2

    .line 16541
    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16545
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getAnimationProgress()F

    move-result v0

    .line 16546
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-ne v1, v15, :cond_c

    goto :goto_0

    :cond_c
    sub-float v0, v8, v0

    .line 16547
    :goto_0
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getWidth()I

    move-result v1

    div-int/2addr v1, v9

    int-to-float v1, v1

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getHeight()I

    move-result v2

    div-int/2addr v2, v9

    int-to-float v2, v2

    invoke-virtual {v11, v0, v0, v1, v2}, Landroid/graphics/Canvas;->scale(FFFF)V

    move v6, v0

    goto :goto_1

    :cond_d
    move v6, v8

    :goto_1
    const/4 v3, 0x0

    const/high16 v4, 0x3f800000    # 1.0f

    const/4 v5, 0x0

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    .line 16549
    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer;->drawProgress(Landroid/graphics/Canvas;FFFF)V

    .line 16550
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_e

    .line 16551
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16553
    :cond_e
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_f

    .line 16554
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16556
    :cond_f
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->drawFancyShadows(Landroid/graphics/Canvas;)V

    return-void

    :cond_10
    if-eq v0, v13, :cond_ac

    .line 16559
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-nez v2, :cond_11

    if-eq v0, v9, :cond_11

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_11

    goto/16 :goto_4d

    .line 16563
    :cond_11
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_12

    .line 16564
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16565
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v9

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v2

    div-int/2addr v2, v9

    sub-int/2addr v0, v2

    int-to-float v0, v0

    invoke-virtual {v11, v0, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16574
    :cond_12
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    .line 16575
    iget-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    sub-long v4, v2, v4

    const-wide/16 v6, 0x14

    cmp-long v0, v4, v6

    if-lez v0, :cond_13

    const-wide/16 v4, 0x11

    :cond_13
    move-wide v6, v4

    .line 16579
    iput-wide v2, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    .line 16581
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_16

    .line 16582
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_14

    .line 16583
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->abortAnimation()V

    .line 16586
    :cond_14
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float v3, v2, v0

    iget v5, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v3, v5

    add-float/2addr v3, v0

    .line 16587
    iget v12, v10, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    sub-float/2addr v13, v12

    mul-float/2addr v13, v5

    add-float/2addr v12, v13

    .line 16588
    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v9, v13

    mul-float/2addr v9, v5

    add-float/2addr v9, v13

    .line 16589
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sub-float/2addr v4, v15

    mul-float/2addr v4, v5

    add-float/2addr v15, v4

    .line 16590
    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->mirror:F

    iget v14, v10, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    sub-float/2addr v14, v4

    mul-float/2addr v14, v5

    add-float/2addr v4, v14

    cmpl-float v2, v2, v8

    if-nez v2, :cond_15

    cmpl-float v0, v0, v8

    if-nez v0, :cond_15

    const/4 v0, 0x0

    cmpl-float v2, v13, v0

    if-nez v2, :cond_15

    move v0, v15

    goto :goto_2

    :cond_15
    const/high16 v0, -0x40800000    # -1.0f

    .line 16600
    :goto_2
    invoke-direct {v10, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16601
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    move v13, v4

    move v14, v9

    move v2, v15

    :goto_3
    move v15, v12

    move v12, v3

    goto/16 :goto_5

    .line 16603
    :cond_16
    iget-wide v2, v10, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    const-wide/16 v4, 0x0

    cmp-long v0, v2, v4

    if-eqz v0, :cond_17

    .line 16604
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16605
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16606
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16607
    iput-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16608
    invoke-direct {v10, v0}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v2, 0x0

    .line 16609
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16611
    :cond_17
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_1a

    .line 16612
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->computeScrollOffset()Z

    move-result v0

    if-eqz v0, :cond_1a

    .line 16613
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_18

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_18

    .line 16614
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrX()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16616
    :cond_18
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_19

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_19

    .line 16617
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrY()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16619
    :cond_19
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16620
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16623
    :cond_1a
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    if-eqz v0, :cond_1e

    const/4 v2, 0x0

    .line 16624
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 16625
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1b

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_1b

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v0, v2, :cond_1b

    .line 16626
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 16627
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v2, :cond_1b

    .line 16628
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 16631
    :cond_1b
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    const/4 v2, 0x1

    if-ne v0, v2, :cond_1c

    .line 16632
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda58;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda58;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_4

    :cond_1c
    const/4 v2, 0x2

    if-ne v0, v2, :cond_1d

    .line 16634
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda61;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda61;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    :cond_1d
    :goto_4
    const/4 v2, 0x0

    .line 16636
    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16638
    :cond_1e
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16639
    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 16640
    iget v12, v10, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 16641
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16642
    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16643
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->moving:Z

    move v13, v4

    move v14, v9

    if-nez v0, :cond_1f

    move v0, v15

    move v2, v0

    goto/16 :goto_3

    :cond_1f
    move v2, v15

    const/high16 v0, -0x40800000    # -1.0f

    goto/16 :goto_3

    .line 16648
    :goto_5
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->translateY:F

    add-float/2addr v2, v3

    .line 16649
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v3, v4, :cond_20

    .line 16650
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v3

    int-to-float v3, v3

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v3, v4

    add-float/2addr v2, v3

    :cond_20
    move v9, v2

    .line 16653
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v2, :cond_21

    .line 16654
    invoke-virtual {v2, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 16657
    :cond_21
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v2, :cond_23

    const v2, 0x3f800347    # 1.0001f

    cmpg-float v2, v12, v2

    const-wide/16 v3, 0x78

    if-gtz v2, :cond_22

    .line 16659
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-nez v2, :cond_23

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    const/4 v5, 0x0

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-nez v2, :cond_24

    .line 16660
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v8}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v3, v4}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    new-instance v3, Lorg/telegram/ui/PhotoViewer$73;

    invoke-direct {v3, v10}, Lorg/telegram/ui/PhotoViewer$73;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    .line 16665
    invoke-virtual {v2}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 16666
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    const/4 v1, 0x1

    .line 16667
    iput-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    goto :goto_6

    :cond_22
    const/4 v5, 0x0

    .line 16670
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v2, :cond_24

    .line 16671
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    const/4 v8, 0x0

    invoke-virtual {v2, v8}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v3, v4}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    new-instance v3, Lorg/telegram/ui/PhotoViewer$74;

    invoke-direct {v3, v10}, Lorg/telegram/ui/PhotoViewer$74;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    .line 16676
    invoke-virtual {v2}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 16677
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 16678
    iput-boolean v5, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    goto :goto_6

    :cond_23
    const/4 v5, 0x0

    .line 16683
    :cond_24
    :goto_6
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v8

    .line 16684
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    .line 16685
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/high16 v25, 0x40800000    # 4.0f

    const/4 v2, 0x4

    const/high16 v26, 0x437f0000    # 255.0f

    const/4 v3, 0x2

    if-eq v1, v3, :cond_27

    if-eq v1, v2, :cond_27

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v3, :cond_27

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v3, :cond_27

    .line 16686
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_25

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v2, 0x1

    if-eq v1, v2, :cond_25

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-nez v1, :cond_25

    const/high16 v16, -0x40800000    # -1.0f

    cmpl-float v1, v0, v16

    if-eqz v1, :cond_26

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v1, :cond_26

    int-to-float v1, v8

    div-float v1, v1, v25

    .line 16688
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/high16 v3, 0x42fe0000    # 127.0f

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    invoke-static {v0, v1}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    sub-float v0, v1, v0

    mul-float v0, v0, v26

    invoke-static {v3, v0}, Ljava/lang/Math;->max(FF)F

    move-result v0

    float-to-int v0, v0

    invoke-virtual {v2, v0}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    goto :goto_7

    :cond_25
    const/high16 v16, -0x40800000    # -1.0f

    .line 16690
    :cond_26
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    goto :goto_7

    :cond_27
    const/high16 v16, -0x40800000    # -1.0f

    if-ne v1, v2, :cond_28

    const/high16 v0, -0x1000000

    .line 16693
    invoke-virtual {v11, v0}, Landroid/graphics/Canvas;->drawColor(I)V

    :cond_28
    :goto_7
    const/4 v3, 0x0

    .line 16696
    iput-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    .line 16697
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v27, 0x5

    if-nez v0, :cond_2d

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2d

    .line 16698
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-ltz v0, :cond_2b

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_2b

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-nez v0, :cond_2b

    .line 16699
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    cmpl-float v0, v14, v0

    if-lez v0, :cond_29

    .line 16700
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_8

    .line 16701
    :cond_29
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    sub-float/2addr v0, v1

    cmpg-float v0, v14, v0

    if-gez v0, :cond_2a

    .line 16702
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_8

    .line 16704
    :cond_2a
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16707
    :cond_2b
    :goto_8
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz v0, :cond_2c

    const/4 v0, 0x1

    goto :goto_9

    :cond_2c
    move v0, v5

    :goto_9
    iput-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    :cond_2d
    move v2, v5

    const/4 v0, 0x3

    :goto_a
    if-ge v2, v0, :cond_31

    const/4 v1, 0x1

    if-ne v2, v1, :cond_2f

    :cond_2e
    const/4 v0, 0x0

    goto :goto_b

    :cond_2f
    const/4 v1, 0x2

    if-ne v2, v1, :cond_30

    .line 16715
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    neg-int v0, v0

    const/16 v1, 0xf

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    sub-int/2addr v0, v1

    int-to-float v0, v0

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    sub-float v1, v14, v1

    add-float/2addr v0, v1

    goto :goto_b

    .line 16717
    :cond_30
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v14, v0

    if-gez v1, :cond_2e

    sub-float v0, v14, v0

    .line 16719
    :goto_b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    int-to-float v3, v3

    add-float/2addr v0, v3

    const/16 v3, 0x30

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v0, v3

    invoke-virtual {v1, v0}, Landroid/widget/ImageView;->setTranslationX(F)V

    add-int/lit8 v2, v2, 0x1

    const/4 v0, 0x3

    const/4 v3, 0x0

    goto :goto_a

    .line 16722
    :cond_31
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    const v20, 0x3e99999a    # 0.3f

    const/16 v28, 0x1e

    if-ne v0, v1, :cond_3d

    .line 16726
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_32

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v14, v0

    if-gez v1, :cond_32

    sub-float/2addr v0, v14

    int-to-float v1, v8

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16727
    invoke-static {v1, v0}, Ljava/lang/Math;->min(FF)F

    move-result v2

    sub-float v0, v1, v2

    mul-float v0, v0, v20

    neg-int v1, v8

    .line 16729
    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v21

    const/16 v17, 0x2

    div-int/lit8 v21, v21, 0x2

    sub-int v1, v1, v21

    int-to-float v1, v1

    move/from16 v21, v0

    move v0, v1

    goto :goto_c

    :cond_32
    move v0, v14

    const/high16 v2, 0x3f800000    # 1.0f

    const/16 v21, 0x0

    .line 16732
    :goto_c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-eqz v1, :cond_3b

    .line 16733
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16734
    div-int/lit8 v1, v8, 0x2

    int-to-float v1, v1

    div-int/lit8 v3, v4, 0x2

    int-to-float v3, v3

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16735
    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    const/16 v17, 0x2

    div-int/lit8 v1, v1, 0x2

    add-int/2addr v1, v8

    int-to-float v1, v1

    add-float/2addr v1, v0

    const/4 v3, 0x0

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v18, 0x3f800000    # 1.0f

    sub-float v1, v18, v21

    .line 16736
    invoke-virtual {v11, v1, v1}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16737
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v3

    .line 16738
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    .line 16739
    iget-boolean v5, v10, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    if-nez v5, :cond_33

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v5, :cond_33

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v5

    if-eqz v5, :cond_33

    const/high16 v24, 0x3f800000    # 1.0f

    .line 16740
    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    move-wide/from16 v29, v6

    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    move v6, v1

    move-object/from16 v1, p0

    move/from16 v31, v2

    move-object/from16 v2, p1

    move/from16 v32, v3

    move v3, v8

    move/from16 v33, v4

    move-object/from16 v16, v5

    move/from16 v5, v32

    move/from16 v19, v6

    move-wide/from16 v35, v29

    move-object/from16 v22, v7

    move/from16 v7, v24

    move/from16 v37, v8

    move-object/from16 v8, v16

    move/from16 v16, v13

    move v13, v9

    move/from16 v43, v17

    move/from16 v17, v15

    move/from16 v15, v43

    move-object/from16 v9, v22

    invoke-direct/range {v1 .. v9}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    move/from16 v9, v37

    goto :goto_d

    :cond_33
    move/from16 v19, v1

    move/from16 v31, v2

    move/from16 v32, v3

    move/from16 v33, v4

    move-wide/from16 v35, v6

    move/from16 v16, v13

    move v13, v9

    move/from16 v43, v17

    move/from16 v17, v15

    move/from16 v15, v43

    move v9, v8

    :goto_d
    int-to-float v1, v9

    move/from16 v2, v32

    int-to-float v3, v2

    div-float/2addr v1, v3

    move/from16 v8, v33

    int-to-float v4, v8

    move/from16 v5, v19

    int-to-float v6, v5

    div-float/2addr v4, v6

    .line 16745
    invoke-static {v1, v4}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float/2addr v3, v1

    float-to-int v3, v3

    mul-float/2addr v6, v1

    float-to-int v4, v6

    .line 16750
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v6}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v6

    if-nez v6, :cond_36

    .line 16751
    iget v6, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v7, 0x1

    if-eq v6, v7, :cond_35

    iget v6, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v6, v7, :cond_34

    goto :goto_e

    .line 16754
    :cond_34
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v6, :cond_36

    iget-boolean v6, v6, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v6, :cond_36

    const/4 v6, 0x1

    goto :goto_f

    .line 16752
    :cond_35
    :goto_e
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v6

    goto :goto_f

    :cond_36
    const/4 v6, 0x0

    :goto_f
    if-eqz v6, :cond_37

    const/high16 v6, 0x3f800000    # 1.0f

    const/high16 v7, -0x40800000    # -1.0f

    .line 16758
    invoke-virtual {v11, v7, v6}, Landroid/graphics/Canvas;->scale(FF)V

    goto :goto_10

    :cond_37
    const/high16 v6, 0x3f800000    # 1.0f

    .line 16761
    :goto_10
    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    move/from16 v6, v31

    invoke-virtual {v7, v6}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16762
    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    move/from16 v33, v8

    neg-int v8, v3

    div-int/2addr v8, v15

    move/from16 v18, v14

    int-to-float v14, v8

    move/from16 v37, v9

    neg-int v9, v4

    div-int/2addr v9, v15

    int-to-float v15, v9

    move/from16 v19, v0

    int-to-float v0, v3

    move/from16 v30, v12

    int-to-float v12, v4

    invoke-virtual {v7, v14, v15, v0, v12}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16763
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    .line 16765
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v0, :cond_3a

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_3a

    const/4 v7, 0x2

    .line 16766
    div-int/2addr v3, v7

    div-int/2addr v4, v7

    invoke-virtual {v11, v8, v9, v3, v4}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 16767
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    if-ne v0, v2, :cond_39

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v0

    if-eq v0, v5, :cond_38

    goto :goto_11

    :cond_38
    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    goto :goto_12

    .line 16768
    :cond_39
    :goto_11
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v12, 0x40000000    # 2.0f

    invoke-static {v2, v12}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-static {v5, v12}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->measure(II)V

    .line 16769
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/4 v14, 0x0

    invoke-virtual {v0, v14, v14, v2, v5}, Landroid/widget/FrameLayout;->layout(IIII)V

    .line 16771
    :goto_12
    invoke-virtual {v11, v1, v1}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v0, v2

    const/4 v1, 0x2

    .line 16772
    div-int/2addr v0, v1

    int-to-float v0, v0

    neg-int v2, v5

    div-int/2addr v2, v1

    int-to-float v1, v2

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16773
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 16774
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    goto :goto_13

    :cond_3a
    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    .line 16777
    :goto_13
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_14

    :cond_3b
    move/from16 v19, v0

    move/from16 v33, v4

    move-wide/from16 v35, v6

    move/from16 v37, v8

    move/from16 v30, v12

    move/from16 v16, v13

    move/from16 v18, v14

    move/from16 v17, v15

    const/high16 v12, 0x40000000    # 2.0f

    move v6, v2

    move v14, v5

    move v13, v9

    .line 16779
    :goto_14
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    neg-float v1, v6

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16781
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    div-float v9, v13, v30

    move/from16 v1, v19

    .line 16782
    invoke-virtual {v11, v1, v9}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v0, v37

    int-to-float v1, v0

    .line 16783
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v3, 0x3f800000    # 1.0f

    add-float/2addr v2, v3

    mul-float/2addr v1, v2

    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v1, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    neg-float v2, v13

    div-float v2, v2, v30

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16784
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v2, 0x1

    aget-object v1, v1, v2

    sub-float v8, v3, v21

    invoke-virtual {v1, v8}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 16785
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 16786
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 16788
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_3c

    .line 16789
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v6}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16792
    :cond_3c
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_15

    :cond_3d
    move/from16 v33, v4

    move-wide/from16 v35, v6

    move v0, v8

    move/from16 v30, v12

    move/from16 v16, v13

    move/from16 v18, v14

    move/from16 v17, v15

    const/4 v2, 0x1

    const/high16 v12, 0x40000000    # 2.0f

    move v14, v5

    move v13, v9

    .line 16794
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_3e

    .line 16795
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16802
    :cond_3e
    :goto_15
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v1, :cond_3f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v2, v18, v1

    if-lez v2, :cond_3f

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_3f

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_3f

    sub-float v1, v18, v1

    int-to-float v2, v0

    div-float/2addr v1, v2

    const/high16 v2, 0x3f800000    # 1.0f

    .line 16803
    invoke-static {v2, v1}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float v3, v1, v20

    sub-float v8, v2, v1

    .line 16806
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    move v15, v8

    move v8, v1

    goto :goto_16

    :cond_3f
    move/from16 v8, v18

    const/4 v3, 0x0

    const/high16 v15, 0x3f800000    # 1.0f

    .line 16808
    :goto_16
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_40

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v1, :cond_40

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_40

    const/4 v9, 0x1

    goto :goto_17

    :cond_40
    move v9, v14

    .line 16809
    :goto_17
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-nez v1, :cond_42

    if-eqz v9, :cond_41

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v1, :cond_41

    goto :goto_18

    :cond_41
    move/from16 v37, v0

    move/from16 v31, v8

    move/from16 v17, v13

    move v0, v15

    goto/16 :goto_41

    .line 16810
    :cond_42
    :goto_18
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16811
    div-int/lit8 v1, v0, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v2

    add-int/2addr v1, v2

    int-to-float v1, v1

    div-int/lit8 v4, v33, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v2

    add-int/2addr v4, v2

    int-to-float v2, v4

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16812
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x3

    if-eq v1, v2, :cond_43

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_19

    :cond_43
    const/4 v1, 0x0

    :goto_19
    add-float/2addr v1, v13

    invoke-virtual {v11, v8, v1}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v7, v30, v3

    .line 16813
    invoke-virtual {v11, v7, v7}, Landroid/graphics/Canvas;->scale(FF)V

    move/from16 v1, v17

    .line 16814
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    .line 16815
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v1, v2, :cond_45

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v1, :cond_45

    const/4 v1, 0x1

    .line 16816
    invoke-direct {v10, v1, v14}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v2

    .line 16817
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    sget-object v3, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v3, v3, Landroid/graphics/Point;->y:I

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v4

    sub-int/2addr v3, v2

    invoke-static {v3}, Ljava/lang/Math;->abs(I)I

    move-result v3

    const/16 v4, 0x14

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    if-ge v3, v4, :cond_44

    const/4 v4, 0x1

    goto :goto_1a

    :cond_44
    move v4, v14

    :goto_1a
    invoke-virtual {v1, v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v1

    sub-int/2addr v2, v1

    .line 16818
    invoke-direct {v10, v14, v14}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v1

    sub-int/2addr v2, v1

    int-to-float v1, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    .line 16819
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v2

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float v2, v3, v2

    mul-float/2addr v1, v2

    const/4 v2, 0x0

    invoke-virtual {v11, v2, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16823
    :cond_45
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v1, :cond_4d

    if-eqz v9, :cond_47

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-nez v1, :cond_46

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_47

    :cond_46
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v1, :cond_47

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-eqz v1, :cond_4d

    .line 16824
    :cond_47
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_4a

    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_4a

    .line 16825
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    neg-int v3, v1

    const/4 v4, 0x2

    div-int/lit8 v6, v3, 0x2

    neg-int v3, v2

    div-int/lit8 v5, v3, 0x2

    const/high16 v17, 0x3f800000    # 1.0f

    cmpg-float v19, v15, v17

    if-gez v19, :cond_48

    int-to-float v3, v6

    int-to-float v4, v5

    add-int/2addr v1, v6

    int-to-float v1, v1

    add-int/2addr v2, v5

    int-to-float v2, v2

    mul-float v12, v15, v26

    float-to-int v12, v12

    const/16 v20, 0x1f

    move/from16 v21, v1

    move-object/from16 v1, p1

    move/from16 v22, v2

    move v2, v3

    move v3, v4

    move/from16 v4, v21

    move v14, v5

    move/from16 v5, v22

    move/from16 v31, v8

    move v8, v6

    move/from16 v43, v17

    move/from16 v17, v13

    move/from16 v13, v43

    move v6, v12

    move v12, v7

    move/from16 v7, v20

    .line 16827
    invoke-virtual/range {v1 .. v7}, Landroid/graphics/Canvas;->saveLayerAlpha(FFFFII)I

    goto :goto_1b

    :cond_48
    move v14, v5

    move v12, v7

    move/from16 v31, v8

    move v8, v6

    move/from16 v43, v17

    move/from16 v17, v13

    move/from16 v13, v43

    .line 16829
    :goto_1b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    int-to-float v2, v8

    int-to-float v3, v14

    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v11, v1, v2, v3, v4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    if-gez v19, :cond_49

    .line 16831
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_49
    move/from16 v8, v33

    goto :goto_1d

    :cond_4a
    move v12, v7

    move/from16 v31, v8

    move/from16 v17, v13

    const/high16 v13, 0x3f800000    # 1.0f

    .line 16834
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v15}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16835
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    .line 16836
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v2

    .line 16838
    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v3, :cond_4b

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v3, :cond_4b

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-ne v3, v4, :cond_4b

    const/4 v3, 0x0

    .line 16839
    invoke-direct {v10, v3}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v4

    move/from16 v8, v33

    goto :goto_1c

    :cond_4b
    int-to-float v3, v0

    int-to-float v4, v1

    div-float/2addr v3, v4

    move/from16 v8, v33

    int-to-float v4, v8

    int-to-float v5, v2

    div-float/2addr v4, v5

    .line 16841
    invoke-static {v3, v4}, Ljava/lang/Math;->min(FF)F

    move-result v4

    :goto_1c
    int-to-float v1, v1

    mul-float/2addr v1, v4

    float-to-int v1, v1

    int-to-float v2, v2

    mul-float/2addr v2, v4

    float-to-int v2, v2

    .line 16845
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    neg-int v4, v1

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v4, v4

    neg-int v6, v2

    div-int/2addr v6, v5

    int-to-float v5, v6

    int-to-float v1, v1

    int-to-float v2, v2

    invoke-virtual {v3, v4, v5, v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16846
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_4c

    .line 16847
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    goto :goto_1d

    :cond_4c
    const/4 v7, 0x1

    goto :goto_1e

    :cond_4d
    move v12, v7

    move/from16 v31, v8

    move/from16 v17, v13

    move/from16 v8, v33

    const/high16 v13, 0x3f800000    # 1.0f

    :goto_1d
    const/4 v7, 0x0

    :goto_1e
    if-eqz v9, :cond_4f

    .line 16856
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v1, :cond_4f

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_4f

    .line 16857
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_4e

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_1f

    :cond_4e
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 16858
    :goto_1f
    invoke-virtual {v1}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    .line 16859
    invoke-virtual {v1}, Landroid/view/View;->getMeasuredHeight()I

    move-result v1

    goto :goto_20

    .line 16861
    :cond_4f
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    .line 16862
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    :goto_20
    int-to-float v3, v0

    int-to-float v4, v2

    div-float v5, v3, v4

    int-to-float v6, v8

    int-to-float v14, v1

    div-float v13, v6, v14

    move/from16 v19, v2

    .line 16865
    invoke-static {v5, v13}, Ljava/lang/Math;->min(FF)F

    move-result v2

    move/from16 v20, v1

    mul-float v1, v4, v2

    float-to-int v1, v1

    move/from16 v21, v13

    mul-float v13, v14, v2

    float-to-int v13, v13

    move/from16 v33, v8

    .line 16871
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v8}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v8

    move/from16 v37, v0

    if-nez v8, :cond_55

    .line 16872
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v0, 0x3

    move/from16 v34, v9

    if-eq v8, v0, :cond_53

    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v9, v0, :cond_50

    goto :goto_22

    .line 16874
    :cond_50
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v38, v13

    const/4 v13, 0x1

    if-ne v0, v13, :cond_51

    if-eqz v9, :cond_54

    const/4 v0, 0x3

    if-eq v8, v0, :cond_56

    const/4 v9, 0x2

    if-eq v8, v9, :cond_56

    goto :goto_23

    .line 16877
    :cond_51
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_52

    const/4 v0, -0x1

    if-ne v9, v0, :cond_54

    goto :goto_21

    :cond_52
    const/4 v0, -0x1

    :goto_21
    if-eqz v8, :cond_54

    const/4 v13, 0x1

    if-eq v8, v13, :cond_54

    if-eq v9, v0, :cond_56

    goto :goto_23

    :cond_53
    :goto_22
    move/from16 v38, v13

    :cond_54
    :goto_23
    const/4 v0, 0x1

    goto :goto_24

    :cond_55
    move/from16 v34, v9

    move/from16 v38, v13

    :cond_56
    const/4 v0, 0x0

    :goto_24
    if-eqz v0, :cond_76

    .line 16885
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v0

    const/16 v9, 0x5a

    if-eq v0, v9, :cond_58

    const/16 v9, 0x10e

    if-ne v0, v9, :cond_57

    goto :goto_25

    :cond_57
    move/from16 v9, v19

    move/from16 v13, v20

    goto :goto_26

    :cond_58
    :goto_25
    move/from16 v13, v19

    move/from16 v9, v20

    .line 16896
    :goto_26
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v39, v1

    const/4 v1, 0x1

    if-eq v8, v1, :cond_5b

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v8, 0x3

    if-eq v1, v8, :cond_59

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v8, :cond_5b

    :cond_59
    move/from16 v40, v15

    :cond_5a
    :goto_27
    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_28

    .line 16898
    :cond_5b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v1, :cond_5f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v8, -0x1

    if-eq v1, v8, :cond_5f

    .line 16899
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    move/from16 v40, v15

    const/4 v15, 0x1

    if-eq v8, v15, :cond_5a

    if-eq v1, v15, :cond_5a

    const/4 v15, 0x2

    if-eq v8, v15, :cond_5c

    const/4 v15, 0x3

    if-ne v8, v15, :cond_5d

    :cond_5c
    const/4 v8, -0x1

    if-ne v1, v8, :cond_5d

    goto :goto_27

    :cond_5d
    if-nez v1, :cond_5e

    .line 16902
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_28

    .line 16904
    :cond_5e
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    const/high16 v8, 0x3f800000    # 1.0f

    sub-float v1, v8, v1

    move v8, v1

    goto :goto_28

    :cond_5f
    move/from16 v40, v15

    .line 16907
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v8, 0x2

    if-eq v1, v8, :cond_60

    const/4 v8, 0x3

    if-ne v1, v8, :cond_5a

    :cond_60
    const/4 v8, 0x0

    .line 16909
    :goto_28
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v1

    .line 16910
    iget-object v15, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v9, v9

    const/high16 v19, 0x3f800000    # 1.0f

    sub-float v20, v19, v1

    sub-float v22, v19, v8

    mul-float v20, v20, v22

    add-float v1, v1, v20

    mul-float/2addr v1, v9

    float-to-int v1, v1

    int-to-float v13, v13

    sub-float v20, v19, v15

    mul-float v20, v20, v22

    add-float v15, v15, v20

    mul-float/2addr v15, v13

    float-to-int v15, v15

    move/from16 v41, v7

    int-to-float v7, v1

    div-float v19, v3, v7

    move/from16 v20, v1

    int-to-float v1, v15

    mul-float v23, v19, v1

    cmpl-float v23, v23, v6

    if-lez v23, :cond_61

    div-float v19, v6, v1

    :cond_61
    move/from16 v23, v15

    .line 16917
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v24, v8

    const/4 v8, 0x1

    if-eq v15, v8, :cond_64

    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v15, v8, :cond_62

    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v8, :cond_64

    :cond_62
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v8, v8, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v8, :cond_64

    mul-float v7, v7, v19

    mul-float v1, v1, v19

    mul-float v8, v5, v14

    cmpl-float v8, v8, v6

    if-lez v8, :cond_63

    move/from16 v5, v21

    :cond_63
    mul-float/2addr v4, v5

    div-float/2addr v4, v12

    mul-float/2addr v14, v5

    div-float/2addr v14, v12

    sub-float/2addr v4, v7

    mul-float v4, v4, v22

    add-float/2addr v7, v4

    sub-float/2addr v14, v1

    mul-float v14, v14, v22

    add-float/2addr v1, v14

    neg-float v4, v7

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    neg-float v8, v1

    div-float/2addr v8, v5

    div-float/2addr v7, v5

    div-float/2addr v1, v5

    .line 16930
    invoke-virtual {v11, v4, v8, v7, v1}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 16932
    :cond_64
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_66

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v1

    if-eqz v1, :cond_65

    goto :goto_29

    .line 16980
    :cond_65
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_75

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16981
    invoke-virtual {v0, v1}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16982
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0, v1}, Landroid/view/TextureView;->setScaleY(F)V

    .line 16983
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_75

    .line 16984
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16985
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleY(F)V

    goto/16 :goto_31

    .line 16934
    :cond_66
    :goto_29
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_6b

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v4, :cond_67

    goto :goto_2c

    .line 16956
    :cond_67
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_69

    .line 16957
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v3, :cond_68

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_68

    const/high16 v8, -0x40800000    # -1.0f

    goto :goto_2a

    :cond_68
    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2a
    invoke-virtual {v1, v8}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16958
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_69

    .line 16959
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v3}, Landroid/view/TextureView;->getScaleX()F

    move-result v3

    invoke-virtual {v1, v3}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16962
    :cond_69
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_6a

    iget v8, v1, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_2b

    :cond_6a
    const/high16 v1, 0x3f800000    # 1.0f

    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2b
    sub-float v3, v8, v1

    mul-float v3, v3, v22

    add-float/2addr v3, v1

    div-float v1, v19, v2

    div-float/2addr v1, v3

    mul-float/2addr v8, v1

    goto :goto_30

    .line 16935
    :cond_6b
    :goto_2c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_6d

    .line 16936
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v4

    if-eqz v4, :cond_6c

    const/high16 v8, -0x40800000    # -1.0f

    goto :goto_2d

    :cond_6c
    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2d
    invoke-virtual {v1, v8}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16937
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_6d

    .line 16938
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v4}, Landroid/view/TextureView;->getScaleX()F

    move-result v4

    invoke-virtual {v1, v4}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16941
    :cond_6d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v1

    const/high16 v4, 0x3f800000    # 1.0f

    sub-float/2addr v1, v4

    mul-float v1, v1, v22

    add-float/2addr v1, v4

    .line 16942
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v4

    div-float/2addr v4, v1

    div-float/2addr v3, v9

    mul-float v1, v3, v13

    cmpl-float v1, v1, v6

    if-lez v1, :cond_6e

    div-float v3, v6, v13

    :cond_6e
    div-float/2addr v3, v2

    mul-float/2addr v4, v3

    .line 16948
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v1, v3, :cond_71

    .line 16949
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_70

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v3, :cond_6f

    goto :goto_2e

    :cond_6f
    if-nez v1, :cond_71

    .line 16952
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v1

    goto :goto_2f

    .line 16950
    :cond_70
    :goto_2e
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v1

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v1, v3

    mul-float v1, v1, v22

    add-float/2addr v1, v3

    :goto_2f
    div-float/2addr v4, v1

    :cond_71
    move v8, v4

    .line 16967
    :goto_30
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v1

    mul-float v1, v1, v24

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v3

    mul-float v3, v3, v24

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16968
    invoke-virtual {v11, v8, v8}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16969
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v1

    mul-float/2addr v1, v9

    mul-float/2addr v1, v2

    mul-float v1, v1, v24

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float/2addr v3, v13

    mul-float/2addr v3, v2

    mul-float v3, v3, v24

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16970
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v1

    int-to-float v0, v0

    add-float/2addr v1, v0

    const/high16 v0, 0x43340000    # 180.0f

    cmpl-float v3, v1, v0

    if-lez v3, :cond_72

    const/high16 v0, 0x43b40000    # 360.0f

    sub-float/2addr v1, v0

    .line 16974
    :cond_72
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v0, v3, :cond_74

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v0, v3, :cond_73

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v0, v3, :cond_74

    .line 16975
    :cond_73
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    goto :goto_31

    :cond_74
    mul-float v1, v1, v24

    .line 16977
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    :cond_75
    :goto_31
    move/from16 v8, v19

    move/from16 v0, v20

    move/from16 v1, v23

    goto :goto_32

    :cond_76
    move/from16 v39, v1

    move/from16 v41, v7

    move/from16 v40, v15

    move/from16 v0, v19

    move/from16 v1, v20

    const/high16 v8, 0x3f800000    # 1.0f

    .line 16990
    :goto_32
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v3, v4, :cond_78

    .line 16991
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x1

    if-ne v4, v5, :cond_77

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    int-to-float v4, v4

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    goto :goto_33

    :cond_77
    const/4 v4, 0x0

    :goto_33
    invoke-virtual {v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getRenderView()Lorg/telegram/ui/Components/Paint/RenderView;

    move-result-object v5

    invoke-virtual {v5}, Landroid/view/TextureView;->getScaleX()F

    move-result v5

    mul-float/2addr v4, v5

    add-float v22, v17, v4

    int-to-float v0, v0

    mul-float v23, v0, v8

    int-to-float v0, v1

    mul-float v24, v0, v8

    move-object/from16 v19, v3

    move/from16 v20, v30

    move/from16 v21, v18

    invoke-virtual/range {v19 .. v24}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setTransform(FFFFF)V

    :cond_78
    if-eqz v41, :cond_79

    .line 16994
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-nez v0, :cond_79

    move/from16 v7, v16

    move/from16 v0, v40

    .line 16995
    invoke-direct {v10, v11, v7, v0}, Lorg/telegram/ui/PhotoViewer;->drawCenterImageInternal(Landroid/graphics/Canvas;FF)V

    goto :goto_34

    :cond_79
    move/from16 v7, v16

    move/from16 v0, v40

    .line 16997
    :goto_34
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/4 v1, 0x0

    cmpl-float v3, v7, v1

    if-lez v3, :cond_7a

    .line 17000
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v3, 0x40000000    # 2.0f

    mul-float v13, v7, v3

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float v8, v3, v13

    .line 17001
    invoke-virtual {v11, v8, v3}, Landroid/graphics/Canvas;->scale(FF)V

    mul-float v13, v7, v25

    sub-float v8, v3, v7

    mul-float/2addr v13, v8

    const/high16 v3, 0x3e800000    # 0.25f

    mul-float/2addr v13, v3

    .line 17002
    invoke-virtual {v11, v1, v13}, Landroid/graphics/Canvas;->skew(FF)V

    move/from16 v1, v39

    const/4 v8, 0x1

    goto :goto_35

    :cond_7a
    move/from16 v1, v39

    const/4 v8, 0x0

    :goto_35
    neg-int v3, v1

    const/4 v4, 0x2

    .line 17005
    div-int/2addr v3, v4

    int-to-float v9, v3

    move/from16 v3, v38

    neg-int v5, v3

    div-int/2addr v5, v4

    int-to-float v12, v5

    invoke-virtual {v11, v9, v12}, Landroid/graphics/Canvas;->translate(FF)V

    if-nez v34, :cond_7b

    .line 17006
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-nez v4, :cond_7c

    .line 17007
    :cond_7b
    invoke-virtual {v11, v2, v2}, Landroid/graphics/Canvas;->scale(FF)V

    :cond_7c
    if-eqz v34, :cond_8a

    .line 17010
    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-nez v4, :cond_7f

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_7e

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    if-nez v4, :cond_7d

    goto :goto_37

    :cond_7d
    :goto_36
    const/4 v4, 0x1

    goto :goto_38

    :cond_7e
    :goto_37
    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_7f

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v4, :cond_7f

    goto :goto_36

    .line 17011
    :goto_38
    iput-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    const/4 v4, 0x0

    .line 17012
    iput v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 17013
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    iput-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    .line 17014
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    .line 17016
    :cond_7f
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v4, :cond_80

    .line 17017
    iget v5, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    mul-float v15, v0, v5

    invoke-virtual {v4, v15}, Landroid/view/TextureView;->setAlpha(F)V

    .line 17019
    :cond_80
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v5, v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v5, :cond_81

    .line 17020
    check-cast v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    sub-int v5, v37, v1

    const/4 v6, 0x2

    .line 17021
    div-int/2addr v5, v6

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v13

    add-int/2addr v5, v13

    int-to-float v5, v5

    add-float v5, v5, v31

    sub-int v13, v33, v3

    div-int/2addr v13, v6

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v6

    add-int/2addr v13, v6

    int-to-float v6, v13

    add-float v6, v6, v17

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    add-float/2addr v6, v13

    int-to-float v1, v1

    int-to-float v3, v3

    invoke-virtual {v4, v5, v6, v1, v3}, Lorg/telegram/ui/Components/VideoEditTextureView;->setViewRect(FFFF)V

    .line 17023
    :cond_81
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v1, :cond_82

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v3, :cond_82

    invoke-virtual {v1}, Landroid/view/SurfaceView;->getVisibility()I

    move-result v1

    if-eqz v1, :cond_82

    .line 17024
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    const/4 v3, 0x0

    invoke-virtual {v1, v3}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 17026
    :cond_82
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_83

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    if-eqz v1, :cond_84

    .line 17027
    :cond_83
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    .line 17029
    :cond_84
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_86

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v3, v0, v1

    if-eqz v3, :cond_86

    .line 17030
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    if-nez v3, :cond_85

    .line 17031
    new-instance v3, Landroid/graphics/Paint;

    invoke-direct {v3}, Landroid/graphics/Paint;-><init>()V

    iput-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    .line 17033
    :cond_85
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    sub-float v4, v1, v0

    mul-float v4, v4, v26

    float-to-int v4, v4

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    const/high16 v3, -0x40800000    # -1.0f

    const/high16 v4, -0x40800000    # -1.0f

    .line 17034
    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v5

    int-to-float v5, v5

    add-float/2addr v5, v1

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v6, v1

    iget-object v13, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    move-object/from16 v1, p1

    move v14, v2

    move v2, v3

    move v3, v4

    move v4, v5

    move v5, v6

    move-object v6, v13

    invoke-virtual/range {v1 .. v6}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    goto :goto_39

    :cond_86
    move v14, v2

    .line 17037
    :goto_39
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v1, :cond_88

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpg-float v3, v1, v2

    if-gez v3, :cond_88

    move-wide/from16 v4, v35

    long-to-float v2, v4

    .line 17038
    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    if-eqz v3, :cond_87

    const/high16 v3, 0x42c80000    # 100.0f

    goto :goto_3a

    :cond_87
    const/high16 v3, 0x43480000    # 200.0f

    :goto_3a
    div-float/2addr v2, v3

    add-float/2addr v1, v2

    iput v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 17039
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17040
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 17041
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-lez v1, :cond_89

    .line 17042
    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    goto :goto_3b

    :cond_88
    move-wide/from16 v4, v35

    .line 17045
    :cond_89
    :goto_3b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    goto :goto_3c

    :cond_8a
    move v14, v2

    move-wide/from16 v4, v35

    :goto_3c
    if-eqz v8, :cond_8c

    .line 17048
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 17049
    invoke-virtual {v11, v9, v12}, Landroid/graphics/Canvas;->translate(FF)V

    if-nez v34, :cond_8b

    .line 17050
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_8c

    .line 17051
    :cond_8b
    invoke-virtual {v11, v14, v14}, Landroid/graphics/Canvas;->scale(FF)V

    .line 17054
    :cond_8c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_8e

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v1, :cond_8d

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x2

    if-ne v1, v2, :cond_8d

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v2, -0x1

    if-eq v1, v2, :cond_8e

    .line 17055
    :cond_8d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    const/4 v3, 0x0

    invoke-virtual {v11, v3, v3, v1, v2}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 17056
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    .line 17058
    :cond_8e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    if-eqz v41, :cond_8f

    .line 17060
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_8f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v3, v1, v2

    if-eqz v3, :cond_8f

    sub-float v8, v2, v1

    mul-float/2addr v8, v0

    .line 17061
    invoke-direct {v10, v11, v7, v8}, Lorg/telegram/ui/PhotoViewer;->drawCenterImageInternal(Landroid/graphics/Canvas;FF)V

    .line 17063
    :cond_8f
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    const/4 v1, 0x0

    .line 17064
    :goto_3d
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    array-length v3, v2

    if-ge v1, v3, :cond_97

    .line 17065
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v3, v3, v1

    if-nez v3, :cond_90

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v3, v1

    const/4 v6, 0x0

    cmpl-float v3, v3, v6

    if-eqz v3, :cond_92

    .line 17066
    :cond_90
    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v3, v1

    mul-float v3, v3, v26

    float-to-int v3, v3

    invoke-virtual {v2, v3}, Landroid/graphics/drawable/GradientDrawable;->setAlpha(I)V

    if-nez v1, :cond_91

    .line 17068
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x5

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v6

    const/4 v7, 0x0

    invoke-virtual {v2, v7, v7, v3, v6}, Landroid/graphics/drawable/GradientDrawable;->setBounds(IIII)V

    goto :goto_3e

    .line 17070
    :cond_91
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    div-int/lit8 v6, v6, 0x5

    sub-int/2addr v3, v6

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v7

    const/4 v8, 0x0

    invoke-virtual {v2, v3, v8, v6, v7}, Landroid/graphics/drawable/GradientDrawable;->setBounds(IIII)V

    .line 17072
    :goto_3e
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    invoke-virtual {v2, v11}, Landroid/graphics/drawable/GradientDrawable;->draw(Landroid/graphics/Canvas;)V

    .line 17074
    :cond_92
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v2, v2, v1

    if-eqz v2, :cond_94

    .line 17075
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v2, v1

    const/high16 v6, 0x3f800000    # 1.0f

    cmpg-float v3, v3, v6

    if-gez v3, :cond_96

    .line 17076
    aget v3, v2, v1

    long-to-float v7, v4

    const/high16 v8, 0x43340000    # 180.0f

    div-float/2addr v7, v8

    add-float/2addr v3, v7

    aput v3, v2, v1

    .line 17077
    aget v3, v2, v1

    cmpl-float v3, v3, v6

    if-lez v3, :cond_93

    .line 17078
    aput v6, v2, v1

    .line 17080
    :cond_93
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_3f

    .line 17083
    :cond_94
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v2, v1

    const/4 v6, 0x0

    cmpl-float v3, v3, v6

    if-lez v3, :cond_96

    .line 17084
    aget v3, v2, v1

    long-to-float v7, v4

    const/high16 v8, 0x43340000    # 180.0f

    div-float/2addr v7, v8

    sub-float/2addr v3, v7

    aput v3, v2, v1

    .line 17085
    aget v3, v2, v1

    cmpg-float v3, v3, v6

    if-gez v3, :cond_95

    .line 17086
    aput v6, v2, v1

    .line 17088
    :cond_95
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_40

    :cond_96
    :goto_3f
    const/high16 v8, 0x43340000    # 180.0f

    :goto_40
    add-int/lit8 v1, v1, 0x1

    goto/16 :goto_3d

    :cond_97
    :goto_41
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move/from16 v3, v31

    move/from16 v4, v30

    move/from16 v5, v17

    move v6, v0

    .line 17093
    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer;->drawProgress(Landroid/graphics/Canvas;FFFF)V

    .line 17095
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v2, :cond_a2

    .line 17096
    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-eqz v1, :cond_a0

    .line 17097
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 17098
    div-int/lit8 v8, v37, 0x2

    int-to-float v1, v8

    div-int/lit8 v4, v33, 0x2

    int-to-float v2, v4

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v9, v37

    int-to-float v12, v9

    .line 17099
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v2, 0x3f800000    # 1.0f

    add-float/2addr v1, v2

    mul-float/2addr v1, v12

    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v1, v2

    neg-float v1, v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    add-float v1, v1, v18

    const/4 v2, 0x0

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17100
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v13

    .line 17101
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v14

    .line 17102
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    if-nez v1, :cond_98

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_98

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v1

    if-eqz v1, :cond_98

    .line 17103
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v15, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move v3, v9

    move/from16 v4, v33

    move v5, v13

    move v6, v14

    move/from16 v7, v30

    move/from16 v40, v0

    move/from16 v0, v33

    move/from16 v42, v9

    move-object v9, v15

    invoke-direct/range {v1 .. v9}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_42

    :cond_98
    move/from16 v40, v0

    move/from16 v42, v9

    move/from16 v0, v33

    :goto_42
    int-to-float v1, v13

    div-float/2addr v12, v1

    int-to-float v0, v0

    int-to-float v2, v14

    div-float/2addr v0, v2

    .line 17107
    invoke-static {v12, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float/2addr v1, v0

    float-to-int v1, v1

    mul-float/2addr v2, v0

    float-to-int v2, v2

    .line 17112
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_9b

    .line 17113
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x1

    if-eq v3, v4, :cond_9a

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v4, :cond_99

    goto :goto_43

    .line 17116
    :cond_99
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v3, :cond_9b

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_9b

    const/4 v4, 0x1

    goto :goto_44

    .line 17114
    :cond_9a
    :goto_43
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v4

    goto :goto_44

    :cond_9b
    const/4 v4, 0x0

    :goto_44
    if-eqz v4, :cond_9c

    const/high16 v3, -0x40800000    # -1.0f

    const/high16 v4, 0x3f800000    # 1.0f

    .line 17120
    invoke-virtual {v11, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    goto :goto_45

    :cond_9c
    const/high16 v4, 0x3f800000    # 1.0f

    .line 17123
    :goto_45
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 17124
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    neg-int v4, v1

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v6, v4

    neg-int v7, v2

    div-int/2addr v7, v5

    int-to-float v8, v7

    int-to-float v9, v1

    int-to-float v12, v2

    invoke-virtual {v3, v6, v8, v9, v12}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 17125
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    .line 17127
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v3, :cond_9f

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v3

    if-nez v3, :cond_9f

    .line 17128
    div-int/2addr v1, v5

    div-int/2addr v2, v5

    invoke-virtual {v11, v4, v7, v1, v2}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 17129
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    if-ne v1, v13, :cond_9d

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v1

    if-eq v1, v14, :cond_9e

    .line 17130
    :cond_9d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v2, 0x40000000    # 2.0f

    invoke-static {v13, v2}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-static {v14, v2}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v2

    invoke-virtual {v1, v3, v2}, Landroid/widget/FrameLayout;->measure(II)V

    .line 17131
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/4 v2, 0x0

    invoke-virtual {v1, v2, v2, v13, v14}, Landroid/widget/FrameLayout;->layout(IIII)V

    .line 17133
    :cond_9e
    invoke-virtual {v11, v0, v0}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v0, v13

    const/4 v1, 0x2

    .line 17134
    div-int/2addr v0, v1

    int-to-float v0, v0

    neg-int v2, v14

    div-int/2addr v2, v1

    int-to-float v1, v2

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17135
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 17136
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    goto :goto_46

    :cond_9f
    const/high16 v1, 0x3f800000    # 1.0f

    .line 17139
    :goto_46
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_47

    :cond_a0
    move/from16 v40, v0

    move/from16 v42, v37

    const/high16 v1, 0x3f800000    # 1.0f

    .line 17141
    :goto_47
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sub-float v8, v1, v40

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 17143
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    div-float v9, v17, v30

    move/from16 v0, v18

    .line 17144
    invoke-virtual {v11, v0, v9}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v0, v42

    int-to-float v0, v0

    .line 17145
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    add-float/2addr v2, v1

    mul-float/2addr v0, v2

    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    neg-float v0, v0

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    move/from16 v2, v17

    neg-float v1, v2

    div-float v1, v1, v30

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17146
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x2

    aget-object v0, v0, v1

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 17147
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 17148
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 17150
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_a1

    .line 17151
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 17153
    :cond_a1
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_48

    :cond_a2
    move/from16 v2, v17

    const/4 v1, 0x2

    .line 17155
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_a3

    .line 17156
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v1

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 17160
    :cond_a3
    :goto_48
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-eqz v0, :cond_a9

    const/4 v1, 0x1

    sub-int/2addr v0, v1

    .line 17161
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-nez v0, :cond_a8

    .line 17163
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_a6

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-nez v1, :cond_a6

    .line 17165
    :try_start_0
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    const/4 v1, 0x0

    goto :goto_4a

    :catchall_0
    move-exception v0

    .line 17167
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_a4

    .line 17168
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->recycle()V

    const/4 v1, 0x0

    .line 17169
    iput-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    goto :goto_49

    :cond_a4
    const/4 v1, 0x0

    .line 17171
    :goto_49
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 17173
    :goto_4a
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_a5

    .line 17174
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 17175
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto :goto_4b

    .line 17177
    :cond_a5
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 17180
    :cond_a6
    :goto_4b
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v0, :cond_a7

    .line 17184
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda63;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda63;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_4c

    :cond_a7
    const/4 v1, 0x1

    .line 17190
    invoke-static {v1}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(Z)V

    goto :goto_4c

    .line 17193
    :cond_a8
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17197
    :cond_a9
    :goto_4c
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_aa

    .line 17198
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 17201
    :cond_aa
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v0, :cond_ab

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoForwardDrawable;->isAnimating()Z

    move-result v0

    if-eqz v0, :cond_ab

    .line 17202
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v0

    int-to-float v0, v0

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v1, v3

    mul-float/2addr v0, v1

    float-to-int v0, v0

    const/4 v1, 0x2

    div-int/2addr v0, v1

    .line 17203
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLeft()I

    move-result v3

    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getTop()I

    move-result v4

    sub-int/2addr v4, v0

    div-float v9, v2, v30

    float-to-int v2, v9

    add-int/2addr v4, v2

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getRight()I

    move-result v5

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getBottom()I

    move-result v6

    add-int/2addr v6, v0

    add-int/2addr v6, v2

    invoke-virtual {v1, v3, v4, v5, v6}, Landroid/graphics/drawable/Drawable;->setBounds(IIII)V

    .line 17204
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v0, v11}, Lorg/telegram/ui/Components/VideoForwardDrawable;->draw(Landroid/graphics/Canvas;)V

    .line 17207
    :cond_ab
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->drawFancyShadows(Landroid/graphics/Canvas;)V

    :cond_ac
    :goto_4d
    return-void
.end method

.method private onHideView()V
    .locals 2

    .line 8075
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 8076
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 8077
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/LaunchActivity;->removeOnUserLeaveHintListener(Ljava/lang/Runnable;)V

    .line 8079
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1

    const/high16 v0, 0x3f800000    # 1.0f

    .line 8080
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 8081
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    .line 8082
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleX(F)V

    .line 8083
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleY(F)V

    .line 8085
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v1, :cond_1

    .line 8086
    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v1

    .line 8087
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleX(F)V

    .line 8088
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleY(F)V

    :cond_1
    return-void
.end method

.method private onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V
    .locals 5

    if-eqz p2, :cond_5

    .line 1414
    instance-of v0, p1, Landroid/text/style/URLSpan;

    if-eqz v0, :cond_5

    .line 1415
    move-object v0, p1

    check-cast v0, Landroid/text/style/URLSpan;

    invoke-virtual {v0}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v0

    const-string v1, "video"

    .line 1416
    invoke-virtual {v0, v1}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    const/4 v2, 0x1

    if-eqz v1, :cond_1

    .line 1417
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz p1, :cond_6

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_6

    .line 1418
    invoke-static {v0}, Lorg/telegram/messenger/Utilities;->parseInt(Ljava/lang/CharSequence;)Ljava/lang/Integer;

    move-result-object p1

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    .line 1419
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {p2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    const-wide v3, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long p2, v0, v3

    if-nez p2, :cond_0

    int-to-float p1, p1

    .line 1420
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p2}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v0

    double-to-float p2, v0

    div-float/2addr p1, p2

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    goto :goto_0

    .line 1422
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    int-to-long v0, p1

    const-wide/16 v3, 0x3e8

    mul-long/2addr v0, v3

    invoke-virtual {p2, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 1423
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    long-to-float p2, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    long-to-float v0, v0

    div-float/2addr p2, v0

    invoke-virtual {p1, p2, v2}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(FZ)V

    .line 1424
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {p1}, Landroid/view/View;->invalidate()V

    goto :goto_0

    :cond_1
    const-string v1, "#"

    .line 1427
    invoke-virtual {v0, v1}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 1428
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of p1, p1, Lorg/telegram/ui/LaunchActivity;

    if-eqz p1, :cond_6

    .line 1429
    new-instance p1, Lorg/telegram/ui/DialogsActivity;

    const/4 p2, 0x0

    invoke-direct {p1, p2}, Lorg/telegram/ui/DialogsActivity;-><init>(Landroid/os/Bundle;)V

    .line 1430
    invoke-virtual {p1, v0}, Lorg/telegram/ui/DialogsActivity;->setSearchString(Ljava/lang/String;)V

    .line 1431
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast p2, Lorg/telegram/ui/LaunchActivity;

    const/4 v0, 0x0

    invoke-virtual {p2, p1, v0, v2}, Lorg/telegram/ui/LaunchActivity;->presentFragment(Lorg/telegram/ui/ActionBar/BaseFragment;ZZ)Z

    .line 1432
    invoke-virtual {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    goto :goto_0

    .line 1434
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_4

    instance-of v1, p1, Lorg/telegram/ui/Components/URLSpanReplacement;

    if-nez v1, :cond_3

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->shouldShowUrlInAlert(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_4

    .line 1435
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-static {p1, v0, v2, v2}, Lorg/telegram/ui/Components/AlertsCreator;->showOpenUrlAlert(Lorg/telegram/ui/ActionBar/BaseFragment;Ljava/lang/String;ZZ)V

    goto :goto_0

    .line 1437
    :cond_4
    invoke-virtual {p1, p2}, Landroid/text/style/ClickableSpan;->onClick(Landroid/view/View;)V

    goto :goto_0

    .line 1440
    :cond_5
    invoke-virtual {p1, p2}, Landroid/text/style/ClickableSpan;->onClick(Landroid/view/View;)V

    :cond_6
    :goto_0
    return-void
.end method

.method private onLinkLongPress(Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V
    .locals 10

    .line 1446
    new-instance v0, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    const/4 v3, 0x0

    const v4, -0xe3ddd7

    invoke-direct {v0, v1, v3, v2, v4}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;-><init>(Landroid/content/Context;ZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;I)V

    .line 1447
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v1

    const-string v2, "video?"

    invoke-virtual {v1, v2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    const/4 v2, -0x1

    const/4 v5, 0x1

    if-eqz v1, :cond_0

    .line 1449
    :try_start_0
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v6

    const/16 v7, 0x3f

    invoke-virtual {v6, v7}, Ljava/lang/String;->indexOf(I)I

    move-result v6

    add-int/2addr v6, v5

    invoke-virtual {v1, v6}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v1

    .line 1450
    invoke-static {v1}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    :cond_0
    move v1, v2

    :goto_0
    if-ltz v1, :cond_1

    .line 1456
    invoke-static {v1, v3}, Lorg/telegram/messenger/AndroidUtilities;->formatDuration(IZ)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    goto :goto_1

    .line 1458
    :cond_1
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    :goto_1
    const/4 v6, 0x2

    new-array v7, v6, [Ljava/lang/CharSequence;

    .line 1461
    sget v8, Lorg/telegram/messenger/R$string;->Open:I

    const-string v9, "Open"

    invoke-static {v9, v8}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v7, v3

    sget v8, Lorg/telegram/messenger/R$string;->Copy:I

    const-string v9, "Copy"

    invoke-static {v9, v8}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v7, v5

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda21;

    invoke-direct {v8, p0, p1, p2, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda21;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;I)V

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setItems([Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    .line 1523
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda24;

    invoke-direct {p1, p3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda24;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setOnPreDismissListener(Landroid/content/DialogInterface$OnDismissListener;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    .line 1524
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->create()Lorg/telegram/ui/ActionBar/BottomSheet;

    move-result-object p1

    .line 1525
    iput-boolean v5, p1, Lorg/telegram/ui/ActionBar/BottomSheet;->scrollNavBar:Z

    .line 1526
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    .line 1528
    :try_start_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p2, v3, v6}, Landroid/widget/FrameLayout;->performHapticFeedback(II)Z
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    .line 1530
    :catch_0
    invoke-virtual {p1, v3, v2, v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setItemColor(III)V

    .line 1531
    invoke-virtual {p1, v5, v2, v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setItemColor(III)V

    .line 1532
    invoke-virtual {p1, v4}, Lorg/telegram/ui/ActionBar/BottomSheet;->setBackgroundColor(I)V

    const p2, -0x757576

    .line 1533
    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setTitleColor(I)V

    .line 1534
    invoke-virtual {p1, v5}, Lorg/telegram/ui/ActionBar/BottomSheet;->setCalcMandatoryInsets(Z)V

    .line 1535
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object p2

    invoke-static {p2, v4, v3}, Lorg/telegram/messenger/AndroidUtilities;->setNavigationBarColor(Landroid/view/Window;IZ)V

    .line 1536
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object p2

    invoke-static {p2, v3}, Lorg/telegram/messenger/AndroidUtilities;->setLightNavigationBar(Landroid/view/Window;Z)V

    .line 1537
    iput-boolean v5, p1, Lorg/telegram/ui/ActionBar/BottomSheet;->scrollNavBar:Z

    return-void
.end method

.method private onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 6

    .line 15765
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    const/4 v1, 0x1

    if-eqz v0, :cond_0

    .line 15766
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 15768
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_1

    iget-boolean v0, v0, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    if-nez v0, :cond_1

    .line 15769
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    :cond_1
    const/4 v0, 0x0

    .line 15771
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 15772
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 15773
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    .line 15774
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    const/4 v2, 0x0

    .line 15775
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 15776
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 15777
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 15778
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    .line 15779
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    .line 15780
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 15781
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 15782
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 15783
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz v3, :cond_2

    .line 15784
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 15786
    :cond_2
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v3, :cond_3

    .line 15787
    invoke-virtual {v3}, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->reset()V

    .line 15789
    :cond_3
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 15790
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    .line 15791
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v3, :cond_4

    .line 15792
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 15793
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 15795
    :cond_4
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    .line 15796
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v3, :cond_5

    .line 15797
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->removeSecondParentView(Landroid/view/View;)V

    .line 15798
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    :cond_5
    move v3, v0

    :goto_0
    const/4 v4, 0x3

    if-ge v3, v4, :cond_7

    .line 15801
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v5, v4, v3

    if-eqz v5, :cond_6

    .line 15802
    aget-object v4, v4, v3

    const/4 v5, -0x1

    invoke-virtual {v4, v5, v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_6
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 15805
    :cond_7
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    .line 15806
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v3, :cond_8

    .line 15807
    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->destroy()V

    .line 15809
    :cond_8
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/Components/UndoView;->hide(ZI)V

    .line 15810
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15811
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15812
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15813
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15814
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15815
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15816
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda78;

    invoke-direct {v4, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda78;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->post(Ljava/lang/Runnable;)Z

    .line 15831
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_9

    .line 15832
    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->willHidePhotoViewer()V

    .line 15834
    :cond_9
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/GroupedPhotosListView;->clear()V

    .line 15835
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_a

    .line 15836
    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onClose()V

    .line 15838
    :cond_a
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 15839
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v3}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 15840
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 15841
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    .line 15842
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    const/4 v0, 0x0

    .line 15843
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/high16 v0, 0x3f800000    # 1.0f

    .line 15844
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    if-eqz p1, :cond_b

    .line 15846
    iget-object p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15848
    :cond_b
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_c

    .line 15849
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object p1

    invoke-virtual {p1}, Landroid/view/View;->invalidate()V

    .line 15851
    :cond_c
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz p1, :cond_d

    .line 15852
    invoke-virtual {p1}, Landroid/graphics/Bitmap;->recycle()V

    .line 15853
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    :cond_d
    return-void
.end method

.method private onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 31
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/messenger/MessageObject;",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;",
            "Ljava/util/List<",
            "Ljava/lang/Object;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;",
            ")V"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p5

    move-object/from16 v3, p6

    move-object/from16 v4, p7

    move/from16 v5, p8

    move-object/from16 v6, p9

    .line 11785
    invoke-static {}, Lorg/telegram/tgnet/ConnectionsManager;->generateClassGuid()I

    move-result v7

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/4 v7, 0x0

    .line 11786
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    .line 11787
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 11788
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11789
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    .line 11790
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    .line 11791
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 11792
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    const/4 v8, 0x0

    .line 11793
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    .line 11794
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    const/4 v9, 0x0

    .line 11795
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    const-wide/16 v10, 0x0

    .line 11796
    iput-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    const/4 v12, -0x1

    .line 11797
    iput v12, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 11798
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aput-object v7, v13, v8

    const/4 v14, 0x1

    .line 11818
    invoke-static {v14}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v15

    .line 11799
    aput-object v7, v13, v14

    const/4 v12, 0x2

    .line 11800
    aput-object v7, v13, v12

    .line 11801
    iput-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    .line 11802
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    .line 11803
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 11804
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 11805
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    .line 11806
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v13, v13, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v13, v8}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 11807
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    const/4 v7, 0x3

    if-eqz v13, :cond_1

    .line 11808
    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v12, v7, :cond_0

    move v12, v14

    goto :goto_0

    :cond_0
    move v12, v8

    :goto_0
    invoke-virtual {v13, v12}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 11810
    :cond_1
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    .line 11811
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11812
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 11813
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aput-boolean v8, v12, v8

    .line 11814
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v7, v7, v10

    if-nez v7, :cond_2

    move v7, v14

    goto :goto_1

    :cond_2
    const/4 v7, 0x0

    :goto_1
    aput-boolean v7, v12, v14

    const/4 v7, 0x0

    .line 11815
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    .line 11816
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    .line 11817
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    .line 11818
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11819
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 11820
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    .line 11821
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    .line 11822
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11823
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11824
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11825
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11826
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11827
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11828
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11829
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11830
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    if-eqz v7, :cond_3

    .line 11831
    invoke-virtual {v7}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 11833
    :cond_3
    sget v7, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v8, 0x15

    if-le v7, v8, :cond_4

    .line 11834
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setElevation(F)V

    :cond_4
    const/4 v7, 0x0

    :goto_2
    const/4 v8, 0x2

    if-ge v7, v8, :cond_5

    .line 11837
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v8, v8, v7

    invoke-virtual {v8}, Landroid/util/SparseArray;->clear()V

    .line 11838
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v8, v8, v7

    invoke-virtual {v8}, Landroid/util/SparseArray;->clear()V

    add-int/lit8 v7, v7, 0x1

    goto :goto_2

    .line 11840
    :cond_5
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    const/4 v7, 0x0

    .line 11841
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11842
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v8, 0x0

    invoke-virtual {v7, v8, v8, v8, v8}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 11843
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_6

    .line 11844
    invoke-virtual {v7}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    :cond_6
    if-eqz v6, :cond_7

    .line 11846
    iget-object v7, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    goto :goto_3

    :cond_7
    const/4 v7, 0x0

    :goto_3
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v6, :cond_8

    .line 11847
    iget-boolean v7, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->isEvent:Z

    if-eqz v7, :cond_8

    move v7, v14

    goto :goto_4

    :cond_8
    const/4 v7, 0x0

    :goto_4
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    const/4 v7, 0x0

    .line 11848
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11849
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v12, Lorg/telegram/messenger/R$string;->ShowAllMedia:I

    const-string v13, "ShowAllMedia"

    invoke-static {v13, v12}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v8, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    .line 11850
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v8, v7, v7}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11851
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v8, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11852
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v7, :cond_9

    const/4 v8, 0x0

    .line 11853
    invoke-virtual {v7, v8}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    .line 11855
    :cond_9
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v8, 0x7f000000

    invoke-virtual {v7, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 11856
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v8, 0x8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11857
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v12, 0x0

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v13

    invoke-virtual {v7, v13}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11858
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v7, :cond_a

    .line 11859
    invoke-virtual {v7, v12, v12}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 11861
    :cond_a
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11862
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v7, v9}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setTranslationY(F)V

    .line 11863
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v7, v12, v12}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11864
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v12, 0x4

    if-eqz v7, :cond_b

    .line 11865
    invoke-virtual {v7, v12}, Landroid/view/View;->setVisibility(I)V

    .line 11866
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v7, v12}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11867
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v13, 0x0

    invoke-virtual {v7, v13}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    goto :goto_5

    :cond_b
    const/4 v13, 0x0

    .line 11869
    :goto_5
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    if-eqz v7, :cond_c

    .line 11870
    invoke-virtual {v7}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11871
    iput-object v13, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    .line 11873
    :cond_c
    invoke-direct {v0, v14}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    const/4 v7, 0x0

    .line 11874
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 11875
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    .line 11878
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x2

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11879
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v7, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11880
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xa

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11881
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xb

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11882
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xe

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11883
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xf

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11884
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0x11

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11885
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0x10

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11886
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x6

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11887
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11888
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11889
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7, v9}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    const/4 v7, 0x0

    .line 11890
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 11892
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/high16 v13, 0x3f800000    # 1.0f

    invoke-virtual {v7, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11893
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v7, v9}, Landroid/view/View;->setTranslationY(F)V

    .line 11894
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v7, v8}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 11895
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/4 v13, 0x0

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleRightMargin(I)V

    const/high16 v13, 0x3f800000    # 1.0f

    .line 11896
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11897
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v9}, Landroid/view/View;->setTranslationY(F)V

    .line 11898
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v8}, Landroid/view/View;->setVisibility(I)V

    .line 11899
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 11901
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11902
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11903
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11904
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11905
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v13}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11906
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11907
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11909
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11910
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v9, 0x0

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 11911
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11912
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11913
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 11914
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/4 v9, 0x0

    invoke-virtual {v7, v9, v9}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimerVisible(ZZ)V

    .line 11915
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11916
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11918
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v9

    const/4 v7, -0x2

    iput v7, v9, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 11919
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11920
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    const/4 v7, 0x0

    .line 11921
    invoke-direct {v0, v7, v7}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 11922
    invoke-direct {v0, v7, v7}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 11923
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v9, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11924
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v9, v8}, Landroid/view/View;->setVisibility(I)V

    .line 11927
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v9, v7, v13, v7}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 11929
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v10, 0x0

    invoke-virtual {v9, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 11930
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v9, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11931
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 11932
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v11, Lorg/telegram/messenger/R$drawable;->video_send_unmute:I

    invoke-virtual {v9, v11}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 11933
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11934
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9, v10}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 11935
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9, v12}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11936
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v9, :cond_d

    .line 11937
    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11939
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-eqz v9, :cond_e

    .line 11940
    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_e
    const/4 v9, 0x0

    :goto_6
    const/4 v10, 0x3

    if-ge v9, v10, :cond_10

    .line 11943
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v11, v10, v9

    if-eqz v11, :cond_f

    .line 11944
    aget-object v10, v10, v9

    const/4 v7, -0x1

    const/4 v11, 0x0

    invoke-virtual {v10, v7, v11, v14}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_f
    add-int/lit8 v9, v9, 0x1

    goto :goto_6

    .line 11947
    :cond_10
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz v9, :cond_11

    .line 11948
    invoke-virtual {v9}, Lorg/telegram/ui/Components/GroupedPhotosListView;->reset()V

    .line 11949
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-static {}, Lorg/telegram/messenger/ApplicationLoader;->isNetworkOnline()Z

    move-result v10

    xor-int/2addr v10, v14

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setAnimateBackground(Z)V

    .line 11952
    :cond_11
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v9, :cond_12

    invoke-interface {v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getTotalImageCount()I

    move-result v9

    if-lez v9, :cond_12

    .line 11953
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getTotalImageCount()I

    move-result v9

    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    :cond_12
    if-eqz v1, :cond_13

    .line 11957
    sget-object v9, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v10, "playback_speed"

    const/4 v7, 0x0

    invoke-virtual {v9, v10, v7}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v9

    .line 11958
    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "speed"

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v7

    invoke-virtual {v10, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v7, "_"

    invoke-virtual {v10, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v10, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-interface {v9, v7, v13}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v7

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    goto :goto_7

    .line 11960
    :cond_13
    iput v13, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    :goto_7
    const/4 v7, 0x0

    .line 11962
    invoke-direct {v0, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    if-eqz v1, :cond_16

    .line 11964
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v8}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v8

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v9

    invoke-virtual {v8, v9, v10}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v8

    if-nez v8, :cond_15

    iget-object v8, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v8, :cond_14

    iget-boolean v8, v8, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v8, :cond_15

    :cond_14
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v8

    if-eqz v8, :cond_16

    :cond_15
    move v8, v14

    goto :goto_8

    :cond_16
    const/4 v8, 0x0

    :goto_8
    const-string v9, "ShowAllGIFs"

    const-string v10, "ShowAllFiles"

    const/4 v7, 0x5

    if-eqz v1, :cond_28

    if-nez v2, :cond_28

    .line 11966
    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v2, :cond_1b

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v2, :cond_1b

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v2, :cond_1b

    .line 11967
    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    .line 11968
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->site_name:Ljava/lang/String;

    if-eqz v3, :cond_1b

    .line 11970
    invoke-virtual {v3}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;

    move-result-object v3

    const-string v4, "instagram"

    .line 11971
    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_17

    const-string v4, "twitter"

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_17

    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->type:Ljava/lang/String;

    const-string v4, "telegram_album"

    invoke-virtual {v4, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_1b

    .line 11972
    :cond_17
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->author:Ljava/lang/String;

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    .line 11975
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    instance-of v3, v3, Lorg/telegram/tgnet/TLRPC$TL_page;

    if-eqz v3, :cond_19

    const/4 v13, 0x0

    .line 11976
    :goto_9
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Page;->blocks:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-ge v13, v3, :cond_19

    .line 11977
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Page;->blocks:Ljava/util/ArrayList;

    invoke-virtual {v3, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 11978
    instance-of v4, v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;

    if-eqz v4, :cond_18

    .line 11979
    check-cast v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;

    iget v2, v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;->published_date:I

    goto :goto_a

    :cond_18
    add-int/lit8 v13, v13, 0x1

    goto :goto_9

    :cond_19
    :goto_a
    const/4 v2, 0x0

    .line 11984
    invoke-virtual {v1, v2, v2}, Lorg/telegram/messenger/MessageObject;->getWebPagePhotos(Ljava/util/ArrayList;Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v3

    .line 11985
    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_1b

    .line 11986
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    const/4 v2, 0x0

    .line 11987
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11988
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 11989
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 11990
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->indexOf(Ljava/lang/Object;)I

    move-result v2

    if-gez v2, :cond_1a

    const/4 v2, 0x0

    .line 11994
    :cond_1a
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 11999
    :cond_1b
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v2

    if-eqz v2, :cond_1c

    .line 12000
    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12001
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllFiles:I

    invoke-static {v10, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_b

    .line 12002
    :cond_1c
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v2

    if-eqz v2, :cond_1d

    .line 12003
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12004
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllGIFs:I

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    .line 12006
    :cond_1d
    :goto_b
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_1f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v2, :cond_1e

    invoke-virtual {v2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v2

    if-nez v2, :cond_1f

    .line 12007
    :cond_1e
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12008
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12010
    :cond_1f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v2, :cond_29

    .line 12011
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12012
    iget-wide v2, v1, Lorg/telegram/messenger/MessageObject;->eventId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_21

    const/4 v2, 0x0

    .line 12013
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    :cond_20
    :goto_c
    move v4, v2

    goto/16 :goto_d

    :cond_21
    const/4 v2, 0x0

    .line 12014
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v3, :cond_22

    .line 12015
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 12016
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->canForwardMessage()Z

    move-result v3

    if-eqz v3, :cond_20

    if-nez v8, :cond_20

    .line 12017
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v3, v14, v2}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_c

    .line 12019
    :cond_22
    iget-boolean v2, v1, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v2, :cond_26

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-nez v2, :cond_26

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-nez v2, :cond_26

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    if-eqz v2, :cond_23

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;

    if-eqz v2, :cond_26

    .line 12020
    :cond_23
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 12021
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v3, 0x0

    aget-object v2, v2, v3

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    invoke-virtual {v2, v3, v1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 12022
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v2, :cond_24

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->isThreadChat()Z

    move-result v2

    if-nez v2, :cond_25

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v2

    const/4 v3, 0x3

    if-eq v2, v3, :cond_25

    .line 12023
    :cond_24
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12024
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x2

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12026
    :cond_25
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    xor-int/lit8 v3, v8, 0x1

    const/4 v4, 0x0

    invoke-direct {v0, v2, v3, v4}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_d

    :cond_26
    const/4 v4, 0x0

    .line 12027
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_27

    iget-wide v2, v1, Lorg/telegram/messenger/MessageObject;->eventId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-nez v2, :cond_27

    .line 12028
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v2, v14, v4}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12030
    :cond_27
    :goto_d
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto :goto_e

    :cond_28
    if-eqz v3, :cond_2a

    .line 12033
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 12034
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    :cond_29
    :goto_e
    const/4 v2, 0x0

    goto/16 :goto_27

    :cond_2a
    if-eqz p2, :cond_34

    if-eqz v6, :cond_2b

    .line 12036
    iget-wide v2, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->dialogId:J

    goto :goto_f

    :cond_2b
    const-wide/16 v2, 0x0

    :goto_f
    iput-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    if-eqz v6, :cond_2c

    .line 12037
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->canEdit:Z

    if-eqz v4, :cond_2c

    move v4, v14

    goto :goto_10

    :cond_2c
    const/4 v4, 0x0

    :goto_10
    iput-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    if-nez p3, :cond_2e

    const-wide/16 v7, 0x0

    cmp-long v4, v2, v7

    if-eqz v4, :cond_2e

    cmp-long v2, v2, v7

    if-lez v2, :cond_2d

    .line 12040
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v2

    const/4 v3, 0x0

    .line 12041
    invoke-static {v2, v3}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_11

    :cond_2d
    const/4 v3, 0x0

    .line 12043
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v7, v7

    invoke-static {v7, v8}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v2, v4}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v2

    .line 12044
    invoke-static {v2, v3}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_11

    :cond_2e
    move-object/from16 v2, p3

    :goto_11
    if-nez v2, :cond_2f

    return-void

    .line 12050
    :cond_2f
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12051
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    if-eqz p4, :cond_30

    move-object/from16 v7, p4

    goto :goto_12

    :cond_30
    move-object v7, v2

    :goto_12
    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12052
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 12053
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    if-eqz v6, :cond_31

    iget-wide v6, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->size:J

    goto :goto_13

    :cond_31
    const-wide/16 v6, 0x0

    :goto_13
    invoke-static {v6, v7}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12054
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    const/4 v4, 0x0

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12055
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    new-instance v4, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    invoke-direct {v4}, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;-><init>()V

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12057
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12058
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v4, 0x2

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12059
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v4, 0xa

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    const/4 v2, 0x0

    .line 12060
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 12062
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v14, :cond_29

    .line 12063
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v3

    if-eqz v3, :cond_32

    .line 12064
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    goto :goto_14

    .line 12066
    :cond_32
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12068
    :goto_14
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 12069
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 12070
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v3, :cond_33

    .line 12071
    invoke-virtual {v3, v2}, Landroid/view/View;->setVisibility(I)V

    .line 12072
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, v13}, Landroid/view/View;->setAlpha(F)V

    .line 12074
    :cond_33
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12075
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v4, 0x0

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12076
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    move-object v2, v4

    goto/16 :goto_27

    :cond_34
    if-eqz v2, :cond_3f

    .line 12079
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v2}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    const/4 v13, 0x0

    .line 12080
    :goto_15
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v13, v2, :cond_36

    .line 12081
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 12082
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v16

    move/from16 v23, v8

    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v7, v16, v7

    if-nez v7, :cond_35

    const/4 v7, 0x0

    goto :goto_16

    :cond_35
    move v7, v14

    :goto_16
    aget-object v4, v4, v7

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v4, v7, v2}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    add-int/lit8 v13, v13, 0x1

    move/from16 v8, v23

    const/4 v7, 0x5

    goto :goto_15

    :cond_36
    move/from16 v23, v8

    .line 12084
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 12085
    iget-boolean v4, v2, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v4, :cond_3d

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v4, :cond_37

    invoke-virtual {v4}, Lorg/telegram/ui/ChatActivity;->isThreadChat()Z

    move-result v4

    if-nez v4, :cond_3d

    .line 12086
    :cond_37
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-nez v4, :cond_38

    move v13, v14

    goto :goto_17

    :cond_38
    const/4 v13, 0x0

    :goto_17
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    .line 12087
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    instance-of v4, v4, Lorg/telegram/ui/ProfileActivity;

    if-eqz v4, :cond_39

    .line 12088
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    :cond_39
    if-eqz v6, :cond_3a

    .line 12091
    iget v4, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->starOffset:I

    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    .line 12093
    :cond_3a
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12094
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->canForwardMessage()Z

    move-result v4

    if-eqz v4, :cond_3b

    if-nez v23, :cond_3b

    .line 12095
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x0

    invoke-direct {v0, v4, v14, v3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12097
    :cond_3b
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v4

    if-eqz v4, :cond_3c

    .line 12098
    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12099
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllFiles:I

    invoke-static {v10, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_18

    .line 12100
    :cond_3c
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v2

    if-eqz v2, :cond_3e

    const/4 v2, 0x5

    .line 12101
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12102
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllGIFs:I

    invoke-static {v9, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_18

    .line 12105
    :cond_3d
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 12107
    :cond_3e
    :goto_18
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_e

    :cond_3f
    if-eqz v4, :cond_5a

    .line 12109
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, -0x1

    if-eq v2, v6, :cond_42

    if-eqz v2, :cond_41

    if-eq v2, v12, :cond_41

    const/4 v6, 0x2

    if-eq v2, v6, :cond_40

    const/4 v6, 0x5

    if-ne v2, v6, :cond_42

    :cond_40
    invoke-interface/range {p7 .. p7}, Ljava/util/List;->size()I

    move-result v2

    if-le v2, v14, :cond_42

    .line 12110
    :cond_41
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 12111
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v2, v3}, Landroid/view/View;->setVisibility(I)V

    .line 12112
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 12114
    :cond_42
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, -0x1

    if-eq v6, v7, :cond_44

    const/4 v7, 0x2

    if-eq v6, v7, :cond_43

    const/4 v7, 0x5

    if-ne v6, v7, :cond_44

    :cond_43
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v6}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canCaptureMorePhotos()Z

    move-result v6

    if-eqz v6, :cond_44

    move v2, v14

    goto :goto_19

    :cond_44
    const/4 v2, 0x0

    :goto_19
    const/4 v6, 0x0

    invoke-virtual {v3, v2, v6}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setAddPhotoVisible(ZZ)V

    .line 12115
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v6, 0x8

    invoke-virtual {v3, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12116
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 12117
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    .line 12119
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, -0x1

    if-eq v4, v7, :cond_4b

    instance-of v7, v3, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v7, :cond_4b

    const/16 v7, 0xa

    if-ne v4, v7, :cond_45

    .line 12121
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12122
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12123
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_1d

    .line 12124
    :cond_45
    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v7, :cond_46

    .line 12125
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12126
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12127
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12128
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12129
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12130
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v3

    const/16 v4, 0x54

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    iput v4, v3, Landroid/view/ViewGroup$LayoutParams;->height:I

    goto :goto_1d

    .line 12131
    :cond_46
    check-cast v3, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v3, :cond_47

    .line 12132
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12133
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12134
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12135
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12136
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v3, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12137
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x30

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    neg-int v4, v4

    int-to-float v4, v4

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    goto :goto_1d

    .line 12139
    :cond_47
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eq v4, v14, :cond_48

    const/4 v4, 0x0

    goto :goto_1a

    :cond_48
    const/16 v4, 0x8

    :goto_1a
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12140
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v14, :cond_49

    const/16 v4, 0x8

    goto :goto_1b

    :cond_49
    const/4 v4, 0x0

    :goto_1b
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12141
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v14, :cond_4a

    const/16 v4, 0x8

    goto :goto_1c

    :cond_4a
    const/4 v4, 0x0

    :goto_1c
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12143
    :goto_1d
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    xor-int/2addr v3, v14

    goto :goto_1f

    .line 12144
    :cond_4b
    instance-of v4, v3, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v4, :cond_4d

    .line 12145
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12146
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12147
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    :cond_4c
    const/4 v3, 0x0

    goto :goto_1f

    .line 12150
    :cond_4d
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    instance-of v6, v3, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v6, :cond_4e

    check-cast v3, Lorg/telegram/messenger/MediaController$SearchImage;

    iget v3, v3, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    if-nez v3, :cond_4e

    const/4 v3, 0x0

    goto :goto_1e

    :cond_4e
    const/16 v3, 0x8

    :goto_1e
    invoke-virtual {v4, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12151
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12152
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12153
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v3}, Landroid/widget/ImageView;->getVisibility()I

    move-result v3

    if-nez v3, :cond_4c

    move v3, v14

    :goto_1f
    if-eqz v3, :cond_50

    .line 12155
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_4f

    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->allowCaption()Z

    move-result v3

    if-eqz v3, :cond_50

    :cond_4f
    move v3, v14

    goto :goto_20

    :cond_50
    const/4 v3, 0x0

    :goto_20
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    .line 12156
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_52

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    if-eqz v3, :cond_52

    .line 12157
    invoke-virtual {v3}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v4, v4, Lorg/telegram/ui/ChatActivity;->chatInfo:Lorg/telegram/tgnet/TLRPC$ChatFull;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setChatInfo(Lorg/telegram/tgnet/TLRPC$ChatFull;)V

    .line 12158
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v4, v4, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    if-eqz v4, :cond_51

    move v4, v14

    goto :goto_21

    :cond_51
    const/4 v4, 0x0

    :goto_21
    invoke-virtual {v3, v4}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setNeedUsernames(Z)V

    .line 12159
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v3

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setNeedBotContext(Z)V

    goto :goto_22

    :cond_52
    const/4 v2, 0x0

    .line 12177
    :goto_22
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, -0x1

    if-eq v3, v4, :cond_55

    .line 12178
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v3, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12179
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v3

    if-eqz v3, :cond_53

    .line 12180
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    goto :goto_23

    .line 12182
    :cond_53
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12183
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 12184
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 12186
    :goto_23
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v3, :cond_54

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-nez v4, :cond_54

    .line 12187
    invoke-virtual {v3, v2}, Landroid/view/View;->setVisibility(I)V

    .line 12188
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v3, v13}, Landroid/view/View;->setAlpha(F)V

    .line 12190
    :cond_54
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12191
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12192
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12195
    :cond_55
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 12196
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v14, :cond_56

    .line 12197
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12198
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_26

    :cond_56
    if-eq v3, v12, :cond_59

    const/4 v2, 0x5

    if-eq v3, v2, :cond_59

    .line 12200
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v3

    if-eqz v3, :cond_57

    const/4 v3, 0x0

    goto :goto_24

    :cond_57
    const/16 v3, 0x8

    :goto_24
    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12201
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v3

    if-eqz v3, :cond_58

    const/4 v3, 0x0

    goto :goto_25

    :cond_58
    const/16 v3, 0x8

    :goto_25
    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_26

    .line 12203
    :cond_59
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12204
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12206
    :goto_26
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    goto/16 :goto_e

    .line 12208
    :cond_5a
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_e

    .line 12211
    :goto_27
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 12212
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-nez v2, :cond_5c

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-nez v2, :cond_5c

    .line 12213
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_5b

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    if-nez v2, :cond_5b

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_5b

    iget-boolean v3, v2, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v3, :cond_5b

    .line 12214
    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v2

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v2, v3, :cond_5c

    .line 12215
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v30, 0x1

    move-wide/from16 v24, v2

    move-wide/from16 v26, v6

    move/from16 v28, v4

    move/from16 v29, v8

    invoke-virtual/range {v23 .. v30}, Lorg/telegram/messenger/MediaDataController;->getMediaCount(JJIIZ)V

    .line 12216
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_5c

    .line 12217
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v16

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v23, 0x1

    move-wide/from16 v17, v2

    move-wide/from16 v19, v6

    move/from16 v21, v4

    move/from16 v22, v8

    invoke-virtual/range {v16 .. v23}, Lorg/telegram/messenger/MediaDataController;->getMediaCount(JJIIZ)V

    goto :goto_28

    .line 12220
    :cond_5b
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_5c

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canLoadMoreAvatars()Z

    move-result v2

    if-eqz v2, :cond_5c

    .line 12221
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-virtual {v2, v3, v4}, Lorg/telegram/messenger/MessagesController;->getDialogPhotos(J)Lorg/telegram/messenger/MessagesController$DialogPhotos;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 12222
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v3, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    new-array v4, v14, [Ljava/lang/Object;

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    const/4 v7, 0x0

    aput-object v6, v4, v7

    invoke-virtual {v2, v3, v4}, Lorg/telegram/messenger/NotificationCenter;->postNotificationName(I[Ljava/lang/Object;)V

    .line 12225
    :cond_5c
    :goto_28
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_5d

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-nez v2, :cond_60

    :cond_5d
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v2, :cond_5e

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_60

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v2

    if-nez v2, :cond_60

    :cond_5e
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v2, :cond_5f

    invoke-interface {v2, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v2

    if-nez v2, :cond_60

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v2, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v2

    if-nez v2, :cond_60

    :cond_5f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, -0x1

    if-ne v2, v3, :cond_61

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v2, :cond_61

    .line 12226
    :cond_60
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    const/4 v7, 0x0

    .line 12227
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    goto/16 :goto_2d

    :cond_61
    const/4 v7, 0x0

    .line 12228
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_69

    .line 12229
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    .line 12231
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_62

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v3

    goto :goto_29

    :cond_62
    const/4 v3, 0x0

    .line 12232
    :goto_29
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-nez v4, :cond_63

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v4, :cond_63

    invoke-virtual {v4}, Lorg/telegram/ui/ChatActivity;->isSecretChat()Z

    move-result v4

    if-nez v4, :cond_63

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v4}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v4

    if-nez v4, :cond_63

    if-eqz v3, :cond_63

    iget-boolean v4, v3, Lorg/telegram/tgnet/TLRPC$User;->bot:Z

    if-nez v4, :cond_63

    invoke-static {v3}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v3

    if-nez v3, :cond_63

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result v3

    if-nez v3, :cond_63

    move v3, v14

    goto :goto_2a

    :cond_63
    move v3, v7

    .line 12233
    :goto_2a
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v4, :cond_64

    invoke-interface {v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getEditingMessageObject()Lorg/telegram/messenger/MessageObject;

    move-result-object v4

    if-eqz v4, :cond_64

    move v3, v7

    .line 12236
    :cond_64
    instance-of v4, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v4, :cond_66

    :cond_65
    move v2, v7

    goto :goto_2c

    .line 12238
    :cond_66
    instance-of v4, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v4, :cond_67

    goto :goto_2b

    :cond_67
    if-eqz v3, :cond_68

    .line 12240
    instance-of v4, v2, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v4, :cond_68

    .line 12241
    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    iget v2, v2, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    if-nez v2, :cond_65

    move v2, v14

    goto :goto_2c

    :cond_68
    :goto_2b
    move v2, v3

    .line 12243
    :goto_2c
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v3, v2, v14}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimerVisible(ZZ)V

    .line 12245
    :cond_69
    :goto_2d
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    .line 12247
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updateForwardCloudItem(Lorg/telegram/messenger/MessageObject;)V

    .line 12248
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updatePhotoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12249
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12250
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12251
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/ActionBar;->createMenu()Lorg/telegram/ui/ActionBar/ActionBarMenu;

    move-result-object v2

    if-eqz v1, :cond_6a

    iget-boolean v3, v1, Lorg/telegram/messenger/MessageObject;->isForwardingEditor:Z

    if-eqz v3, :cond_6a

    const/16 v8, 0x8

    goto :goto_2e

    :cond_6a
    move v8, v7

    :goto_2e
    invoke-virtual {v2, v8}, Landroid/widget/LinearLayout;->setVisibility(I)V

    if-eqz v1, :cond_6b

    .line 12252
    iget-boolean v1, v1, Lorg/telegram/messenger/MessageObject;->isForwardingEditor:Z

    if-eqz v1, :cond_6b

    .line 12253
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12254
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_6b
    return-void
.end method

.method private onSharePressed()V
    .locals 1

    const/4 v0, 0x0

    .line 432
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->onSharePressed(Ljava/lang/String;)V

    return-void
.end method

.method private onSharePressed(Ljava/lang/String;)V
    .locals 9

    .line 4442
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_e

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-nez v0, :cond_0

    goto/16 :goto_6

    .line 4449
    :cond_0
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz v0, :cond_3

    .line 4450
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    .line 4455
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_2

    .line 4456
    new-instance v0, Ljava/io/File;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v4, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v0, v4}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 4457
    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v4

    if-nez v4, :cond_1

    goto :goto_0

    :cond_1
    move-object v3, v0

    :cond_2
    :goto_0
    if-nez v3, :cond_7

    .line 4462
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v3

    goto :goto_3

    .line 4464
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_6

    .line 4465
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v3}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v4}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v4

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v7, 0x0

    cmp-long v5, v5, v7

    if-nez v5, :cond_5

    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v5, :cond_4

    goto :goto_1

    :cond_4
    move v5, v2

    goto :goto_2

    :cond_5
    :goto_1
    move v5, v1

    :goto_2
    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v3

    goto :goto_3

    .line 4466
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_7

    .line 4467
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v3

    :cond_7
    :goto_3
    if-eqz v3, :cond_8

    .line 4469
    invoke-virtual {v3}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_8

    .line 4470
    new-instance v0, Ljava/io/File;

    const/4 v4, 0x4

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    invoke-virtual {v3}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v0, v4, v3}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v3, v0

    :cond_8
    if-eqz v3, :cond_d

    .line 4473
    invoke-virtual {v3}, Ljava/io/File;->exists()Z

    move-result v0

    if-eqz v0, :cond_d

    .line 4474
    new-instance v0, Landroid/content/Intent;

    const-string v4, "android.intent.action.SEND"

    invoke-direct {v0, v4}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    if-eqz v2, :cond_9

    const-string v2, "video/mp4"

    .line 4476
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_4

    .line 4478
    :cond_9
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_a

    .line 4479
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getMimeType()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_4

    :cond_a
    const-string v2, "image/jpeg"

    .line 4481
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 4484
    :goto_4
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1

    const/16 v4, 0x18

    const-string v5, "android.intent.extra.STREAM"

    if-lt v2, v4, :cond_b

    .line 4486
    :try_start_1
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/ApplicationLoader;->getApplicationId()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v6, ".provider"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4, v3}, Landroidx/core/content/FileProvider;->getUriForFile(Landroid/content/Context;Ljava/lang/String;Ljava/io/File;)Landroid/net/Uri;

    move-result-object v2

    invoke-virtual {v0, v5, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 4487
    invoke-virtual {v0, v1}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_5

    .line 4489
    :catch_0
    :try_start_2
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v5, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    goto :goto_5

    .line 4492
    :cond_b
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v5, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    :goto_5
    if-eqz p1, :cond_c

    .line 4497
    invoke-virtual {v0, p1}, Landroid/content/Intent;->setPackage(Ljava/lang/String;)Landroid/content/Intent;

    .line 4498
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {p1, v0}, Landroid/app/Activity;->startActivity(Landroid/content/Intent;)V

    goto :goto_6

    .line 4500
    :cond_c
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "ShareFile"

    sget v2, Lorg/telegram/messenger/R$string;->ShareFile:I

    invoke-static {v1, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/content/Intent;->createChooser(Landroid/content/Intent;Ljava/lang/CharSequence;)Landroid/content/Intent;

    move-result-object v0

    const/16 v1, 0x1f4

    invoke-virtual {p1, v0, v1}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V

    goto :goto_6

    .line 4502
    :cond_d
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V
    :try_end_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_1

    goto :goto_6

    :catch_1
    move-exception p1

    .line 4505
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_e
    :goto_6
    return-void
.end method

.method private onShowView()V
    .locals 2

    .line 8068
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 8069
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 8070
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/LaunchActivity;->addOnUserLeaveHintListener(Ljava/lang/Runnable;)V

    :cond_0
    return-void
.end method

.method private onTouchEvent(Landroid/view/MotionEvent;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    .line 15996
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x5

    const-wide/16 v4, 0x0

    const/4 v6, 0x3

    const/4 v7, 0x2

    const/4 v8, 0x1

    if-ne v2, v6, :cond_2

    iget-wide v9, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v9, v4

    if-eqz v2, :cond_2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eqz v2, :cond_0

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-ne v2, v3, :cond_2

    .line 15997
    :cond_0
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-lt v2, v7, :cond_1

    .line 15998
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->cancelMoveZoomAnimation()V

    goto :goto_0

    :cond_1
    return v8

    .line 16003
    :cond_2
    :goto_0
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v9, 0x0

    if-nez v2, :cond_51

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v10, v4

    if-eqz v2, :cond_3

    goto/16 :goto_18

    .line 16007
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    iget v2, v2, Lorg/telegram/messenger/video/VideoPlayerRewinder;->rewindCount:I

    if-lez v2, :cond_6

    .line 16008
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v2

    if-eq v2, v8, :cond_5

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v1

    if-ne v1, v6, :cond_4

    goto :goto_1

    :cond_4
    return v8

    .line 16009
    :cond_5
    :goto_1
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    invoke-virtual {v1}, Lorg/telegram/messenger/video/VideoPlayerRewinder;->cancelRewind()V

    return v9

    .line 16015
    :cond_6
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v7, :cond_7

    .line 16016
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/PhotoFilterView;->onTouch(Landroid/view/MotionEvent;)Z

    return v8

    :cond_7
    if-eq v2, v8, :cond_50

    if-eq v2, v6, :cond_8

    .line 16018
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v8, :cond_8

    goto/16 :goto_17

    .line 16022
    :cond_8
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result v2

    if-nez v2, :cond_4f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/EditTextEmoji;->isKeyboardVisible()Z

    move-result v2

    if-eqz v2, :cond_9

    goto/16 :goto_16

    .line 16029
    :cond_9
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_a

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v2, v8, :cond_a

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_a

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/GestureDetector2;->onTouchEvent(Landroid/view/MotionEvent;)Z

    move-result v2

    if-eqz v2, :cond_a

    .line 16030
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    if-eqz v2, :cond_a

    .line 16031
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 16032
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16033
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 16034
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->checkMinMax(Z)V

    return v8

    .line 16039
    :cond_a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    if-eqz v2, :cond_b

    .line 16040
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Tooltip;->hide()V

    .line 16043
    :cond_b
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/high16 v10, 0x40000000    # 2.0f

    if-eqz v2, :cond_45

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-ne v2, v3, :cond_c

    goto/16 :goto_13

    .line 16106
    :cond_c
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/high16 v3, 0x40400000    # 3.0f

    const/high16 v11, 0x3f800000    # 1.0f

    const/4 v12, 0x0

    if-ne v2, v7, :cond_28

    .line 16108
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v2, :cond_12

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v7, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v2, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-eqz v2, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    if-nez v2, :cond_12

    .line 16109
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 16110
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v6, :cond_11

    .line 16111
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v4

    add-float/2addr v2, v4

    div-float/2addr v2, v10

    .line 16112
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v5

    add-float/2addr v4, v5

    div-float/2addr v4, v10

    .line 16113
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    sub-float/2addr v5, v2

    .line 16114
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    sub-float/2addr v6, v4

    .line 16115
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16116
    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 16117
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v11, v10, v11

    if-ltz v11, :cond_d

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v10, v10, v11

    if-lez v10, :cond_e

    :cond_d
    div-float/2addr v5, v3

    .line 16120
    :cond_e
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v11, v10, v11

    if-ltz v11, :cond_f

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v10, v10, v11

    if-lez v10, :cond_10

    :cond_f
    div-float/2addr v6, v3

    .line 16123
    :cond_10
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v10

    div-int/2addr v10, v7

    int-to-float v10, v10

    sub-float/2addr v3, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v11

    div-int/2addr v11, v7

    int-to-float v11, v11

    sub-float/2addr v10, v11

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v10, v11

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v11, v12

    div-float/2addr v10, v11

    sub-float/2addr v3, v10

    sub-float/2addr v3, v5

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 16124
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    div-int/2addr v5, v7

    int-to-float v5, v5

    sub-float/2addr v3, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v10

    div-int/2addr v10, v7

    int-to-float v10, v10

    sub-float/2addr v5, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v5, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v10, v11

    div-float/2addr v5, v10

    sub-float/2addr v3, v5

    sub-float/2addr v3, v6

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 16125
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 16126
    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 16128
    :cond_11
    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    sub-float/2addr v2, v3

    float-to-double v2, v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v1

    sub-float/2addr v4, v1

    float-to-double v4, v4

    invoke-static {v2, v3, v4, v5}, Ljava/lang/Math;->hypot(DD)D

    move-result-wide v1

    double-to-float v1, v1

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    div-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    mul-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16129
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    div-int/2addr v3, v7

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v3, v4

    mul-float/2addr v2, v3

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16130
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    div-int/2addr v3, v7

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v4, v3, v4

    mul-float/2addr v2, v4

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16131
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16132
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16133
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 16134
    :cond_12
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_4e

    .line 16135
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_13

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_13

    .line 16136
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 16137
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v1

    .line 16138
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v3

    neg-float v3, v3

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v1, v3, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 16139
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16140
    invoke-virtual {v1}, Landroid/view/MotionEvent;->recycle()V

    return v8

    .line 16143
    :cond_13
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_14

    .line 16144
    invoke-virtual {v2, v1}, Landroid/view/VelocityTracker;->addMovement(Landroid/view/MotionEvent;)V

    .line 16146
    :cond_14
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    sub-float/2addr v2, v6

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    .line 16147
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v6

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    sub-float/2addr v6, v7

    invoke-static {v6}, Ljava/lang/Math;->abs(F)F

    move-result v6

    .line 16148
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->touchSlop:I

    int-to-float v13, v7

    cmpl-float v13, v2, v13

    if-gtz v13, :cond_15

    int-to-float v7, v7

    cmpl-float v7, v6, v7

    if-lez v7, :cond_16

    .line 16149
    :cond_15
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 16150
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16151
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 16152
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    if-eqz v7, :cond_16

    invoke-virtual {v7}, Landroid/view/View;->getVisibility()I

    move-result v7

    if-nez v7, :cond_16

    return v8

    .line 16156
    :cond_16
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canScrollAway()Z

    move-result v7

    if-eqz v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v7, v8, :cond_19

    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    if-eqz v7, :cond_19

    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v7, v7, v11

    if-nez v7, :cond_19

    const/16 v7, 0x1e

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v7

    int-to-float v7, v7

    cmpl-float v7, v6, v7

    if-ltz v7, :cond_19

    div-float/2addr v6, v10

    cmpl-float v2, v6, v2

    if-lez v2, :cond_19

    .line 16157
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 16158
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16159
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16160
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    .line 16161
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_17

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_17

    .line 16162
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_2

    .line 16163
    :cond_17
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_18

    .line 16164
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 16165
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    .line 16166
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->toggleCheckImageView(Z)V

    :cond_18
    :goto_2
    return v8

    .line 16169
    :cond_19
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-eqz v2, :cond_1a

    .line 16170
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16171
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 16172
    :cond_1a
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    if-nez v2, :cond_27

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v6, v4

    if-nez v2, :cond_27

    .line 16173
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v4

    sub-float/2addr v2, v4

    .line 16174
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v5

    sub-float/2addr v4, v5

    .line 16175
    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-nez v5, :cond_1c

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v5, :cond_1c

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v5, v5, v11

    if-nez v5, :cond_1b

    invoke-static {v4}, Ljava/lang/Math;->abs(F)F

    move-result v5

    const/16 v6, 0xc

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v6

    cmpg-float v5, v5, v6

    if-ltz v5, :cond_1c

    :cond_1b
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v5, v5, v11

    if-eqz v5, :cond_4e

    .line 16176
    :cond_1c
    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-nez v5, :cond_1d

    .line 16179
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16180
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16181
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    move v2, v12

    move v4, v2

    .line 16184
    :cond_1d
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v5

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16185
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 16186
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16187
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v1, v5

    if-gez v1, :cond_1e

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1f

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v1

    if-eqz v1, :cond_1f

    :cond_1e
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v1, v1, v5

    if-lez v1, :cond_20

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1f

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v1

    if-nez v1, :cond_20

    :cond_1f
    div-float/2addr v2, v3

    .line 16190
    :cond_20
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v5, v1, v12

    if-nez v5, :cond_22

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v6, v5, v12

    if-nez v6, :cond_22

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v6, :cond_22

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v6, v8, :cond_22

    .line 16191
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float v6, v3, v4

    cmpg-float v6, v6, v5

    if-gez v6, :cond_21

    .line 16192
    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_4

    :cond_21
    sub-float/2addr v3, v4

    cmpl-float v3, v3, v1

    if-lez v3, :cond_23

    .line 16195
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_4

    .line 16199
    :cond_22
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v6, v5, v6

    if-ltz v6, :cond_24

    cmpl-float v1, v5, v1

    if-lez v1, :cond_23

    goto :goto_3

    :cond_23
    move v12, v4

    goto :goto_4

    :cond_24
    :goto_3
    div-float v12, v4, v3

    .line 16204
    :goto_4
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16205
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v1, v1, v11

    if-nez v1, :cond_25

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v1, :cond_26

    .line 16206
    :cond_25
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v1, v12

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16208
    :cond_26
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16209
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 16212
    :cond_27
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    .line 16213
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16214
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    goto/16 :goto_15

    .line 16217
    :cond_28
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eq v2, v6, :cond_29

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eq v2, v8, :cond_29

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/4 v4, 0x6

    if-ne v2, v4, :cond_4e

    .line 16218
    :cond_29
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16219
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 16220
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_2b

    .line 16221
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_2a

    .line 16222
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 16223
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v1

    .line 16224
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v3

    neg-float v3, v3

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v1, v3, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 16225
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16226
    invoke-virtual {v1}, Landroid/view/MotionEvent;->recycle()V

    .line 16228
    :cond_2a
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    return v8

    .line 16231
    :cond_2b
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 16232
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-eqz v2, :cond_37

    .line 16233
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    .line 16234
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpg-float v2, v1, v11

    if-gez v2, :cond_2c

    .line 16235
    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16236
    invoke-direct {v0, v11, v12, v12, v8}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto/16 :goto_d

    :cond_2c
    cmpl-float v1, v1, v3

    if-lez v1, :cond_31

    .line 16238
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    div-int/2addr v4, v7

    int-to-float v4, v4

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v4, v3, v4

    mul-float/2addr v2, v4

    sub-float/2addr v1, v2

    .line 16239
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    div-int/2addr v4, v7

    int-to-float v4, v4

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    div-int/2addr v5, v7

    int-to-float v5, v5

    sub-float/2addr v4, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    sub-float/2addr v4, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v5, v3, v5

    mul-float/2addr v4, v5

    sub-float/2addr v2, v4

    .line 16240
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16241
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v1, v4

    if-gez v5, :cond_2d

    :goto_5
    move v1, v4

    goto :goto_6

    .line 16243
    :cond_2d
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v5, v1, v4

    if-lez v5, :cond_2e

    goto :goto_5

    .line 16246
    :cond_2e
    :goto_6
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v2, v4

    if-gez v5, :cond_2f

    :goto_7
    move v2, v4

    goto :goto_8

    .line 16248
    :cond_2f
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v5, v2, v4

    if-lez v5, :cond_30

    goto :goto_7

    .line 16251
    :cond_30
    :goto_8
    invoke-direct {v0, v3, v1, v2, v8}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto :goto_d

    .line 16253
    :cond_31
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->checkMinMax(Z)V

    .line 16254
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v1, v6, :cond_36

    .line 16255
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16256
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16257
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16258
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_32

    :goto_9
    move v1, v4

    goto :goto_a

    .line 16260
    :cond_32
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_33

    goto :goto_9

    .line 16263
    :cond_33
    :goto_a
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_34

    :goto_b
    move v2, v4

    goto :goto_c

    .line 16265
    :cond_34
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_35

    goto :goto_b

    .line 16268
    :cond_35
    :goto_c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3, v1, v2, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 16271
    :cond_36
    :goto_d
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 16272
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    goto/16 :goto_15

    .line 16273
    :cond_37
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-eqz v2, :cond_3b

    .line 16274
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v3

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    int-to-float v3, v3

    const/high16 v4, 0x40c00000    # 6.0f

    div-float/2addr v3, v4

    cmpl-float v2, v2, v3

    if-lez v2, :cond_39

    .line 16275
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->enableSwipeToPiP()Z

    move-result v2

    if-eqz v2, :cond_38

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    sub-float/2addr v2, v1

    cmpl-float v1, v2, v12

    if-lez v1, :cond_38

    .line 16276
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    goto :goto_e

    .line 16278
    :cond_38
    invoke-virtual {v0, v8, v9}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    goto :goto_e

    .line 16281
    :cond_39
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_3a

    .line 16282
    invoke-direct {v0, v8, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 16283
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->toggleCheckImageView(Z)V

    .line 16285
    :cond_3a
    invoke-direct {v0, v11, v12, v12, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 16287
    :goto_e
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    goto/16 :goto_15

    .line 16288
    :cond_3b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-eqz v1, :cond_4e

    .line 16289
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16290
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16291
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16292
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16293
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16295
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v3, :cond_3c

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v4, v4, v11

    if-nez v4, :cond_3c

    const/16 v4, 0x3e8

    .line 16296
    invoke-virtual {v3, v4}, Landroid/view/VelocityTracker;->computeCurrentVelocity(I)V

    .line 16297
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    invoke-virtual {v3}, Landroid/view/VelocityTracker;->getXVelocity()F

    move-result v12

    .line 16300
    :cond_3c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v3, :cond_40

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v3, v8, :cond_40

    .line 16301
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    div-int/2addr v5, v6

    int-to-float v5, v5

    sub-float/2addr v4, v5

    cmpg-float v3, v3, v4

    const/16 v4, 0x28a

    if-ltz v3, :cond_3d

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    cmpg-float v3, v12, v3

    if-gez v3, :cond_3e

    :cond_3d
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_3e

    .line 16302
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->goToNext()V

    return v8

    .line 16305
    :cond_3e
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v7

    div-int/2addr v7, v6

    int-to-float v6, v7

    add-float/2addr v5, v6

    cmpl-float v3, v3, v5

    if-gtz v3, :cond_3f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    cmpl-float v3, v12, v3

    if-lez v3, :cond_40

    :cond_3f
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_40

    .line 16306
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->goToPrev()V

    return v8

    .line 16311
    :cond_40
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_41

    :goto_f
    move v1, v4

    goto :goto_10

    .line 16313
    :cond_41
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_42

    goto :goto_f

    .line 16316
    :cond_42
    :goto_10
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_43

    :goto_11
    move v2, v4

    goto :goto_12

    .line 16318
    :cond_43
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_44

    goto :goto_11

    .line 16321
    :cond_44
    :goto_12
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3, v1, v2, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto/16 :goto_15

    .line 16044
    :cond_45
    :goto_13
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 16045
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v2}, Landroid/widget/Scroller;->isFinished()Z

    move-result v2

    if-nez v2, :cond_46

    .line 16046
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v2}, Landroid/widget/Scroller;->abortAnimation()V

    .line 16048
    :cond_46
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v2, :cond_4c

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    if-nez v2, :cond_4c

    .line 16049
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v2, :cond_4a

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v7, :cond_4a

    .line 16050
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_48

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x3

    const/16 v16, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 16051
    invoke-static/range {v11 .. v18}, Landroid/view/MotionEvent;->obtain(JJIFFI)Landroid/view/MotionEvent;

    move-result-object v2

    .line 16053
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v3, :cond_47

    .line 16054
    invoke-virtual {v3, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16055
    :cond_47
    invoke-virtual {v2}, Landroid/view/MotionEvent;->recycle()V

    .line 16056
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 16058
    :cond_48
    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    sub-float/2addr v2, v3

    float-to-double v2, v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v5

    sub-float/2addr v4, v5

    float-to-double v4, v4

    invoke-static {v2, v3, v4, v5}, Ljava/lang/Math;->hypot(DD)D

    move-result-wide v2

    double-to-float v2, v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    .line 16059
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 16060
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    add-float/2addr v2, v3

    div-float/2addr v2, v10

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 16061
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v3

    add-float/2addr v2, v3

    div-float/2addr v2, v10

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 16062
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 16063
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 16064
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 16065
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16066
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v6, :cond_49

    .line 16067
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16068
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 16069
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 16070
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16072
    :cond_49
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16073
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_4c

    .line 16074
    invoke-virtual {v2}, Landroid/view/VelocityTracker;->clear()V

    goto :goto_14

    .line 16076
    :cond_4a
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_4c

    .line 16077
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v6, :cond_4b

    .line 16078
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-nez v2, :cond_4c

    .line 16079
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 16080
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {v2, v3}, Landroid/view/View;->getHitRect(Landroid/graphics/Rect;)V

    .line 16081
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v4

    float-to-int v4, v4

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v5

    float-to-int v5, v5

    invoke-virtual {v3, v4, v5}, Landroid/graphics/Rect;->contains(II)Z

    move-result v3

    if-eqz v3, :cond_4c

    .line 16082
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v3

    .line 16083
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v4

    neg-float v4, v4

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v3, v4, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 16084
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16085
    invoke-virtual {v3}, Landroid/view/MotionEvent;->recycle()V

    .line 16086
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    goto :goto_14

    .line 16090
    :cond_4b
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16091
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    .line 16092
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 16093
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16094
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_4c

    .line 16095
    invoke-virtual {v2}, Landroid/view/VelocityTracker;->clear()V

    .line 16100
    :cond_4c
    :goto_14
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-nez v2, :cond_4d

    .line 16101
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressX:F

    .line 16102
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0x12c

    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_15

    .line 16104
    :cond_4d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :cond_4e
    :goto_15
    return v9

    .line 16023
    :cond_4f
    :goto_16
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v1

    if-ne v1, v8, :cond_50

    .line 16024
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    :cond_50
    :goto_17
    return v8

    :cond_51
    :goto_18
    return v9
.end method

.method private onUserLeaveHint()V
    .locals 4

    .line 8094
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->checkInlinePermissions(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_4

    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->isVisible()Z

    move-result v0

    if-nez v0, :cond_4

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v0, :cond_0

    goto :goto_0

    .line 8097
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    const/4 v2, 0x0

    if-eqz v0, :cond_3

    .line 8098
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_4

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isInAppOnly()Z

    move-result v0

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->openInPip()Z

    move-result v0

    if-eqz v0, :cond_4

    .line 8099
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 8101
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_1

    .line 8102
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    :cond_1
    const/4 v0, 0x1

    .line 8104
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 8105
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    sput-object v3, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    const/4 v3, 0x0

    .line 8106
    sput-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 8107
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 8108
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v2, :cond_2

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getVisible()Z

    move-result v2

    if-nez v2, :cond_2

    .line 8109
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v0, v0}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 8111
    :cond_2
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 8112
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 8113
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    goto :goto_0

    .line 8116
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 8118
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    :cond_4
    :goto_0
    return-void
.end method

.method private openCurrentPhotoInPaintModeForSelect()V
    .locals 12

    .line 14490
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->canSendMediaToParentChatActivity()Z

    move-result v0

    if-nez v0, :cond_0

    return-void

    .line 14499
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz v0, :cond_5

    .line 14501
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canEditMedia()Z

    move-result v4

    if-eqz v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isDocument()Z

    move-result v4

    if-nez v4, :cond_1

    move v4, v1

    goto :goto_0

    :cond_1
    move v4, v3

    .line 14502
    :goto_0
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    .line 14503
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v6, v6, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v6, v6, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    if-nez v6, :cond_3

    .line 14504
    new-instance v6, Ljava/io/File;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v7, v7, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v6, v7}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 14505
    invoke-virtual {v6}, Ljava/io/File;->exists()Z

    move-result v7

    if-nez v7, :cond_2

    goto :goto_1

    :cond_2
    move-object v2, v6

    :cond_3
    :goto_1
    if-nez v2, :cond_4

    .line 14510
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v6, v6, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v2, v6}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v2

    :cond_4
    move-object v10, v0

    move-object v8, v2

    move v11, v4

    move v9, v5

    goto :goto_2

    :cond_5
    move-object v8, v2

    move-object v10, v8

    move v9, v3

    move v11, v9

    :goto_2
    if-eqz v8, :cond_6

    .line 14514
    invoke-virtual {v8}, Ljava/io/File;->exists()Z

    move-result v0

    if-eqz v0, :cond_6

    .line 14515
    new-instance v0, Lorg/telegram/ui/PhotoViewer$SavedState;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    new-instance v4, Ljava/util/ArrayList;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-direct {v4, v5}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-direct {v0, p0, v2, v4, v5}, Lorg/telegram/ui/PhotoViewer$SavedState;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/util/ArrayList;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 14517
    new-instance v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    .line 14518
    invoke-direct {p0, v3, v1, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    .line 14524
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda76;

    move-object v6, v1

    move-object v7, p0

    invoke-direct/range {v6 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda76;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V

    iget v0, v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration:I

    int-to-long v2, v0

    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_3

    .line 14626
    :cond_6
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V

    :goto_3
    return-void
.end method

.method private pauseVideoOrWeb()V
    .locals 1

    .line 8888
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8889
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->pause()V

    goto :goto_0

    .line 8890
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8891
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->pauseVideo()V

    :cond_1
    :goto_0
    return-void
.end method

.method private playOrStopAnimatedStickers(Z)V
    .locals 4

    .line 9634
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_3

    const/4 v1, 0x0

    .line 9635
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9636
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9637
    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v3, :cond_2

    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v3, v3, 0x1

    if-eqz v3, :cond_2

    iget-object v2, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->view:Landroid/view/View;

    instance-of v3, v2, Lorg/telegram/ui/Components/BackupImageView;

    if-eqz v3, :cond_2

    .line 9638
    check-cast v2, Lorg/telegram/ui/Components/BackupImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/BackupImageView;->getImageReceiver()Lorg/telegram/messenger/ImageReceiver;

    move-result-object v2

    .line 9639
    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getLottieAnimation()Lorg/telegram/ui/Components/RLottieDrawable;

    move-result-object v2

    if-nez v2, :cond_0

    goto :goto_1

    :cond_0
    if-eqz p1, :cond_1

    .line 9644
    invoke-virtual {v2}, Lorg/telegram/ui/Components/RLottieDrawable;->start()V

    goto :goto_1

    .line 9646
    :cond_1
    invoke-virtual {v2}, Lorg/telegram/ui/Components/RLottieDrawable;->stop()V

    :cond_2
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    return-void
.end method

.method private playVideoOrWeb()V
    .locals 1

    .line 8880
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8881
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->play()V

    goto :goto_0

    .line 8882
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8883
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->playVideo()V

    :cond_1
    :goto_0
    return-void
.end method

.method private postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;
    .locals 10

    if-eqz p1, :cond_5

    .line 12954
    iget-object v0, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-nez v0, :cond_0

    goto/16 :goto_2

    .line 12957
    :cond_0
    new-instance v0, Landroid/text/SpannableStringBuilder;

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->text:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/text/SpannableStringBuilder;-><init>(Ljava/lang/CharSequence;)V

    .line 12958
    sget-object v1, Lorg/telegram/ui/ActionBar/Theme;->chat_msgTextPaint:Landroid/text/TextPaint;

    invoke-virtual {v1}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v1

    const/16 v2, 0x14

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    const/4 v3, 0x0

    invoke-static {v0, v1, v2, v3}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v0

    .line 12959
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->entities:Ljava/util/ArrayList;

    sget-object v2, Lorg/telegram/ui/ActionBar/Theme;->chat_msgTextPaint:Landroid/text/TextPaint;

    invoke-virtual {v2}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v2

    invoke-static {v0, v1, v2, v3}, Lorg/telegram/messenger/MessageObject;->replaceAnimatedEmoji(Ljava/lang/CharSequence;Ljava/util/ArrayList;Landroid/graphics/Paint$FontMetricsInt;Z)Landroid/text/Spannable;

    move-result-object v0

    .line 12960
    invoke-static {v0}, Lorg/telegram/messenger/MessageObject;->containsUrls(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_1

    const/4 v1, 0x5

    .line 12962
    :try_start_0
    invoke-static {v0, v1}, Lorg/telegram/messenger/AndroidUtilities;->addLinks(Landroid/text/Spannable;I)Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v1

    .line 12964
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 12967
    :cond_1
    :goto_0
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x1

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    .line 12968
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->entities:Ljava/util/ArrayList;

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v6

    const/4 v7, 0x1

    const/4 v8, 0x1

    move-object v4, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addEntitiesToText(Ljava/lang/CharSequence;Ljava/util/ArrayList;ZZZZ)Z

    .line 12969
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 12970
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x3

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    double-to-int v8, v1

    const/4 v9, 0x0

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    goto :goto_1

    .line 12971
    :cond_2
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isMusic()Z

    move-result v1

    if-nez v1, :cond_3

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVoice()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 12972
    :cond_3
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x4

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    double-to-int v8, v1

    const/4 v9, 0x0

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    :cond_4
    :goto_1
    return-object v0

    :cond_5
    :goto_2
    const-string p1, ""

    return-object p1
.end method

.method private preparePlayer(Landroid/net/Uri;ZZ)V
    .locals 1

    const/4 v0, 0x0

    .line 8904
    invoke-direct {p0, p1, p2, p3, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    return-void
.end method

.method private preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V
    .locals 18

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, p3

    if-nez v2, :cond_0

    .line 8909
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    .line 8911
    :cond_0
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v3, :cond_1

    return-void

    :cond_1
    const/4 v3, 0x0

    .line 8914
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    .line 8915
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->startedPlayTime:J

    .line 8916
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    const-wide/16 v4, 0x0

    .line 8917
    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    const/4 v6, 0x1

    .line 8918
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    .line 8919
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    .line 8920
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 8921
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v7

    const/4 v8, 0x0

    if-eqz v7, :cond_2

    .line 8922
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 8924
    :cond_2
    sget v7, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v9, 0x15

    const/4 v10, 0x4

    const/4 v11, 0x0

    if-lt v7, v9, :cond_3

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-nez v7, :cond_3

    .line 8925
    new-instance v7, Landroid/widget/ImageView;

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v7, v9}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/high16 v9, -0x10000

    .line 8926
    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setBackgroundColor(I)V

    .line 8927
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v11}, Landroid/widget/ImageView;->setPivotX(F)V

    .line 8928
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v11}, Landroid/widget/ImageView;->setPivotY(F)V

    .line 8929
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v10}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8930
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 8932
    :cond_3
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    .line 8934
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    if-nez v7, :cond_5

    .line 8935
    new-instance v7, Lorg/telegram/ui/PhotoViewer$47;

    sget-object v9, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    invoke-direct {v7, v0, v9}, Lorg/telegram/ui/PhotoViewer$47;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 8963
    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->canDetectOrientation()Z

    move-result v7

    if-eqz v7, :cond_4

    .line 8964
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->enable()V

    goto :goto_0

    .line 8966
    :cond_4
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->disable()V

    .line 8967
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 8971
    :cond_5
    :goto_0
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    .line 8972
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    .line 8973
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    .line 8975
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    .line 8976
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    const-wide/16 v12, -0x1

    .line 8977
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    .line 8978
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 8979
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    .line 8980
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    .line 8981
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v7, :cond_a

    .line 8982
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v7, :cond_6

    .line 8983
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    .line 8984
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    .line 8985
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 8986
    invoke-virtual {v7}, Lorg/telegram/ui/Components/VideoPlayer;->getPlayWhenReady()Z

    move-result v7

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoPlayer;->getPlaybackState()I

    move-result v9

    invoke-direct {v0, v7, v9}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    move v7, v3

    goto :goto_1

    .line 8988
    :cond_6
    new-instance v7, Lorg/telegram/ui/PhotoViewer$48;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$48;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    move v7, v6

    .line 9022
    :goto_1
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v9, :cond_7

    .line 9023
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v12, v9}, Lorg/telegram/ui/Components/VideoPlayer;->setTextureView(Landroid/view/TextureView;)V

    goto :goto_2

    .line 9024
    :cond_7
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v9, :cond_8

    .line 9025
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v12, v9}, Lorg/telegram/ui/Components/VideoPlayer;->setSurfaceView(Landroid/view/SurfaceView;)V

    .line 9028
    :cond_8
    :goto_2
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v9, :cond_9

    .line 9029
    invoke-virtual {v9}, Lorg/telegram/ui/PhotoViewer$FirstFrameView;->clear()V

    .line 9031
    :cond_9
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    new-instance v12, Lorg/telegram/ui/PhotoViewer$49;

    invoke-direct {v12, v0}, Lorg/telegram/ui/PhotoViewer$49;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v9, v12}, Lorg/telegram/ui/Components/VideoPlayer;->setDelegate(Lorg/telegram/ui/Components/VideoPlayer$VideoPlayerDelegate;)V

    goto :goto_3

    :cond_a
    move v7, v3

    .line 9151
    :goto_3
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_b

    move-object/from16 v9, p4

    .line 9152
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 9154
    :cond_b
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 9155
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v9, :cond_c

    .line 9156
    invoke-virtual {v9, v11}, Landroid/view/TextureView;->setAlpha(F)V

    .line 9158
    :cond_c
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v9, :cond_d

    .line 9159
    invoke-virtual {v9, v10}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 9161
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v9, :cond_e

    .line 9162
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 9165
    :cond_e
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    .line 9166
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 9167
    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    const/high16 v4, -0x40800000    # -1.0f

    if-eqz v7, :cond_16

    .line 9169
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 9170
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 9171
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v7

    invoke-virtual {v5, v7}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 9172
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    .line 9174
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v5, :cond_15

    .line 9175
    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v9

    double-to-int v5, v9

    .line 9176
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getFileName()Ljava/lang/String;

    move-result-object v7

    .line 9177
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    if-nez v9, :cond_15

    const/16 v9, 0x258

    const v10, 0x3f7fbe77    # 0.999f

    if-lt v5, v9, :cond_10

    .line 9179
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v5, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v5, v5, v11

    if-gez v5, :cond_f

    .line 9180
    sget-object v5, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v8, "media_saved_pos"

    invoke-virtual {v5, v8, v3}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v5

    .line 9181
    invoke-interface {v5, v7, v4}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v5

    cmpl-float v8, v5, v11

    if-lez v8, :cond_f

    cmpg-float v8, v5, v10

    if-gez v8, :cond_f

    .line 9183
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v5, v8, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 9184
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v8, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 9187
    :cond_f
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    goto :goto_6

    :cond_10
    const/16 v9, 0xa

    if-lt v5, v9, :cond_15

    .line 9190
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v5}, Landroidx/collection/SimpleArrayMap;->size()I

    move-result v5

    sub-int/2addr v5, v6

    :goto_4
    if-ltz v5, :cond_13

    .line 9191
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v9, v5}, Landroidx/collection/SimpleArrayMap;->valueAt(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    .line 9192
    iget-wide v12, v9, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->timestamp:J

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v14

    const-wide/16 v16, 0x1388

    sub-long v14, v14, v16

    cmp-long v12, v12, v14

    if-gez v12, :cond_11

    .line 9193
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v9, v5}, Landroidx/collection/SimpleArrayMap;->removeAt(I)Ljava/lang/Object;

    goto :goto_5

    :cond_11
    if-nez v8, :cond_12

    .line 9194
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v12, v5}, Landroidx/collection/SimpleArrayMap;->keyAt(I)Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Ljava/lang/String;

    invoke-virtual {v12, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v12

    if-eqz v12, :cond_12

    move-object v8, v9

    :cond_12
    :goto_5
    add-int/lit8 v5, v5, -0x1

    goto :goto_4

    .line 9198
    :cond_13
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v5, :cond_14

    iget v9, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v9, v9, v11

    if-gez v9, :cond_14

    if-eqz v8, :cond_14

    .line 9199
    iget v8, v8, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->position:F

    cmpl-float v9, v8, v11

    if-lez v9, :cond_14

    cmpg-float v9, v8, v10

    if-gez v9, :cond_14

    .line 9201
    iput v8, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 9202
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v8}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 9205
    :cond_14
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 9210
    :cond_15
    :goto_6
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-string v7, "other"

    invoke-virtual {v5, v1, v7}, Lorg/telegram/ui/Components/VideoPlayer;->preparePlayer(Landroid/net/Uri;Ljava/lang/String;)V

    .line 9211
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    move/from16 v5, p2

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayer;->setPlayWhenReady(Z)V

    .line 9214
    :cond_16
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_17

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v7

    const-wide/high16 v9, 0x403e000000000000L    # 30.0

    cmpg-double v1, v7, v9

    if-lez v1, :cond_18

    :cond_17
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_19

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_19

    :cond_18
    move v1, v6

    goto :goto_7

    :cond_19
    move v1, v3

    :goto_7
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    .line 9215
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v5, v1}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setSeekBarTransitionEnabled(Z)V

    .line 9216
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 9218
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_1a

    iget v5, v1, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpl-float v7, v5, v11

    if-ltz v7, :cond_1a

    .line 9219
    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 9220
    iput v4, v1, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 9223
    :cond_1a
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_1c

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v4, "video"

    invoke-virtual {v1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_1b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-eqz v1, :cond_1c

    .line 9224
    :cond_1b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9225
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x54

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    invoke-virtual {v1, v3, v3, v4, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 9226
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v1, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_8

    .line 9228
    :cond_1c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3, v3, v3, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 9231
    :goto_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_1d

    .line 9232
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9234
    :cond_1d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_1e

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_1e

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_1e

    .line 9235
    invoke-direct {v0, v3, v6}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    goto :goto_9

    .line 9237
    :cond_1e
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    xor-int/2addr v1, v6

    invoke-direct {v0, v1, v6}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 9239
    :goto_9
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v1, :cond_20

    .line 9240
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    if-eqz v1, :cond_1f

    const/16 v1, 0xbb8

    goto :goto_a

    :cond_1f
    const/16 v1, 0x3e8

    :goto_a
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide(I)V

    .line 9242
    :cond_20
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_21

    .line 9243
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {v1, v3}, Lorg/telegram/ui/Components/VideoPlayer;->setPlaybackSpeed(F)V

    .line 9246
    :cond_21
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    return-void
.end method

.method private prepareRealEncoderBitrate()V
    .locals 7

    .line 18251
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    if-eqz v0, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_1

    .line 18252
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;

    move-result-object v0

    .line 18253
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    const/4 v3, 0x0

    if-ne v1, v2, :cond_0

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v1, v2, :cond_0

    .line 18254
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    invoke-static {v1, v0, v2, v3}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    goto :goto_0

    .line 18256
    :cond_0
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v5

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v6

    invoke-static {v1, v2, v4, v5, v6}, Lorg/telegram/messenger/MediaController;->makeVideoBitrate(IIIII)I

    move-result v1

    .line 18257
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v2

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    invoke-static {v2, v0, v1, v3}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    :cond_1
    :goto_0
    return-void
.end method

.method private processOpenVideo(Ljava/lang/String;ZFFI)V
    .locals 3

    .line 18407
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 18408
    sget-object v0, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/DispatchQueue;->cancelRunnable(Ljava/lang/Runnable;)V

    .line 18409
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    .line 18411
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, p1, p3, p4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setVideoPath(Ljava/lang/String;FF)V

    .line 18412
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 p3, 0x0

    const/4 p4, 0x1

    if-nez p2, :cond_2

    .line 18413
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p2, p4, :cond_1

    goto :goto_0

    :cond_1
    move p4, p3

    :cond_2
    :goto_0
    iput-boolean p4, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    const/4 p2, -0x1

    .line 18415
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    .line 18416
    iput p3, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    const/16 p2, 0x19

    .line 18417
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    .line 18418
    new-instance p2, Ljava/io/File;

    invoke-direct {p2, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 18419
    invoke-virtual {p2}, Ljava/io/File;->length()J

    move-result-wide p2

    iput-wide p2, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    .line 18421
    sget-object p2, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$76;

    invoke-direct {p3, p0, p1, p5}, Lorg/telegram/ui/PhotoViewer$76;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;I)V

    iput-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    return-void
.end method

.method private redraw(I)V
    .locals 3

    const/4 v0, 0x6

    if-ge p1, v0, :cond_0

    .line 15859
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_0

    .line 15860
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 15861
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda74;

    invoke-direct {v0, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda74;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    const-wide/16 v1, 0x64

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_0
    return-void
.end method

.method private releasePlayer(Z)V
    .locals 9

    const/4 v0, 0x0

    .line 9408
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 9409
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-eqz v1, :cond_1

    .line 9410
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 9411
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9412
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9413
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-eqz v1, :cond_0

    .line 9414
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v4

    long-to-float v1, v4

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v4

    long-to-float v4, v4

    div-float/2addr v1, v4

    .line 9415
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v7

    invoke-direct {v6, v1, v7, v8}, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;-><init>(FJ)V

    invoke-virtual {v4, v5, v6}, Landroidx/collection/SimpleArrayMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9417
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->releasePlayer(Z)V

    .line 9418
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    goto :goto_0

    .line 9420
    :cond_1
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    .line 9422
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_2

    .line 9423
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9424
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-eqz v1, :cond_2

    .line 9425
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v4

    long-to-float v1, v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v4

    long-to-float v4, v4

    div-float/2addr v1, v4

    .line 9426
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v7

    invoke-direct {v6, v1, v7, v8}, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;-><init>(FJ)V

    invoke-virtual {v4, v5, v6}, Landroidx/collection/SimpleArrayMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9430
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    if-eqz v1, :cond_3

    .line 9431
    invoke-virtual {v1}, Landroid/view/OrientationEventListener;->disable()V

    .line 9432
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 9435
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->close()V

    .line 9436
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgress(ZZ)V

    .line 9437
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    .line 9438
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 9439
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->isEnabled()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 9440
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 9441
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const/high16 v4, 0x3f000000    # 0.5f

    invoke-virtual {v1, v4}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const-wide/16 v4, 0xaf

    invoke-virtual {v1, v4, v5}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1, v3}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 9443
    :cond_4
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z

    if-eqz v1, :cond_5

    .line 9445
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/16 v4, 0x80

    invoke-virtual {v1, v4}, Landroid/view/Window;->clearFlags(I)V

    .line 9446
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    :catch_0
    move-exception v1

    .line 9448
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 9451
    :cond_5
    :goto_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v1, :cond_6

    .line 9453
    :try_start_1
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v1}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 9457
    :catchall_0
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    .line 9459
    :cond_6
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelFlashAnimations()V

    .line 9460
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    .line 9461
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_8

    .line 9462
    instance-of v4, v1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v4, :cond_7

    .line 9463
    check-cast v1, Lorg/telegram/ui/Components/VideoEditTextureView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoEditTextureView;->release()V

    .line 9465
    :cond_7
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 9467
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 9468
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v1, :cond_9

    .line 9469
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    .line 9471
    :cond_9
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_a

    .line 9472
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 9473
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :cond_a
    if-nez p1, :cond_b

    .line 9475
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez p1, :cond_b

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    if-nez p1, :cond_b

    .line 9476
    invoke-direct {p0, v0, v2}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 9478
    :cond_b
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v0

    invoke-virtual {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->resetAlphas()V

    return-void
.end method

.method private removeObservers()V
    .locals 2

    .line 15716
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15717
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15718
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15719
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15720
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15721
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15722
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15723
    invoke-static {}, Lorg/telegram/messenger/NotificationCenter;->getGlobalInstance()Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15724
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15725
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15726
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/tgnet/ConnectionsManager;->getInstance(I)Lorg/telegram/tgnet/ConnectionsManager;

    move-result-object v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-virtual {v0, v1}, Lorg/telegram/tgnet/ConnectionsManager;->cancelRequestsForGuid(I)V

    return-void
.end method

.method private replacePressed()V
    .locals 6

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x1

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object v0, p0

    .line 7080
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private requestAdjust()V
    .locals 3

    .line 15262
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x110

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 15263
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 15265
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 15267
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_0
    return-void
.end method

.method private requestAdjustToNothing()V
    .locals 3

    .line 15252
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x30

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 15253
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 15255
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 15257
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_0
    return-void
.end method

.method private requestVideoPreview(I)V
    .locals 11

    .line 18145
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    .line 18146
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/MediaController;->cancelVideoConvert(Lorg/telegram/messenger/MessageObject;)V

    .line 18148
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    if-nez v0, :cond_1

    move v0, v1

    goto :goto_0

    :cond_1
    move v0, v2

    .line 18149
    :goto_0
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 18150
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    .line 18151
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x4

    invoke-virtual {v3, v4}, Landroid/view/View;->setVisibility(I)V

    const/4 v3, 0x3

    if-ne p1, v1, :cond_d

    .line 18153
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    const/4 v6, 0x0

    if-ne p1, v5, :cond_5

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne p1, v5, :cond_5

    .line 18154
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 18155
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, p1, v2

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_3

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$30000(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-nez p1, :cond_2

    goto :goto_1

    :cond_2
    move p1, v2

    goto :goto_2

    :cond_3
    :goto_1
    move p1, v1

    :goto_2
    invoke-virtual {v4, v6, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 18156
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-virtual {p1, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    if-nez v0, :cond_4

    .line 18158
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {p0, p1, v2, v2, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 18159
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    float-to-long v0, v0

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    goto/16 :goto_5

    .line 18161
    :cond_4
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    goto/16 :goto_5

    .line 18164
    :cond_5
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 18165
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez p1, :cond_6

    .line 18166
    new-instance p1, Lorg/telegram/tgnet/TLRPC$TL_message;

    invoke-direct {p1}, Lorg/telegram/tgnet/TLRPC$TL_message;-><init>()V

    .line 18167
    iput v2, p1, Lorg/telegram/tgnet/TLRPC$Message;->id:I

    const-string v0, ""

    .line 18168
    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->message:Ljava/lang/String;

    .line 18169
    new-instance v0, Lorg/telegram/tgnet/TLRPC$TL_messageMediaEmpty;

    invoke-direct {v0}, Lorg/telegram/tgnet/TLRPC$TL_messageMediaEmpty;-><init>()V

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    .line 18170
    new-instance v0, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;

    invoke-direct {v0}, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;-><init>()V

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    .line 18171
    iget-wide v7, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    iput-wide v7, p1, Lorg/telegram/tgnet/TLRPC$Message;->dialog_id:J

    .line 18172
    new-instance v0, Lorg/telegram/messenger/MessageObject;

    sget v3, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    invoke-direct {v0, v3, p1, v2, v2}, Lorg/telegram/messenger/MessageObject;-><init>(ILorg/telegram/tgnet/TLRPC$Message;ZZ)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 18173
    iget-object p1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v3

    const-string v4, "video_preview.mp4"

    invoke-direct {v0, v3, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    .line 18174
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    new-instance v0, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v0}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    iput-object v0, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 18175
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 18176
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 18177
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 18178
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 18179
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    invoke-virtual {v0}, Landroid/net/Uri;->getPath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 18181
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget-wide v3, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    .line 18182
    iget-wide v7, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    iput-wide v7, p1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    const-wide/16 v9, -0x1

    cmp-long v0, v3, v9

    if-nez v0, :cond_7

    const-wide/16 v3, 0x0

    :cond_7
    cmp-long v0, v7, v9

    const/high16 v5, 0x447a0000    # 1000.0f

    if-nez v0, :cond_8

    .line 18187
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v5

    float-to-long v7, v0

    :cond_8
    sub-long/2addr v7, v3

    const-wide/32 v9, 0x4c4b40

    cmp-long v0, v7, v9

    if-lez v0, :cond_9

    add-long/2addr v3, v9

    .line 18190
    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 18192
    :cond_9
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 18193
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 18194
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 18195
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iput-boolean v1, p1, Lorg/telegram/messenger/VideoEditedInfo;->needUpdateProgress:Z

    .line 18196
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v5

    float-to-long v3, v0

    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 18198
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v1}, Lorg/telegram/messenger/MediaController;->scheduleVideoConvert(Lorg/telegram/messenger/MessageObject;ZZ)Z

    move-result p1

    if-nez p1, :cond_a

    .line 18199
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 18201
    :cond_a
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 18203
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, p1, v2

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_c

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$30000(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-nez p1, :cond_b

    goto :goto_3

    :cond_b
    move p1, v2

    goto :goto_4

    :cond_c
    :goto_3
    move p1, v1

    :goto_4
    invoke-virtual {v0, v6, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 18204
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-virtual {p1, v2, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_5

    .line 18207
    :cond_d
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 18208
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    const/4 v0, 0x2

    if-ne p1, v0, :cond_e

    .line 18210
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {p0, p1, v2, v2, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 18211
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    float-to-long v0, v0

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 18214
    :cond_e
    :goto_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private resetIndexForDeferredImageLoading()V
    .locals 3

    .line 13436
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getMark()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_0

    const/4 v1, 0x1

    .line 13437
    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/Object;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 13438
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    :cond_0
    return-void
.end method

.method private scheduleActionBarHide()V
    .locals 1

    const/16 v0, 0xbb8

    .line 8683
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide(I)V

    return-void
.end method

.method private scheduleActionBarHide(I)V
    .locals 3

    .line 8687
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isAccessibilityEnabled()Z

    move-result v0

    if-nez v0, :cond_0

    .line 8688
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 8689
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    int-to-long v1, p1

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_0
    return-void
.end method

.method private seekAnimatedStickersTo(J)V
    .locals 8

    .line 9618
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_3

    const/4 v1, 0x0

    .line 9619
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9620
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9621
    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v3, :cond_2

    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v3, v3, 0x1

    if-eqz v3, :cond_2

    iget-object v2, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->view:Landroid/view/View;

    instance-of v3, v2, Lorg/telegram/ui/Components/BackupImageView;

    if-eqz v3, :cond_2

    .line 9622
    check-cast v2, Lorg/telegram/ui/Components/BackupImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/BackupImageView;->getImageReceiver()Lorg/telegram/messenger/ImageReceiver;

    move-result-object v2

    .line 9623
    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getLottieAnimation()Lorg/telegram/ui/Components/RLottieDrawable;

    move-result-object v2

    if-nez v2, :cond_0

    goto :goto_1

    .line 9627
    :cond_0
    iget-wide v3, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    const-wide/16 v5, 0x0

    cmp-long v7, v3, v5

    if-lez v7, :cond_1

    const-wide/16 v5, 0x3e8

    div-long v5, v3, v5

    :cond_1
    sub-long v3, p1, v5

    invoke-virtual {v2, v3, v4}, Lorg/telegram/ui/Components/RLottieDrawable;->setProgressMs(J)V

    :cond_2
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    return-void
.end method

.method private seekVideoOrWebTo(J)V
    .locals 1

    .line 1584
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1585
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0, p1, p2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->seekTo(J)V

    goto :goto_0

    .line 1586
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    .line 1587
    invoke-virtual {v0, p1, p2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 1589
    :cond_1
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method private seekVideoOrWebToProgress(F)V
    .locals 3

    .line 8896
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8897
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v1

    long-to-float v1, v1

    mul-float/2addr p1, v1

    float-to-long v1, p1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    goto :goto_0

    .line 8898
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8899
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v1

    int-to-float v1, v1

    mul-float/2addr p1, v1

    float-to-long v1, p1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->seekTo(J)V

    :cond_1
    :goto_0
    return-void
.end method

.method private selectCompression()I
    .locals 8

    .line 18485
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    const-wide/32 v2, 0x3e800000

    cmp-long v0, v0, v2

    const/4 v1, 0x1

    if-lez v0, :cond_0

    .line 18486
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v0, v1

    return v0

    .line 18488
    :cond_0
    invoke-static {}, Lorg/telegram/messenger/MessagesController;->getGlobalMainSettings()Landroid/content/SharedPreferences;

    move-result-object v0

    .line 18489
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v3, 0x2

    :goto_0
    const/4 v4, 0x5

    if-ge v2, v4, :cond_2

    .line 18492
    sget-object v4, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v5, v1, [Ljava/lang/Object;

    const/4 v6, 0x0

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v5, v6

    const-string v6, "compress_video_%d"

    invoke-static {v4, v6, v5}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v4

    const/4 v5, -0x1

    invoke-interface {v0, v4, v5}, Landroid/content/SharedPreferences;->getInt(Ljava/lang/String;I)I

    move-result v4

    if-ltz v4, :cond_1

    .line 18494
    invoke-static {v4, v3}, Ljava/lang/Math;->min(II)I

    move-result v0

    return v0

    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 18498
    :cond_2
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/messenger/DownloadController;->getMaxVideoBitrate()I

    move-result v0

    int-to-float v0, v0

    const/high16 v4, 0x42c80000    # 100.0f

    int-to-float v2, v2

    div-float/2addr v4, v2

    div-float/2addr v0, v4

    invoke-static {v0}, Ljava/lang/Math;->round(F)I

    move-result v0

    sub-int/2addr v0, v1

    invoke-static {v3, v0}, Ljava/lang/Math;->min(II)I

    move-result v0

    return v0
.end method

.method private sendPressed(ZI)V
    .locals 1

    const/4 v0, 0x0

    .line 437
    invoke-direct {p0, p1, p2, v0}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZILjava/lang/String;)V

    return-void
.end method

.method private sendPressed(ZILjava/lang/String;)V
    .locals 8

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    move-object v0, p0

    move v1, p1

    move v2, p2

    move-object v6, p3

    .line 7076
    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZLjava/lang/String;Z)V

    return-void
.end method

.method private sendPressed(ZIZZZ)V
    .locals 8

    const/4 v6, 0x0

    const/4 v7, 0x0

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    move v5, p5

    .line 442
    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZLjava/lang/String;Z)V

    return-void
.end method

.method private sendPressed(ZIZZZLjava/lang/String;Z)V
    .locals 18

    move-object/from16 v7, p0

    .line 7084
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v0

    if-eqz v0, :cond_0

    return-void

    .line 7087
    :cond_0
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_18

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_18

    .line 7088
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v8, 0x0

    const/4 v9, 0x1

    if-ne v0, v9, :cond_a

    if-nez p5, :cond_9

    .line 7089
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v0, :cond_9

    const-wide/16 v1, 0x0

    .line 7092
    iget-object v0, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->object:Lorg/telegram/tgnet/TLObject;

    instance-of v3, v0, Lorg/telegram/tgnet/TLRPC$User;

    if-eqz v3, :cond_1

    .line 7093
    move-object v1, v0

    check-cast v1, Lorg/telegram/tgnet/TLRPC$User;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    .line 7094
    check-cast v0, Lorg/telegram/tgnet/TLRPC$User;

    iget-wide v2, v0, Lorg/telegram/tgnet/TLRPC$User;->id:J

    move-object v0, v1

    move-wide v1, v2

    goto :goto_0

    :cond_1
    const-string v0, ""

    .line 7096
    :goto_0
    new-instance v10, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const/16 v3, 0x8

    .line 7097
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-virtual {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setAdditionalHorizontalPadding(I)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7098
    new-instance v3, Lorg/telegram/ui/SuggestUserPhotoView;

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v4

    invoke-direct {v3, v4}, Lorg/telegram/ui/SuggestUserPhotoView;-><init>(Landroid/content/Context;)V

    .line 7099
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget-object v4, v4, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->object:Lorg/telegram/tgnet/TLObject;

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v6, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3, v4, v5, v6}, Lorg/telegram/ui/SuggestUserPhotoView;->setImages(Lorg/telegram/tgnet/TLObject;Landroid/view/View;Lorg/telegram/ui/Components/PhotoCropView;)V

    .line 7100
    invoke-virtual {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTopView(Landroid/view/View;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7102
    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget v3, v3, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    if-ne v3, v9, :cond_4

    .line 7103
    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v3

    iget-wide v3, v3, Lorg/telegram/messenger/UserConfig;->clientUserId:J

    cmp-long v1, v3, v1

    if-nez v1, :cond_2

    .line 7104
    sget v0, Lorg/telegram/messenger/R$string;->SetUserPhotoSelfAlertMessage:I

    const-string v1, "SetUserPhotoSelfAlertMessage"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_1

    .line 7106
    :cond_2
    sget v1, Lorg/telegram/messenger/R$string;->SetUserPhotoAlertMessage:I

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/Object;

    aput-object v0, v2, v8

    aput-object v0, v2, v9

    const-string v0, "SetUserPhotoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7108
    :goto_1
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    if-eqz v0, :cond_3

    .line 7109
    sget v0, Lorg/telegram/messenger/R$string;->SetVideo:I

    const-string v1, "SetVideo"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_3

    .line 7111
    :cond_3
    sget v0, Lorg/telegram/messenger/R$string;->SetPhoto:I

    const-string v1, "SetPhoto"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_3

    .line 7114
    :cond_4
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    if-eqz v1, :cond_5

    .line 7115
    sget v1, Lorg/telegram/messenger/R$string;->SuggestVideoAlertMessage:I

    new-array v2, v9, [Ljava/lang/Object;

    aput-object v0, v2, v8

    const-string v0, "SuggestVideoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_2

    .line 7117
    :cond_5
    sget v1, Lorg/telegram/messenger/R$string;->SuggestPhotoAlertMessage:I

    new-array v2, v9, [Ljava/lang/Object;

    aput-object v0, v2, v8

    const-string v0, "SuggestPhotoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7119
    :goto_2
    sget v0, Lorg/telegram/messenger/R$string;->SuggestPhotoShort:I

    const-string v1, "SuggestPhotoShort"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    .line 7121
    :goto_3
    sget v1, Lorg/telegram/messenger/R$string;->Cancel:I

    const-string v2, "Cancel"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    sget-object v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda23;->INSTANCE:Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda23;

    invoke-virtual {v10, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7124
    new-instance v11, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda22;

    move-object v1, v11

    move-object/from16 v2, p0

    move/from16 v3, p1

    move/from16 v4, p2

    move/from16 v5, p3

    move/from16 v6, p4

    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda22;-><init>(Lorg/telegram/ui/PhotoViewer;ZIZZ)V

    invoke-virtual {v10, v0, v11}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7127
    sget v0, Lorg/telegram/ui/ActionBar/Theme;->key_voipgroup_listeningText:I

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setDialogButtonColorKey(I)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7128
    invoke-virtual {v10}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->create()Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object v0

    const v1, 0x3f4ccccd    # 0.8f

    .line 7129
    invoke-virtual {v0, v1, v8, v9}, Lorg/telegram/ui/ActionBar/AlertDialog;->setBlurParams(FZZ)V

    const v1, -0xebebec    # -1.9683E38f

    const/16 v2, 0xcc

    .line 7130
    invoke-static {v1, v2}, Landroidx/core/graphics/ColorUtils;->setAlphaComponent(II)I

    move-result v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog;->setBackgroundColor(I)V

    .line 7131
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->show()V

    .line 7132
    sget v1, Lorg/telegram/ui/ActionBar/Theme;->key_voipgroup_nameText:I

    invoke-static {v1}, Lorg/telegram/ui/ActionBar/Theme;->getColor(I)I

    move-result v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog;->setTextColor(I)V

    .line 7133
    new-instance v1, Lorg/telegram/ui/PhotoViewer$33;

    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer$33;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V

    .line 7154
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_8

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_8

    const/4 v1, 0x0

    .line 7156
    :try_start_0
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    .line 7157
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    if-eqz v0, :cond_6

    .line 7158
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v2, v0}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 7159
    iput-object v1, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    .line 7161
    :cond_6
    new-instance v0, Landroid/widget/ImageView;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v2}, Landroid/view/TextureView;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    .line 7162
    new-instance v2, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    invoke-direct {v2, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 7163
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception v0

    .line 7165
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_7

    .line 7166
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    .line 7167
    iput-object v1, v7, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    .line 7169
    :cond_7
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_8
    :goto_4
    return-void

    .line 7174
    :cond_9
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    :cond_a
    if-nez p3, :cond_d

    .line 7176
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_d

    .line 7177
    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    .line 7178
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    if-nez v1, :cond_c

    .line 7179
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannel(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-eqz v1, :cond_b

    iget-boolean v1, v0, Lorg/telegram/tgnet/TLRPC$Chat;->megagroup:Z

    if-nez v1, :cond_c

    :cond_b
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannel(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_d

    .line 7180
    :cond_c
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getNotificationsSettings(I)Landroid/content/SharedPreferences;

    move-result-object v0

    invoke-interface {v0}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "silent_"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v2

    invoke-virtual {v1, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    xor-int/lit8 v2, p1, 0x1

    invoke-interface {v0, v1, v2}, Landroid/content/SharedPreferences$Editor;->putBoolean(Ljava/lang/String;Z)Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 7183
    :cond_d
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v12

    .line 7184
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_e

    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_e

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_e

    .line 7185
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 7186
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v1, :cond_e

    .line 7187
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    iput-object v12, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 7190
    :cond_e
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_12

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 7191
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_10

    if-eqz v12, :cond_f

    goto :goto_5

    :cond_f
    move v0, v8

    goto :goto_6

    :cond_10
    :goto_5
    move v0, v9

    :goto_6
    if-eqz v0, :cond_11

    .line 7192
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    invoke-static {v1}, Lorg/telegram/messenger/ChatObject;->canSendVideo(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-nez v1, :cond_11

    .line 7193
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/R$string;->GlobalAttachVideoRestricted:I

    invoke-static {v1}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createErrorBulletin(Ljava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    return-void

    :cond_11
    if-nez v0, :cond_12

    .line 7196
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendPhoto(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_12

    .line 7197
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/R$string;->GlobalAttachPhotoRestricted:I

    invoke-static {v1}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createErrorBulletin(Ljava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    return-void

    .line 7201
    :cond_12
    iput-boolean v9, v7, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-eqz v12, :cond_16

    .line 7203
    iget-wide v0, v12, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    long-to-float v0, v0

    const v1, 0x3f666666    # 0.9f

    mul-float/2addr v0, v1

    float-to-long v0, v0

    const-wide/32 v2, 0x7d000000

    cmp-long v2, v0, v2

    if-lez v2, :cond_13

    .line 7204
    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v2

    invoke-virtual {v2}, Lorg/telegram/messenger/UserConfig;->isPremium()Z

    move-result v2

    if-eqz v2, :cond_14

    :cond_13
    const-wide v2, 0xfa000000L

    cmp-long v0, v0, v2

    if-lez v0, :cond_16

    .line 7205
    :cond_14
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_15

    .line 7206
    new-instance v0, Lorg/telegram/ui/Components/Premium/LimitReachedBottomSheet;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/ChatAttachAlert;->getBaseFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v1

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    const/4 v3, 0x6

    sget v4, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    const/4 v5, 0x0

    move-object/from16 p1, v0

    move-object/from16 p2, v1

    move-object/from16 p3, v2

    move/from16 p4, v3

    move/from16 p5, v4

    move-object/from16 p6, v5

    invoke-direct/range {p1 .. p6}, Lorg/telegram/ui/Components/Premium/LimitReachedBottomSheet;-><init>(Lorg/telegram/ui/ActionBar/BaseFragment;Landroid/content/Context;IILorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 7207
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    :cond_15
    return-void

    :cond_16
    if-nez p3, :cond_17

    .line 7213
    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v11, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    move/from16 v13, p1

    move/from16 v14, p2

    move/from16 v15, p4

    move-object/from16 v16, p6

    move/from16 v17, p7

    invoke-interface/range {v10 .. v17}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->sendButtonPressed(ILorg/telegram/messenger/VideoEditedInfo;ZIZLjava/lang/String;Z)V

    goto :goto_7

    .line 7215
    :cond_17
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1, v12}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->replaceButtonPressed(ILorg/telegram/messenger/VideoEditedInfo;)V

    .line 7217
    :goto_7
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    if-eqz v0, :cond_18

    .line 7218
    invoke-virtual {v7, v8, v8}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_18
    return-void
.end method

.method private setCaptionHwLayerEnabled(Z)V
    .locals 2

    .line 13735
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->captionHwLayerEnabled:Z

    if-eq v0, p1, :cond_0

    .line 13736
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionHwLayerEnabled:Z

    .line 13737
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v0, 0x2

    const/4 v1, 0x0

    invoke-virtual {p1, v0, v1}, Landroid/widget/ViewSwitcher;->setLayerType(ILandroid/graphics/Paint;)V

    .line 13738
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object p1

    invoke-virtual {p1, v0, v1}, Landroid/widget/TextView;->setLayerType(ILandroid/graphics/Paint;)V

    .line 13739
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object p1

    invoke-virtual {p1, v0, v1}, Landroid/widget/TextView;->setLayerType(ILandroid/graphics/Paint;)V

    :cond_0
    return-void
.end method

.method private setCropBitmap()V
    .locals 11

    .line 14645
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    if-nez v0, :cond_6

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_0

    goto :goto_1

    .line 14648
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2

    .line 14649
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_1

    .line 14650
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v2

    if-lez v2, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v0

    if-gtz v0, :cond_2

    :cond_1
    return-void

    .line 14654
    :cond_2
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    .line 14655
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 14656
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v1

    if-nez v0, :cond_3

    .line 14658
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 14659
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/ClippingImageView;->getOrientation()I

    move-result v1

    :cond_3
    move-object v3, v0

    move v4, v1

    if-nez v3, :cond_4

    .line 14661
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_6

    .line 14662
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v5, 0x0

    const/4 v6, 0x0

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    goto :goto_0

    :cond_5
    const/4 v0, 0x0

    :goto_0
    move-object v9, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-virtual/range {v2 .. v10}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    :cond_6
    :goto_1
    return-void
.end method

.method private setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V
    .locals 18

    move-object/from16 v1, p0

    move-object/from16 v0, p1

    move/from16 v2, p3

    move/from16 v3, p4

    const/4 v4, 0x3

    move-object/from16 v5, p2

    .line 13443
    invoke-static {v5, v4}, Lorg/telegram/ui/Components/AnimatedEmojiSpan;->cloneSpans(Ljava/lang/CharSequence;I)Ljava/lang/CharSequence;

    move-result-object v4

    .line 13444
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->editing:Z

    invoke-direct {v1, v5, v3}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 13445
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->editing:Z

    const/16 v6, 0x8

    if-nez v5, :cond_22

    iget v5, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, 0x1

    if-ne v5, v7, :cond_0

    goto/16 :goto_f

    .line 13450
    :cond_0
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13452
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    const/4 v6, -0x1

    const/4 v8, 0x0

    if-eqz v5, :cond_2

    .line 13453
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5}, Landroid/widget/ViewSwitcher;->getParent()Landroid/view/ViewParent;

    move-result-object v5

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    if-eq v5, v9, :cond_4

    .line 13454
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    if-eqz v5, :cond_1

    .line 13455
    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 13457
    :cond_1
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v8}, Landroid/widget/ViewSwitcher;->setMeasureAllChildren(Z)V

    .line 13458
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v10, -0x1

    const/4 v11, -0x2

    const/16 v12, 0x53

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/16 v15, 0x4c

    const/16 v16, 0x30

    invoke-static/range {v10 .. v16}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v10

    invoke-virtual {v5, v9, v10}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_0

    .line 13461
    :cond_2
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    const/4 v9, -0x2

    if-nez v5, :cond_3

    .line 13462
    new-instance v5, Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v10

    invoke-direct {v5, v10}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;)V

    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    .line 13463
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setContainer(Landroid/widget/FrameLayout;)V

    .line 13464
    new-instance v5, Lorg/telegram/ui/PhotoViewer$62;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v10

    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    invoke-direct {v5, v1, v10, v11, v12}, Lorg/telegram/ui/PhotoViewer$62;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;Landroid/widget/FrameLayout;)V

    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    .line 13507
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setScrollView(Landroidx/core/widget/NestedScrollView;)V

    .line 13508
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v5, v8}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 13509
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    new-instance v11, Landroid/view/ViewGroup$LayoutParams;

    invoke-direct {v11, v6, v9}, Landroid/view/ViewGroup$LayoutParams;-><init>(II)V

    invoke-virtual {v5, v10, v11}, Landroidx/core/widget/NestedScrollView;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 13510
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    const/16 v11, 0x50

    invoke-static {v6, v6, v11}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v11

    invoke-virtual {v5, v10, v11}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 13512
    :cond_3
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5}, Landroid/widget/ViewSwitcher;->getParent()Landroid/view/ViewParent;

    move-result-object v5

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    if-eq v5, v10, :cond_4

    .line 13513
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v10}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 13514
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v7}, Landroid/widget/ViewSwitcher;->setMeasureAllChildren(Z)V

    .line 13515
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v10, v6, v9}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;II)V

    .line 13516
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v5}, Landroid/view/View;->bringToFront()V

    .line 13520
    :cond_4
    :goto_0
    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    .line 13521
    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v9

    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    .line 13523
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v3, :cond_5

    invoke-virtual {v10}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v10

    goto :goto_1

    :cond_5
    invoke-virtual {v10}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v10

    .line 13525
    :goto_1
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v12, 0x0

    if-eqz v11, :cond_6

    .line 13526
    invoke-virtual {v10}, Landroid/widget/TextView;->getMaxLines()I

    move-result v11

    if-eq v11, v7, :cond_a

    .line 13527
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13528
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13529
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13530
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13531
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    sget-object v13, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13532
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    sget-object v13, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    goto :goto_3

    .line 13535
    :cond_6
    invoke-virtual {v10}, Landroid/widget/TextView;->getMaxLines()I

    move-result v11

    if-ne v11, v7, :cond_7

    .line 13537
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v13

    invoke-virtual {v13, v8}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13538
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v13

    invoke-virtual {v13, v8}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13541
    :cond_7
    iget-boolean v13, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v13, :cond_9

    .line 13542
    sget-object v13, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v14, v13, Landroid/graphics/Point;->x:I

    iget v13, v13, Landroid/graphics/Point;->y:I

    if-le v14, v13, :cond_8

    const/4 v13, 0x5

    goto :goto_2

    :cond_8
    const/16 v13, 0xa

    goto :goto_2

    :cond_9
    const v13, 0x7fffffff

    :goto_2
    if-eq v11, v13, :cond_a

    .line 13547
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13548
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13549
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v12}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13550
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v12}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13554
    :cond_a
    :goto_3
    invoke-virtual {v10, v8}, Landroid/widget/TextView;->setScrollX(I)V

    .line 13555
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez v11, :cond_b

    if-eqz v3, :cond_b

    if-eqz v5, :cond_b

    move v13, v7

    goto :goto_4

    :cond_b
    move v13, v8

    :goto_4
    iput-boolean v13, v1, Lorg/telegram/ui/PhotoViewer;->dontChangeCaptionPosition:Z

    if-nez v11, :cond_c

    .line 13559
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iput-boolean v8, v13, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->dontChangeTopMargin:Z

    :cond_c
    if-eqz v3, :cond_12

    .line 13562
    sget v13, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v14, 0x13

    if-lt v13, v14, :cond_12

    const/16 v14, 0x17

    if-lt v13, v14, :cond_e

    if-eqz v11, :cond_d

    .line 13565
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    goto :goto_5

    :cond_d
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    :goto_5
    invoke-static {v11}, Landroid/transition/TransitionManager;->endTransitions(Landroid/view/ViewGroup;)V

    .line 13567
    :cond_e
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    const-wide/16 v13, 0xc8

    const/4 v15, 0x2

    if-eqz v11, :cond_f

    .line 13568
    new-instance v11, Landroid/transition/TransitionSet;

    invoke-direct {v11}, Landroid/transition/TransitionSet;-><init>()V

    .line 13569
    invoke-virtual {v11, v8}, Landroid/transition/TransitionSet;->setOrdering(I)Landroid/transition/TransitionSet;

    .line 13570
    new-instance v6, Landroid/transition/ChangeBounds;

    invoke-direct {v6}, Landroid/transition/ChangeBounds;-><init>()V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13571
    new-instance v6, Landroid/transition/Fade;

    invoke-direct {v6, v15}, Landroid/transition/Fade;-><init>(I)V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13572
    new-instance v6, Landroid/transition/Fade;

    invoke-direct {v6, v7}, Landroid/transition/Fade;-><init>(I)V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13573
    invoke-virtual {v11, v13, v14}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    .line 13574
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-static {v6, v11}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    goto :goto_6

    .line 13576
    :cond_f
    new-instance v6, Landroid/transition/TransitionSet;

    invoke-direct {v6}, Landroid/transition/TransitionSet;-><init>()V

    new-instance v11, Lorg/telegram/ui/PhotoViewer$64;

    invoke-direct {v11, v1, v15, v9, v5}, Lorg/telegram/ui/PhotoViewer$64;-><init>(Lorg/telegram/ui/PhotoViewer;IZZ)V

    .line 13577
    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    move-result-object v6

    new-instance v11, Lorg/telegram/ui/PhotoViewer$63;

    invoke-direct {v11, v1, v7, v9, v5}, Lorg/telegram/ui/PhotoViewer$63;-><init>(Lorg/telegram/ui/PhotoViewer;IZZ)V

    .line 13599
    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    move-result-object v6

    .line 13618
    invoke-virtual {v6, v13, v14}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    move-result-object v6

    if-nez v9, :cond_10

    .line 13621
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iput-boolean v7, v11, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->dontChangeTopMargin:Z

    .line 13622
    new-instance v11, Lorg/telegram/ui/PhotoViewer$65;

    invoke-direct {v11, v1}, Lorg/telegram/ui/PhotoViewer$65;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    :cond_10
    if-eqz v9, :cond_11

    if-nez v5, :cond_11

    .line 13674
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTarget(Landroid/view/View;)Landroid/transition/TransitionSet;

    .line 13677
    :cond_11
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    invoke-static {v11, v6}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    :goto_6
    move v6, v7

    goto :goto_7

    .line 13680
    :cond_12
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v6

    invoke-virtual {v6, v12}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13681
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v6, :cond_13

    .line 13682
    invoke-virtual {v6, v8, v8}, Landroidx/core/widget/NestedScrollView;->scrollTo(II)V

    :cond_13
    move v6, v8

    :goto_7
    const/4 v11, 0x4

    if-nez v5, :cond_1c

    .line 13688
    invoke-static {v12, v7}, Lorg/telegram/ui/ActionBar/Theme;->createChatResources(Landroid/content/Context;Z)V

    if-eqz v0, :cond_14

    .line 13690
    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v6, :cond_14

    iget-object v6, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v6, :cond_14

    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v9, :cond_14

    iget-object v6, v6, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v9

    invoke-static {v6, v9}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v6

    if-eqz v6, :cond_14

    goto :goto_8

    :cond_14
    const/16 v6, 0x14

    if-eqz v0, :cond_16

    .line 13692
    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Message;->entities:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_16

    .line 13693
    new-instance v9, Landroid/text/SpannableString;

    invoke-direct {v9, v4}, Landroid/text/SpannableString;-><init>(Ljava/lang/CharSequence;)V

    .line 13694
    invoke-virtual {v0, v9, v7, v8}, Lorg/telegram/messenger/MessageObject;->addEntitiesToText(Ljava/lang/CharSequence;ZZ)Z

    .line 13695
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_15

    .line 13696
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v12

    const/4 v14, 0x0

    const/4 v15, 0x3

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v7

    double-to-int v0, v7

    const/16 v17, 0x0

    move-object v13, v9

    move/from16 v16, v0

    invoke-static/range {v12 .. v17}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    .line 13698
    :cond_15
    invoke-virtual {v10}, Landroid/widget/TextView;->getPaint()Landroid/text/TextPaint;

    move-result-object v0

    invoke-virtual {v0}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    const/4 v7, 0x0

    invoke-static {v9, v0, v4, v7}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v4

    goto :goto_8

    :cond_16
    move v7, v8

    .line 13700
    new-instance v0, Landroid/text/SpannableStringBuilder;

    invoke-direct {v0, v4}, Landroid/text/SpannableStringBuilder;-><init>(Ljava/lang/CharSequence;)V

    invoke-virtual {v10}, Landroid/widget/TextView;->getPaint()Landroid/text/TextPaint;

    move-result-object v4

    invoke-virtual {v4}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v4

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    invoke-static {v0, v4, v6, v7}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v4

    .line 13702
    :goto_8
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v4}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13704
    :try_start_0
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->lastCaptionTranslating:Z

    if-eq v6, v2, :cond_17

    const/4 v6, 0x1

    goto :goto_9

    :cond_17
    const/4 v6, 0x0

    :goto_9
    invoke-virtual {v0, v4, v3, v6}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;ZZ)Z

    .line 13705
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v0, :cond_18

    .line 13706
    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->updateTopMargin()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_a

    :catch_0
    move-exception v0

    .line 13709
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_18
    :goto_a
    const/4 v3, 0x0

    .line 13711
    invoke-virtual {v10, v3}, Landroid/widget/TextView;->setScrollY(I)V

    const/4 v3, -0x1

    .line 13712
    invoke-virtual {v10, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13713
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_1a

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_19

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-eqz v0, :cond_19

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1a

    :cond_19
    const/4 v7, 0x1

    goto :goto_b

    :cond_1a
    const/4 v7, 0x0

    .line 13714
    :goto_b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v7, :cond_1b

    const/4 v11, 0x0

    :cond_1b
    invoke-virtual {v0, v11}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    const/4 v7, 0x0

    goto :goto_e

    .line 13716
    :cond_1c
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_1d

    .line 13717
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget v4, Lorg/telegram/messenger/R$string;->AddCaption:I

    const-string v6, "AddCaption"

    invoke-static {v6, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v4, v3}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;Z)V

    .line 13718
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    const v3, -0x4d000001

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13719
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const-string v3, "empty"

    invoke-virtual {v0, v3}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13720
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v7, 0x0

    invoke-virtual {v0, v7}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    goto :goto_e

    :cond_1d
    const/4 v7, 0x0

    .line 13722
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v12, v3}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;Z)V

    .line 13723
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    const/4 v3, -0x1

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13724
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v6, :cond_1f

    if-eqz v9, :cond_1e

    goto :goto_c

    :cond_1e
    move v3, v7

    goto :goto_d

    :cond_1f
    :goto_c
    const/4 v3, 0x1

    :goto_d
    invoke-virtual {v0, v11, v3}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(IZ)V

    .line 13725
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v12}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13728
    :goto_e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    instance-of v0, v0, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    if-eqz v0, :cond_20

    .line 13729
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    check-cast v0, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextView;->setLoading(Z)V

    :cond_20
    if-nez v5, :cond_21

    if-eqz v2, :cond_21

    const/4 v7, 0x1

    .line 13731
    :cond_21
    iput-boolean v7, v1, Lorg/telegram/ui/PhotoViewer;->lastCaptionTranslating:Z

    return-void

    .line 13446
    :cond_22
    :goto_f
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    .line 13447
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    return-void
.end method

.method private setDoubleTapEnabled(Z)V
    .locals 1

    .line 12264
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->doubleTapEnabled:Z

    .line 12265
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    if-eqz p1, :cond_0

    move-object p1, p0

    goto :goto_0

    :cond_0
    const/4 p1, 0x0

    :goto_0
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/GestureDetector2;->setOnDoubleTapListener(Lorg/telegram/ui/Components/GestureDetector2$OnDoubleTapListener;)V

    return-void
.end method

.method private setImageIndex(I)V
    .locals 2

    const/4 v0, 0x1

    const/4 v1, 0x0

    .line 13070
    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(IZZ)V

    return-void
.end method

.method private setImageIndex(IZZ)V
    .locals 33

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 13074
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v2, v1, :cond_45

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v2, :cond_0

    goto/16 :goto_25

    :cond_0
    const/4 v2, 0x0

    if-nez p2, :cond_1

    .line 13078
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v3, :cond_1

    .line 13079
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 13080
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 13083
    :cond_1
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x0

    aput-object v4, v3, v5

    .line 13084
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    add-int/lit8 v4, v1, 0x1

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v6, 0x1

    aput-object v4, v3, v6

    .line 13085
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    add-int/lit8 v4, v1, -0x1

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v7, 0x2

    aput-object v4, v3, v7

    .line 13086
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v8}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v8

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v3, v4, v8, v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->willSwitchFromPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)V

    .line 13087
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    iput-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->lastPhotoSetTime:J

    .line 13089
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 13090
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 13091
    invoke-direct/range {p0 .. p3}, Lorg/telegram/ui/PhotoViewer;->setIsAboutToSwitchToIndex(IZZ)V

    .line 13097
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->clone()Lorg/telegram/ui/Components/Crop/CropTransform;

    move-result-object v4

    .line 13098
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    if-eqz v8, :cond_3

    iget-object v8, v8, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v8, :cond_2

    goto :goto_0

    :cond_2
    invoke-virtual {v8}, Lorg/telegram/messenger/MediaController$CropState;->clone()Lorg/telegram/messenger/MediaController$CropState;

    move-result-object v8

    goto :goto_1

    :cond_3
    :goto_0
    move-object v8, v2

    .line 13099
    :goto_1
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    .line 13101
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-virtual {v10}, Lorg/telegram/ui/PhotoViewer$EditState;->reset()V

    .line 13103
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_e

    .line 13104
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v1, :cond_d

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_4

    goto/16 :goto_7

    .line 13108
    :cond_4
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v1, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    if-eqz p2, :cond_5

    .line 13109
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v10, :cond_5

    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v13

    if-ne v10, v13, :cond_5

    move v10, v6

    goto :goto_2

    :cond_5
    move v10, v5

    :goto_2
    if-eqz v10, :cond_6

    .line 13111
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-boolean v13, v13, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    iput-boolean v13, v1, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    .line 13113
    :cond_6
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 13114
    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v13

    .line 13115
    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v14, v6, :cond_9

    .line 13116
    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v1

    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v1, :cond_8

    .line 13117
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v1, :cond_7

    .line 13118
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_3

    .line 13120
    :cond_7
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 13122
    :goto_3
    invoke-direct {v0, v6}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    goto :goto_4

    .line 13124
    :cond_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 13125
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    .line 13128
    :cond_9
    :goto_4
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    const/16 v1, 0x8

    if-nez v13, :cond_b

    .line 13129
    iget-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v14, :cond_a

    goto :goto_5

    .line 13134
    :cond_a
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13135
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13136
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto :goto_6

    .line 13130
    :cond_b
    :goto_5
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v14, v5}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13131
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x13

    invoke-virtual {v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 13132
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getVisibleSubItemsCount()I

    move-result v15

    if-le v15, v6, :cond_c

    move v1, v5

    :cond_c
    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :goto_6
    move/from16 v16, v3

    move v1, v5

    move v3, v6

    goto/16 :goto_1a

    .line 13105
    :cond_d
    :goto_7
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13138
    :cond_e
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_11

    if-ltz v1, :cond_10

    .line 13139
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_f

    goto :goto_8

    .line 13143
    :cond_f
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/SecureDocument;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    move/from16 v16, v3

    move v1, v5

    goto/16 :goto_17

    .line 13140
    :cond_10
    :goto_8
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13144
    :cond_11
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_16

    if-ltz v1, :cond_15

    .line 13145
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_12

    goto :goto_a

    .line 13149
    :cond_12
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 13150
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v13, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lorg/telegram/messenger/ImageLocation;

    if-eqz p2, :cond_13

    if-eqz v10, :cond_13

    if-eqz v13, :cond_13

    .line 13151
    iget-object v10, v10, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v14, v10, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v13, v13, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v15, v13, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v14, v15, :cond_13

    iget-wide v14, v10, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    move/from16 v16, v3

    iget-wide v2, v13, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v2, v14, v2

    if-nez v2, :cond_14

    move v2, v6

    goto :goto_9

    :cond_13
    move/from16 v16, v3

    :cond_14
    move v2, v5

    .line 13154
    :goto_9
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/ImageLocation;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 13155
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    move v10, v2

    move v1, v5

    move v13, v1

    move v3, v6

    const/4 v2, 0x0

    goto/16 :goto_1a

    .line 13146
    :cond_15
    :goto_a
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    :cond_16
    move/from16 v16, v3

    .line 13156
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_2c

    if-ltz v1, :cond_2b

    .line 13157
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v1, v2, :cond_17

    goto/16 :goto_12

    .line 13161
    :cond_17
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    .line 13162
    instance-of v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v2, :cond_1b

    .line 13163
    check-cast v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 13164
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_18

    .line 13165
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v2

    invoke-virtual {v2}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 13166
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    goto :goto_c

    .line 13167
    :cond_18
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v2, :cond_19

    .line 13168
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    invoke-static {v1, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-virtual {v2, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    goto :goto_b

    .line 13169
    :cond_19
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v3, v2, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v3, :cond_1a

    .line 13170
    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 13171
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v2, "video"

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    goto :goto_c

    :cond_1a
    :goto_b
    move v1, v5

    :goto_c
    move v13, v1

    move v10, v5

    const/4 v1, 0x0

    goto/16 :goto_10

    .line 13175
    :cond_1b
    instance-of v2, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_25

    .line 13176
    move-object v2, v1

    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13177
    iget-object v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    if-nez v3, :cond_1c

    .line 13179
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13182
    :cond_1c
    iget-boolean v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 13183
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 13184
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 13185
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 13186
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 13187
    iget-wide v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    iput-wide v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    .line 13188
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 13189
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13190
    new-instance v13, Ljava/io/File;

    iget-object v14, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-direct {v13, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13191
    invoke-static {v13}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v14

    .line 13192
    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v15, :cond_23

    .line 13193
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    .line 13194
    iget v10, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->width:I

    const-string v11, ", "

    if-eqz v10, :cond_1e

    iget v10, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->height:I

    if-eqz v10, :cond_1e

    .line 13195
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v10

    if-lez v10, :cond_1d

    .line 13196
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13198
    :cond_1d
    sget-object v10, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v12, v7, [Ljava/lang/Object;

    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->width:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v12, v5

    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->height:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v12, v6

    const-string v7, "%dx%d"

    invoke-static {v10, v7, v12}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v15, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13200
    :cond_1e
    iget-boolean v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v7, :cond_20

    .line 13201
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v7

    if-lez v7, :cond_1f

    .line 13202
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13204
    :cond_1f
    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->duration:I

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->formatShortDuration(I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v15, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13206
    :cond_20
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->size:J

    const-wide/16 v17, 0x0

    cmp-long v6, v6, v17

    if-eqz v6, :cond_22

    .line 13207
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v6

    if-lez v6, :cond_21

    .line 13208
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13210
    :cond_21
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->size:J

    invoke-static {v6, v7}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13213
    :cond_22
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v13}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v2, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13214
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v2, v15}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13216
    :cond_23
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-eqz v2, :cond_24

    const/4 v2, 0x1

    goto :goto_d

    :cond_24
    move v2, v5

    :goto_d
    move-object v10, v14

    goto :goto_e

    .line 13217
    :cond_25
    instance-of v2, v1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v2, :cond_26

    .line 13218
    move-object v2, v1

    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 13219
    invoke-virtual {v2}, Lorg/telegram/messenger/MediaController$SearchImage;->getPathToAttach()Ljava/lang/String;

    move-result-object v3

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 13220
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 13221
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 13222
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 13223
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 13224
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    iput-wide v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    .line 13225
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 13226
    iget-object v2, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v2, v3, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    :cond_26
    move v2, v5

    move v3, v2

    const/4 v10, 0x0

    .line 13228
    :goto_e
    instance-of v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v6, :cond_29

    .line 13229
    check-cast v1, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 13230
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v6

    if-eqz v6, :cond_27

    .line 13231
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    goto :goto_f

    .line 13232
    :cond_27
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v1, :cond_28

    .line 13233
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    goto :goto_f

    .line 13235
    :cond_28
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    :cond_29
    :goto_f
    move v13, v3

    move-object v1, v10

    move v10, v2

    .line 13239
    :goto_10
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2a

    const/4 v3, 0x1

    .line 13240
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 13241
    iget v6, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    .line 13242
    iget v7, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    .line 13243
    iget v11, v2, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    .line 13244
    iget v14, v2, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    .line 13245
    iget v15, v2, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    iput v15, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    .line 13246
    iget v12, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    iput v12, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    .line 13247
    iget v5, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    .line 13248
    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    .line 13249
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/high16 v26, 0x3f800000    # 1.0f

    const/high16 v27, 0x3f800000    # 1.0f

    const/16 v30, 0x0

    const/16 v31, 0x0

    move-object/from16 v19, v3

    const/4 v3, 0x1

    move/from16 v20, v3

    move/from16 v21, v6

    move/from16 v22, v7

    move/from16 v23, v14

    move/from16 v24, v15

    move/from16 v25, v11

    move/from16 v28, v12

    move/from16 v29, v5

    move/from16 v32, v2

    invoke-virtual/range {v19 .. v32}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    goto :goto_11

    :cond_2a
    move v2, v5

    .line 13251
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 13252
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/16 v20, 0x0

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    const/high16 v26, 0x3f800000    # 1.0f

    const/high16 v27, 0x3f800000    # 1.0f

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    const/16 v30, 0x0

    const/16 v31, 0x0

    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    move-object/from16 v19, v2

    move/from16 v21, v3

    move/from16 v22, v5

    move/from16 v23, v6

    move/from16 v24, v7

    move/from16 v25, v11

    move/from16 v28, v12

    move/from16 v29, v14

    move/from16 v32, v15

    invoke-virtual/range {v19 .. v32}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    :goto_11
    move-object v2, v1

    const/4 v1, 0x0

    goto :goto_19

    :cond_2b
    :goto_12
    move v1, v5

    .line 13158
    invoke-virtual {v0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13254
    :cond_2c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_32

    .line 13255
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v2, :cond_31

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getItemsCount()I

    move-result v1

    if-lt v2, v1, :cond_2d

    goto :goto_16

    .line 13259
    :cond_2d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->get(I)Lorg/telegram/tgnet/TLRPC$PageBlock;

    move-result-object v1

    .line 13260
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    if-eqz v2, :cond_2e

    if-ne v2, v1, :cond_2e

    const/4 v10, 0x1

    goto :goto_13

    :cond_2e
    const/4 v10, 0x0

    .line 13261
    :goto_13
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 13262
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_30

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_2f

    goto :goto_14

    :cond_2f
    const/4 v13, 0x0

    goto :goto_15

    :cond_30
    :goto_14
    const/4 v13, 0x1

    :goto_15
    const/4 v1, 0x0

    goto :goto_18

    :cond_31
    :goto_16
    const/4 v1, 0x0

    .line 13256
    invoke-virtual {v0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    :cond_32
    const/4 v1, 0x0

    :goto_17
    move v10, v1

    move v13, v10

    :goto_18
    const/4 v2, 0x0

    :goto_19
    const/4 v3, 0x1

    .line 13264
    :goto_1a
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    .line 13266
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v1, :cond_34

    .line 13267
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v5, :cond_33

    .line 13268
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v3, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    goto :goto_1b

    .line 13270
    :cond_33
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    .line 13273
    :cond_34
    :goto_1b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v5}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v5

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v7, 0x0

    invoke-interface {v1, v3, v5, v6, v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v1

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v1, :cond_36

    .line 13275
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v3, :cond_35

    .line 13276
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v3, 0x1

    invoke-virtual {v1, v7, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    goto :goto_1c

    .line 13278
    :cond_35
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    :cond_36
    :goto_1c
    if-nez v10, :cond_3b

    .line 13283
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    const/4 v1, 0x0

    .line 13284
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 13285
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/high16 v3, 0x3f800000    # 1.0f

    .line 13286
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 13287
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 13288
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 13289
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 13290
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    const-wide/16 v5, 0x0

    .line 13291
    iput-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 13292
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v5, 0x0

    .line 13293
    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 13294
    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 13295
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v5, :cond_37

    const/4 v6, 0x4

    .line 13296
    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13299
    :cond_37
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    .line 13300
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 13301
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 13302
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 13303
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 13304
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 13305
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 13306
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    const/4 v1, 0x0

    .line 13307
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 13308
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 13309
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 13310
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 13311
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    const/4 v3, 0x1

    .line 13312
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 13313
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    .line 13314
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 13315
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-eq v5, v3, :cond_3a

    .line 13316
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v3, :cond_39

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_38

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v1

    if-eqz v3, :cond_39

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v1

    invoke-static {v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v1

    if-eqz v1, :cond_39

    :cond_38
    const/4 v1, 0x1

    goto :goto_1d

    :cond_39
    const/4 v1, 0x0

    :goto_1d
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    .line 13318
    :cond_3a
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v1, 0x0

    .line 13319
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    goto :goto_1e

    :cond_3b
    move v1, v7

    :goto_1e
    if-eqz v13, :cond_3d

    if-eqz v2, :cond_3d

    .line 13322
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    .line 13323
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x1

    if-ne v3, v5, :cond_3c

    const/4 v3, 0x1

    goto :goto_1f

    :cond_3c
    move v3, v1

    :goto_1f
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v5, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v2, v3, v1, v5}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 13326
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_3e

    goto :goto_20

    .line 13332
    :cond_3e
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$EditState;->reset()V

    .line 13335
    :goto_20
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    const/4 v1, -0x1

    move/from16 v2, v16

    if-ne v2, v1, :cond_3f

    .line 13338
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    const/4 v1, 0x0

    :goto_21
    const/4 v2, 0x3

    if-ge v1, v2, :cond_44

    const/4 v3, 0x0

    .line 13340
    invoke-direct {v0, v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    add-int/lit8 v1, v1, 0x1

    goto :goto_21

    :cond_3f
    const/4 v1, 0x1

    const/4 v3, 0x0

    .line 13343
    invoke-direct {v0, v3, v1, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 13344
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-le v2, v1, :cond_41

    .line 13345
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13346
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13347
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13348
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13350
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13351
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13352
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13353
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13355
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v2, 0x0

    if-eqz v1, :cond_40

    .line 13356
    aget-object v3, v1, v2

    const/4 v5, 0x1

    .line 13357
    aget-object v6, v1, v5

    aput-object v6, v1, v2

    const/4 v6, 0x2

    .line 13358
    aget-object v7, v1, v6

    aput-object v7, v1, v5

    .line 13359
    aput-object v3, v1, v6

    goto :goto_22

    :cond_40
    const/4 v6, 0x2

    .line 13362
    :goto_22
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    .line 13363
    iput-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 13364
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13366
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v1, v2

    .line 13367
    aget-object v4, v1, v6

    aput-object v4, v1, v2

    .line 13368
    aput-object v3, v1, v6

    .line 13370
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v1, v2

    .line 13371
    aget-object v4, v1, v6

    aput-object v4, v1, v2

    .line 13372
    aput-object v3, v1, v6

    .line 13373
    aget-object v1, v1, v2

    invoke-virtual {v3}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTranslationY(F)V

    const/4 v1, 0x0

    .line 13375
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13376
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x1

    sub-int/2addr v1, v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13377
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13378
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13379
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    sub-int/2addr v3, v2

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v0, v1, v3, v4}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 13380
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->resetIndexForDeferredImageLoading()V

    .line 13381
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    const/4 v1, 0x0

    .line 13383
    invoke-direct {v0, v2, v2, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    const/4 v3, 0x2

    .line 13384
    invoke-direct {v0, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    goto/16 :goto_24

    :cond_41
    if-ge v2, v1, :cond_43

    .line 13386
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13387
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13388
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13389
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13391
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13392
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13393
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13394
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13396
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    if-eqz v1, :cond_42

    const/4 v2, 0x2

    .line 13397
    aget-object v3, v1, v2

    const/4 v5, 0x1

    .line 13398
    aget-object v6, v1, v5

    aput-object v6, v1, v2

    const/4 v2, 0x0

    .line 13399
    aget-object v6, v1, v2

    aput-object v6, v1, v5

    .line 13400
    aput-object v3, v1, v2

    goto :goto_23

    :cond_42
    const/4 v2, 0x0

    const/4 v5, 0x1

    .line 13403
    :goto_23
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    .line 13404
    iput-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 13405
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13407
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v1, v2

    .line 13408
    aget-object v4, v1, v5

    aput-object v4, v1, v2

    .line 13409
    aput-object v3, v1, v5

    .line 13411
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v1, v2

    .line 13412
    aget-object v4, v1, v5

    aput-object v4, v1, v2

    .line 13413
    aput-object v3, v1, v5

    .line 13414
    aget-object v1, v1, v2

    invoke-virtual {v3}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTranslationY(F)V

    const/4 v1, 0x0

    .line 13416
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13417
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    sub-int/2addr v1, v5

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13418
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13419
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v5

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13420
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v2, v5

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 13421
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->resetIndexForDeferredImageLoading()V

    .line 13422
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    const/4 v1, 0x0

    .line 13424
    invoke-direct {v0, v5, v5, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    const/4 v2, 0x2

    .line 13425
    invoke-direct {v0, v2, v5, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 13427
    :cond_43
    :goto_24
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_44

    .line 13428
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->recycle()V

    const/4 v1, 0x0

    .line 13429
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    .line 13432
    :cond_44
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->detectFaces()V

    :cond_45
    :goto_25
    return-void
.end method

.method private setImages()V
    .locals 3

    .line 12269
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v0, :cond_0

    .line 12270
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 12271
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 12272
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v1, v1, 0x1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 12273
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v0, v0, 0x1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 12274
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v1, v1, -0x1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 12275
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v0, v0, -0x1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    :cond_0
    return-void
.end method

.method private setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V
    .locals 34

    move-object/from16 v0, p0

    move-object/from16 v14, p1

    move/from16 v1, p2

    move-object/from16 v15, p3

    const/4 v13, 0x0

    .line 13968
    invoke-virtual {v14, v13, v13}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    .line 13969
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    const/4 v12, 0x0

    if-nez v2, :cond_3

    if-ltz v1, :cond_73

    .line 13970
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_73

    .line 13971
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    .line 13972
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->density:F

    .line 13974
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v2, :cond_0

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_0

    goto :goto_0

    :cond_0
    move-object v2, v12

    :goto_0
    if-nez v2, :cond_1

    .line 13978
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2, v12, v12, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getThumbForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v2

    .line 13980
    :cond_1
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/SecureDocument;

    .line 13981
    iget-object v3, v1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v7, v3, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    .line 13982
    invoke-static {v1}, Lorg/telegram/messenger/ImageLocation;->getForSecureDocument(Lorg/telegram/messenger/SecureDocument;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v3

    const/4 v4, 0x0

    const/4 v5, 0x0

    if-eqz v2, :cond_2

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v2, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_1

    :cond_2
    move-object v6, v12

    :goto_1
    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const-string v12, "d"

    move-object/from16 v1, p1

    move-object v2, v3

    move-object v3, v12

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_4a

    .line 13984
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    const-string v3, "%d_%d"

    const/4 v4, 0x2

    const/4 v11, 0x1

    if-nez v2, :cond_2c

    if-ltz v1, :cond_2b

    .line 13985
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_2b

    .line 13986
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    .line 13987
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    sget v7, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v2, v7

    float-to-int v2, v2

    .line 13989
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_4

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v8, :cond_4

    goto :goto_2

    :cond_4
    move-object v7, v12

    :goto_2
    if-nez v7, :cond_5

    .line 13993
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v7, v12, v12, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getThumbForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v7

    .line 14006
    :cond_5
    instance-of v1, v9, Lorg/telegram/messenger/MediaController$PhotoEntry;

    const-string v10, "d"

    if-eqz v1, :cond_b

    .line 14007
    move-object v1, v9

    check-cast v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 14008
    iget-object v10, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 14009
    iget-boolean v5, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v5, :cond_9

    .line 14011
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    if-eqz v6, :cond_7

    .line 14012
    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v8, :cond_8

    .line 14013
    invoke-static {v6}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v6

    if-eqz v6, :cond_6

    .line 14015
    new-instance v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-direct {v7, v6}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;-><init>(Landroid/graphics/Bitmap;)V

    .line 14016
    iput-object v12, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    :cond_6
    move-object v1, v12

    move-object v6, v1

    goto :goto_4

    .line 14022
    :cond_7
    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "vthumb://"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v8, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->imageId:I

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, ":"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v1, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-virtual {v6, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    :cond_8
    move-object v1, v12

    goto :goto_4

    .line 14025
    :cond_9
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v6, :cond_a

    goto :goto_3

    .line 14028
    :cond_a
    iget v6, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->orientation:I

    iget v8, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->invert:I

    invoke-virtual {v14, v6, v8, v13}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IIZ)V

    .line 14029
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    move-object v6, v1

    .line 14031
    :goto_3
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v8, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    aput-object v18, v8, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    aput-object v18, v8, v11

    invoke-static {v1, v3, v8}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    :goto_4
    move v11, v5

    move-object/from16 v16, v6

    move-object v8, v10

    move-object v5, v12

    move-object v6, v5

    move-object/from16 v29, v6

    move/from16 v17, v13

    const-wide/16 v20, 0x0

    move-object v10, v1

    move-object/from16 v1, v29

    goto/16 :goto_e

    .line 14033
    :cond_b
    instance-of v1, v9, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_15

    .line 14035
    move-object v1, v9

    check-cast v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 14036
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v6, "video"

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-nez v5, :cond_12

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v5

    if-eqz v5, :cond_c

    goto/16 :goto_7

    .line 14043
    :cond_c
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v6, "gif"

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_e

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_e

    .line 14045
    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    .line 14046
    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getDocumentVideoThumb(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v1

    if-eqz v1, :cond_d

    .line 14048
    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    goto :goto_5

    :cond_d
    const/4 v1, 0x0

    :goto_5
    move-object v6, v1

    move-wide/from16 v16, v11

    const/4 v1, 0x0

    const/4 v8, 0x0

    const/4 v11, 0x0

    goto/16 :goto_b

    .line 14051
    :cond_e
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v5, :cond_f

    .line 14052
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v6

    invoke-static {v5, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v5

    .line 14054
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    .line 14055
    iget v6, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v10, v6

    .line 14056
    sget-object v6, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v8, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    aput-object v12, v8, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    const/16 v16, 0x1

    aput-object v12, v8, v16

    invoke-static {v6, v3, v8}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v6

    move-object v8, v5

    move-wide/from16 v16, v10

    const/4 v5, 0x0

    move-object v11, v1

    move-object v10, v6

    const/4 v1, 0x0

    const/4 v6, 0x0

    goto/16 :goto_b

    .line 14057
    :cond_f
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v5, v5, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v5, :cond_14

    .line 14058
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_10

    .line 14060
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v6, v5, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v6, :cond_11

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$WebDocument;->mime_type:Ljava/lang/String;

    const-string v6, "video/mp4"

    invoke-virtual {v6, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_11

    .line 14061
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {v5}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v5

    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    goto :goto_6

    .line 14064
    :cond_10
    sget-object v5, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v6, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v6, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    const/4 v10, 0x1

    aput-object v8, v6, v10

    invoke-static {v5, v3, v6}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    move-object v10, v5

    :cond_11
    const/4 v5, 0x0

    .line 14066
    :goto_6
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {v1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v1

    move-object v6, v5

    const/4 v5, 0x0

    const/4 v8, 0x0

    goto :goto_9

    .line 14037
    :cond_12
    :goto_7
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_13

    .line 14038
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v6, 0x5a

    invoke-static {v5, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v5

    .line 14039
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    move-object v11, v1

    move-object v8, v5

    const/4 v1, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v10, 0x0

    goto :goto_a

    .line 14040
    :cond_13
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v5, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v5, :cond_14

    .line 14041
    invoke-static {v1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v1

    goto :goto_8

    :cond_14
    const/4 v1, 0x0

    :goto_8
    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    :goto_9
    const/4 v11, 0x0

    :goto_a
    const-wide/16 v16, 0x0

    :goto_b
    move-object v12, v6

    move-object/from16 v29, v11

    move v11, v13

    move-wide/from16 v20, v16

    const/16 v16, 0x0

    const/16 v17, 0x1

    move-object v6, v1

    move-object v1, v8

    const/4 v8, 0x0

    goto/16 :goto_e

    .line 14068
    :cond_15
    instance-of v1, v9, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_19

    .line 14070
    move-object v1, v9

    check-cast v1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 14071
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->photoSize:Lorg/telegram/tgnet/TLRPC$PhotoSize;

    if-eqz v5, :cond_16

    .line 14073
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$SearchImage;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    .line 14074
    iget v8, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v11, v8

    const/4 v8, 0x0

    const/16 v16, 0x0

    move-wide/from16 v32, v11

    move-object v11, v5

    move-object v12, v6

    move-wide/from16 v5, v32

    goto :goto_d

    .line 14075
    :cond_16
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v5, :cond_17

    move-object/from16 v16, v5

    const-wide/16 v5, 0x0

    :goto_c
    const/4 v8, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    goto :goto_d

    .line 14077
    :cond_17
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_18

    .line 14079
    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    move-object v8, v5

    move-wide v5, v11

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/16 v16, 0x0

    goto :goto_d

    .line 14081
    :cond_18
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->imageUrl:Ljava/lang/String;

    .line 14082
    iget v6, v1, Lorg/telegram/messenger/MediaController$SearchImage;->size:I

    int-to-long v11, v6

    move-object/from16 v16, v5

    move-wide v5, v11

    goto :goto_c

    .line 14084
    :goto_d
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    move-wide/from16 v20, v5

    move-object v5, v8

    move-object/from16 v29, v12

    const/4 v6, 0x0

    const/4 v12, 0x0

    const/16 v17, 0x1

    move-object v8, v1

    move-object v1, v11

    move v11, v13

    goto :goto_e

    :cond_19
    move v11, v13

    move/from16 v17, v11

    const/4 v1, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const/4 v12, 0x0

    const/16 v16, 0x0

    const-wide/16 v20, 0x0

    const/16 v29, 0x0

    :goto_e
    if-eqz v5, :cond_1f

    .line 14088
    iget-object v1, v5, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v6, 0x5a

    invoke-static {v1, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v12, :cond_1c

    .line 14090
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    const/4 v10, 0x0

    if-nez v7, :cond_1a

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object/from16 v16, v1

    goto :goto_f

    :cond_1a
    const/16 v16, 0x0

    :goto_f
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    aput-object v5, v4, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v5, 0x1

    aput-object v2, v4, v5

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v19

    if-eqz v7, :cond_1b

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_10

    :cond_1b
    const/16 v18, 0x0

    :goto_10
    const/16 v22, 0x0

    const-string v3, "d"

    move-object/from16 v1, p1

    move-object v2, v6

    move-object v4, v12

    move-object v5, v10

    move-object/from16 v6, v16

    move-object/from16 v7, v19

    move-object v12, v8

    move-object/from16 v8, v18

    move-object/from16 v23, v9

    move-wide/from16 v9, v20

    move/from16 v30, v11

    move-object/from16 v11, v22

    move-object/from16 v31, v12

    move-object/from16 v12, v23

    move v14, v13

    move/from16 v13, v17

    invoke-virtual/range {v1 .. v13}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_14

    :cond_1c
    move-object/from16 v31, v8

    move-object/from16 v23, v9

    move/from16 v30, v11

    move v14, v13

    .line 14092
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    if-nez v7, :cond_1d

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v5, v1

    goto :goto_11

    :cond_1d
    const/4 v5, 0x0

    :goto_11
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v4, v14

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v8, 0x1

    aput-object v2, v4, v8

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v8

    if-eqz v7, :cond_1e

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_12

    :cond_1e
    const/16 v18, 0x0

    :goto_12
    const/4 v9, 0x0

    const-string v3, "d"

    move-object/from16 v1, p1

    move-object v2, v6

    move-object v4, v5

    move-object v5, v8

    move-object/from16 v6, v18

    move-wide/from16 v7, v20

    move-object/from16 v10, v23

    move/from16 v11, v17

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto :goto_14

    :cond_1f
    move-object/from16 v31, v8

    move-object/from16 v23, v9

    move/from16 v30, v11

    move v14, v13

    if-eqz v1, :cond_21

    move-object/from16 v11, v29

    .line 14095
    invoke-static {v1, v11}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    if-eqz v7, :cond_20

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v4, v1

    goto :goto_13

    :cond_20
    const/4 v4, 0x0

    :goto_13
    const/4 v7, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-wide/from16 v5, v20

    move-object/from16 v8, v23

    move/from16 v9, v17

    invoke-virtual/range {v1 .. v9}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto :goto_14

    :cond_21
    if-eqz v6, :cond_25

    if-eqz v12, :cond_22

    .line 14098
    invoke-static {v6}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    const/4 v5, 0x0

    const/4 v6, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-object v4, v12

    move-object/from16 v7, v23

    move/from16 v8, v17

    invoke-virtual/range {v1 .. v8}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/Object;I)V

    :goto_14
    move/from16 v13, v30

    goto/16 :goto_18

    .line 14100
    :cond_22
    invoke-static {v6}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    if-eqz v7, :cond_23

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v4, v1

    move/from16 v13, v30

    goto :goto_15

    :cond_23
    move/from16 v13, v30

    if-eqz v13, :cond_24

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v1, :cond_24

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v3, Lorg/telegram/messenger/R$drawable;->nophotos:I

    invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    move-object v4, v1

    goto :goto_15

    :cond_24
    const/4 v4, 0x0

    :goto_15
    const/4 v5, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-object/from16 v6, v23

    move/from16 v7, v17

    invoke-virtual/range {v1 .. v7}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/String;Ljava/lang/Object;I)V

    goto :goto_18

    :cond_25
    move/from16 v13, v30

    if-eqz v7, :cond_26

    .line 14103
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    :goto_16
    move-object v4, v1

    goto :goto_17

    :cond_26
    if-eqz v13, :cond_27

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v1, :cond_27

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->nophotos:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    goto :goto_16

    :cond_27
    const/4 v4, 0x0

    :goto_17
    const/4 v5, 0x0

    move-object/from16 v1, p1

    move-object/from16 v2, v16

    move-object v3, v10

    move-wide/from16 v6, v20

    invoke-virtual/range {v1 .. v7}, Lorg/telegram/messenger/ImageReceiver;->setImage(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/String;J)V

    :goto_18
    move-object/from16 v1, v31

    if-eqz v15, :cond_29

    if-eqz v1, :cond_28

    const/16 v16, 0x1

    .line 14108
    iget v2, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    iget v3, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    iget v4, v1, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iget v5, v1, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    iget v6, v1, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v22, 0x3f800000    # 1.0f

    const/high16 v23, 0x3f800000    # 1.0f

    iget v7, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    iget v8, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    const/16 v26, 0x0

    const/16 v27, 0x0

    iget-boolean v9, v1, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    move-object/from16 v15, p3

    move/from16 v17, v2

    move/from16 v18, v3

    move/from16 v19, v4

    move/from16 v20, v5

    move/from16 v21, v6

    move/from16 v24, v7

    move/from16 v25, v8

    move/from16 v28, v9

    invoke-virtual/range {v15 .. v28}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    goto :goto_19

    .line 14110
    :cond_28
    invoke-virtual {v15, v14}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(Z)V

    .line 14114
    :cond_29
    :goto_19
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    move-object/from16 v14, p1

    if-ne v14, v2, :cond_2a

    .line 14115
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 14116
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    goto/16 :goto_4a

    .line 14117
    :cond_2a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v2, :cond_73

    .line 14118
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 14119
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    goto/16 :goto_4a

    :cond_2b
    move-object v1, v12

    .line 14122
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto/16 :goto_4a

    :cond_2c
    move v12, v13

    .line 14124
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v2, :cond_3e

    const/4 v5, 0x1

    new-array v3, v5, [I

    .line 14126
    invoke-interface {v2, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v2

    .line 14127
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFileLocation(Lorg/telegram/tgnet/TLObject;[I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v4

    if-eqz v4, :cond_3c

    .line 14129
    instance-of v5, v2, Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v5, :cond_35

    .line 14130
    check-cast v2, Lorg/telegram/tgnet/TLRPC$Photo;

    .line 14132
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v5, :cond_2d

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v6, :cond_2d

    goto :goto_1a

    :cond_2d
    const/4 v5, 0x0

    .line 14135
    :goto_1a
    aget v6, v3, v12

    if-nez v6, :cond_2e

    const/4 v6, -0x1

    aput v6, v3, v12

    .line 14139
    :cond_2e
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v6}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v6

    invoke-virtual {v6}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v6

    const/4 v11, 0x1

    and-int/2addr v6, v11

    if-eqz v6, :cond_2f

    move v13, v11

    goto :goto_1b

    :cond_2f
    move v13, v12

    :goto_1b
    if-nez v13, :cond_31

    .line 14140
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v6, v1, :cond_31

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v4, v11}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_30

    goto :goto_1c

    :cond_30
    move v13, v12

    goto :goto_1d

    :cond_31
    :goto_1c
    move v13, v11

    .line 14141
    :goto_1d
    iget-object v1, v2, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    const/16 v6, 0x50

    invoke-static {v1, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-static {v1, v2}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    if-eqz v5, :cond_32

    .line 14142
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v5, v5, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v5}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v7, v1

    goto :goto_1e

    :cond_32
    const/4 v7, 0x0

    :goto_1e
    if-eqz v13, :cond_33

    .line 14143
    invoke-static {v4, v2}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v2, v1

    goto :goto_1f

    :cond_33
    const/4 v2, 0x0

    :goto_1f
    const/4 v4, 0x0

    .line 14144
    aget v1, v3, v12

    int-to-long v8, v1

    const/4 v10, 0x0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v12

    const/4 v15, 0x1

    const-string v5, "b"

    move-object/from16 v1, p1

    move-object v3, v4

    move-object v4, v6

    move-object v6, v7

    move-wide v7, v8

    move-object v9, v10

    move-object v10, v12

    move v12, v11

    move v11, v15

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v13, :cond_34

    const/4 v12, 0x0

    goto :goto_20

    .line 14145
    :cond_34
    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_20
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto/16 :goto_4a

    .line 14146
    :cond_35
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v3, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v3

    if-nez v3, :cond_37

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v3, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_36

    goto :goto_21

    .line 14156
    :cond_36
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v1, :cond_73

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v1, :cond_73

    .line 14157
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    .line 14158
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->addSecondParentView(Landroid/view/View;)V

    goto/16 :goto_4a

    .line 14147
    :cond_37
    :goto_21
    iget-object v1, v4, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_fileLocationUnavailable;

    if-nez v1, :cond_3b

    .line 14149
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_38

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_38

    goto :goto_22

    :cond_38
    const/4 v1, 0x0

    :goto_22
    const/4 v3, 0x0

    const/4 v5, 0x0

    if-nez v1, :cond_39

    .line 14152
    check-cast v2, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v4, v2}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    move-object v4, v2

    goto :goto_23

    :cond_39
    const/4 v4, 0x0

    :goto_23
    if-eqz v1, :cond_3a

    new-instance v2, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v2, v1}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v2

    goto :goto_24

    :cond_3a
    const/4 v6, 0x0

    :goto_24
    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v10

    const/4 v11, 0x1

    const-string v12, "b"

    move-object/from16 v1, p1

    move-object v2, v3

    move-object v3, v5

    move-object v5, v12

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_4a

    .line 14154
    :cond_3b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    goto/16 :goto_4a

    .line 14161
    :cond_3c
    aget v1, v3, v12

    if-nez v1, :cond_3d

    const/4 v1, 0x0

    .line 14162
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto/16 :goto_4a

    .line 14164
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    goto/16 :goto_4a

    :cond_3e
    const/4 v15, 0x1

    .line 14169
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_3f

    if-ltz v1, :cond_3f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_3f

    .line 14170
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 14171
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setShouldGenerateQualityThumb(Z)V

    move-object v10, v2

    goto :goto_25

    :cond_3f
    const/4 v10, 0x0

    :goto_25
    const/16 v2, 0x64

    if-eqz v10, :cond_52

    .line 14177
    iget-object v5, v10, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->restriction_reason:Ljava/util/ArrayList;

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getRestrictionReason(Ljava/util/ArrayList;)Ljava/lang/String;

    move-result-object v5

    .line 14178
    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_40

    .line 14179
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    return-void

    .line 14181
    :cond_40
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_47

    .line 14182
    iget-object v1, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    if-eqz v1, :cond_45

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_45

    .line 14184
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_41

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_41

    goto :goto_26

    :cond_41
    const/4 v1, 0x0

    .line 14187
    :goto_26
    iget-object v3, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    const/16 v4, 0x140

    invoke-static {v3, v4}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v3

    .line 14188
    iget v4, v3, Lorg/telegram/tgnet/TLRPC$PhotoSize;->w:I

    if-ge v4, v2, :cond_42

    iget v4, v3, Lorg/telegram/tgnet/TLRPC$PhotoSize;->h:I

    if-ge v4, v2, :cond_42

    move v13, v15

    goto :goto_27

    :cond_42
    move v13, v12

    :goto_27
    invoke-virtual {v14, v13}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    const/4 v2, 0x0

    const/4 v4, 0x0

    if-nez v1, :cond_43

    .line 14189
    iget-object v5, v10, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v3, v5}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v3

    move-object v5, v3

    goto :goto_28

    :cond_43
    const/4 v5, 0x0

    :goto_28
    if-eqz v1, :cond_44

    new-instance v3, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v3, v1}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v3

    goto :goto_29

    :cond_44
    const/4 v6, 0x0

    :goto_29
    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    const/4 v11, 0x1

    const-string v13, "b"

    move-object/from16 v1, p1

    move-object v3, v4

    move-object v4, v5

    move-object v5, v13

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    .line 14190
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_46

    .line 14191
    iget v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->orientation:I

    invoke-virtual {v14, v1, v12}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    goto :goto_2a

    .line 14194
    :cond_45
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :cond_46
    :goto_2a
    return-void

    .line 14197
    :cond_47
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v5, :cond_48

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v5, :cond_48

    .line 14198
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5, v1}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->addSecondParentView(Landroid/view/View;)V

    .line 14199
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    return-void

    .line 14201
    :cond_48
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v5, v15, :cond_52

    .line 14202
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-eqz v5, :cond_51

    .line 14203
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    .line 14204
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    .line 14206
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v6, :cond_49

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v7, :cond_49

    goto :goto_2b

    :cond_49
    const/4 v6, 0x0

    :goto_2b
    const/high16 v7, 0x45000000    # 2048.0f

    .line 14209
    sget v8, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v7, v8

    float-to-int v7, v7

    .line 14211
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v8}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v8

    invoke-virtual {v8}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v8

    and-int/lit8 v8, v8, 0x8

    if-eqz v8, :cond_4a

    move v13, v15

    goto :goto_2c

    :cond_4a
    move v13, v12

    :goto_2c
    if-nez v13, :cond_4c

    .line 14212
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v8, v1, :cond_4c

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v5}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_4b

    goto :goto_2d

    :cond_4b
    move v13, v12

    goto :goto_2e

    :cond_4c
    :goto_2d
    move v13, v15

    :goto_2e
    if-nez v6, :cond_4d

    .line 14213
    iget-object v1, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {v1, v2}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v8, v1

    goto :goto_2f

    :cond_4d
    const/4 v8, 0x0

    :goto_2f
    if-eqz v6, :cond_4e

    .line 14214
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v6, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_30

    :cond_4e
    const/4 v6, 0x0

    :goto_30
    if-eqz v13, :cond_4f

    .line 14215
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v2, v1

    goto :goto_31

    :cond_4f
    const/4 v2, 0x0

    .line 14216
    :goto_31
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v9

    aput-object v9, v4, v12

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v4, v15

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v3

    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    const/4 v9, 0x0

    const/16 v16, 0x0

    const-string v5, "b"

    move-object/from16 v1, p1

    move-object v4, v8

    move-wide v7, v11

    move/from16 v11, v16

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v13, :cond_50

    const/4 v12, 0x0

    goto :goto_32

    .line 14217
    :cond_50
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_32
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto :goto_33

    .line 14219
    :cond_51
    new-instance v1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v1, v2, v3, v10}, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;-><init>(Landroid/content/Context;Landroid/view/View;Lorg/telegram/messenger/MessageObject;)V

    .line 14220
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :goto_33
    return-void

    :cond_52
    new-array v3, v15, [J

    .line 14226
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->getImageLocation(I[J)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    .line 14227
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object v6

    .line 14228
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    if-eqz v5, :cond_71

    .line 14232
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_53

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v8, :cond_53

    goto :goto_34

    :cond_53
    const/4 v7, 0x0

    .line 14235
    :goto_34
    aget-wide v8, v3, v12

    const-wide/16 v16, 0x0

    cmp-long v8, v8, v16

    if-nez v8, :cond_54

    const-wide/16 v8, -0x1

    aput-wide v8, v3, v12

    :cond_54
    if-eqz v10, :cond_55

    .line 14241
    iget-object v8, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {v8, v2}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v2

    .line 14242
    iget-object v8, v10, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    goto :goto_35

    :cond_55
    const/4 v2, 0x0

    const/4 v8, 0x0

    :goto_35
    if-eqz v2, :cond_56

    if-ne v2, v6, :cond_56

    const/4 v2, 0x0

    :cond_56
    if-nez v2, :cond_58

    .line 14250
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v9, :cond_58

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    if-eqz v9, :cond_58

    move v13, v12

    .line 14251
    :goto_36
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v13, v9, :cond_58

    .line 14252
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v9, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    instance-of v9, v9, Lorg/telegram/tgnet/TLRPC$TL_photoStrippedSize;

    if-eqz v9, :cond_57

    .line 14253
    iget-object v2, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v2, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 14254
    iget-object v8, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    goto :goto_37

    :cond_57
    add-int/lit8 v13, v13, 0x1

    goto :goto_36

    :cond_58
    :goto_37
    if-eqz v10, :cond_5a

    .line 14259
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->isWebpage()Z

    move-result v9

    if-nez v9, :cond_59

    goto :goto_38

    :cond_59
    move-object/from16 p3, v5

    goto :goto_39

    :cond_5a
    :goto_38
    move-object/from16 p3, v5

    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v4, v4, v16

    if-nez v4, :cond_5c

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v4, :cond_5b

    goto :goto_39

    :cond_5b
    move v13, v12

    goto :goto_3a

    :cond_5c
    :goto_39
    move v13, v15

    :goto_3a
    const/4 v4, 0x5

    if-eqz v10, :cond_5f

    .line 14264
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v5, v4, :cond_5e

    .line 14265
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    .line 14266
    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getDocumentVideoThumb(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v11

    if-eqz v11, :cond_5d

    .line 14268
    invoke-static {v11, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    goto :goto_3b

    :cond_5d
    const/4 v5, 0x0

    :goto_3b
    move-object/from16 v19, v10

    goto :goto_3e

    :cond_5e
    move-object/from16 v19, v10

    :goto_3c
    const/4 v5, 0x0

    goto :goto_3e

    .line 14271
    :cond_5f
    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v5, v10, v16

    if-eqz v5, :cond_63

    cmp-long v5, v10, v16

    if-lez v5, :cond_60

    .line 14273
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v5, v10}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v5

    goto :goto_3d

    .line 14275
    :cond_60
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v10, v10

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v5, v10}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v5

    :goto_3d
    if-eqz v8, :cond_61

    move-object v5, v8

    :cond_61
    if-nez v7, :cond_62

    .line 14280
    instance-of v10, v2, Lorg/telegram/tgnet/TLRPC$TL_photoStrippedSize;

    if-eqz v10, :cond_62

    .line 14281
    new-instance v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    iget-object v10, v2, Lorg/telegram/tgnet/TLRPC$PhotoSize;->bytes:[B

    const-string v11, "b"

    invoke-static {v10, v11}, Lorg/telegram/messenger/ImageLoader;->getStrippedPhotoBitmap([BLjava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v10

    invoke-direct {v7, v10}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;-><init>(Landroid/graphics/Bitmap;)V

    :cond_62
    move-object/from16 v19, v5

    goto :goto_3c

    :cond_63
    const/4 v5, 0x0

    const/16 v19, 0x0

    :goto_3e
    const-string v10, "g"

    if-eqz v5, :cond_67

    .line 14287
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v1, v4, :cond_64

    goto :goto_3f

    :cond_64
    const/4 v10, 0x0

    :goto_3f
    const/4 v6, 0x0

    if-nez v7, :cond_65

    .line 14288
    invoke-static {v2, v8}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v8, v1

    goto :goto_40

    :cond_65
    const/4 v8, 0x0

    :goto_40
    if-eqz v7, :cond_66

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_41

    :cond_66
    const/16 v18, 0x0

    :goto_41
    aget-wide v11, v3, v12

    const/16 v16, 0x0

    const-string v7, "b"

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    move-object v3, v10

    move-object v4, v5

    move-object v5, v6

    move-object v6, v8

    move-object/from16 v8, v18

    move-wide v9, v11

    move-object/from16 v11, v16

    move-object/from16 v12, v19

    invoke-virtual/range {v1 .. v13}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    .line 14289
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    goto/16 :goto_4a

    .line 14292
    :cond_67
    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v4, v4, v16

    if-eqz v4, :cond_68

    move-object/from16 v4, p3

    .line 14293
    iget v5, v4, Lorg/telegram/messenger/ImageLocation;->imageType:I

    const/4 v9, 0x2

    if-ne v5, v9, :cond_69

    goto :goto_42

    :cond_68
    move-object/from16 v4, p3

    :cond_69
    const/4 v10, 0x0

    .line 14297
    :goto_42
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v5

    invoke-virtual {v5}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v5

    and-int/2addr v5, v15

    if-eqz v5, :cond_6a

    move v5, v15

    goto :goto_43

    :cond_6a
    move v5, v12

    :goto_43
    if-nez v5, :cond_6c

    .line 14298
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v5, v1, :cond_6c

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v6}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_6b

    goto :goto_44

    :cond_6b
    move/from16 v16, v12

    goto :goto_45

    :cond_6c
    :goto_44
    move/from16 v16, v15

    :goto_45
    if-nez v7, :cond_6d

    .line 14299
    invoke-static {v2, v8}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v5, v1

    goto :goto_46

    :cond_6d
    const/4 v5, 0x0

    :goto_46
    if-eqz v7, :cond_6e

    .line 14300
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_47

    :cond_6e
    const/4 v6, 0x0

    :goto_47
    if-eqz v16, :cond_6f

    move-object v2, v4

    goto :goto_48

    :cond_6f
    const/4 v2, 0x0

    .line 14303
    :goto_48
    aget-wide v7, v3, v12

    const/4 v9, 0x0

    const-string v11, "b"

    move-object/from16 v1, p1

    move-object v3, v10

    move-object v4, v5

    move-object v5, v11

    move-object/from16 v10, v19

    move v11, v13

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v16, :cond_70

    const/4 v12, 0x0

    goto :goto_49

    .line 14304
    :cond_70
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_49
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto :goto_4a

    .line 14307
    :cond_71
    aget-wide v1, v3, v12

    const-wide/16 v3, 0x0

    cmp-long v1, v1, v3

    if-nez v1, :cond_72

    const/4 v1, 0x0

    .line 14308
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto :goto_4a

    .line 14310
    :cond_72
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :cond_73
    :goto_4a
    return-void
.end method

.method private setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V
    .locals 3

    if-nez p2, :cond_0

    return-void

    .line 13945
    :cond_0
    invoke-virtual {p2}, Lorg/telegram/ui/Components/PaintingOverlay;->reset()V

    const/16 v0, 0x8

    .line 13946
    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13947
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_3

    if-ltz p1, :cond_3

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge p1, v0, :cond_3

    .line 13948
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 13952
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    const/4 v1, 0x0

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    .line 13953
    check-cast p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13954
    iget-boolean v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 13955
    iget-object v1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 13956
    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_1

    .line 13957
    :cond_1
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_2

    .line 13958
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 13959
    iget-object v1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 13960
    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_0

    :cond_2
    move-object p1, v1

    :goto_0
    move v0, v2

    .line 13962
    :goto_1
    invoke-virtual {p2, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13963
    invoke-virtual {p2, v1, p1, v0, v2}, Lorg/telegram/ui/Components/PaintingOverlay;->setData(Ljava/lang/String;Ljava/util/ArrayList;ZZ)V

    :cond_3
    return-void
.end method

.method private setIsAboutToSwitchToIndex(IZZ)V
    .locals 35

    move-object/from16 v6, p0

    move/from16 v7, p1

    move/from16 v8, p3

    if-nez p2, :cond_0

    .line 12280
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ne v0, v7, :cond_0

    return-void

    .line 12284
    :cond_0
    iget v9, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v10, 0x1

    const/4 v11, 0x0

    if-lt v7, v9, :cond_1

    move v0, v10

    goto :goto_0

    :cond_1
    move v0, v11

    .line 12286
    :goto_0
    iput v7, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    .line 12291
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    if-eqz v8, :cond_2

    .line 12294
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v2, 0x13

    if-lt v1, v2, :cond_2

    .line 12295
    new-instance v1, Landroid/transition/TransitionSet;

    invoke-direct {v1}, Landroid/transition/TransitionSet;-><init>()V

    .line 12296
    new-instance v2, Landroid/transition/Fade;

    invoke-direct {v2}, Landroid/transition/Fade;-><init>()V

    invoke-virtual {v1, v2}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 12297
    new-instance v2, Landroid/transition/ChangeBounds;

    invoke-direct {v2}, Landroid/transition/ChangeBounds;-><init>()V

    invoke-virtual {v1, v2}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 12298
    invoke-virtual {v1, v11}, Landroid/transition/TransitionSet;->setOrdering(I)Landroid/transition/TransitionSet;

    const-wide/16 v2, 0xdc

    .line 12299
    invoke-virtual {v1, v2, v3}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    .line 12300
    sget-object v2, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v2}, Landroid/transition/TransitionSet;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/transition/TransitionSet;

    .line 12301
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    invoke-static {v2, v1}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    .line 12305
    :cond_2
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    .line 12306
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v2, "AttachGif"

    const-string v12, "AttachVideo"

    const-string v13, "AttachPhoto"

    const-wide/16 v16, 0x0

    if-nez v1, :cond_4c

    .line 12307
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v0, :cond_4b

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_3

    goto/16 :goto_29

    .line 12310
    :cond_3
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    .line 12311
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->updateTranslation()Z

    .line 12312
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    .line 12314
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v3, :cond_4

    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    if-nez v3, :cond_4

    move v3, v10

    goto :goto_1

    :cond_4
    move v3, v11

    :goto_1
    invoke-static {v0, v3, v11}, Lorg/telegram/ui/FilteredSearchView;->createFromInfoString(Lorg/telegram/messenger/MessageObject;ZI)Ljava/lang/CharSequence;

    move-result-object v3

    .line 12316
    iget-object v15, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v15, :cond_5

    .line 12317
    iget v15, v15, Lorg/telegram/tgnet/TLRPC$Message;->date:I

    int-to-long v14, v15

    invoke-static {v14, v15, v11}, Lorg/telegram/messenger/LocaleController;->formatDateAudio(JZ)Ljava/lang/String;

    move-result-object v14

    goto :goto_2

    :cond_5
    const/4 v14, 0x0

    .line 12319
    :goto_2
    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v15, v14, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    .line 12321
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isInvoice()Z

    move-result v14

    .line 12322
    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v15}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v15

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v4

    invoke-virtual {v15, v4, v5}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    iget-object v4, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v4, :cond_6

    iget-boolean v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v4, :cond_8

    :cond_6
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v4

    if-eqz v4, :cond_7

    goto :goto_3

    :cond_7
    move v4, v11

    goto :goto_4

    :cond_8
    :goto_3
    move v4, v10

    :goto_4
    if-eqz v1, :cond_9

    .line 12324
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v5, v11}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12325
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v15

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto :goto_5

    .line 12327
    :cond_9
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v15, 0x8

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12328
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v15, 0x0

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    :goto_5
    if-eqz v14, :cond_a

    .line 12331
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12332
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12333
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x6

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12334
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12335
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->description:Ljava/lang/String;

    .line 12336
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12338
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x15

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12339
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x16

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    move-object/from16 v19, v3

    :goto_6
    move v3, v11

    goto/16 :goto_19

    .line 12341
    :cond_a
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    invoke-virtual {v5}, Lorg/telegram/messenger/MessagesController;->getTranslateController()Lorg/telegram/messenger/TranslateController;

    move-result-object v5

    .line 12342
    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-eq v9, v15, :cond_b

    .line 12343
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    const/4 v15, 0x0

    .line 12344
    iput-object v15, v6, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    .line 12346
    :cond_b
    invoke-virtual {v5}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result v15

    if-eqz v15, :cond_c

    .line 12348
    new-instance v15, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda93;

    invoke-direct {v15, v6, v7, v5, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda93;-><init>(Lorg/telegram/ui/PhotoViewer;ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;)V

    invoke-virtual {v5, v0, v15}, Lorg/telegram/messenger/TranslateController;->detectPhotoLanguage(Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/Utilities$Callback;)V

    .line 12367
    :cond_c
    invoke-virtual {v5}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result v15

    if-eqz v15, :cond_e

    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    invoke-virtual {v5, v0, v15}, Lorg/telegram/messenger/TranslateController;->canTranslatePhoto(Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_e

    .line 12368
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v5, :cond_d

    .line 12369
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x16

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12370
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x15

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_7

    :cond_d
    const/16 v5, 0x15

    const/16 v15, 0x16

    .line 12372
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12373
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_7

    :cond_e
    const/16 v5, 0x15

    const/16 v15, 0x16

    .line 12376
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12377
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_7
    xor-int/lit8 v5, v4, 0x1

    .line 12379
    iput-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12380
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isNewGif()Z

    move-result v5

    if-eqz v5, :cond_f

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v5, :cond_f

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v21

    invoke-static/range {v21 .. v22}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v5

    if-nez v5, :cond_f

    .line 12381
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xe

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12383
    :cond_f
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v5, :cond_10

    invoke-virtual {v5}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v5

    if-eqz v5, :cond_10

    const/4 v5, 0x1

    goto :goto_8

    :cond_10
    move v5, v11

    :goto_8
    const/4 v10, 0x0

    invoke-virtual {v0, v5, v10}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(ZLorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v5

    if-eqz v5, :cond_11

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v5, :cond_11

    .line 12384
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x6

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_9

    :cond_11
    const/4 v10, 0x6

    .line 12386
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12388
    :goto_9
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12389
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    if-eqz v5, :cond_12

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-nez v5, :cond_12

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getMimeType()Ljava/lang/String;

    move-result-object v5

    const-string v10, "video/"

    invoke-virtual {v5, v10}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_14

    :cond_12
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v5, :cond_14

    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->ttl:I

    if-eqz v5, :cond_13

    const/16 v10, 0xe10

    if-lt v5, v10, :cond_14

    :cond_13
    if-nez v4, :cond_14

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->canSendMediaToParentChatActivity()Z

    move-result v5

    if-eqz v5, :cond_14

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-nez v5, :cond_14

    const/4 v5, 0x1

    goto :goto_a

    :cond_14
    move v5, v11

    .line 12390
    :goto_a
    iget-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v10, :cond_15

    .line 12391
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12392
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12393
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x1

    invoke-direct {v6, v1, v5, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    :goto_b
    move-object/from16 v19, v3

    goto/16 :goto_18

    :cond_15
    if-eqz v1, :cond_1f

    if-eqz v4, :cond_18

    .line 12395
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v1, :cond_16

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_17

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    if-eqz v1, :cond_17

    goto :goto_c

    :cond_16
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    .line 12396
    invoke-virtual {v1, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_17

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    if-eqz v1, :cond_17

    goto :goto_c

    .line 12399
    :cond_17
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_d

    :cond_18
    :goto_c
    const/16 v5, 0xb

    .line 12397
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12401
    :goto_d
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_19

    const/4 v1, 0x1

    goto :goto_e

    :cond_19
    move v1, v11

    :goto_e
    if-eqz v1, :cond_1a

    .line 12403
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12405
    :cond_1a
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    if-nez v5, :cond_1c

    .line 12406
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v11}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 12407
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v1, :cond_1b

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v1

    const/4 v10, 0x0

    cmpg-float v1, v1, v10

    if-gtz v1, :cond_1b

    const/4 v1, 0x1

    goto :goto_f

    :cond_1b
    move v1, v11

    :goto_f
    const/high16 v10, 0x3f000000    # 0.5f

    const/4 v15, 0x1

    invoke-direct {v6, v5, v15, v1, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    goto :goto_11

    .line 12409
    :cond_1c
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v1, :cond_1d

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v1

    const/4 v10, 0x0

    cmpg-float v1, v1, v10

    if-gtz v1, :cond_1d

    const/4 v1, 0x1

    goto :goto_10

    :cond_1d
    move v1, v11

    :goto_10
    const/4 v10, 0x1

    invoke-direct {v6, v5, v10, v1}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12411
    :goto_11
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v1, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12412
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasAttachedStickers()Z

    move-result v1

    if-eqz v1, :cond_1e

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v19

    invoke-static/range {v19 .. v20}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v1

    if-nez v1, :cond_1e

    .line 12413
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xf

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_12

    .line 12415
    :cond_1e
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xf

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12417
    :goto_12
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto/16 :goto_b

    .line 12419
    :cond_1f
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    const/16 v15, 0x8

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12420
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12421
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xb

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12422
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12423
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_20

    const/4 v1, 0x1

    goto :goto_13

    :cond_20
    move v1, v11

    .line 12424
    :goto_13
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasAttachedStickers()Z

    move-result v10

    if-eqz v10, :cond_21

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v19

    invoke-static/range {v19 .. v20}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v10

    if-nez v10, :cond_21

    const/4 v10, 0x1

    goto :goto_14

    :cond_21
    move v10, v11

    :goto_14
    if-eqz v1, :cond_23

    .line 12426
    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v10, :cond_22

    if-nez v5, :cond_22

    move-object/from16 v19, v3

    const/4 v3, 0x1

    goto :goto_15

    :cond_22
    move-object/from16 v19, v3

    move v3, v11

    :goto_15
    invoke-direct {v6, v15, v11, v3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_16

    :cond_23
    move-object/from16 v19, v3

    .line 12428
    :goto_16
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-eqz v8, :cond_24

    if-nez v1, :cond_24

    if-nez v10, :cond_24

    const/4 v15, 0x1

    goto :goto_17

    :cond_24
    move v15, v11

    :goto_17
    invoke-direct {v6, v3, v5, v15}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12429
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x1

    xor-int/2addr v1, v5

    invoke-direct {v6, v3, v10, v1}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12431
    :goto_18
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->restriction_reason:Ljava/util/ArrayList;

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getRestrictionReason(Ljava/util/ArrayList;)Ljava/lang/String;

    move-result-object v1

    .line 12432
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_25

    goto/16 :goto_6

    .line 12434
    :cond_25
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v1, :cond_26

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v1, :cond_26

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v3, :cond_26

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_26

    .line 12435
    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer;->postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;

    move-result-object v1

    goto/16 :goto_6

    .line 12437
    :cond_26
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->caption:Ljava/lang/CharSequence;

    .line 12438
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    .line 12442
    :goto_19
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v5, :cond_29

    .line 12443
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x1

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12444
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xa

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12445
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12446
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v5, :cond_27

    invoke-virtual {v5}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v5

    if-eqz v5, :cond_27

    const/4 v5, 0x1

    goto :goto_1a

    :cond_27
    move v5, v11

    :goto_1a
    const/4 v15, 0x0

    invoke-virtual {v0, v5, v15}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(ZLorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v5

    if-nez v5, :cond_28

    .line 12447
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x6

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_28
    xor-int/lit8 v5, v4, 0x1

    .line 12449
    iput-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12451
    :cond_29
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v5, v10

    if-eqz v5, :cond_36

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-nez v5, :cond_36

    .line 12452
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v2, :cond_30

    .line 12453
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    add-int/2addr v2, v5

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v5, v10

    if-ge v2, v5, :cond_2e

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    if-nez v2, :cond_2e

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    const/4 v10, 0x5

    sub-int/2addr v5, v10

    if-le v2, v5, :cond_2e

    .line 12454
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_2a

    move v2, v11

    goto :goto_1b

    :cond_2a
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v5

    const/4 v10, 0x1

    sub-int/2addr v5, v10

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    .line 12456
    :goto_1b
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v5, v5, v11

    if-eqz v5, :cond_2c

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v16

    if-eqz v5, :cond_2c

    .line 12458
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v5

    if-nez v5, :cond_2b

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v10

    const/4 v12, 0x1

    sub-int/2addr v10, v12

    invoke-virtual {v5, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v12

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v14

    if-eqz v5, :cond_2b

    move/from16 v27, v11

    goto :goto_1c

    :cond_2b
    move/from16 v27, v2

    :goto_1c
    const/4 v2, 0x1

    goto :goto_1d

    :cond_2c
    move/from16 v27, v2

    move v2, v11

    .line 12463
    :goto_1d
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v5}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->loadMore()Z

    move-result v5

    if-nez v5, :cond_2e

    .line 12464
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    if-nez v2, :cond_2d

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_1e

    :cond_2d
    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_1e
    move-wide/from16 v24, v12

    const/16 v26, 0x28

    const/16 v28, 0x0

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v32, 0x1

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v34, 0x0

    move/from16 v29, v2

    move-wide/from16 v30, v12

    move/from16 v33, v5

    invoke-virtual/range {v23 .. v34}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIII)V

    const/4 v2, 0x1

    .line 12465
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 12469
    :cond_2e
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    if-lez v2, :cond_2f

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v5, 0x5

    if-ge v2, v5, :cond_2f

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_2f

    .line 12470
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v28

    .line 12472
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->loadMore()Z

    move-result v2

    if-nez v2, :cond_2f

    .line 12473
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const/16 v26, 0x28

    const/16 v27, 0x0

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v32, 0x1

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v34, 0x0

    move-wide/from16 v24, v12

    move/from16 v29, v2

    move-wide/from16 v30, v14

    move/from16 v33, v5

    invoke-virtual/range {v23 .. v34}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIII)V

    const/4 v2, 0x1

    .line 12474
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 12477
    :cond_2f
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_44

    .line 12478
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    invoke-virtual {v2, v5, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12479
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int v12, v5, v10

    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget v14, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v13, v14

    sub-int/2addr v12, v13

    add-int/2addr v5, v10

    invoke-virtual {v2, v12, v5}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_25

    .line 12482
    :cond_30
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v5, v10

    if-ge v2, v5, :cond_35

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    if-nez v2, :cond_35

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v5, 0x5

    if-ge v2, v5, :cond_35

    .line 12483
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_31

    move v2, v11

    goto :goto_1f

    :cond_31
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    .line 12485
    :goto_1f
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v5, v5, v11

    if-eqz v5, :cond_33

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v16

    if-eqz v5, :cond_33

    .line 12487
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v5

    if-nez v5, :cond_32

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v5, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v12

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v12, v14

    if-eqz v5, :cond_32

    move/from16 v27, v11

    goto :goto_20

    :cond_32
    move/from16 v27, v2

    :goto_20
    const/4 v2, 0x1

    goto :goto_21

    :cond_33
    move/from16 v27, v2

    move v2, v11

    .line 12492
    :goto_21
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    if-nez v2, :cond_34

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_22

    :cond_34
    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_22
    move-wide/from16 v24, v12

    const/16 v26, 0x50

    const/16 v28, 0x0

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v32, 0x1

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v34, 0x0

    move/from16 v29, v2

    move-wide/from16 v30, v12

    move/from16 v33, v5

    invoke-virtual/range {v23 .. v34}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIII)V

    const/4 v2, 0x1

    .line 12493
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    goto :goto_23

    :cond_35
    const/4 v2, 0x1

    .line 12495
    :goto_23
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_44

    .line 12496
    invoke-virtual {v5, v2, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12497
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v10, v12

    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v12}, Ljava/util/ArrayList;->size()I

    move-result v12

    sub-int/2addr v10, v12

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v10, v12

    add-int/2addr v10, v2

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v2, v12

    invoke-virtual {v5, v10, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_25

    .line 12500
    :cond_36
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v5, :cond_3c

    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v5

    instance-of v5, v5, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v5, :cond_3c

    .line 12501
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_37

    .line 12502
    invoke-virtual {v5, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12504
    :cond_37
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v5, :cond_38

    const-string v2, "YouTube"

    goto :goto_24

    .line 12506
    :cond_38
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-eqz v5, :cond_39

    .line 12507
    sget v2, Lorg/telegram/messenger/R$string;->AttachDocument:I

    const-string v5, "AttachDocument"

    invoke-static {v5, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    .line 12508
    :cond_39
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_3a

    .line 12509
    sget v2, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    .line 12510
    :cond_3a
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v5

    if-eqz v5, :cond_3b

    .line 12511
    sget v5, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v2, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    .line 12513
    :cond_3b
    sget v2, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    :cond_3c
    if-eqz v14, :cond_3e

    .line 12516
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_3d

    .line 12517
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12519
    :cond_3d
    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->title:Ljava/lang/String;

    :goto_24
    move-object v5, v2

    goto :goto_26

    .line 12520
    :cond_3e
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_40

    .line 12521
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_3f

    .line 12522
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12524
    :cond_3f
    sget v2, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    .line 12525
    :cond_40
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v5

    if-eqz v5, :cond_42

    .line 12526
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_41

    .line 12527
    invoke-virtual {v5, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12529
    :cond_41
    sget v5, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v2, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    .line 12530
    :cond_42
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    if-eqz v2, :cond_44

    .line 12531
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_43

    .line 12532
    invoke-virtual {v2, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12534
    :cond_43
    sget v2, Lorg/telegram/messenger/R$string;->AttachDocument:I

    const-string v5, "AttachDocument"

    invoke-static {v5, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    goto :goto_24

    :cond_44
    :goto_25
    move-object/from16 v5, v19

    .line 12536
    :goto_26
    iget-wide v12, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    invoke-static {v12, v13}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v2

    if-eqz v2, :cond_45

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_46

    :cond_45
    if-eqz v4, :cond_47

    .line 12537
    :cond_46
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v2, v11, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12539
    :cond_47
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v2, :cond_4a

    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->ttl:I

    if-eqz v2, :cond_48

    const/16 v10, 0xe10

    if-lt v2, v10, :cond_4a

    :cond_48
    if-eqz v4, :cond_49

    goto :goto_27

    :cond_49
    const/4 v2, 0x1

    .line 12545
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12546
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12547
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xa

    invoke-virtual {v4, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_28

    :cond_4a
    :goto_27
    const/4 v2, 0x1

    const/16 v10, 0xa

    .line 12540
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12541
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12542
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12543
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v2, v11, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12549
    :goto_28
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    move-object v11, v0

    move v0, v8

    goto :goto_2b

    :cond_4b
    :goto_29
    return-void

    :cond_4c
    const/4 v10, 0x0

    const/4 v15, 0x0

    .line 12550
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v3, ""

    if-nez v1, :cond_4f

    .line 12551
    iput-boolean v11, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12552
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x6

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12553
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12554
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x15

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12555
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12556
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v0, :cond_4e

    .line 12557
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-le v2, v1, :cond_4d

    move v2, v1

    goto :goto_2a

    :cond_4d
    move v2, v11

    :goto_2a
    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12558
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v2, v1

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12561
    :cond_4e
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 12562
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v3, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    move v0, v8

    move v3, v11

    move-object v1, v15

    move-object v5, v1

    move-object v11, v5

    :goto_2b
    const/16 v10, 0x8

    goto/16 :goto_63

    .line 12563
    :cond_4f
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v5, -0x1

    if-nez v1, :cond_65

    if-ltz v7, :cond_64

    .line 12564
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v7, v1, :cond_50

    goto/16 :goto_39

    .line 12567
    :cond_50
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x15

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12568
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12569
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    const/16 v2, 0x11

    const/16 v4, 0x10

    if-eqz v1, :cond_56

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_56

    .line 12570
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12571
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result v1

    if-eqz v1, :cond_51

    .line 12573
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_2c

    .line 12575
    :cond_51
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12578
    :goto_2c
    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v1, v1, v16

    if-lez v1, :cond_53

    :cond_52
    :goto_2d
    const/4 v1, 0x1

    goto :goto_2e

    .line 12581
    :cond_53
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v14, v14

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    .line 12582
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result v2

    if-nez v2, :cond_52

    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2, v11, v4, v1}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(IZLorg/telegram/tgnet/TLRPC$Message;Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-eqz v1, :cond_54

    goto :goto_2d

    :cond_54
    move v1, v11

    :goto_2e
    if-eqz v1, :cond_55

    .line 12585
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x6

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_2f

    :cond_55
    const/4 v10, 0x6

    .line 12587
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_2f

    :cond_56
    const/4 v10, 0x6

    .line 12590
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12591
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12592
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12594
    :goto_2f
    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v4, v1, v16

    if-eqz v4, :cond_5a

    cmp-long v1, v1, v16

    if-ltz v1, :cond_57

    .line 12596
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    .line 12597
    invoke-static {v1}, Lorg/telegram/messenger/UserObject;->getUserName(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v1

    :goto_30
    move-object v15, v1

    goto :goto_31

    .line 12599
    :cond_57
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v14, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v14, v14

    invoke-static {v14, v15}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    if-eqz v1, :cond_58

    .line 12600
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Chat;->title:Ljava/lang/String;

    goto :goto_30

    :cond_58
    move-object v1, v3

    goto :goto_30

    .line 12602
    :goto_31
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    if-eqz v1, :cond_59

    .line 12603
    iget-object v1, v1, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v1, :cond_59

    .line 12604
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget v1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->date:I

    int-to-long v3, v1

    invoke-static {v3, v4}, Lorg/telegram/messenger/LocaleController;->formatDateTime(J)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v2, v1, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    goto :goto_32

    .line 12606
    :cond_59
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v1, v3, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    goto :goto_32

    :cond_5a
    const/4 v15, 0x0

    .line 12610
    :goto_32
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    if-eqz v1, :cond_5b

    .line 12611
    invoke-virtual {v1, v7, v0}, Lorg/telegram/messenger/MessagesController$DialogPhotos;->loadAfter(IZ)V

    .line 12613
    :cond_5b
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v0, :cond_5d

    .line 12614
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    if-le v1, v2, :cond_5c

    move v1, v2

    goto :goto_33

    :cond_5c
    move v1, v11

    :goto_33
    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12615
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v1, v2

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12617
    :cond_5d
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-eqz v0, :cond_5e

    move-object v15, v0

    goto :goto_34

    .line 12619
    :cond_5e
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v0, :cond_5f

    .line 12620
    sget v0, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v15

    .line 12622
    :cond_5f
    :goto_34
    iget-wide v0, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v0, v0, v16

    if-eqz v0, :cond_60

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v1, v1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v0

    if-eqz v0, :cond_60

    const/4 v0, 0x1

    goto :goto_35

    :cond_60
    move v0, v11

    :goto_35
    if-eqz v0, :cond_61

    .line 12624
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v2, 0x1

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_36

    :cond_61
    const/4 v2, 0x1

    .line 12626
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :goto_36
    xor-int/2addr v0, v2

    .line 12628
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12629
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0xa

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12630
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12631
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    .line 12632
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_63

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_62

    const/4 v1, 0x2

    if-eq v0, v1, :cond_62

    if-ne v0, v5, :cond_63

    :cond_62
    const/4 v0, 0x1

    goto :goto_37

    :cond_63
    move v0, v11

    :goto_37
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    move v0, v8

    move v3, v11

    move-object v5, v15

    const/4 v1, 0x0

    :goto_38
    const/16 v10, 0x8

    const/4 v11, 0x0

    goto/16 :goto_63

    :cond_64
    :goto_39
    return-void

    .line 12633
    :cond_65
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_9c

    if-ltz v7, :cond_9b

    .line 12634
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v7, v0, :cond_66

    goto/16 :goto_59

    .line 12637
    :cond_66
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12638
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12639
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v14

    .line 12645
    instance-of v0, v14, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_69

    .line 12646
    move-object v0, v14

    check-cast v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iput-object v0, v6, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 12647
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_67

    .line 12648
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v0

    goto :goto_3a

    .line 12649
    :cond_67
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v1, :cond_68

    .line 12650
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v1, "video"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    goto :goto_3a

    :cond_68
    move v0, v11

    :goto_3a
    move/from16 v18, v8

    move v2, v11

    move v3, v2

    move v4, v3

    move v15, v4

    const/4 v1, 0x0

    const/4 v5, 0x0

    const/16 v11, 0x8

    goto/16 :goto_4c

    .line 12654
    :cond_69
    instance-of v15, v14, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v15, :cond_6a

    .line 12655
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12656
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    iput-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12657
    iget-boolean v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 12658
    iget-object v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v21, v0

    move/from16 v20, v1

    move v0, v11

    goto :goto_3b

    .line 12659
    :cond_6a
    instance-of v0, v14, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_6c

    .line 12660
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12661
    invoke-virtual {v0}, Lorg/telegram/messenger/MediaController$SearchImage;->getPathToAttach()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12662
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 12663
    iget v0, v0, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    const/4 v2, 0x1

    move-object/from16 v21, v1

    if-ne v0, v2, :cond_6b

    move/from16 v20, v11

    const/4 v0, 0x1

    goto :goto_3b

    :cond_6b
    move v0, v11

    move/from16 v20, v0

    goto :goto_3b

    :cond_6c
    move v0, v11

    move/from16 v20, v0

    const/16 v21, 0x0

    :goto_3b
    const/high16 v4, 0x3f800000    # 1.0f

    if-eqz v20, :cond_74

    .line 12668
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_6d

    move/from16 v18, v11

    goto :goto_3c

    :cond_6d
    move/from16 v18, v8

    .line 12671
    :goto_3c
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v5, :cond_6e

    const/4 v1, 0x1

    .line 12672
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    :cond_6e
    if-eqz v15, :cond_6f

    .line 12679
    move-object v1, v14

    check-cast v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12680
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    if-eqz v1, :cond_6f

    .line 12681
    iget-boolean v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    .line 12682
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    .line 12683
    iget v10, v1, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 12684
    iget v1, v1, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    move/from16 v22, v1

    goto :goto_3d

    :cond_6f
    move/from16 v22, v5

    move v3, v10

    move v2, v11

    move v10, v4

    :goto_3d
    if-eq v0, v5, :cond_73

    .line 12688
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    move-object/from16 v0, p0

    const/16 v11, 0x8

    move v4, v10

    const/4 v10, 0x0

    move/from16 v5, v22

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->processOpenVideo(Ljava/lang/String;ZFFI)V

    .line 12689
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-nez v0, :cond_72

    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x12

    if-ge v0, v1, :cond_70

    goto/16 :goto_3f

    :cond_70
    const/4 v0, 0x1

    .line 12705
    invoke-direct {v6, v0, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12706
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_71

    .line 12707
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v1, v11}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12708
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12709
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12710
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12711
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12712
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12713
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v1, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12714
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-static {v1, v0, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12715
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    const/4 v3, 0x1

    goto :goto_3e

    :cond_71
    const/4 v1, 0x0

    const/high16 v2, 0x3f800000    # 1.0f

    .line 12717
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12718
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12719
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12720
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12721
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/4 v3, 0x1

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12722
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12723
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12724
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v0, v1, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12725
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v11}, Landroid/view/View;->setVisibility(I)V

    .line 12727
    :goto_3e
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12728
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12729
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12730
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    goto/16 :goto_48

    :cond_72
    :goto_3f
    const/4 v1, 0x0

    const/high16 v2, 0x3f800000    # 1.0f

    .line 12690
    invoke-direct {v6, v1, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12691
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v11}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12692
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12693
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12694
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12695
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12696
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12697
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12698
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12699
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12700
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12701
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12702
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-static {v0, v1, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12703
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v11}, Landroid/view/View;->setVisibility(I)V

    goto/16 :goto_48

    :cond_73
    move v1, v11

    const/4 v10, 0x0

    const/16 v11, 0x8

    goto/16 :goto_48

    :cond_74
    move v2, v4

    move v1, v11

    const/4 v10, 0x0

    const/16 v11, 0x8

    .line 12734
    invoke-direct {v6, v1, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12735
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v4, v11}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12736
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v4, v1, v2, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12737
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_75

    move v2, v1

    goto :goto_40

    :cond_75
    move v2, v8

    .line 12740
    :goto_40
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    .line 12741
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v1, v11}, Landroid/view/View;->setVisibility(I)V

    if-nez v0, :cond_7c

    .line 12742
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/16 v1, 0xa

    if-eq v0, v1, :cond_7c

    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v1, :cond_76

    goto :goto_46

    :cond_76
    const/4 v1, 0x4

    if-eq v0, v1, :cond_78

    const/4 v1, 0x5

    if-ne v0, v1, :cond_77

    goto :goto_41

    .line 12757
    :cond_77
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12758
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v4, 0x1

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12759
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12760
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    goto :goto_42

    .line 12752
    :cond_78
    :goto_41
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12753
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12754
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12755
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12762
    :goto_42
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_79

    const/4 v1, 0x0

    goto :goto_43

    :cond_79
    move v1, v11

    :goto_43
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12763
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v4, :cond_7a

    move v1, v11

    goto :goto_44

    :cond_7a
    const/4 v1, 0x0

    :goto_44
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12764
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v4, :cond_7b

    move v4, v11

    goto :goto_45

    :cond_7b
    const/4 v4, 0x0

    :goto_45
    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_47

    .line 12743
    :cond_7c
    :goto_46
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12744
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12745
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12746
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12747
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12748
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v11}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12749
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v10}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    :goto_47
    if-eqz v8, :cond_7d

    .line 12767
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->beginDelayedTransition()V

    .line 12769
    :cond_7d
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    move/from16 v18, v2

    :goto_48
    if-eqz v15, :cond_80

    .line 12772
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12773
    iget v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->bucketId:I

    if-nez v1, :cond_7e

    iget-wide v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->dateTaken:J

    cmp-long v1, v1, v16

    if-nez v1, :cond_7e

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    if-ne v1, v2, :cond_7e

    const/4 v1, 0x1

    goto :goto_49

    :cond_7e
    const/4 v1, 0x0

    :goto_49
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    .line 12774
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v1, :cond_7f

    .line 12775
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    goto :goto_4a

    .line 12777
    :cond_7f
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    .line 12779
    :goto_4a
    iget v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 12780
    iget-boolean v3, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 12781
    iget-boolean v4, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 12782
    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    goto :goto_4b

    .line 12783
    :cond_80
    instance-of v0, v14, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_81

    .line 12784
    move-object v0, v14

    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12785
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    .line 12786
    iget v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 12787
    iget-boolean v3, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 12788
    iget-boolean v4, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 12789
    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    :goto_4b
    move v15, v3

    move-object/from16 v5, v21

    move v3, v2

    move v2, v0

    move/from16 v0, v20

    goto :goto_4c

    :cond_81
    move-object v1, v10

    move/from16 v0, v20

    move-object/from16 v5, v21

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v15, 0x0

    .line 12792
    :goto_4c
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v10

    if-eq v10, v11, :cond_82

    .line 12793
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10, v11}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12795
    :cond_82
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v11, 0x0

    invoke-virtual {v10, v11}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12796
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v10, :cond_83

    const/4 v11, 0x0

    .line 12797
    invoke-virtual {v10, v11, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12799
    :cond_83
    iget-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v10, :cond_85

    if-eqz v0, :cond_84

    .line 12801
    sget v10, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v10}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v10

    goto :goto_4d

    .line 12803
    :cond_84
    sget v10, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v10}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v10

    goto :goto_4d

    :cond_85
    const/4 v10, 0x0

    .line 12806
    :goto_4d
    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v11, :cond_8c

    .line 12809
    invoke-virtual {v11}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v10

    const/4 v11, 0x3

    if-ne v10, v11, :cond_87

    .line 12810
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getSavedDialogId()J

    move-result-wide v10

    cmp-long v12, v10, v16

    if-ltz v12, :cond_86

    .line 12812
    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v12}, Lorg/telegram/ui/ActionBar/BaseFragment;->getMessagesController()Lorg/telegram/messenger/MessagesController;

    move-result-object v12

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v12, v10}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v10

    move-object v11, v10

    const/4 v10, 0x0

    goto :goto_4e

    .line 12814
    :cond_86
    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v12}, Lorg/telegram/ui/ActionBar/BaseFragment;->getMessagesController()Lorg/telegram/messenger/MessagesController;

    move-result-object v12

    neg-long v10, v10

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v12, v10}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v10

    const/4 v11, 0x0

    goto :goto_4e

    .line 12817
    :cond_87
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v11

    .line 12818
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v10

    :goto_4e
    if-eqz v10, :cond_88

    .line 12821
    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$Chat;->title:Ljava/lang/String;

    goto :goto_50

    .line 12823
    :cond_88
    invoke-static {v11}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v10

    if-eqz v10, :cond_8a

    .line 12824
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getChatMode()I

    move-result v10

    const/4 v11, 0x3

    if-ne v10, v11, :cond_89

    sget v10, Lorg/telegram/messenger/R$string;->MyNotes:I

    goto :goto_4f

    :cond_89
    sget v10, Lorg/telegram/messenger/R$string;->SavedMessages:I

    :goto_4f
    invoke-static {v10}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v10

    goto :goto_50

    .line 12825
    :cond_8a
    invoke-static {v11}, Lorg/telegram/messenger/UserObject;->isAnonymous(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v10

    if-eqz v10, :cond_8b

    .line 12826
    sget v10, Lorg/telegram/messenger/R$string;->AnonymousForward:I

    invoke-static {v10}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v10

    goto :goto_50

    .line 12828
    :cond_8b
    invoke-static {v11}, Lorg/telegram/messenger/UserObject;->getUserName(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v10

    .line 12832
    :cond_8c
    :goto_50
    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v11, :cond_8e

    const/4 v12, 0x4

    if-eq v11, v12, :cond_8e

    const/4 v12, 0x2

    if-eq v11, v12, :cond_8d

    const/4 v12, 0x5

    if-ne v11, v12, :cond_8f

    :cond_8d
    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v11}, Ljava/util/ArrayList;->size()I

    move-result v11

    const/4 v12, 0x1

    if-le v11, v12, :cond_8f

    .line 12833
    :cond_8e
    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v12, v13}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v12

    const/4 v13, 0x0

    invoke-virtual {v11, v12, v13}, Lorg/telegram/ui/Components/CheckBox;->setChecked(ZZ)V

    .line 12836
    :cond_8f
    invoke-direct {v6, v14}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V

    .line 12837
    new-instance v11, Landroid/graphics/PorterDuffColorFilter;

    sget v12, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v6, v12}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v12

    sget-object v13, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v11, v12, v13}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    .line 12838
    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12, v0}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setIsVideo(Z)V

    .line 12839
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimer(I)V

    .line 12840
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    if-eqz v4, :cond_90

    move-object v3, v11

    goto :goto_51

    :cond_90
    const/4 v3, 0x0

    :goto_51
    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12841
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_91

    move-object v2, v11

    goto :goto_52

    :cond_91
    const/4 v2, 0x0

    :goto_52
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12842
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    if-eqz v15, :cond_92

    move-object v2, v11

    goto :goto_53

    :cond_92
    const/4 v2, 0x0

    :goto_53
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12843
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v0, :cond_96

    .line 12844
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v5, :cond_95

    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_93

    iget-boolean v3, v5, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_94

    :cond_93
    if-nez v2, :cond_95

    iget-boolean v2, v5, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_95

    :cond_94
    move-object v2, v11

    goto :goto_54

    :cond_95
    const/4 v2, 0x0

    :goto_54
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_56

    .line 12846
    :cond_96
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v5, :cond_97

    iget-boolean v2, v5, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_97

    move-object v2, v11

    goto :goto_55

    :cond_97
    const/4 v2, 0x0

    :goto_55
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12848
    :goto_56
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    if-eqz v5, :cond_98

    iget v2, v5, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eqz v2, :cond_98

    move-object v5, v11

    goto :goto_57

    :cond_98
    const/4 v5, 0x0

    :goto_57
    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12849
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_9a

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_99

    const/4 v2, 0x2

    if-eq v0, v2, :cond_99

    const/4 v2, -0x1

    if-ne v0, v2, :cond_9a

    :cond_99
    const/4 v0, 0x1

    goto :goto_58

    :cond_9a
    const/4 v0, 0x0

    :goto_58
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    move-object v5, v10

    move/from16 v0, v18

    const/4 v3, 0x0

    goto/16 :goto_38

    :cond_9b
    :goto_59
    return-void

    .line 12850
    :cond_9c
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_ac

    .line 12851
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getItemsCount()I

    move-result v0

    .line 12852
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v1, :cond_ab

    if-lt v1, v0, :cond_9d

    goto/16 :goto_62

    .line 12855
    :cond_9d
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x15

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12856
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x16

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12857
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v3, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    neg-long v3, v3

    invoke-virtual {v1, v3, v4}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v1

    if-nez v1, :cond_9f

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_9e

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v1

    if-nez v1, :cond_9f

    :cond_9e
    const/4 v1, 0x1

    goto :goto_5a

    :cond_9f
    const/4 v1, 0x0

    :goto_5a
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12858
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->get(I)Lorg/telegram/tgnet/TLRPC$PageBlock;

    move-result-object v1

    .line 12859
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v3, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getCaption(I)Ljava/lang/CharSequence;

    move-result-object v5

    .line 12860
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v3, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v3

    if-eqz v3, :cond_a2

    .line 12862
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v4, :cond_a0

    .line 12863
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xb

    invoke-virtual {v4, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_5b

    :cond_a0
    const/16 v10, 0xb

    .line 12865
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12867
    :goto_5b
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12869
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    if-nez v4, :cond_a1

    .line 12870
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x0

    invoke-virtual {v4, v10}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 12871
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/high16 v11, 0x3f000000    # 0.5f

    const/4 v14, 0x1

    invoke-direct {v6, v4, v14, v14, v11}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    goto :goto_5c

    :cond_a1
    const/4 v10, 0x0

    const/4 v14, 0x1

    .line 12873
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v4, v14, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_5c

    :cond_a2
    const/4 v10, 0x0

    const/4 v14, 0x1

    .line 12876
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v11, 0xb

    invoke-virtual {v4, v11}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12877
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v4, v10, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12879
    :goto_5c
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    const/16 v10, 0x8

    if-eq v4, v10, :cond_a3

    .line 12880
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v4, v10}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12882
    :cond_a3
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v11, 0x0

    invoke-virtual {v4, v11}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12883
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v4, :cond_a5

    const/4 v14, 0x1

    if-le v0, v14, :cond_a4

    move v15, v14

    goto :goto_5d

    :cond_a4
    const/4 v15, 0x0

    .line 12884
    :goto_5d
    invoke-virtual {v4, v15, v14}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12885
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v15, v14

    invoke-virtual {v4, v15, v0}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12887
    :cond_a5
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-nez v4, :cond_a9

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v4

    if-nez v4, :cond_a6

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v4

    if-eqz v4, :cond_a6

    goto :goto_5f

    :cond_a6
    const/4 v4, 0x1

    if-ne v0, v4, :cond_a8

    if-eqz v3, :cond_a7

    .line 12899
    sget v0, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v12, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_5e

    .line 12901
    :cond_a7
    sget v0, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v13, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_5e

    :cond_a8
    move-object v0, v11

    .line 12904
    :goto_5e
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12905
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xe

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12906
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto :goto_61

    :cond_a9
    :goto_5f
    const/16 v3, 0xe

    const/4 v4, 0x1

    .line 12888
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12889
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v0, :cond_aa

    .line 12890
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_60

    .line 12892
    :cond_aa
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12894
    :goto_60
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12895
    sget v0, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    .line 12908
    :goto_61
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    .line 12909
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v2, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->updateSlideshowCell(Lorg/telegram/tgnet/TLRPC$PageBlock;)V

    move-object v1, v5

    const/4 v3, 0x0

    move-object v5, v0

    move v0, v8

    goto :goto_63

    :cond_ab
    :goto_62
    return-void

    :cond_ac
    const/16 v10, 0x8

    const/4 v11, 0x0

    .line 12911
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12912
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    move v0, v8

    move-object v1, v11

    move-object v5, v1

    const/4 v3, 0x0

    .line 12914
    :goto_63
    iget-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    if-eqz v2, :cond_ad

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-nez v2, :cond_ad

    const/4 v2, 0x1

    goto :goto_64

    :cond_ad
    const/4 v2, 0x0

    :goto_64
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    .line 12915
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-nez v2, :cond_af

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v2, :cond_ae

    goto :goto_65

    :cond_ae
    const/high16 v2, 0x7f000000

    goto :goto_66

    :cond_af
    :goto_65
    const/4 v2, 0x0

    :goto_66
    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 12916
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    invoke-virtual {v2, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTextShadows(Z)V

    .line 12917
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v4, :cond_b0

    move v4, v10

    goto :goto_67

    :cond_b0
    const/4 v4, 0x0

    :goto_67
    invoke-virtual {v2, v4}, Landroid/view/View;->setVisibility(I)V

    if-eqz v5, :cond_b4

    if-eqz v8, :cond_b3

    if-ne v9, v7, :cond_b1

    .line 12921
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v4, 0x1

    invoke-virtual {v2, v5, v4, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitleAnimated(Ljava/lang/CharSequence;ZZ)V

    goto :goto_69

    :cond_b1
    const/4 v4, 0x1

    .line 12923
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    if-le v9, v7, :cond_b2

    move v10, v4

    const/4 v4, 0x0

    goto :goto_68

    :cond_b2
    const/4 v4, 0x0

    const/4 v10, 0x0

    :goto_68
    invoke-virtual {v2, v5, v4, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitleAnimated(Ljava/lang/CharSequence;ZZ)V

    goto :goto_69

    .line 12926
    :cond_b3
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v5}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 12929
    :cond_b4
    :goto_69
    invoke-direct {v6, v11, v1, v3, v0}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    .line 12931
    invoke-direct {v6, v11}, Lorg/telegram/ui/PhotoViewer;->updatePhotoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12932
    invoke-direct {v6, v11}, Lorg/telegram/ui/PhotoViewer;->updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V

    return-void
.end method

.method private setItemVisible(Landroid/view/View;ZZ)V
    .locals 1

    const/high16 v0, 0x3f800000    # 1.0f

    .line 11752
    invoke-direct {p0, p1, p2, p3, v0}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    return-void
.end method

.method private setItemVisible(Landroid/view/View;ZZF)V
    .locals 3

    .line 11757
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-ne p1, v0, :cond_0

    .line 11758
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {p0, v0, p2, p3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11761
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Boolean;

    if-eqz v0, :cond_1

    .line 11762
    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v1

    if-eq v1, p2, :cond_6

    .line 11763
    :cond_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    invoke-static {p2}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v2

    invoke-interface {v1, p1, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 11764
    invoke-virtual {p1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/ViewPropertyAnimator;->cancel()V

    if-eqz p2, :cond_2

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_2
    const/4 v1, 0x0

    :goto_0
    mul-float/2addr v1, p4

    const/4 p4, 0x0

    if-eqz p3, :cond_4

    if-eqz v0, :cond_4

    if-eqz p2, :cond_3

    .line 11768
    invoke-virtual {p1, p4}, Landroid/view/View;->setVisibility(I)V

    .line 11770
    :cond_3
    invoke-virtual {p1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    invoke-virtual {p3, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    const-wide/16 v0, 0x64

    invoke-virtual {p3, v0, v1}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda13;

    invoke-direct {p4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda13;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->setUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Landroid/view/animation/LinearInterpolator;

    invoke-direct {p4}, Landroid/view/animation/LinearInterpolator;-><init>()V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda82;

    invoke-direct {p4, p0, p2, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda82;-><init>(Lorg/telegram/ui/PhotoViewer;ZLandroid/view/View;)V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object p1

    .line 11775
    invoke-virtual {p1}, Landroid/view/ViewPropertyAnimator;->start()V

    goto :goto_2

    :cond_4
    if-eqz p2, :cond_5

    goto :goto_1

    :cond_5
    const/16 p4, 0x8

    .line 11777
    :goto_1
    invoke-virtual {p1, p4}, Landroid/view/View;->setVisibility(I)V

    .line 11778
    invoke-virtual {p1, v1}, Landroid/view/View;->setAlpha(F)V

    .line 11779
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    :cond_6
    :goto_2
    return-void
.end method

.method private setMenuItemIcon(ZZ)V
    .locals 5

    .line 7299
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 7300
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-virtual {p2, v1, p1}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;->setSpeed(Ljava/lang/Float;Z)V

    return-void

    .line 7303
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    const v4, 0x3a83126f    # 0.001f

    cmpg-float v2, v2, v4

    if-gez v2, :cond_1

    goto :goto_0

    :cond_1
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-static {v1}, Ljava/lang/Float;->valueOf(F)Ljava/lang/Float;

    move-result-object v1

    :goto_0
    invoke-virtual {v0, v1, p1}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;->setSpeed(Ljava/lang/Float;Z)V

    if-eqz p2, :cond_7

    .line 7305
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const v0, 0x3e4ccccd    # 0.2f

    sub-float/2addr p1, v0

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    const v0, 0x3d4ccccd    # 0.05f

    cmpg-float p1, p1, v0

    if-gez p1, :cond_2

    .line 7306
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedVerySlow:I

    const-string v1, "VideoSpeedVerySlow"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7307
    :cond_2
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x3f000000    # 0.5f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_3

    .line 7308
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedSlow:I

    const-string v1, "VideoSpeedSlow"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7309
    :cond_3
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    sub-float/2addr p1, v3

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_4

    .line 7310
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedNormal:I

    const-string v1, "VideoSpeedNormal"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 7311
    :cond_4
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x3fc00000    # 1.5f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_5

    .line 7312
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedFast:I

    const-string v1, "VideoSpeedFast"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 7313
    :cond_5
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x40000000    # 2.0f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_6

    .line 7314
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedVeryFast:I

    const-string v1, "VideoSpeedVeryFast"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 7316
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedCustom:I

    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/Object;

    const/4 v2, 0x0

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-static {v4}, Lorg/telegram/ui/Components/SpeedIconDrawable;->formatNumber(F)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v4, "x"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    const-string v2, "VideoSpeedCustom"

    invoke-static {v2, v0, v1}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    .line 7319
    :cond_7
    :goto_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {p1, v0, p2}, Lorg/telegram/ui/ChooseSpeedLayout;->update(FZ)V

    return-void
.end method

.method private setPhotoChecked()V
    .locals 4

    .line 10053
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_4

    .line 10054
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v0

    if-eqz v0, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    if-lez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/HashMap;->size()I

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    if-lt v0, v1, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_1

    .line 10055
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_0

    .line 10056
    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    if-eqz v0, :cond_0

    .line 10057
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->hasAdminRights(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-nez v1, :cond_0

    iget-boolean v0, v0, Lorg/telegram/tgnet/TLRPC$Chat;->slowmode_enabled:Z

    if-eqz v0, :cond_0

    .line 10058
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v1, Lorg/telegram/messenger/R$string;->Slowmode:I

    const-string v2, "Slowmode"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$string;->SlowmodeSelectSendError:I

    const-string v3, "SlowmodeSelectSendError"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-static {v0, v1, v2}, Lorg/telegram/ui/Components/AlertsCreator;->createSimpleAlert(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    :cond_0
    return-void

    .line 10063
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v2

    invoke-interface {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->setPhotoChecked(ILorg/telegram/messenger/VideoEditedInfo;)I

    move-result v0

    .line 10064
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v1

    .line 10065
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x1

    invoke-virtual {v2, v1, v3}, Lorg/telegram/ui/Components/CheckBox;->setChecked(ZZ)V

    if-ltz v0, :cond_3

    if-eqz v1, :cond_2

    .line 10068
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemInserted(I)V

    .line 10069
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView;->smoothScrollToPosition(I)V

    goto :goto_0

    .line 10071
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemRemoved(I)V

    if-nez v0, :cond_3

    .line 10073
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemChanged(I)V

    .line 10077
    :cond_3
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    :cond_4
    return-void
.end method

.method private setScaleToFill()V
    .locals 6

    .line 4510
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    int-to-float v0, v0

    .line 4511
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x0

    cmpl-float v3, v0, v2

    if-eqz v3, :cond_1

    cmpl-float v2, v1, v2

    if-nez v2, :cond_0

    goto :goto_0

    .line 4515
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    int-to-float v2, v2

    .line 4516
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    int-to-float v3, v3

    div-float v4, v3, v1

    div-float v5, v2, v0

    .line 4517
    invoke-static {v4, v5}, Ljava/lang/Math;->min(FF)F

    move-result v4

    mul-float/2addr v0, v4

    float-to-int v0, v0

    int-to-float v0, v0

    mul-float/2addr v1, v4

    float-to-int v1, v1

    int-to-float v1, v1

    div-float/2addr v2, v0

    div-float/2addr v3, v1

    .line 4520
    invoke-static {v2, v3}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 4521
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    :cond_1
    :goto_0
    return-void
.end method

.method private setVideoPlayerControlVisible(ZZ)V
    .locals 5

    .line 9482
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eq v0, p1, :cond_8

    const/4 v0, 0x1

    if-eqz p1, :cond_0

    .line 9485
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto :goto_0

    .line 9487
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 9490
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlAnimator:Landroid/animation/Animator;

    if-eqz v1, :cond_1

    .line 9491
    invoke-virtual {v1}, Landroid/animation/Animator;->cancel()V

    .line 9493
    :cond_1
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz p2, :cond_4

    if-eqz p1, :cond_2

    .line 9497
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_2
    const/4 p2, 0x2

    new-array p2, p2, [F

    .line 9500
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v4

    aput v4, p2, v3

    if-eqz p1, :cond_3

    goto :goto_1

    :cond_3
    move v1, v2

    :goto_1
    aput v1, p2, v0

    invoke-static {p2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p2

    const-wide/16 v0, 0xc8

    .line 9501
    invoke-virtual {p2, v0, v1}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 9502
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda5;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda5;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p2, v0}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 9506
    new-instance v0, Lorg/telegram/ui/PhotoViewer$51;

    invoke-direct {v0, p0, p1}, Lorg/telegram/ui/PhotoViewer$51;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {p2, v0}, Landroid/animation/ValueAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 9514
    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlAnimator:Landroid/animation/Animator;

    .line 9515
    invoke-virtual {p2}, Landroid/animation/ValueAnimator;->start()V

    goto :goto_4

    .line 9517
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_5

    goto :goto_2

    :cond_5
    const/16 v3, 0x8

    :goto_2
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9518
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_6

    goto :goto_3

    :cond_6
    move v1, v2

    :goto_3
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 9520
    :goto_4
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz p2, :cond_8

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-nez p2, :cond_8

    const/16 p2, 0xa

    if-eqz p1, :cond_7

    .line 9522
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_5

    .line 9524
    :cond_7
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_8
    :goto_5
    return-void
.end method

.method private shouldIndexAutoPlayed(I)Z
    .locals 1

    .line 16464
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1

    .line 16465
    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->isAutoplayVideo()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 16466
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object p1

    if-eqz p1, :cond_1

    .line 16467
    invoke-virtual {p1}, Ljava/io/File;->exists()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    return p1

    :cond_1
    const/4 p1, 0x0

    return p1
.end method

.method private shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z
    .locals 1

    if-eqz p1, :cond_1

    .line 16460
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-eqz v0, :cond_1

    iget-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    if-nez v0, :cond_0

    iget-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    if-nez v0, :cond_0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result p1

    if-eqz p1, :cond_1

    sget-boolean p1, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz p1, :cond_1

    :cond_0
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->isAutoplayVideo()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    :goto_0
    return p1
.end method

.method private showDownloadAlert()V
    .locals 4

    .line 4429
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 4430
    sget v1, Lorg/telegram/messenger/R$string;->AppName:I

    const-string v2, "AppName"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4431
    sget v1, Lorg/telegram/messenger/R$string;->OK:I

    const-string v2, "OK"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4432
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v2, 0x0

    if-eqz v1, :cond_0

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v1, v1, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v2

    invoke-virtual {v1, v3}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v2, 0x1

    :cond_0
    if-eqz v2, :cond_1

    .line 4434
    sget v1, Lorg/telegram/messenger/R$string;->PleaseStreamDownload:I

    const-string v2, "PleaseStreamDownload"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_0

    .line 4436
    :cond_1
    sget v1, Lorg/telegram/messenger/R$string;->PleaseDownload:I

    const-string v2, "PleaseDownload"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4438
    :goto_0
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V

    return-void
.end method

.method private showEditCaption(ZZ)V
    .locals 9

    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-nez p2, :cond_1

    .line 12980
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p2}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 12981
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz p1, :cond_0

    goto :goto_0

    :cond_0
    const/16 v3, 0x8

    :goto_0
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12982
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 12983
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setAlpha(F)V

    goto/16 :goto_1

    :cond_1
    const-wide/16 v4, 0xdc

    const/4 p2, 0x2

    const/16 v6, 0x3a

    if-eqz p1, :cond_4

    .line 12985
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v7

    if-nez v7, :cond_4

    .line 12986
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v7

    if-eqz v7, :cond_2

    .line 12987
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12988
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 12989
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    int-to-float v6, v6

    invoke-virtual {v7, v6}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 12991
    :cond_2
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v6, :cond_3

    .line 12992
    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12993
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12995
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    aput v0, p2, v2

    invoke-static {v6, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    .line 12996
    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12997
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12998
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    goto :goto_1

    :cond_4
    if-nez p1, :cond_6

    .line 13000
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 13001
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v0, :cond_5

    .line 13002
    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 13003
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 13006
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    aput v3, p2, v2

    invoke-static {v0, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    .line 13007
    new-instance v0, Lorg/telegram/ui/Components/HideViewAfterAnimation;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/HideViewAfterAnimation;-><init>(Landroid/view/View;)V

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 13008
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 13009
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 13010
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    .line 13013
    :cond_6
    :goto_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz p1, :cond_7

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    :cond_7
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    return-void
.end method

.method private showQualityView(Z)V
    .locals 13

    if-eqz p1, :cond_0

    .line 18297
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_0

    .line 18298
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    :cond_0
    if-eqz p1, :cond_1

    .line 18302
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->previousCompression:I

    .line 18304
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_2

    .line 18305
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 18307
    :cond_2
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const/4 v0, 0x3

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x2

    const/4 v3, 0x0

    const/4 v4, 0x1

    const/4 v5, 0x0

    if-eqz p1, :cond_6

    .line 18309
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v6, :cond_3

    .line 18310
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v6, v5}, Landroid/view/View;->setVisibility(I)V

    .line 18311
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v6, v3}, Landroid/view/View;->setAlpha(F)V

    .line 18312
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    const/high16 v7, 0x7f000000

    invoke-virtual {v6, v7}, Landroid/view/View;->setBackgroundColor(I)V

    .line 18314
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    invoke-virtual {v6, v7}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 18315
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const/4 v7, 0x4

    new-array v7, v7, [Landroid/animation/Animator;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v2, [F

    aput v3, v10, v5

    .line 18316
    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v12, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v12

    add-int/2addr v11, v12

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v12, :cond_4

    const/16 v12, 0x3a

    invoke-static {v12}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v12

    goto :goto_0

    :cond_4
    move v12, v5

    :goto_0
    add-int/2addr v11, v12

    int-to-float v11, v11

    aput v11, v10, v4

    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v5

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v4, [F

    aput v3, v10, v5

    .line 18317
    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v4

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v2, [F

    aput v3, v10, v5

    const/16 v11, 0x9e

    .line 18318
    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v11

    int-to-float v11, v11

    aput v11, v10, v4

    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v2

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v2, v2, [F

    .line 18319
    iget-boolean v10, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v10, :cond_5

    move v10, v3

    goto :goto_1

    :cond_5
    move v10, v1

    :goto_1
    aput v10, v2, v5

    aput v1, v2, v4

    invoke-static {v8, v9, v2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v7, v0

    .line 18315
    invoke-virtual {v6, v7}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    goto :goto_3

    .line 18322
    :cond_6
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v7, 0x0

    invoke-virtual {v6, v7}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 18323
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    new-array v0, v0, [Landroid/animation/Animator;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    sget-object v8, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v2, [F

    aput v3, v9, v5

    const/16 v10, 0xa6

    .line 18324
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v11

    int-to-float v11, v11

    aput v11, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v0, v5

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    sget-object v8, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v2, [F

    aput v3, v9, v5

    .line 18325
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    int-to-float v10, v10

    aput v10, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v0, v4

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v2, [F

    aput v1, v9, v5

    .line 18326
    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v5, :cond_7

    move v5, v3

    goto :goto_2

    :cond_7
    move v5, v1

    :goto_2
    aput v5, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    aput-object v4, v0, v2

    .line 18323
    invoke-virtual {v6, v0}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 18329
    :goto_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$75;

    invoke-direct {v2, p0, p1}, Lorg/telegram/ui/PhotoViewer$75;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {v0, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 18375
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v4, 0xc8

    invoke-virtual {v0, v4, v5}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 18376
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    sget-object v2, Lorg/telegram/messenger/AndroidUtilities;->accelerateInterpolator:Landroid/view/animation/AccelerateInterpolator;

    invoke-virtual {v0, v2}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 18377
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    .line 18379
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->getVisibility()I

    move-result v0

    if-nez v0, :cond_b

    .line 18380
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const/high16 v2, 0x3e800000    # 0.25f

    if-eqz p1, :cond_8

    move v6, v2

    goto :goto_4

    :cond_8
    move v6, v1

    :goto_4
    invoke-virtual {v0, v6}, Landroid/view/ViewPropertyAnimator;->scaleX(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_9

    goto :goto_5

    :cond_9
    move v2, v1

    .line 18381
    :goto_5
    invoke-virtual {v0, v2}, Landroid/view/ViewPropertyAnimator;->scaleY(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_a

    move v1, v3

    .line 18382
    :cond_a
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object p1

    .line 18383
    invoke-virtual {p1, v4, v5}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    :cond_b
    return-void
.end method

.method private showRecognitionDialog(Ljava/lang/String;II)V
    .locals 2

    .line 451
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda56;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda56;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0, p1, v1, p2, p3}, Lcom/iMe/ui/recognition/RecognitionBottomSheetDialog;->newInstance(Lorg/telegram/ui/ActionBar/BaseFragment;Ljava/lang/String;Lcom/iMe/ui/recognition/RecognitionBottomSheetDialog$TranslationDelegate;II)Lcom/iMe/ui/recognition/RecognitionBottomSheetDialog;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method private showScheduleDatePickerDialog()V
    .locals 9

    .line 7068
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-nez v0, :cond_0

    return-void

    .line 7071
    :cond_0
    new-instance v0, Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;

    const/4 v2, -0x1

    const v3, -0xdadadb

    const/4 v4, -0x1

    const v5, 0x1effffff

    const/4 v6, -0x1

    const v7, -0x6ddddde

    const v8, 0x24ffffff

    move-object v1, v0

    invoke-direct/range {v1 .. v8}, Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;-><init>(IIIIIII)V

    .line 7072
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v2

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda95;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda95;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    move-object v5, v0

    invoke-static/range {v1 .. v6}, Lorg/telegram/ui/Components/AlertsCreator;->createScheduleDatePickerDialog(Landroid/content/Context;JLorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerDelegate;Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;Lorg/telegram/ui/ChatActivity;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    return-void
.end method

.method private showShareAlert(Ljava/util/ArrayList;)V
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;)V"
        }
    .end annotation

    move-object/from16 v15, p0

    .line 7231
    iget-object v14, v15, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    .line 7232
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->requestAdjustToNothing()V

    .line 7234
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v13, 0x0

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    if-eqz v0, :cond_1

    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1

    .line 7235
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->isKeyboardVisible()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7237
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->showEmojiView()V

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    move v0, v13

    .line 7240
    :goto_0
    iget-object v1, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getParentActivity()Landroid/app/Activity;

    move-result-object v1

    iget v2, v15, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-static {v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->setAdjustResizeToNothing(Landroid/app/Activity;I)V

    .line 7241
    iget-object v1, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->requestLayout()V

    move/from16 v16, v0

    goto :goto_1

    :cond_1
    move/from16 v16, v13

    .line 7244
    :goto_1
    new-instance v12, Lorg/telegram/ui/PhotoViewer$34;

    iget-object v2, v15, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v3, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    move-object v0, v12

    move-object/from16 v1, p0

    move-object/from16 v4, p1

    move-object/from16 v19, v12

    move/from16 v12, v17

    move-object/from16 v13, v18

    move/from16 v15, v16

    invoke-direct/range {v0 .. v15}, Lorg/telegram/ui/PhotoViewer$34;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/ChatActivity;Ljava/util/ArrayList;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;ZZZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/widget/FrameLayout;Z)V

    move-object/from16 v0, v19

    const/4 v1, 0x0

    .line 7265
    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/BottomSheet;->setFocusable(Z)V

    .line 7266
    invoke-virtual {v0}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/16 v2, 0x30

    invoke-virtual {v1, v2}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 7267
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda77;

    move-object/from16 v2, p0

    invoke-direct {v1, v2, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda77;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/ShareAlert;)V

    const-wide/16 v3, 0xfa

    invoke-static {v1, v3, v4}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    .line 7275
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    return-void
.end method

.method private showVideoSeekPreviewPosition(Z)V
    .locals 6

    if-eqz p1, :cond_0

    .line 8135
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_1

    :cond_0
    if-nez p1, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_2

    :cond_1
    return-void

    :cond_2
    const/4 v0, 0x1

    if-eqz p1, :cond_4

    .line 8138
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->isReady()Z

    move-result v1

    if-nez v1, :cond_4

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_3

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isYouTube()Z

    move-result v1

    if-eqz v1, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->hasYoutubeStoryboards()Z

    move-result v1

    if-nez v1, :cond_4

    .line 8139
    :cond_3
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    return-void

    .line 8142
    :cond_4
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    if-eqz v1, :cond_5

    .line 8143
    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 8145
    :cond_5
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    if-eqz p1, :cond_6

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    goto :goto_0

    :cond_6
    const/4 v2, 0x0

    :goto_0
    invoke-virtual {v1, v2}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 8146
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    new-array v2, v0, [Landroid/animation/Animator;

    .line 8147
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v0, v0, [F

    if-eqz p1, :cond_7

    const/high16 p1, 0x3f800000    # 1.0f

    goto :goto_1

    :cond_7
    const/4 p1, 0x0

    :goto_1
    const/4 v5, 0x0

    aput p1, v0, v5

    invoke-static {v3, v4, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p1

    aput-object p1, v2, v5

    invoke-virtual {v1, v2}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 8148
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$42;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$42;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 8154
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v0, 0xb4

    invoke-virtual {p1, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 8155
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void
.end method

.method private showVideoTimeline(ZZ)V
    .locals 9

    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-nez p2, :cond_1

    .line 13019
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {p2}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 13020
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_0

    goto :goto_0

    :cond_0
    const/16 v3, 0x8

    :goto_0
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13021
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {p2, v0}, Landroid/view/View;->setTranslationY(F)V

    .line 13022
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setAlpha(F)V

    goto/16 :goto_1

    :cond_1
    const-wide/16 v4, 0xdc

    const/4 p2, 0x2

    const/16 v6, 0x3a

    if-eqz p1, :cond_4

    .line 13024
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v7

    if-nez v7, :cond_4

    .line 13025
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v7

    if-eqz v7, :cond_2

    .line 13026
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13027
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 13028
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    int-to-float v6, v6

    invoke-virtual {v7, v6}, Landroid/view/View;->setTranslationY(F)V

    .line 13030
    :cond_2
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v6, :cond_3

    .line 13031
    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 13032
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 13034
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v6}, Landroid/view/View;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    aput v0, p2, v2

    invoke-static {v6, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    .line 13035
    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 13036
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 13037
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    goto :goto_1

    :cond_4
    if-nez p1, :cond_6

    .line 13039
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 13040
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v0, :cond_5

    .line 13041
    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 13042
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 13045
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v0}, Landroid/view/View;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    aput v3, p2, v2

    invoke-static {v0, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    .line 13046
    new-instance v0, Lorg/telegram/ui/Components/HideViewAfterAnimation;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/HideViewAfterAnimation;-><init>(Landroid/view/View;)V

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 13047
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 13048
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 13049
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    .line 13052
    :cond_6
    :goto_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_7

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    :cond_7
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    return-void
.end method

.method private startVideoPlayer()V
    .locals 2

    .line 10168
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-nez v0, :cond_2

    .line 10169
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_1

    .line 10170
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setVolume(F)V

    :cond_1
    const/4 v0, 0x0

    .line 10172
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 10173
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    :cond_2
    return-void
.end method

.method private supportsSendingNewEntities()Z
    .locals 2

    .line 8448
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentEncryptedChat:Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    if-eqz v0, :cond_0

    iget v0, v0, Lorg/telegram/tgnet/TLRPC$EncryptedChat;->layer:I

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->getPeerLayerVersion(I)I

    move-result v0

    const/16 v1, 0x65

    if-lt v0, v1, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private switchToNextIndex(IZ)V
    .locals 3

    .line 16436
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 16437
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 16438
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto :goto_0

    .line 16439
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    if-eqz v0, :cond_1

    .line 16440
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    .line 16441
    instance-of v2, v0, Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_1

    .line 16442
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 16443
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    .line 16446
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    const/4 v2, 0x1

    if-eqz v0, :cond_2

    .line 16447
    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setAnimateBackground(Z)V

    .line 16449
    :cond_2
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 16450
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v0, p1

    invoke-direct {p0, v0, p2, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(IZZ)V

    .line 16451
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result p1

    if-nez p1, :cond_3

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldIndexAutoPlayed(I)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 16452
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 16453
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 16454
    invoke-direct {p0, v1, v1, v2}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 16456
    :cond_4
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    return-void
.end method

.method private switchToPaintMode()V
    .locals 15

    const/4 v0, 0x0

    .line 11023
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 11024
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11025
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11026
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11027
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11028
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x4

    if-eqz v0, :cond_0

    .line 11029
    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11031
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 11032
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v3, 0x0

    invoke-virtual {v0, v3}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 11033
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v4, 0xa

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    neg-int v4, v4

    int-to-float v4, v4

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/RecyclerListView;->setTranslationY(F)V

    .line 11034
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$CounterView;->setRotationX(F)V

    .line 11035
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v4, 0x0

    invoke-virtual {v0, v4}, Landroid/view/ViewGroup;->setEnabled(Z)V

    .line 11036
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    .line 11037
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_1

    .line 11038
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11040
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x2

    const/4 v6, 0x1

    if-eqz v0, :cond_3

    if-eq v0, v2, :cond_3

    if-eq v0, v5, :cond_2

    const/4 v7, 0x5

    if-ne v0, v7, :cond_4

    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-le v0, v6, :cond_4

    .line 11041
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 11042
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 11043
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 11045
    :cond_4
    invoke-direct {p0, v4, v6}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 11047
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    const/16 v1, 0xc

    const/4 v7, 0x3

    if-eqz v0, :cond_d

    .line 11050
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    .line 11051
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v8

    .line 11055
    iget v9, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/16 v10, 0x10e

    const/16 v11, 0x5a

    const/high16 v12, 0x40000000    # 2.0f

    if-ne v9, v6, :cond_7

    .line 11056
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11057
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v13, :cond_5

    .line 11058
    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    add-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11060
    :cond_5
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v9

    if-eq v9, v11, :cond_6

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v9

    if-ne v9, v10, :cond_c

    :cond_6
    move v14, v8

    move v8, v0

    move v0, v14

    goto :goto_1

    :cond_7
    const/16 v9, 0x2c

    .line 11066
    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    neg-int v9, v9

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v13

    if-eqz v13, :cond_8

    sget v13, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    div-int/2addr v13, v5

    goto :goto_0

    :cond_8
    move v13, v4

    :goto_0
    add-int/2addr v9, v13

    int-to-float v9, v9

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11067
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v13, :cond_9

    .line 11068
    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    add-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11069
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    sub-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11071
    :cond_9
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v9, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v9, :cond_c

    .line 11072
    iget v12, v9, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v12, v11, :cond_a

    if-ne v12, v10, :cond_b

    :cond_a
    move v14, v8

    move v8, v0

    move v0, v14

    :cond_b
    int-to-float v0, v0

    .line 11077
    iget v10, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v0, v10

    float-to-int v0, v0

    int-to-float v8, v8

    .line 11078
    iget v9, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v8, v9

    float-to-int v8, v8

    .line 11081
    :cond_c
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    int-to-float v9, v9

    int-to-float v0, v0

    div-float/2addr v9, v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v10

    int-to-float v10, v10

    int-to-float v8, v8

    div-float/2addr v10, v8

    invoke-static {v9, v10}, Ljava/lang/Math;->min(FF)F

    move-result v9

    .line 11082
    invoke-direct {p0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v10

    int-to-float v10, v10

    div-float/2addr v10, v0

    invoke-direct {p0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v0

    int-to-float v0, v0

    div-float/2addr v0, v8

    invoke-static {v10, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v9

    .line 11083
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 11084
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v5

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v8

    div-int/2addr v8, v5

    sub-int/2addr v0, v8

    int-to-float v0, v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 11085
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v8

    iput-wide v8, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 11086
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 11089
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v6}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 11090
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    .line 11091
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v0, v5, [F

    const/16 v2, 0x7e

    .line 11092
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    aput v2, v0, v4

    aput v3, v0, v6

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v0

    new-array v2, v5, [F

    .line 11093
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    aput v1, v2, v4

    aput v3, v2, v6

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v1

    .line 11094
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda8;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda8;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11095
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda10;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda10;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11096
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v3, v7, [Landroid/animation/Animator;

    sget-object v7, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    new-array v8, v5, [F

    fill-array-data v8, :array_0

    .line 11097
    invoke-static {p0, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v3, v4

    aput-object v0, v3, v6

    aput-object v1, v3, v5

    .line 11096
    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 11101
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onAnimationStateChanged(Z)V

    .line 11102
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v1, 0xc8

    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11103
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$58;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$58;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11130
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private switchToPip(Z)V
    .locals 35

    move-object/from16 v12, p0

    .line 7645
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_11

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkInlinePermissions()Z

    move-result v0

    if-eqz v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    if-nez v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-eqz v0, :cond_0

    goto/16 :goto_7

    .line 7648
    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_1

    .line 7649
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    :cond_1
    const/4 v13, 0x0

    .line 7651
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 7652
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    .line 7653
    sput-object v1, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v14, 0x1

    .line 7654
    iput-boolean v14, v12, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 7655
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 7656
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 7657
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 7658
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    const-wide/16 v10, 0xfa

    const/4 v2, 0x0

    const/4 v15, 0x2

    if-eqz v0, :cond_5

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getVisible()Z

    move-result v0

    if-nez v0, :cond_5

    .line 7659
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v14, v14}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 7660
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v3

    if-eqz v3, :cond_5

    .line 7662
    invoke-virtual {v3}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getAnimatedBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 7665
    :try_start_0
    iget-boolean v4, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_2

    .line 7666
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v4, v0}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    goto :goto_0

    .line 7668
    :cond_2
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    invoke-virtual {v4, v5, v6}, Landroid/view/TextureView;->getBitmap(II)Landroid/graphics/Bitmap;

    move-result-object v4

    .line 7669
    new-instance v5, Landroid/graphics/Canvas;

    invoke-direct {v5, v0}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 7670
    invoke-virtual {v5, v4, v2, v2, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 7671
    invoke-virtual {v4}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    move-exception v0

    .line 7674
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7677
    :cond_3
    :goto_0
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v4

    invoke-virtual {v3, v4, v5, v14}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->seekTo(JZ)V

    if-eqz p1, :cond_4

    .line 7679
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 7680
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    new-array v3, v15, [F

    .line 7681
    fill-array-data v3, :array_0

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v3

    .line 7682
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda0;

    invoke-direct {v4, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda0;-><init>(Lorg/telegram/messenger/ImageReceiver;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7683
    new-instance v4, Lorg/telegram/ui/PhotoViewer$36;

    invoke-direct {v4, v12, v0}, Lorg/telegram/ui/PhotoViewer$36;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7689
    invoke-virtual {v3, v10, v11}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 7690
    invoke-virtual {v3}, Landroid/animation/ValueAnimator;->start()V

    .line 7692
    :cond_4
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v14}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 7693
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->startAnimation()V

    .line 7696
    :cond_5
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v3, 0x15

    if-lt v0, v3, :cond_f

    .line 7697
    iput-boolean v14, v12, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    .line 7698
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v0}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v0

    invoke-static {v14, v0}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v0

    .line 7699
    iget-boolean v3, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_6

    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_1

    :cond_6
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    :goto_1
    move-object v9, v3

    .line 7700
    iget v3, v0, Lorg/telegram/ui/Components/Rect;->width:F

    invoke-virtual {v9}, Landroid/view/View;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float v8, v3, v4

    new-array v3, v15, [F

    .line 7702
    fill-array-data v3, :array_1

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v7

    .line 7704
    iget-boolean v3, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_7

    .line 7705
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLeft()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v9}, Landroid/view/View;->getTranslationX()F

    move-result v4

    add-float/2addr v3, v4

    .line 7706
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getTop()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v9}, Landroid/view/View;->getTranslationY()F

    move-result v5

    add-float/2addr v4, v5

    iget v5, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v4, v5

    .line 7707
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getTop()I

    move-result v5

    int-to-float v5, v5

    iget-object v6, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v6}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v6

    add-float/2addr v5, v6

    iget v6, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_2

    .line 7709
    :cond_7
    invoke-virtual {v9}, Landroid/view/View;->getTranslationX()F

    move-result v3

    .line 7710
    invoke-virtual {v9}, Landroid/view/View;->getTranslationY()F

    move-result v4

    iget v5, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v4, v5

    .line 7711
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v5}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v5

    iget v6, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    :goto_2
    add-float/2addr v5, v6

    move v6, v5

    move v5, v4

    move v4, v3

    .line 7713
    iget v3, v0, Lorg/telegram/ui/Components/Rect;->x:F

    .line 7714
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    sub-float v1, v3, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v10

    int-to-float v10, v10

    add-float/2addr v10, v1

    .line 7716
    iget v0, v0, Lorg/telegram/ui/Components/Rect;->y:F

    .line 7717
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getY()F

    move-result v1

    sub-float v11, v0, v1

    .line 7719
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    const/4 v15, 0x4

    if-eqz v1, :cond_9

    .line 7720
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v1, v1, Lorg/telegram/ui/Components/VideoPlayer;->player:Lcom/google/android/exoplayer2/ExoPlayer;

    invoke-interface {v1}, Lcom/google/android/exoplayer2/Player;->pause()V

    .line 7721
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v13}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 7722
    iget-boolean v1, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_8

    .line 7723
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v1}, Landroid/view/SurfaceView;->getWidth()I

    move-result v1

    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v13}, Landroid/view/SurfaceView;->getHeight()I

    move-result v13

    sget-object v14, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v13, v14}, Lorg/telegram/messenger/Bitmaps;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v1

    .line 7724
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v13, v1}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    .line 7725
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 7727
    :cond_8
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v1, v15}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 7729
    :cond_9
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v6}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7730
    invoke-virtual {v9, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 7731
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_a

    .line 7732
    invoke-virtual {v1, v5}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7735
    :cond_a
    iput v2, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 7736
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    if-eqz p1, :cond_c

    cmpg-float v1, v5, v11

    if-gez v1, :cond_b

    .line 7741
    new-instance v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;

    const-wide/high16 v18, 0x3fe0000000000000L    # 0.5

    const-wide/16 v20, 0x0

    const-wide v22, 0x3feccccccccccccdL    # 0.9

    const-wide v24, 0x3feccccccccccccdL    # 0.9

    move-object/from16 v17, v1

    invoke-direct/range {v17 .. v25}, Lorg/telegram/ui/Components/CubicBezierInterpolator;-><init>(DDDD)V

    goto :goto_3

    .line 7743
    :cond_b
    new-instance v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;

    const-wide/16 v27, 0x0

    const-wide/high16 v29, 0x3fe0000000000000L    # 0.5

    const-wide v31, 0x3feccccccccccccdL    # 0.9

    const-wide v33, 0x3feccccccccccccdL    # 0.9

    move-object/from16 v26, v1

    invoke-direct/range {v26 .. v34}, Lorg/telegram/ui/Components/CubicBezierInterpolator;-><init>(DDDD)V

    :goto_3
    move-object/from16 v16, v1

    goto :goto_4

    :cond_c
    const/16 v16, 0x0

    .line 7748
    :goto_4
    new-instance v1, Lorg/telegram/ui/PhotoViewer$37;

    invoke-direct {v1, v12, v7, v8}, Lorg/telegram/ui/PhotoViewer$37;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;F)V

    .line 7754
    invoke-virtual {v9, v1}, Landroid/view/View;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    const/4 v2, 0x1

    .line 7755
    invoke-virtual {v9, v2}, Landroid/view/View;->setClipToOutline(Z)V

    .line 7756
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7757
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7758
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v13, :cond_d

    .line 7759
    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7760
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7763
    :cond_d
    new-instance v13, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda18;

    move-object v1, v13

    move-object/from16 v2, p0

    move v14, v3

    move-object/from16 v3, v16

    move/from16 v16, v5

    move v5, v14

    move-object v14, v7

    move v7, v0

    move v0, v8

    move-object v8, v9

    move-object v15, v9

    move v9, v10

    move/from16 v10, v16

    invoke-direct/range {v1 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda18;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFF)V

    invoke-virtual {v14, v13}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7785
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    const/4 v2, 0x2

    new-array v3, v2, [F

    .line 7786
    fill-array-data v3, :array_2

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 7787
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda9;

    invoke-direct {v3, v12}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda9;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x7

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 7788
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    const/4 v6, 0x1

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7790
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v6

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7791
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x2

    aput-object v2, v3, v5

    const/4 v2, 0x3

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7792
    invoke-static {v15, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v5

    aput-object v5, v3, v2

    sget-object v2, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v5, v6, [F

    aput v0, v5, v4

    .line 7793
    invoke-static {v15, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x4

    aput-object v0, v3, v2

    const/4 v0, 0x5

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v7, v6, [I

    aput v4, v7, v4

    .line 7794
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v0

    const/4 v0, 0x6

    aput-object v14, v3, v0

    .line 7788
    invoke-virtual {v1, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    if-eqz p1, :cond_e

    .line 7798
    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v2, 0x12c

    .line 7799
    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    goto :goto_5

    .line 7801
    :cond_e
    new-instance v0, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v0}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v2, 0xfa

    .line 7802
    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7804
    :goto_5
    new-instance v0, Lorg/telegram/ui/PhotoViewer$38;

    invoke-direct {v0, v12, v15}, Lorg/telegram/ui/PhotoViewer$38;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7820
    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    if-nez p1, :cond_10

    .line 7822
    new-instance v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    const/16 v2, 0xfa

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration(I)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    new-instance v2, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v2}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator(Landroid/view/animation/Interpolator;)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    const/4 v2, 0x1

    invoke-direct {v12, v1, v2, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    goto :goto_6

    .line 7825
    :cond_f
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    invoke-interface {v0}, Ljava/lang/Runnable;->run()V

    .line 7826
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    .line 7828
    :cond_10
    :goto_6
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_11

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_11

    .line 7829
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    :cond_11
    :goto_7
    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private toggleActionBar(ZZ)V
    .locals 1

    .line 11264
    sget-object v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->DEFAULT:Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {p0, p1, p2, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    return-void
.end method

.method private toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V
    .locals 10

    .line 11268
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_40

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-eqz v0, :cond_0

    const/4 v1, -0x1

    if-eq v0, v1, :cond_0

    goto/16 :goto_2b

    .line 11272
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 11273
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    :cond_1
    const/4 v0, 0x0

    if-eqz p1, :cond_3

    .line 11276
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11277
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_2

    .line 11278
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11280
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v1}, Landroid/widget/ViewSwitcher;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_3

    .line 11281
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11282
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    if-eqz v1, :cond_3

    .line 11283
    invoke-virtual {v1}, Landroid/view/View;->requestLayout()V

    .line 11287
    :cond_3
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 11289
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_4

    .line 11290
    invoke-virtual {v1, p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->setTouchDisabled(Z)V

    .line 11293
    :cond_4
    iget-boolean v1, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation:Z

    if-eqz v1, :cond_5

    .line 11294
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    .line 11297
    :cond_5
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_6

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_6

    if-eqz p1, :cond_6

    .line 11298
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    goto :goto_0

    .line 11300
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :goto_0
    if-nez p1, :cond_7

    .line 11304
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v1}, Lorg/telegram/ui/Components/Bulletin;->hide(Landroid/widget/FrameLayout;)V

    :cond_7
    const/high16 v1, 0x41c00000    # 24.0f

    .line 11307
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v1

    .line 11309
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-boolean v3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    const/4 v4, 0x1

    if-eqz v3, :cond_8

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v3, :cond_8

    move v3, v4

    goto :goto_1

    :cond_8
    move v3, v0

    :goto_1
    invoke-virtual {v2, v3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setSeekBarTransitionEnabled(Z)V

    .line 11310
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-boolean v3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    invoke-virtual {v2, v3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setTranslationYAnimationEnabled(Z)V

    const/4 v2, 0x3

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v5, 0x0

    if-eqz p2, :cond_2a

    .line 11313
    new-instance p2, Ljava/util/ArrayList;

    invoke-direct {p2}, Ljava/util/ArrayList;-><init>()V

    .line 11314
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_9

    move v9, v3

    goto :goto_2

    :cond_9
    move v9, v5

    :goto_2
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11315
    iget-boolean v6, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v6, :cond_b

    .line 11316
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_a

    move v9, v5

    goto :goto_3

    :cond_a
    neg-float v9, v1

    :goto_3
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_4

    .line 11318
    :cond_b
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v6, v5}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 11320
    :goto_4
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v6, :cond_d

    .line 11321
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v6, v6, v0

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_c

    move v9, v3

    goto :goto_5

    :cond_c
    move v9, v5

    :goto_5
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :cond_d
    move v6, v4

    :goto_6
    if-ge v6, v2, :cond_f

    .line 11324
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v7, v7, v6

    if-eqz p1, :cond_e

    move v8, v5

    goto :goto_7

    :cond_e
    move v8, v1

    :goto_7
    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setTranslationY(F)V

    add-int/lit8 v6, v6, 0x1

    goto :goto_6

    .line 11326
    :cond_f
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_11

    .line 11327
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_10

    move v8, v5

    goto :goto_8

    :cond_10
    move v8, v1

    :goto_8
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_9

    .line 11329
    :cond_11
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    invoke-virtual {v2, v5}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11331
    :goto_9
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz v2, :cond_15

    .line 11332
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_12

    move v8, v3

    goto :goto_a

    :cond_12
    move v8, v5

    :goto_a
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11333
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_14

    .line 11334
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_13

    move v8, v5

    goto :goto_b

    :cond_13
    move v8, v1

    :goto_b
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_c

    .line 11336
    :cond_14
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v5}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11339
    :cond_15
    :goto_c
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_19

    .line 11340
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_16

    move v8, v3

    goto :goto_d

    :cond_16
    move v8, v5

    :goto_d
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11341
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_18

    .line 11342
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_17

    move v8, v5

    goto :goto_e

    :cond_17
    neg-float v8, v1

    :goto_e
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_f

    .line 11344
    :cond_18
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-virtual {v2, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 11347
    :cond_19
    :goto_f
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_1b

    .line 11348
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1a

    move v8, v3

    goto :goto_10

    :cond_1a
    move v8, v5

    :goto_10
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11350
    :cond_1b
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v2, :cond_1d

    .line 11351
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    sget-object v6, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1c

    move v8, v3

    goto :goto_11

    :cond_1c
    move v8, v5

    :goto_11
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_13

    .line 11353
    :cond_1d
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_1e

    move v6, v3

    goto :goto_12

    :cond_1e
    move v6, v5

    :goto_12
    invoke-virtual {v2, v6}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setProgress(F)V

    .line 11355
    :goto_13
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1f

    move v8, v3

    goto :goto_14

    :cond_1f
    move v8, v5

    :goto_14
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11356
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_21

    .line 11357
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_20

    move v8, v5

    goto :goto_15

    :cond_20
    move v8, v1

    :goto_15
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_16

    .line 11359
    :cond_21
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 11361
    :goto_16
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez v2, :cond_25

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v2, :cond_25

    .line 11362
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_22

    move v8, v3

    goto :goto_17

    :cond_22
    move v8, v5

    :goto_17
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11363
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_24

    .line 11364
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_23

    move v1, v5

    :cond_23
    aput v1, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v1

    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_18

    .line 11366
    :cond_24
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    invoke-virtual {v1, v5}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11369
    :cond_25
    :goto_18
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_27

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_27

    const/4 v1, 0x2

    new-array v1, v1, [F

    .line 11370
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v0

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$22500(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)[F

    move-result-object v2

    aget v2, v2, v4

    aput v2, v1, v0

    if-eqz p1, :cond_26

    move v2, v3

    goto :goto_19

    :cond_26
    move v2, v5

    :goto_19
    aput v2, v1, v4

    invoke-static {v1}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v1

    .line 11371
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda2;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda2;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11372
    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11374
    :cond_27
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v1}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_29

    .line 11375
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    if-eqz p1, :cond_28

    goto :goto_1a

    :cond_28
    move v3, v5

    :goto_1a
    aput v3, v4, v0

    invoke-static {v1, v2, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11377
    :cond_29
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    .line 11378
    invoke-virtual {v0, p2}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 11379
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    iget v0, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration:I

    int-to-long v0, v0

    invoke-virtual {p2, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11380
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    iget-object p3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator:Landroid/view/animation/Interpolator;

    invoke-virtual {p2, p3}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 11381
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$60;

    invoke-direct {p3, p0, p1}, Lorg/telegram/ui/PhotoViewer$60;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {p2, p3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11405
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2b

    .line 11407
    :cond_2a
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_2b

    move p3, v3

    goto :goto_1b

    :cond_2b
    move p3, v5

    :goto_1b
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11408
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p2, p2, v0

    invoke-virtual {p2}, Landroid/widget/ImageView;->getTranslationX()F

    move-result p2

    cmpl-float p2, p2, v5

    if-eqz p2, :cond_2d

    .line 11409
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz p2, :cond_2d

    .line 11410
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p2, p2, v0

    if-eqz p1, :cond_2c

    move p3, v3

    goto :goto_1c

    :cond_2c
    move p3, v5

    :goto_1c
    invoke-virtual {p2, p3}, Landroid/widget/ImageView;->setAlpha(F)V

    :cond_2d
    move p2, v0

    :goto_1d
    if-ge p2, v2, :cond_2f

    .line 11414
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p3, p3, p2

    if-eqz p1, :cond_2e

    move v6, v5

    goto :goto_1e

    :cond_2e
    move v6, v1

    :goto_1e
    invoke-virtual {p3, v6}, Landroid/widget/ImageView;->setTranslationY(F)V

    add-int/lit8 p2, p2, 0x1

    goto :goto_1d

    .line 11416
    :cond_2f
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_30

    move p3, v5

    goto :goto_1f

    :cond_30
    neg-float p3, v1

    :goto_1f
    invoke-virtual {p2, p3}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 11417
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz p2, :cond_33

    if-eqz p1, :cond_31

    move p3, v3

    goto :goto_20

    :cond_31
    move p3, v5

    .line 11418
    :goto_20
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11419
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz p1, :cond_32

    move p3, v5

    goto :goto_21

    :cond_32
    neg-float p3, v1

    :goto_21
    invoke-virtual {p2, p3}, Landroid/view/View;->setTranslationY(F)V

    .line 11421
    :cond_33
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_34

    move p3, v3

    goto :goto_22

    :cond_34
    move p3, v5

    :goto_22
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11422
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_35

    move p3, v5

    goto :goto_23

    :cond_35
    move p3, v1

    :goto_23
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11423
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz p1, :cond_36

    move p3, v3

    goto :goto_24

    :cond_36
    move p3, v5

    :goto_24
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11424
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz p1, :cond_37

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    if-eq p3, v2, :cond_37

    move p3, v3

    goto :goto_25

    :cond_37
    move p3, v5

    :goto_25
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11425
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz p1, :cond_38

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    if-eq p3, v2, :cond_38

    move p3, v5

    goto :goto_26

    :cond_38
    move p3, v1

    :goto_26
    invoke-virtual {p2, p3}, Landroid/view/View;->setTranslationY(F)V

    .line 11426
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez p2, :cond_3b

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz p2, :cond_3b

    if-eqz p1, :cond_39

    move p3, v3

    goto :goto_27

    :cond_39
    move p3, v5

    .line 11427
    :goto_27
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11428
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz p1, :cond_3a

    move v1, v5

    :cond_3a
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11430
    :cond_3b
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_3c

    move p3, v3

    goto :goto_28

    :cond_3c
    move p3, v5

    :goto_28
    invoke-virtual {p2, p3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setProgress(F)V

    .line 11431
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object p2

    if-eqz p2, :cond_3e

    .line 11432
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    if-eqz p1, :cond_3d

    move p3, v3

    goto :goto_29

    :cond_3d
    move p3, v5

    :goto_29
    invoke-virtual {p2, p3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11434
    :cond_3e
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz p2, :cond_40

    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz p2, :cond_40

    .line 11435
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, v0

    if-eqz p1, :cond_3f

    goto :goto_2a

    :cond_3f
    move v3, v5

    :goto_2a
    invoke-virtual {p2, v4, v3, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    :cond_40
    :goto_2b
    return-void
.end method

.method private toggleCheckImageView(Z)V
    .locals 11

    .line 11134
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    .line 11135
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    const/high16 v2, 0x41c00000    # 24.0f

    .line 11136
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v2

    .line 11137
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v5, 0x1

    new-array v6, v5, [F

    const/high16 v7, 0x3f800000    # 1.0f

    const/4 v8, 0x0

    if-eqz p1, :cond_0

    move v9, v7

    goto :goto_0

    :cond_0
    move v9, v8

    :goto_0
    const/4 v10, 0x0

    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11138
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_1

    move v9, v8

    goto :goto_1

    :cond_1
    move v9, v2

    :goto_1
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11139
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_2

    move v9, v7

    goto :goto_2

    :cond_2
    move v9, v8

    :goto_2
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11140
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_3

    move v9, v8

    goto :goto_3

    :cond_3
    move v9, v2

    :goto_3
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11141
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v3, :cond_4

    const/4 v4, 0x4

    if-ne v3, v4, :cond_9

    .line 11142
    :cond_4
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_5

    move v9, v7

    goto :goto_4

    :cond_5
    move v9, v8

    :goto_4
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11143
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_6

    move v9, v8

    goto :goto_5

    :cond_6
    neg-float v9, v2

    :goto_5
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11144
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_7

    goto :goto_6

    :cond_7
    move v7, v8

    :goto_6
    aput v7, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11145
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_8

    goto :goto_7

    :cond_8
    neg-float v8, v2

    :goto_7
    aput v8, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11147
    :cond_9
    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    const-wide/16 v1, 0xc8

    .line 11148
    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11149
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    if-nez p1, :cond_b

    .line 11150
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_b

    .line 11151
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result p1

    if-eqz p1, :cond_a

    .line 11152
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1, v5}, Lorg/telegram/ui/Components/EditTextEmoji;->hidePopup(Z)V

    .line 11154
    :cond_a
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->closeKeyboard()V

    :cond_b
    return-void
.end method

.method private toggleMiniProgress(ZZ)V
    .locals 2

    .line 11187
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    const/4 v0, 0x0

    const/4 v1, 0x0

    if-eqz p2, :cond_3

    .line 11189
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    if-eqz p1, :cond_2

    .line 11191
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_0

    .line 11192
    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11193
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    .line 11195
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    if-eqz p1, :cond_1

    .line 11196
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    const/4 p1, 0x1

    .line 11197
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    goto :goto_2

    .line 11199
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    const-wide/16 v0, 0x1f4

    invoke-static {p1, v0, v1}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_2

    .line 11202
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_7

    .line 11203
    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11204
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    goto :goto_2

    .line 11208
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p2, :cond_4

    .line 11209
    invoke-virtual {p2}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11210
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    .line 11212
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    if-eqz p1, :cond_5

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_5
    const/4 v0, 0x0

    :goto_0
    invoke-virtual {p2, v0}, Lorg/telegram/ui/Components/RadialProgressView;->setAlpha(F)V

    .line 11213
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    if-eqz p1, :cond_6

    goto :goto_1

    :cond_6
    const/4 v1, 0x4

    :goto_1
    invoke-virtual {p2, v1}, Landroid/view/View;->setVisibility(I)V

    :cond_7
    :goto_2
    return-void
.end method

.method private toggleMiniProgressInternal(Z)V
    .locals 7

    const/4 v0, 0x0

    if-eqz p1, :cond_0

    .line 11160
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v0}, Landroid/view/View;->setVisibility(I)V

    .line 11162
    :cond_0
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    const/4 v2, 0x1

    new-array v3, v2, [Landroid/animation/Animator;

    .line 11163
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v2, v2, [F

    if-eqz p1, :cond_1

    const/high16 v6, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_1
    const/4 v6, 0x0

    :goto_0
    aput v6, v2, v0

    invoke-static {v4, v5, v2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v0

    invoke-virtual {v1, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 11164
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    const-wide/16 v1, 0xc8

    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11165
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$59;

    invoke-direct {v1, p0, p1}, Lorg/telegram/ui/PhotoViewer$59;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11183
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void
.end method

.method private togglePhotosListView(ZZ)V
    .locals 9

    .line 11441
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    if-ne p1, v0, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    if-eqz p1, :cond_1

    .line 11445
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 11447
    :cond_1
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    .line 11448
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, p1}, Landroid/view/ViewGroup;->setEnabled(Z)V

    const/16 v1, 0xa

    const/high16 v2, 0x3f800000    # 1.0f

    const/4 v3, 0x0

    if-eqz p2, :cond_6

    .line 11451
    new-instance p2, Ljava/util/ArrayList;

    invoke-direct {p2}, Ljava/util/ArrayList;-><init>()V

    .line 11452
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v6, 0x1

    new-array v7, v6, [F

    if-eqz p1, :cond_2

    move v8, v2

    goto :goto_0

    :cond_2
    move v8, v3

    :goto_0
    aput v8, v7, v0

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {p2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11453
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    if-eqz p1, :cond_3

    move v1, v3

    goto :goto_1

    :cond_3
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    :goto_1
    aput v1, v7, v0

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v1

    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11454
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ROTATION_X:Landroid/util/Property;

    new-array v5, v6, [F

    if-eqz p1, :cond_4

    goto :goto_2

    :cond_4
    move v2, v3

    :goto_2
    aput v2, v5, v0

    invoke-static {v1, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11455
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    .line 11456
    invoke-virtual {v0, p2}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    if-nez p1, :cond_5

    .line 11458
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$61;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$61;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11468
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v0, 0xc8

    invoke-virtual {p1, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11469
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    goto :goto_6

    .line 11471
    :cond_6
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz p1, :cond_7

    move v0, v2

    goto :goto_3

    :cond_7
    move v0, v3

    :goto_3
    invoke-virtual {p2, v0}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 11472
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz p1, :cond_8

    move v0, v3

    goto :goto_4

    :cond_8
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    neg-int v0, v0

    int-to-float v0, v0

    :goto_4
    invoke-virtual {p2, v0}, Lorg/telegram/ui/Components/RecyclerListView;->setTranslationY(F)V

    .line 11473
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    if-eqz p1, :cond_9

    goto :goto_5

    :cond_9
    move v2, v3

    :goto_5
    invoke-virtual {p2, v2}, Lorg/telegram/ui/PhotoViewer$CounterView;->setRotationX(F)V

    if-nez p1, :cond_a

    .line 11475
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 p2, 0x8

    invoke-virtual {p1, p2}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    :cond_a
    :goto_6
    return-void
.end method

.method private toggleVideoPlayer()V
    .locals 4

    .line 11481
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return-void

    .line 11484
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    goto :goto_0

    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v0

    .line 11485
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 11486
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    if-eqz v0, :cond_3

    .line 11488
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    goto :goto_2

    .line 11490
    :cond_3
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const v1, 0x3c23d70a    # 0.01f

    if-eqz v0, :cond_5

    .line 11491
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getProgress()F

    move-result v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    cmpg-float v0, v0, v1

    if-ltz v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_8

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    cmp-long v0, v0, v2

    if-nez v0, :cond_8

    .line 11492
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_1

    .line 11495
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->getProgress()F

    move-result v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    cmpg-float v0, v0, v1

    if-ltz v0, :cond_6

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_7

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    cmp-long v0, v0, v2

    if-nez v0, :cond_7

    :cond_6
    const/4 v0, 0x0

    .line 11496
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 11498
    :cond_7
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    .line 11500
    :cond_8
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    .line 11502
    :goto_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private translateY(F)V
    .locals 3

    .line 10998
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    if-eqz v0, :cond_0

    .line 10999
    invoke-virtual {v0}, Landroid/animation/ValueAnimator;->cancel()V

    const/4 v0, 0x0

    .line 11000
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    .line 11002
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x3

    if-eq v0, v1, :cond_1

    const/4 p1, 0x0

    :cond_1
    const/4 v0, 0x2

    new-array v0, v0, [F

    const/4 v1, 0x0

    .line 11005
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    aput v2, v0, v1

    const/4 v1, 0x1

    aput p1, v0, v1

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    .line 11006
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda6;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda6;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11013
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    const-wide/16 v0, 0x140

    invoke-virtual {p1, v0, v1}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 11014
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT_QUINT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p1, v0}, Landroid/animation/ValueAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 11015
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->start()V

    return-void
.end method

.method private updateAccessibilityOverlayVisibility()V
    .locals 6

    .line 18515
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    if-eqz v0, :cond_5

    .line 18516
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v0

    .line 18517
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v1

    invoke-virtual {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result v2

    const/4 v3, 0x4

    if-eqz v2, :cond_4

    const/4 v2, 0x1

    const/4 v4, 0x2

    const/4 v5, 0x3

    if-eq v0, v5, :cond_0

    if-eq v0, v3, :cond_0

    if-eq v0, v4, :cond_0

    if-ne v0, v2, :cond_4

    :cond_0
    if-ne v0, v5, :cond_1

    .line 18519
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionPlay:I

    const-string v3, "AccActionPlay"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    :cond_1
    if-ne v0, v4, :cond_2

    .line 18521
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionDownload:I

    const-string v3, "AccActionDownload"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    :cond_2
    if-ne v0, v2, :cond_3

    .line 18523
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionCancelDownload:I

    const-string v3, "AccActionCancelDownload"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    .line 18525
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionPause:I

    const-string v3, "AccActionPause"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 18527
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    goto :goto_1

    .line 18529
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    :cond_5
    :goto_1
    return-void
.end method

.method private updateActionBarTitlePadding()V
    .locals 7

    .line 7279
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    if-nez v0, :cond_0

    goto :goto_1

    :cond_0
    const/4 v0, 0x0

    const/4 v1, 0x0

    move v2, v1

    .line 7283
    :goto_0
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    invoke-virtual {v3}, Landroid/widget/LinearLayout;->getChildCount()I

    move-result v3

    if-ge v2, v3, :cond_2

    .line 7284
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    invoke-virtual {v3, v2}, Landroid/widget/LinearLayout;->getChildAt(I)Landroid/view/View;

    move-result-object v3

    .line 7285
    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v4

    if-nez v4, :cond_1

    const/high16 v4, 0x40000000    # 2.0f

    const/high16 v5, 0x3f000000    # 0.5f

    .line 7286
    invoke-virtual {v3}, Landroid/view/View;->getAlpha()F

    move-result v6

    invoke-static {v5, v6}, Ljava/lang/Math;->min(FF)F

    move-result v5

    mul-float/2addr v5, v4

    invoke-virtual {v3}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    mul-float/2addr v5, v3

    add-float/2addr v0, v5

    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 7289
    :cond_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    if-eqz v2, :cond_3

    invoke-virtual {v2}, Landroid/view/View;->getVisibility()I

    move-result v2

    if-nez v2, :cond_3

    const/16 v2, 0x30

    .line 7290
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    invoke-static {v0, v2}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 7292
    :cond_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    if-eqz v2, :cond_4

    invoke-virtual {v2}, Landroid/view/View;->getVisibility()I

    move-result v2

    if-nez v2, :cond_4

    const/16 v2, 0x64

    .line 7293
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    invoke-static {v0, v2}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 7295
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->updateRightPadding(FZ)V

    :cond_5
    :goto_1
    return-void
.end method

.method private updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V
    .locals 2

    .line 9532
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v0, :cond_0

    .line 9533
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    goto :goto_1

    .line 9534
    :cond_0
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v0, :cond_1

    .line 9535
    check-cast p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    goto :goto_1

    .line 9536
    :cond_1
    instance-of v0, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_2

    goto :goto_0

    .line 9538
    :cond_2
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_3

    .line 9539
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    iget-object p1, p1, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    goto :goto_1

    :cond_3
    :goto_0
    const/4 p1, 0x0

    .line 9541
    :goto_1
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 9542
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const-string v0, ""

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_2

    .line 9544
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/4 v1, 0x3

    invoke-static {p1, v1}, Lorg/telegram/ui/Components/AnimatedEmojiSpan;->cloneSpans(Ljava/lang/CharSequence;I)Ljava/lang/CharSequence;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    .line 9546
    :goto_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->getEditText()Lorg/telegram/ui/Components/EditTextCaption;

    move-result-object p1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->supportsSendingNewEntities()Z

    move-result v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/EditTextCaption;->setAllowTextEntitiesIntersection(Z)V

    return-void
.end method

.method private updateCaptionTranslated()V
    .locals 4

    .line 12937
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_3

    .line 12938
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v0, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto :goto_0

    .line 12941
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_1

    return-void

    .line 12945
    :cond_1
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    const/4 v2, 0x1

    if-eqz v1, :cond_2

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v1, :cond_2

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v3, :cond_2

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 12946
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;

    move-result-object v1

    const/4 v3, 0x0

    invoke-direct {p0, v0, v1, v3, v2}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    goto :goto_0

    .line 12948
    :cond_2
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->caption:Ljava/lang/CharSequence;

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    invoke-direct {p0, v0, v1, v3, v2}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    nop

    :cond_3
    :goto_0
    return-void
.end method

.method private updateCompressionsCount(II)V
    .locals 0

    .line 18502
    invoke-static {p1, p2}, Ljava/lang/Math;->max(II)I

    move-result p1

    const/16 p2, 0x500

    if-le p1, p2, :cond_0

    const/4 p1, 0x4

    .line 18504
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_0
    const/16 p2, 0x356

    if-le p1, p2, :cond_1

    const/4 p1, 0x3

    .line 18506
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_1
    const/16 p2, 0x280

    if-le p1, p2, :cond_2

    const/4 p1, 0x2

    .line 18508
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_2
    const/4 p1, 0x1

    .line 18510
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    :goto_0
    return-void
.end method

.method private updateContainerFlags(Z)V
    .locals 2

    .line 11218
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_2

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_2

    const/16 v1, 0x700

    if-nez p1, :cond_1

    const/16 v1, 0x704

    .line 11222
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getPaddingLeft()I

    move-result p1

    if-gtz p1, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getPaddingRight()I

    move-result p1

    if-lez p1, :cond_1

    :cond_0
    const/16 v1, 0x1706

    .line 11226
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1, v1}, Landroid/widget/FrameLayout;->setSystemUiVisibility(I)V

    :cond_2
    return-void
.end method

.method private updateForwardCloudItem(Lorg/telegram/messenger/MessageObject;)V
    .locals 3

    .line 455
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v0, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v0, :cond_0

    if-eqz p1, :cond_0

    sget v0, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    .line 457
    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result p1

    if-nez p1, :cond_0

    .line 459
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_0

    .line 461
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v0, 0x8

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :goto_0
    return-void
.end method

.method private updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V
    .locals 4

    .line 497
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 498
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP_BUSINESS:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 499
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_VIBER:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    if-eqz p1, :cond_4

    .line 500
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz p1, :cond_4

    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->FORWARD_MESSENGERS:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 501
    invoke-static {}, Lcom/iMe/fork/enums/ExternalApp;->getMessengersForForward()[Lcom/iMe/fork/enums/ExternalApp;

    move-result-object p1

    array-length v0, p1

    const/4 v1, 0x0

    :goto_0
    if-ge v1, v0, :cond_4

    aget-object v2, p1, v1

    .line 502
    invoke-virtual {v2}, Lcom/iMe/fork/enums/ExternalApp;->isInstalled()Z

    move-result v3

    if-nez v3, :cond_0

    goto :goto_1

    .line 505
    :cond_0
    sget-object v3, Lcom/iMe/fork/enums/ExternalApp;->WHATSAPP:Lcom/iMe/fork/enums/ExternalApp;

    if-ne v2, v3, :cond_1

    .line 506
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP:I

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_1

    .line 507
    :cond_1
    sget-object v3, Lcom/iMe/fork/enums/ExternalApp;->WHATSAPP_BUSINESS:Lcom/iMe/fork/enums/ExternalApp;

    if-ne v2, v3, :cond_2

    .line 508
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP_BUSINESS:I

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_1

    .line 509
    :cond_2
    sget-object v3, Lcom/iMe/fork/enums/ExternalApp;->VIBER:Lcom/iMe/fork/enums/ExternalApp;

    if-ne v2, v3, :cond_3

    .line 510
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_VIBER:I

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :cond_3
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_4
    return-void
.end method

.method private updateMinMax(F)V
    .locals 4

    .line 15900
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_1

    .line 15901
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 15902
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v1, v2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/view/View;->getMeasuredHeight()I

    move-result v0

    int-to-float v0, v0

    div-float/2addr v2, v0

    invoke-static {v1, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float/2addr p1, v0

    .line 15904
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v0

    .line 15905
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageHeight()F

    move-result v1

    .line 15906
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2

    .line 15907
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v0, v3

    .line 15908
    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v1, v2

    :cond_2
    mul-float/2addr v0, p1

    .line 15910
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v0, v2

    float-to-int v0, v0

    div-int/lit8 v0, v0, 0x2

    mul-float/2addr v1, p1

    .line 15911
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    float-to-int v1, v1

    div-int/lit8 v1, v1, 0x2

    const/4 v2, 0x0

    if-lez v0, :cond_3

    neg-int v3, v0

    int-to-float v3, v3

    .line 15914
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    int-to-float v0, v0

    .line 15915
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    goto :goto_1

    .line 15917
    :cond_3
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    :goto_1
    if-lez v1, :cond_4

    neg-int v0, v1

    int-to-float v0, v0

    .line 15920
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    int-to-float v0, v1

    .line 15921
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    goto :goto_2

    .line 15923
    :cond_4
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    .line 15925
    :goto_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_6

    const v1, 0x3f8ccccd    # 1.1f

    cmpg-float p1, p1, v1

    if-gtz p1, :cond_5

    const/4 p1, 0x1

    goto :goto_3

    :cond_5
    const/4 p1, 0x0

    .line 15926
    :goto_3
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updateZoom(Z)V

    :cond_6
    return-void
.end method

.method private updatePhotoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V
    .locals 7

    .line 466
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->PHOTO_COPY:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 467
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v2, Lcom/iMe/common/IdFabric$Menu;->PHOTO_TEXT:I

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 468
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->PHOTO_OBJECTS:I

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 469
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v4, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    invoke-virtual {v0, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 470
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v0, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v0, :cond_6

    if-eqz p1, :cond_6

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isPhoto()Z

    move-result v0

    if-nez v0, :cond_0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->checkIsPhotoDocument()Z

    move-result v0

    if-eqz v0, :cond_6

    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v0, :cond_6

    .line 471
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v5

    invoke-virtual {v0, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v0

    if-nez v0, :cond_2

    iget-object v0, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v0, :cond_1

    iget-boolean v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-eqz v0, :cond_1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    goto :goto_1

    :cond_2
    :goto_0
    const/4 v0, 0x1

    :goto_1
    if-nez v0, :cond_3

    .line 472
    sget-object v0, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v5, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->COPY_IMAGE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {v0, v5}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_3

    .line 473
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 475
    :cond_3
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isPhoto()Z

    move-result p1

    if-eqz p1, :cond_6

    .line 476
    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->PHOTO_TEXT:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 477
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 479
    :cond_4
    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->PHOTO_INFO:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_5

    .line 480
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 482
    :cond_5
    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->TRANSLATE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_6

    .line 483
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :cond_6
    return-void
.end method

.method private updatePlayerState(ZI)V
    .locals 21

    move-object/from16 v1, p0

    move/from16 v2, p2

    .line 8708
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return-void

    .line 8711
    :cond_1
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v3, 0x1

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_2

    if-nez p1, :cond_2

    .line 8712
    invoke-direct {v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 8714
    :cond_2
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const-wide/16 v4, 0x3e8

    const/4 v6, 0x0

    const/4 v7, 0x3

    const/4 v8, 0x0

    const/4 v9, 0x0

    if-eqz v0, :cond_b

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_b

    if-ne v2, v7, :cond_b

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v10

    const-wide/16 v12, 0x2710

    cmp-long v0, v10, v12

    if-ltz v0, :cond_b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    if-nez v0, :cond_b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-nez v0, :cond_b

    .line 8715
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/high16 v10, -0x40800000    # -1.0f

    if-eqz v0, :cond_a

    .line 8716
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v11

    div-long/2addr v11, v4

    .line 8717
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    goto :goto_0

    :cond_3
    move-object v0, v6

    .line 8718
    :goto_0
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v13

    if-nez v13, :cond_a

    const-wide/16 v13, 0x258

    cmp-long v13, v11, v13

    const v14, 0x3f7fbe77    # 0.999f

    if-ltz v13, :cond_5

    .line 8720
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v11, v11, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v11, v11, v8

    if-gez v11, :cond_4

    .line 8721
    sget-object v11, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v12, "media_saved_pos"

    invoke-virtual {v11, v12, v9}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v11

    .line 8722
    invoke-interface {v11, v0, v10}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v11

    cmpl-float v12, v11, v8

    if-lez v12, :cond_4

    cmpg-float v12, v11, v14

    if-gez v12, :cond_4

    .line 8724
    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v11, v12, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8725
    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v12, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8728
    :cond_4
    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    goto :goto_3

    :cond_5
    const-wide/16 v15, 0xa

    cmp-long v11, v11, v15

    if-ltz v11, :cond_a

    .line 8731
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v11}, Landroidx/collection/SimpleArrayMap;->size()I

    move-result v11

    sub-int/2addr v11, v3

    move-object v12, v6

    :goto_1
    if-ltz v11, :cond_8

    .line 8732
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v13, v11}, Landroidx/collection/SimpleArrayMap;->valueAt(I)Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    .line 8733
    iget-wide v4, v13, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->timestamp:J

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v17

    const-wide/16 v19, 0x1388

    sub-long v17, v17, v19

    cmp-long v4, v4, v17

    if-gez v4, :cond_6

    .line 8734
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v4, v11}, Landroidx/collection/SimpleArrayMap;->removeAt(I)Ljava/lang/Object;

    goto :goto_2

    :cond_6
    if-nez v12, :cond_7

    .line 8735
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v4, v11}, Landroidx/collection/SimpleArrayMap;->keyAt(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-virtual {v4, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_7

    move-object v12, v13

    :cond_7
    :goto_2
    add-int/lit8 v11, v11, -0x1

    const-wide/16 v4, 0x3e8

    goto :goto_1

    .line 8739
    :cond_8
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v5, v4, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v5, v5, v8

    if-gez v5, :cond_9

    if-eqz v12, :cond_9

    .line 8740
    iget v5, v12, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->position:F

    cmpl-float v11, v5, v8

    if-lez v11, :cond_9

    cmpg-float v11, v5, v14

    if-gez v11, :cond_9

    .line 8742
    iput v5, v4, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8743
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v4, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8746
    :cond_9
    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 8751
    :cond_a
    :goto_3
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_b

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpl-float v4, v0, v8

    if-ltz v4, :cond_b

    .line 8752
    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8753
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v10, v0, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8756
    :cond_b
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    const/4 v4, 0x2

    if-eqz v0, :cond_10

    if-ne v2, v4, :cond_c

    .line 8757
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    if-eqz v0, :cond_c

    if-eqz p1, :cond_10

    .line 8759
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    goto :goto_7

    .line 8762
    :cond_c
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    cmpl-float v0, v0, v8

    if-nez v0, :cond_e

    if-ne v2, v4, :cond_d

    goto :goto_4

    :cond_d
    move v0, v9

    goto :goto_5

    :cond_e
    :goto_4
    move v0, v3

    :goto_5
    if-eqz v0, :cond_f

    .line 8764
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_6

    .line 8766
    :cond_f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    .line 8768
    :goto_6
    invoke-direct {v1, v0, v3}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgress(ZZ)V

    .line 8771
    :cond_10
    :goto_7
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v5, 0x4

    if-eqz v0, :cond_12

    if-eqz p1, :cond_11

    if-eq v2, v5, :cond_11

    if-eq v2, v3, :cond_11

    move v10, v3

    goto :goto_8

    :cond_11
    move v10, v9

    .line 8772
    :goto_8
    invoke-virtual {v0, v10}, Landroid/widget/FrameLayout;->setKeepScreenOn(Z)V

    :cond_12
    const/16 v0, 0x80

    if-eqz p1, :cond_13

    if-eq v2, v5, :cond_13

    if-eq v2, v3, :cond_13

    .line 8776
    :try_start_0
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v10}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    invoke-virtual {v10, v0}, Landroid/view/Window;->addFlags(I)V

    .line 8777
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_9

    :catch_0
    move-exception v0

    .line 8779
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    goto :goto_9

    .line 8783
    :cond_13
    :try_start_1
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v10}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    invoke-virtual {v10, v0}, Landroid/view/Window;->clearFlags(I)V

    .line 8784
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_9

    :catch_1
    move-exception v0

    .line 8786
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_9
    if-eq v2, v7, :cond_14

    if-ne v2, v3, :cond_16

    .line 8790
    :cond_14
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_15

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_15

    .line 8791
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentUri()Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->open(Landroid/net/Uri;)V

    .line 8793
    :cond_15
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    cmpl-float v10, v0, v8

    if-eqz v10, :cond_16

    .line 8794
    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8795
    iput v8, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 8796
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_16

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v10

    invoke-virtual {v0, v10}, Lorg/telegram/messenger/FileLoader;->isLoadingVideoAny(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v0

    if-nez v0, :cond_16

    .line 8797
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    :cond_16
    const/high16 v0, 0x3f800000    # 1.0f

    if-ne v2, v7, :cond_19

    .line 8802
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v4, :cond_17

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-eqz v4, :cond_17

    .line 8803
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4, v9}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 8805
    :cond_17
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->isEnabled()Z

    move-result v4

    if-nez v4, :cond_18

    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-nez v4, :cond_18

    .line 8806
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    .line 8807
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v3}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 8808
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4, v0}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    const-wide/16 v10, 0xaf

    invoke-virtual {v4, v10, v11}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4, v6}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 8810
    :cond_18
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    .line 8811
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_1b

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_1b

    .line 8812
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 8813
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v4, v4, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v6}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v6

    invoke-virtual {v4, v6, v3, v9}, Lorg/telegram/messenger/FileLoader;->removeLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;ZZ)V

    goto :goto_a

    :cond_19
    if-ne v2, v4, :cond_1b

    if-eqz p1, :cond_1b

    .line 8816
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_1b

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_1b

    .line 8817
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    if-eqz v4, :cond_1a

    .line 8818
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-interface {v4}, Ljava/lang/Runnable;->run()V

    goto :goto_a

    .line 8820
    :cond_1a
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    const-wide/16 v10, 0x3e8

    invoke-static {v4, v10, v11}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    .line 8824
    :cond_1b
    :goto_a
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v4, :cond_1c

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v4

    if-eqz v4, :cond_22

    goto :goto_b

    :cond_1c
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v4

    if-eqz v4, :cond_22

    :goto_b
    if-eq v2, v5, :cond_22

    .line 8825
    iget-boolean v2, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v2, :cond_2d

    .line 8826
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 8827
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v9

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_1d

    const/4 v5, -0x1

    :cond_1d
    invoke-virtual {v2, v5, v9, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 8828
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v9

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v4, :cond_20

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isAccessibilityEnabled()Z

    move-result v4

    if-eqz v4, :cond_1e

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz v4, :cond_20

    :cond_1e
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    if-eqz v4, :cond_1f

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz v4, :cond_21

    :cond_1f
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez v4, :cond_20

    goto :goto_c

    :cond_20
    move v8, v0

    :cond_21
    :goto_c
    invoke-virtual {v2, v3, v8, v9}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    .line 8829
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    .line 8830
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto/16 :goto_13

    .line 8832
    :cond_22
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v4, :cond_23

    if-ne v2, v5, :cond_2d

    .line 8833
    :cond_23
    iget v4, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v4, v7, :cond_26

    .line 8834
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v9

    if-ne v2, v5, :cond_24

    move v6, v3

    goto :goto_d

    :cond_24
    move v6, v9

    :goto_d
    invoke-virtual {v4, v3, v0, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    .line 8835
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v0, v9

    aget-object v0, v0, v9

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$22500(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)[F

    move-result-object v0

    aget v0, v0, v3

    cmpl-float v0, v0, v8

    if-lez v0, :cond_25

    move v0, v3

    goto :goto_e

    :cond_25
    move v0, v9

    :goto_e
    invoke-virtual {v4, v7, v9, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 8837
    :cond_26
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 8838
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    if-ne v2, v5, :cond_2d

    .line 8840
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2a

    .line 8841
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->isDragging()Z

    move-result v0

    if-nez v0, :cond_2c

    .line 8842
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 8843
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_28

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_27

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_28

    .line 8844
    :cond_27
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_f

    .line 8846
    :cond_28
    invoke-direct {v1, v8}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8848
    :goto_f
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 8849
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 8850
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v3, :cond_29

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_29

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-gtz v0, :cond_29

    .line 8851
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    goto :goto_10

    .line 8853
    :cond_29
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    .line 8855
    :goto_10
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_12

    .line 8858
    :cond_2a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8859
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 8860
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_2b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_2b

    .line 8861
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_11

    .line 8863
    :cond_2b
    invoke-direct {v1, v8}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8865
    :goto_11
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 8866
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    .line 8867
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez v0, :cond_2c

    .line 8868
    invoke-direct {v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 8871
    :cond_2c
    :goto_12
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->onVideoCompleted()V

    .line 8874
    :cond_2d
    :goto_13
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->updatePlayButton()V

    .line 8875
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v3

    invoke-virtual {v0, v2, v3, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->updateTimestamps(Lorg/telegram/messenger/MessageObject;J)V

    .line 8876
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method private updateResetButtonVisibility(Z)V
    .locals 3

    .line 10082
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->isClickable()Z

    move-result v0

    if-eq v0, p1, :cond_1

    .line 10084
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0, p1}, Landroid/widget/TextView;->setClickable(Z)V

    .line 10085
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 10086
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->clearAnimation()V

    .line 10087
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_0

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_0
    const/4 v1, 0x0

    .line 10088
    :goto_0
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    .line 10089
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const-wide/16 v1, 0x96

    .line 10090
    invoke-virtual {v0, v1, v2}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda81;

    invoke-direct {v1, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda81;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    .line 10091
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    :cond_1
    return-void
.end method

.method private updateSelectedCount()V
    .locals 2

    .line 11719
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v0, :cond_0

    return-void

    .line 11722
    :cond_0
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v0

    .line 11723
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$CounterView;->setCount(I)V

    if-nez v0, :cond_1

    const/4 v0, 0x0

    const/4 v1, 0x1

    .line 11725
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    :cond_1
    return-void
.end method

.method private updateVideoInfo()V
    .locals 10

    .line 18087
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-nez v0, :cond_0

    return-void

    .line 18090
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-nez v0, :cond_1

    .line 18091
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    return-void

    .line 18094
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    const/4 v2, 0x0

    const/4 v3, 0x1

    if-eqz v1, :cond_2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-le v1, v3, :cond_2

    move v1, v3

    goto :goto_0

    :cond_2
    move v1, v2

    :goto_0
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    invoke-static {v5, v6}, Ljava/lang/Math;->min(II)I

    move-result v5

    invoke-virtual {v0, v1, v4, v5}, Lorg/telegram/ui/Components/VideoCompressButton;->setState(ZZI)V

    .line 18095
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    invoke-virtual {v0}, Landroid/widget/LinearLayout;->requestLayout()V

    .line 18097
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v1

    sub-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    float-to-double v0, v0

    invoke-static {v0, v1}, Ljava/lang/Math;->ceil(D)D

    move-result-wide v0

    double-to-long v0, v0

    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    .line 18098
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    .line 18099
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    .line 18101
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    const/16 v1, 0x10e

    const/16 v4, 0x5a

    if-eq v0, v4, :cond_4

    if-ne v0, v1, :cond_3

    goto :goto_1

    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    goto :goto_2

    :cond_4
    :goto_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    .line 18102
    :goto_2
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    if-eq v5, v4, :cond_6

    if-ne v5, v1, :cond_5

    goto :goto_3

    :cond_5
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    goto :goto_4

    :cond_6
    :goto_3
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 18104
    :goto_4
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->needEncoding()Z

    move-result v4

    .line 18105
    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v5, :cond_a

    .line 18107
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v3, :cond_9

    .line 18108
    iget-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    const-wide/16 v6, 0x7d0

    cmp-long v6, v4, v6

    if-gtz v6, :cond_7

    const v4, 0x27ac40

    goto :goto_5

    :cond_7
    const-wide/16 v6, 0x1388

    cmp-long v4, v4, v6

    if-gtz v4, :cond_8

    const v4, 0x2191c0

    goto :goto_5

    :cond_8
    const v4, 0x17cdc0

    goto :goto_5

    :cond_9
    const v4, 0xe1000

    .line 18118
    :goto_5
    div-int/lit8 v4, v4, 0x8

    int-to-float v4, v4

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float v5, v5

    const/high16 v6, 0x447a0000    # 1000.0f

    div-float/2addr v5, v6

    mul-float/2addr v4, v5

    float-to-long v4, v4

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    const-wide/32 v6, 0x8000

    .line 18119
    div-long v6, v4, v6

    const-wide/16 v8, 0x10

    mul-long/2addr v6, v8

    add-long/2addr v4, v6

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    goto :goto_7

    .line 18121
    :cond_a
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v5, v3, :cond_b

    move v5, v3

    goto :goto_6

    :cond_b
    move v5, v2

    :goto_6
    invoke-direct {p0, v4, v5}, Lorg/telegram/ui/PhotoViewer;->calculateEstimatedVideoSize(ZZ)V

    .line 18124
    :goto_7
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/4 v5, 0x0

    cmpl-float v5, v4, v5

    const-wide/16 v6, -0x1

    const-wide/16 v8, 0x3e8

    if-nez v5, :cond_c

    .line 18125
    iput-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    goto :goto_8

    .line 18127
    :cond_c
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v4, v5

    float-to-long v4, v4

    mul-long/2addr v4, v8

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    .line 18129
    :goto_8
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    const/high16 v5, 0x3f800000    # 1.0f

    cmpl-float v5, v4, v5

    if-nez v5, :cond_d

    .line 18130
    iput-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    goto :goto_9

    .line 18132
    :cond_d
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v4, v5

    float-to-long v4, v4

    mul-long/2addr v4, v8

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    :goto_9
    const/4 v4, 0x2

    new-array v5, v4, [Ljava/lang/Object;

    .line 18135
    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    aput-object v0, v5, v2

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    aput-object v0, v5, v3

    const-string v0, "%dx%d"

    invoke-static {v0, v5}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    new-array v1, v4, [Ljava/lang/Object;

    .line 18136
    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    div-long/2addr v5, v8

    long-to-int v5, v5

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->formatShortDuration(I)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v1, v2

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    invoke-static {v5, v6}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v1, v3

    const-string v5, "%s, ~%s"

    invoke-static {v5, v1}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    new-array v4, v4, [Ljava/lang/Object;

    aput-object v0, v4, v2

    aput-object v1, v4, v3

    const-string v0, "%s, %s"

    .line 18137
    invoke-static {v0, v4}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    .line 18138
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->beginDelayedTransition()V

    .line 18139
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-nez v0, :cond_f

    .line 18140
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v1, :cond_e

    sget v1, Lorg/telegram/messenger/R$string;->SoundMuted:I

    const-string v2, "SoundMuted"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_a

    :cond_e
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    :goto_a
    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    :cond_f
    return-void
.end method

.method private updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V
    .locals 4

    .line 490
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_DELETE_FROM_CACHE:I

    sget-object v2, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v3, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->CLEAR_CACHE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    .line 492
    invoke-interface {v2, v3}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_1

    if-eqz p1, :cond_1

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_1

    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v2, :cond_1

    iget-boolean v2, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    if-nez v2, :cond_0

    iget-boolean p1, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    if-eqz p1, :cond_1

    :cond_0
    const/4 p1, 0x1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    .line 490
    :goto_0
    invoke-virtual {v0, v1, p1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubItemVisible(IZ)V

    return-void
.end method

.method private updateVideoPlayerTime()V
    .locals 13

    .line 8504
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    const/4 v1, 0x0

    invoke-static {v0, v1}, Ljava/util/Arrays;->fill([II)V

    .line 8505
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    invoke-static {v0, v1}, Ljava/util/Arrays;->fill([II)V

    .line 8506
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-wide/16 v2, 0x3e8

    const-wide/16 v4, 0x0

    const-wide/16 v6, 0x3c

    const/4 v8, 0x1

    if-eqz v0, :cond_2

    .line 8507
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v9

    invoke-static {v4, v5, v9, v10}, Ljava/lang/Math;->max(JJ)J

    move-result-wide v9

    .line 8508
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_0

    move-wide v9, v4

    .line 8511
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v11

    invoke-static {v4, v5, v11, v12}, Ljava/lang/Math;->max(JJ)J

    move-result-wide v4

    .line 8512
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_1

    long-to-float v0, v4

    .line 8513
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v4

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v5

    sub-float/2addr v4, v5

    mul-float/2addr v0, v4

    float-to-long v4, v0

    long-to-float v0, v9

    .line 8514
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v9

    long-to-float v10, v4

    mul-float/2addr v9, v10

    sub-float/2addr v0, v9

    float-to-long v9, v0

    cmp-long v0, v9, v4

    if-lez v0, :cond_1

    move-wide v9, v4

    .line 8519
    :cond_1
    div-long/2addr v9, v2

    .line 8520
    div-long/2addr v4, v2

    .line 8521
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    div-long v2, v9, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8522
    rem-long/2addr v9, v6

    long-to-int v2, v9

    aput v2, v0, v8

    .line 8523
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    div-long v2, v4, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8524
    rem-long/2addr v4, v6

    long-to-int v2, v4

    aput v2, v0, v8

    goto :goto_1

    .line 8525
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_5

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_5

    .line 8526
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getCurrentPosition()I

    move-result v0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    int-to-long v9, v0

    .line 8527
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    if-eqz v0, :cond_3

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_3

    goto :goto_0

    :cond_3
    move-wide v4, v9

    .line 8530
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    int-to-long v9, v0

    .line 8531
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_4

    long-to-float v0, v9

    .line 8532
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v9

    iget-object v10, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v10

    sub-float/2addr v9, v10

    mul-float/2addr v0, v9

    float-to-long v9, v0

    long-to-float v0, v4

    .line 8533
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v4

    long-to-float v5, v9

    mul-float/2addr v4, v5

    sub-float/2addr v0, v4

    float-to-long v4, v0

    cmp-long v0, v4, v9

    if-lez v0, :cond_4

    move-wide v4, v9

    .line 8538
    :cond_4
    div-long/2addr v4, v2

    .line 8539
    div-long/2addr v9, v2

    .line 8540
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    div-long v2, v4, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8541
    rem-long/2addr v4, v6

    long-to-int v2, v4

    aput v2, v0, v8

    .line 8542
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    div-long v2, v9, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8543
    rem-long/2addr v9, v6

    long-to-int v2, v9

    aput v2, v0, v8

    .line 8546
    :cond_5
    :goto_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    aget v2, v0, v1

    const/16 v3, 0x3c

    if-lt v2, v3, :cond_6

    .line 8547
    aget v2, v0, v1

    div-int/2addr v2, v3

    aget v4, v0, v1

    rem-int/2addr v4, v3

    aget v0, v0, v8

    invoke-direct {p0, v2, v4, v0}, Lorg/telegram/ui/PhotoViewer;->format(III)Ljava/lang/String;

    move-result-object v0

    goto :goto_2

    .line 8549
    :cond_6
    aget v2, v0, v1

    aget v0, v0, v8

    invoke-direct {p0, v2, v0}, Lorg/telegram/ui/PhotoViewer;->format(II)Ljava/lang/String;

    move-result-object v0

    .line 8551
    :goto_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    aget v4, v2, v1

    if-lt v4, v3, :cond_7

    .line 8552
    aget v4, v2, v1

    div-int/2addr v4, v3

    aget v1, v2, v1

    rem-int/2addr v1, v3

    aget v2, v2, v8

    invoke-direct {p0, v4, v1, v2}, Lorg/telegram/ui/PhotoViewer;->format(III)Ljava/lang/String;

    move-result-object v1

    goto :goto_3

    .line 8554
    :cond_7
    aget v1, v2, v1

    aget v2, v2, v8

    invoke-direct {p0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->format(II)Ljava/lang/String;

    move-result-object v1

    .line 8557
    :goto_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v0, " / "

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v2, v0}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setText(Ljava/lang/CharSequence;)Z

    .line 8558
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->lastControlFrameDuration:Ljava/lang/String;

    invoke-static {v0, v1}, Ljava/util/Objects;->equals(Ljava/lang/Object;Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_8

    .line 8559
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->lastControlFrameDuration:Ljava/lang/String;

    .line 8560
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->requestLayout()V

    :cond_8
    return-void
.end method

.method private updateVideoSeekPreviewPosition()V
    .locals 5

    .line 8123
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->getThumbX()I

    move-result v0

    const/4 v1, 0x2

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    add-int/2addr v0, v2

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    div-int/2addr v2, v1

    sub-int/2addr v0, v2

    const/16 v2, 0xa

    .line 8124
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    .line 8125
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    sub-int/2addr v4, v2

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    div-int/2addr v2, v1

    sub-int/2addr v4, v2

    if-ge v0, v3, :cond_0

    move v0, v3

    goto :goto_0

    :cond_0
    if-lt v0, v4, :cond_1

    move v0, v4

    .line 8131
    :cond_1
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    int-to-float v0, v0

    invoke-virtual {v1, v0}, Landroid/view/View;->setTranslationX(F)V

    return-void
.end method

.method private updateWidthHeightBitrateForCompression()V
    .locals 6

    .line 18263
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-gtz v0, :cond_0

    return-void

    .line 18266
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v2, 0x1

    if-lt v0, v1, :cond_1

    .line 18267
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v0, v2

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 18270
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_2

    .line 18271
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v0, v0

    const/high16 v1, 0x44480000    # 800.0f

    div-float v0, v1, v0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v3, v3

    div-float/2addr v1, v3

    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 18272
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v1, v1

    mul-float/2addr v1, v0

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    mul-int/lit8 v1, v1, 0x2

    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 18273
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v1, v1

    mul-float/2addr v1, v0

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v0

    mul-int/lit8 v0, v0, 0x2

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    goto :goto_0

    .line 18275
    :cond_2
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;

    move-result-object v0

    .line 18276
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 18277
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    .line 18280
    :goto_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    if-eqz v0, :cond_5

    .line 18282
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_3

    const v0, 0x17cdc0

    .line 18283
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 18284
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    goto :goto_1

    .line 18285
    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    const/4 v2, 0x0

    if-ne v0, v1, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v0, v1, :cond_4

    .line 18286
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 18287
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    invoke-static {v0, v1, v3, v2}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    move-result v0

    goto :goto_1

    .line 18289
    :cond_4
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    invoke-static {v0, v1, v3, v4, v5}, Lorg/telegram/messenger/MediaController;->makeVideoBitrate(IIIII)I

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 18290
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    invoke-static {v0, v1, v3, v2}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    move-result v0

    .line 18292
    :goto_1
    div-int/lit8 v0, v0, 0x8

    int-to-float v0, v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    const/high16 v1, 0x447a0000    # 1000.0f

    div-float/2addr v0, v1

    float-to-long v0, v0

    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    :cond_5
    return-void
.end method

.method private useFullWidthSendButton()Z
    .locals 2

    .line 1399
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v0, :cond_0

    iget-boolean v1, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->self:Z

    if-eqz v1, :cond_0

    iget-boolean v0, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-nez v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method


# virtual methods
.method public addPhoto(Lorg/telegram/messenger/MessageObject;I)V
    .locals 2

    .line 1335
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-eq p2, v0, :cond_0

    return-void

    .line 1339
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v0, 0x0

    aget-object p2, p2, v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    invoke-virtual {p2, v1}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result p2

    if-gez p2, :cond_2

    .line 1340
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz p2, :cond_1

    .line 1341
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 1343
    :cond_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2, v0, p1}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 1345
    :goto_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object p2, p2, v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    invoke-virtual {p2, v1, p1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 1347
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2}, Ljava/util/ArrayList;->size()I

    move-result p2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    if-ne p2, v1, :cond_3

    const/4 p2, 0x1

    goto :goto_1

    :cond_3
    move p2, v0

    :goto_1
    aput-boolean p2, p1, v0

    .line 1348
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    return-void
.end method

.method public canDoubleTap(Landroid/view/MotionEvent;)Z
    .locals 7

    .line 17572
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    const/4 v1, 0x1

    if-eqz v0, :cond_3

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    const/4 v2, 0x0

    aget-boolean v3, v0, v2

    if-nez v3, :cond_3

    aget-boolean v0, v0, v1

    if-nez v0, :cond_3

    .line 17573
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    const/16 v3, 0x87

    .line 17574
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    div-int/lit8 v4, v4, 0x8

    invoke-static {v3, v4}, Ljava/lang/Math;->min(II)I

    move-result v3

    int-to-float v4, v3

    cmpg-float v4, v0, v4

    if-ltz v4, :cond_0

    .line 17575
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    sub-int/2addr v4, v3

    int-to-float v3, v4

    cmpl-float v0, v0, v3

    if-lez v0, :cond_3

    .line 17576
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_2

    :cond_1
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->lastPhotoSetTime:J

    sub-long/2addr v3, v5

    const-wide/16 v5, 0x1f4

    cmp-long v0, v3, v5

    if-ltz v0, :cond_2

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z

    move-result p1

    if-eqz p1, :cond_2

    goto :goto_0

    :cond_2
    move v1, v2

    :cond_3
    :goto_0
    return v1
.end method

.method public checkCurrentImageVisibility()V
    .locals 6

    .line 14377
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    const/4 v1, 0x1

    if-eqz v0, :cond_0

    .line 14378
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 14380
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v2, 0x0

    if-nez v0, :cond_1

    const/4 v0, 0x0

    goto :goto_0

    :cond_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v4}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v4

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v3, v4, v5, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v0

    :goto_0
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v0, :cond_2

    .line 14382
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    :cond_2
    return-void
.end method

.method public checkFullscreenButton()V
    .locals 13

    .line 9250
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v1, 0x3

    const/4 v2, 0x4

    const/4 v3, 0x0

    if-eqz v0, :cond_1

    :goto_0
    if-ge v3, v1, :cond_0

    .line 9252
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v3

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    :cond_0
    return-void

    :cond_1
    move v0, v3

    :goto_1
    if-ge v0, v1, :cond_16

    .line 9257
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v5, 0x2

    const/4 v6, 0x1

    if-ne v0, v6, :cond_2

    add-int/lit8 v4, v4, 0x1

    goto :goto_2

    :cond_2
    if-ne v0, v5, :cond_3

    add-int/lit8 v4, v4, -0x1

    :cond_3
    :goto_2
    if-ltz v4, :cond_15

    .line 9263
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->size()I

    move-result v7

    if-lt v4, v7, :cond_4

    goto/16 :goto_b

    .line 9267
    :cond_4
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/MessageObject;

    .line 9268
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v7

    if-nez v7, :cond_5

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isYouTubeVideo()Z

    move-result v7

    if-nez v7, :cond_5

    .line 9269
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_c

    .line 9272
    :cond_5
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isYouTubeVideo()Z

    move-result v7

    if-eqz v7, :cond_6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v7, :cond_6

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v8

    if-ne v7, v8, :cond_6

    move v7, v6

    goto :goto_3

    :cond_6
    move v7, v3

    :goto_3
    if-eqz v7, :cond_7

    .line 9273
    iget-object v8, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget v8, v8, Lorg/telegram/tgnet/TLRPC$WebPage;->embed_width:I

    goto :goto_4

    :cond_7
    if-nez v0, :cond_8

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v8, :cond_8

    invoke-virtual {v8}, Landroid/view/TextureView;->getMeasuredWidth()I

    move-result v8

    goto :goto_4

    :cond_8
    move v8, v3

    :goto_4
    if-eqz v7, :cond_9

    .line 9274
    iget-object v7, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget v7, v7, Lorg/telegram/tgnet/TLRPC$WebPage;->embed_height:I

    goto :goto_5

    :cond_9
    if-nez v0, :cond_a

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v7, :cond_a

    invoke-virtual {v7}, Landroid/view/TextureView;->getMeasuredHeight()I

    move-result v7

    goto :goto_5

    :cond_a
    move v7, v3

    .line 9275
    :goto_5
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    if-eqz v4, :cond_c

    .line 9277
    iget-object v9, v4, Lorg/telegram/tgnet/TLRPC$Document;->attributes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    move v10, v3

    :goto_6
    if-ge v10, v9, :cond_c

    .line 9278
    iget-object v11, v4, Lorg/telegram/tgnet/TLRPC$Document;->attributes:Ljava/util/ArrayList;

    invoke-virtual {v11, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;

    .line 9279
    instance-of v12, v11, Lorg/telegram/tgnet/TLRPC$TL_documentAttributeVideo;

    if-eqz v12, :cond_b

    .line 9280
    iget v8, v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;->w:I

    .line 9281
    iget v7, v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;->h:I

    goto :goto_7

    :cond_b
    add-int/lit8 v10, v10, 0x1

    goto :goto_6

    .line 9286
    :cond_c
    :goto_7
    sget-object v4, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v9, v4, Landroid/graphics/Point;->y:I

    iget v4, v4, Landroid/graphics/Point;->x:I

    const/16 v10, 0x30

    if-le v9, v4, :cond_f

    if-le v8, v7, :cond_f

    .line 9287
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4}, Landroid/widget/ImageView;->getVisibility()I

    move-result v4

    if-eqz v4, :cond_d

    .line 9288
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 9290
    :cond_d
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v4, :cond_e

    .line 9291
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    const/high16 v9, 0x3f800000    # 1.0f

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setAlpha(F)V

    :cond_e
    int-to-float v4, v8

    .line 9293
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v8

    int-to-float v8, v8

    div-float/2addr v4, v8

    int-to-float v7, v7

    div-float/2addr v7, v4

    float-to-int v4, v7

    .line 9295
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v7, v7, v0

    invoke-virtual {v7}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v7

    check-cast v7, Landroid/widget/FrameLayout$LayoutParams;

    .line 9296
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v8

    add-int/2addr v8, v4

    div-int/2addr v8, v5

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    sub-int/2addr v8, v4

    iput v8, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    goto :goto_8

    .line 9298
    :cond_f
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4}, Landroid/widget/ImageView;->getVisibility()I

    move-result v4

    if-eq v4, v2, :cond_10

    .line 9299
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 9304
    :cond_10
    :goto_8
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v4, :cond_11

    .line 9305
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v7, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v7, v4

    iget v8, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v7, v8

    add-float/2addr v4, v7

    goto :goto_9

    .line 9307
    :cond_11
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    :goto_9
    const/4 v7, 0x0

    if-ne v0, v6, :cond_12

    goto :goto_a

    :cond_12
    if-ne v0, v5, :cond_13

    .line 9313
    sget-object v5, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v5, v5, Landroid/graphics/Point;->x:I

    neg-int v5, v5

    const/16 v6, 0xf

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    sub-int/2addr v5, v6

    int-to-float v5, v5

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    sub-float/2addr v4, v6

    add-float v7, v5, v4

    goto :goto_a

    .line 9315
    :cond_13
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v6, v4, v5

    if-gez v6, :cond_14

    sub-float/2addr v4, v5

    move v7, v4

    .line 9317
    :cond_14
    :goto_a
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    sget-object v5, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v5, v5, Landroid/graphics/Point;->x:I

    int-to-float v5, v5

    add-float/2addr v7, v5

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    sub-float/2addr v7, v5

    invoke-virtual {v4, v7}, Landroid/widget/ImageView;->setTranslationX(F)V

    goto :goto_c

    .line 9264
    :cond_15
    :goto_b
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    :goto_c
    add-int/lit8 v0, v0, 0x1

    goto/16 :goto_1

    :cond_16
    return-void
.end method

.method public closePhoto(ZZ)V
    .locals 26

    move-object/from16 v1, p0

    const/4 v2, 0x3

    const/4 v3, 0x1

    const/4 v4, 0x0

    if-nez p2, :cond_2

    .line 15282
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v0, :cond_2

    if-ne v0, v2, :cond_0

    .line 15283
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_0

    .line 15284
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->closePaintMode()V

    return-void

    :cond_0
    if-ne v0, v3, :cond_1

    .line 15288
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    iget v7, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v8, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v10, v1, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v11, v1, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    const/high16 v12, 0x3f800000    # 1.0f

    const/high16 v13, 0x3f800000    # 1.0f

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    const/16 v16, 0x0

    const/16 v17, 0x0

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    move/from16 v18, v0

    invoke-virtual/range {v5 .. v18}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    .line 15290
    :cond_1
    invoke-virtual {v1, v4}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void

    .line 15293
    :cond_2
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 15294
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->callOnClick()Z

    return-void

    .line 15297
    :cond_3
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 15298
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    const/4 v5, 0x0

    .line 15300
    :try_start_0
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    if-eqz v0, :cond_4

    .line 15301
    invoke-virtual {v0}, Landroid/app/Dialog;->dismiss()V

    .line 15302
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 15305
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15307
    :cond_4
    :goto_0
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v0, v6, :cond_5

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_5

    .line 15308
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 15309
    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    .line 15311
    :cond_5
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v7, 0x8

    const/4 v8, 0x2

    if-eqz v0, :cond_a

    if-ne v0, v8, :cond_6

    .line 15313
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoFilterView;->shutdown()V

    .line 15314
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v0, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15315
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    goto :goto_1

    :cond_6
    if-ne v0, v3, :cond_7

    .line 15317
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v7}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 15318
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0, v7}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_1

    :cond_7
    if-ne v0, v2, :cond_8

    .line 15320
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->shutdown()V

    .line 15321
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v9

    invoke-virtual {v0, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15322
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    .line 15323
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 15325
    :cond_8
    :goto_1
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    .line 15326
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 15327
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    if-eqz v0, :cond_a

    .line 15328
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v9, v2, :cond_9

    move v9, v3

    goto :goto_2

    :cond_9
    move v9, v4

    :goto_2
    invoke-virtual {v0, v9}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 15332
    :cond_a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v0, :cond_b

    .line 15333
    invoke-virtual {v0, v4}, Landroid/view/View;->setVisibility(I)V

    .line 15335
    :cond_b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz v0, :cond_c

    .line 15336
    invoke-virtual {v0, v4}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 15339
    :cond_c
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_44

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v0, :cond_d

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_44

    :cond_d
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkAnimation()Z

    move-result v0

    if-nez v0, :cond_44

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v0, :cond_e

    goto/16 :goto_21

    .line 15345
    :cond_e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_f

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    if-eqz v9, :cond_f

    .line 15346
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    invoke-virtual {v0, v9}, Landroid/app/Activity;->setRequestedOrientation(I)V

    .line 15347
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 15348
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    .line 15350
    :cond_f
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_10

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_10

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_10

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v0, v9, :cond_10

    .line 15351
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v9}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 15352
    instance-of v9, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v9, :cond_10

    .line 15353
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v9

    iput-object v9, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 15357
    :cond_10
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/high16 v9, 0x3f800000    # 1.0f

    if-eqz v0, :cond_12

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 15358
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    .line 15359
    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v10

    .line 15360
    invoke-virtual {v0}, Landroid/view/View;->getScaleY()F

    move-result v11

    .line 15361
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    .line 15362
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    .line 15364
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_11

    .line 15365
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v0

    .line 15366
    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v12

    .line 15367
    invoke-virtual {v0}, Landroid/view/View;->getScaleY()F

    move-result v13

    .line 15368
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    .line 15369
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    goto :goto_4

    :cond_11
    move v12, v9

    goto :goto_3

    :cond_12
    move v10, v9

    move v11, v10

    move v12, v11

    :goto_3
    move v13, v12

    .line 15372
    :goto_4
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_13

    .line 15373
    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onReleasePlayerBeforeClose(I)V

    .line 15375
    :cond_13
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v15, v1, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v15}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v15

    iget v7, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v14, v15, v7, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v7

    .line 15376
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v14, 0x0

    if-eqz v0, :cond_18

    if-eqz v7, :cond_18

    .line 15377
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v15

    if-eqz v15, :cond_18

    .line 15379
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_15

    .line 15380
    invoke-virtual {v15}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getAnimatedBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_15

    .line 15382
    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v6, :cond_14

    .line 15383
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v6, v0}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    goto :goto_5

    .line 15386
    :cond_14
    :try_start_1
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    invoke-virtual {v6, v8, v2}, Landroid/view/TextureView;->getBitmap(II)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 15387
    new-instance v6, Landroid/graphics/Canvas;

    invoke-direct {v6, v0}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 15388
    invoke-virtual {v6, v2, v14, v14, v5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 15389
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_5

    :catchall_0
    move-exception v0

    .line 15391
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15396
    :cond_15
    :goto_5
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_17

    .line 15397
    invoke-virtual {v15}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getStartTime()J

    move-result-wide v19

    .line 15398
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v21

    const-wide/16 v23, 0x0

    cmp-long v0, v19, v23

    move v6, v10

    if-lez v0, :cond_16

    goto :goto_6

    :cond_16
    move-wide/from16 v19, v23

    :goto_6
    add-long v9, v21, v19

    .line 15399
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v8

    invoke-virtual {v0, v8, v3}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v0

    xor-int/2addr v0, v3

    invoke-virtual {v15, v9, v10, v0}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->seekTo(JZ)V

    goto :goto_7

    :cond_17
    move v6, v10

    .line 15401
    :goto_7
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 15402
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->startAnimation()V

    goto :goto_8

    :cond_18
    move v6, v10

    .line 15405
    :goto_8
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_19

    .line 15406
    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 15408
    :cond_19
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1a

    .line 15409
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->release()V

    .line 15410
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0, v8}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15411
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    .line 15414
    :cond_1a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1b

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1b

    .line 15415
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 15417
    :cond_1b
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    .line 15418
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->removeObservers()V

    .line 15420
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 15422
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v0, :cond_1c

    .line 15423
    invoke-virtual {v0}, Landroid/view/VelocityTracker;->recycle()V

    .line 15424
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 15427
    :cond_1c
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-eqz v0, :cond_1d

    .line 15428
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 15429
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15430
    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15431
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setScaleX(F)V

    .line 15432
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setScaleY(F)V

    move/from16 v16, v12

    move/from16 v19, v13

    goto/16 :goto_20

    :cond_1d
    const/high16 v2, 0x3f800000    # 1.0f

    if-eqz p1, :cond_3f

    .line 15434
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz v2, :cond_3f

    .line 15435
    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer;->getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;

    move-result-object v2

    move v5, v4

    .line 15437
    :goto_9
    array-length v8, v2

    if-ge v5, v8, :cond_1e

    .line 15438
    aget-object v8, v2, v5

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v8, v9}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 15439
    aget-object v8, v2, v5

    invoke-virtual {v8, v4}, Landroid/view/View;->setVisibility(I)V

    add-int/lit8 v5, v5, 0x1

    goto :goto_9

    :cond_1e
    const/4 v5, 0x3

    .line 15442
    iput v5, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15443
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->invalidate()V

    .line 15445
    new-instance v5, Landroid/animation/AnimatorSet;

    invoke-direct {v5}, Landroid/animation/AnimatorSet;-><init>()V

    .line 15447
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v8}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v8

    if-eqz v7, :cond_20

    .line 15450
    iget-object v9, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getDrawRegion()Landroid/graphics/RectF;

    move-result-object v9

    .line 15451
    invoke-virtual {v9}, Landroid/graphics/RectF;->width()F

    move-result v10

    float-to-int v10, v10

    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15452
    invoke-virtual {v9}, Landroid/graphics/RectF;->height()F

    move-result v10

    float-to-int v10, v10

    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 15453
    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v10

    .line 15454
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimatedOrientation()I

    move-result v0

    if-eqz v0, :cond_1f

    move v10, v0

    :cond_1f
    move v0, v4

    .line 15458
    :goto_a
    array-length v14, v2

    if-ge v0, v14, :cond_22

    .line 15459
    aget-object v14, v2, v0

    iget-object v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v15}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v15

    invoke-virtual {v14, v10, v15}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 15460
    aget-object v14, v2, v0

    iget-object v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-virtual {v14, v15}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_a

    .line 15463
    :cond_20
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v0

    float-to-int v0, v0

    iput v0, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15464
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageHeight()F

    move-result v0

    float-to-int v0, v0

    iput v0, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    move v0, v4

    .line 15465
    :goto_b
    array-length v9, v2

    if-ge v0, v9, :cond_21

    .line 15466
    aget-object v9, v2, v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v10

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v14}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v14

    invoke-virtual {v9, v10, v14}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 15467
    aget-object v9, v2, v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getBitmapSafe()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v10

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_b

    :cond_21
    const/4 v9, 0x0

    .line 15470
    :cond_22
    iget v0, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    const/16 v10, 0x64

    if-gtz v0, :cond_23

    .line 15471
    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15473
    :cond_23
    iget v0, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    if-gtz v0, :cond_24

    .line 15474
    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 15480
    :cond_24
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_26

    .line 15481
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_25

    sget v0, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_c

    :cond_25
    move v0, v4

    :goto_c
    int-to-float v0, v0

    .line 15482
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v10

    int-to-float v10, v10

    const/16 v14, 0x40

    invoke-static {v14}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v14

    int-to-float v14, v14

    sub-float/2addr v10, v14

    sub-float/2addr v10, v0

    .line 15483
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-static {v0, v10}, Ljava/lang/Math;->min(FF)F

    move-result v0

    const/16 v10, 0x10

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    const/4 v14, 0x2

    mul-int/2addr v10, v14

    int-to-float v10, v10

    sub-float/2addr v0, v10

    .line 15484
    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v10, v10

    div-float v10, v0, v10

    .line 15485
    iget v14, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v14, v14

    div-float/2addr v0, v14

    .line 15486
    invoke-static {v10, v0}, Ljava/lang/Math;->max(FF)F

    move-result v0

    goto :goto_e

    .line 15488
    :cond_26
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    int-to-float v0, v0

    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v10, v10

    div-float/2addr v0, v10

    .line 15489
    sget-object v10, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v10, v10, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v14

    if-eqz v14, :cond_27

    sget v14, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_d

    :cond_27
    move v14, v4

    :goto_d
    add-int/2addr v10, v14

    int-to-float v10, v10

    iget v14, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v14, v14

    div-float/2addr v10, v14

    .line 15490
    invoke-static {v0, v10}, Ljava/lang/Math;->min(FF)F

    move-result v0

    .line 15492
    :goto_e
    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v10, v10

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v10, v14

    mul-float/2addr v10, v0

    .line 15493
    iget v15, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v15, v15

    mul-float/2addr v15, v14

    mul-float/2addr v15, v0

    .line 15494
    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v14}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v14

    int-to-float v14, v14

    sub-float/2addr v14, v10

    const/high16 v10, 0x40000000    # 2.0f

    div-float/2addr v14, v10

    .line 15496
    iget v4, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v3, :cond_29

    .line 15497
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v4

    if-eqz v4, :cond_28

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_f

    :cond_28
    const/4 v4, 0x0

    :goto_f
    int-to-float v4, v4

    .line 15498
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v3, v4

    goto :goto_11

    .line 15501
    :cond_29
    sget-object v3, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v3, v3, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v4

    if-eqz v4, :cond_2a

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_10

    :cond_2a
    const/4 v4, 0x0

    :goto_10
    add-int/2addr v3, v4

    int-to-float v3, v3

    :goto_11
    sub-float/2addr v3, v15

    div-float/2addr v3, v10

    const/4 v4, 0x0

    .line 15503
    :goto_12
    array-length v10, v2

    if-ge v4, v10, :cond_2d

    .line 15504
    aget-object v10, v2, v4

    invoke-virtual {v10, v8}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 15505
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->translationX:F

    add-float/2addr v15, v14

    invoke-virtual {v10, v15}, Landroid/view/View;->setTranslationX(F)V

    .line 15506
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v15, v3

    invoke-virtual {v10, v15}, Lorg/telegram/ui/Components/ClippingImageView;->setTranslationY(F)V

    .line 15507
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    invoke-static {v15}, Ljava/lang/Float;->isNaN(F)Z

    move-result v15

    if-eqz v15, :cond_2b

    const/high16 v15, 0x3f800000    # 1.0f

    goto :goto_13

    :cond_2b
    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    :goto_13
    invoke-virtual {v10, v15}, Landroid/view/View;->setScaleX(F)V

    .line 15508
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    invoke-static {v15}, Ljava/lang/Float;->isNaN(F)Z

    move-result v15

    if-eqz v15, :cond_2c

    const/high16 v15, 0x3f800000    # 1.0f

    goto :goto_14

    :cond_2c
    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    :goto_14
    invoke-virtual {v10, v15}, Landroid/view/View;->setScaleY(F)V

    add-int/lit8 v4, v4, 0x1

    goto :goto_12

    :cond_2d
    if-eqz v7, :cond_3b

    .line 15512
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v3, 0x1

    const/4 v4, 0x0

    invoke-virtual {v0, v4, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15513
    iget v0, v9, Landroid/graphics/RectF;->left:F

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getImageX()F

    move-result v3

    sub-float/2addr v0, v3

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    float-to-int v0, v0

    .line 15514
    iget v3, v9, Landroid/graphics/RectF;->top:F

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getImageY()F

    move-result v4

    sub-float/2addr v3, v4

    invoke-static {v3}, Ljava/lang/Math;->abs(F)F

    move-result v3

    float-to-int v3, v3

    .line 15516
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v4, :cond_2e

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->isAspectFit()Z

    move-result v4

    if-eqz v4, :cond_2e

    const/4 v0, 0x0

    :cond_2e
    const/4 v4, 0x2

    new-array v8, v4, [I

    .line 15521
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->parentView:Landroid/view/View;

    invoke-virtual {v4, v8}, Landroid/view/View;->getLocationInWindow([I)V

    const/4 v4, 0x1

    .line 15522
    aget v10, v8, v4

    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v14, 0x15

    if-lt v4, v14, :cond_2f

    const/4 v14, 0x0

    goto :goto_15

    :cond_2f
    sget v14, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :goto_15
    sub-int/2addr v10, v14

    int-to-float v10, v10

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v15, v14

    move/from16 v19, v13

    iget v13, v9, Landroid/graphics/RectF;->top:F

    add-float/2addr v15, v13

    sub-float/2addr v10, v15

    iget v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->clipTopAddition:I

    int-to-float v15, v15

    add-float/2addr v10, v15

    float-to-int v10, v10

    if-gez v10, :cond_30

    const/4 v10, 0x0

    :cond_30
    int-to-float v14, v14

    add-float/2addr v14, v13

    .line 15526
    iget v15, v9, Landroid/graphics/RectF;->bottom:F

    sub-float/2addr v15, v13

    add-float/2addr v14, v15

    const/4 v13, 0x1

    aget v8, v8, v13

    iget-object v13, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->parentView:Landroid/view/View;

    invoke-virtual {v13}, Landroid/view/View;->getHeight()I

    move-result v13

    add-int/2addr v8, v13

    const/16 v13, 0x15

    if-lt v4, v13, :cond_31

    const/4 v4, 0x0

    goto :goto_16

    :cond_31
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :goto_16
    sub-int/2addr v8, v4

    int-to-float v4, v8

    sub-float/2addr v14, v4

    iget v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->clipBottomAddition:I

    int-to-float v4, v4

    add-float/2addr v14, v4

    float-to-int v4, v14

    if-gez v4, :cond_32

    const/4 v4, 0x0

    .line 15531
    :cond_32
    invoke-static {v10, v3}, Ljava/lang/Math;->max(II)I

    move-result v8

    .line 15532
    invoke-static {v4, v3}, Ljava/lang/Math;->max(II)I

    move-result v4

    .line 15534
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    const/4 v13, 0x0

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Landroid/view/View;->getScaleX()F

    move-result v14

    aput v14, v10, v13

    .line 15535
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Landroid/view/View;->getScaleY()F

    move-result v14

    const/4 v15, 0x1

    aput v14, v10, v15

    .line 15536
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Landroid/view/View;->getTranslationX()F

    move-result v14

    const/4 v15, 0x2

    aput v14, v10, v15

    .line 15537
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Lorg/telegram/ui/Components/ClippingImageView;->getTranslationY()F

    move-result v14

    const/4 v15, 0x3

    aput v14, v10, v15

    .line 15538
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v14, v10, v13

    const/4 v15, 0x4

    const/16 v16, 0x0

    aput v16, v14, v15

    .line 15539
    aget-object v14, v10, v13

    const/4 v15, 0x5

    aput v16, v14, v15

    .line 15540
    aget-object v14, v10, v13

    const/4 v15, 0x6

    aput v16, v14, v15

    .line 15541
    aget-object v14, v10, v13

    const/4 v15, 0x7

    aput v16, v14, v15

    .line 15542
    aget-object v14, v10, v13

    const/16 v15, 0x8

    aput v16, v14, v15

    .line 15543
    aget-object v14, v10, v13

    const/16 v15, 0x9

    aput v16, v14, v15

    .line 15544
    aget-object v14, v10, v13

    const/16 v15, 0xa

    aput v16, v14, v15

    .line 15545
    aget-object v14, v10, v13

    const/16 v15, 0xb

    aput v16, v14, v15

    .line 15546
    aget-object v14, v10, v13

    const/16 v25, 0xc

    aput v16, v14, v25

    const/4 v14, 0x1

    .line 15548
    aget-object v16, v10, v14

    iget v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    aput v15, v16, v13

    .line 15549
    aget-object v13, v10, v14

    aput v15, v13, v14

    .line 15550
    aget-object v13, v10, v14

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewX:I

    int-to-float v14, v14

    move/from16 v16, v12

    iget v12, v9, Landroid/graphics/RectF;->left:F

    mul-float/2addr v12, v15

    add-float/2addr v14, v12

    const/4 v12, 0x2

    aput v14, v13, v12

    const/4 v12, 0x1

    .line 15551
    aget-object v13, v10, v12

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v14, v14

    iget v9, v9, Landroid/graphics/RectF;->top:F

    mul-float/2addr v9, v15

    add-float/2addr v14, v9

    const/4 v9, 0x3

    aput v14, v13, v9

    .line 15552
    aget-object v9, v10, v12

    int-to-float v0, v0

    mul-float v13, v0, v15

    const/4 v14, 0x4

    aput v13, v9, v14

    .line 15553
    aget-object v9, v10, v12

    int-to-float v8, v8

    mul-float/2addr v8, v15

    const/4 v13, 0x5

    aput v8, v9, v13

    .line 15554
    aget-object v8, v10, v12

    int-to-float v4, v4

    mul-float/2addr v4, v15

    const/4 v9, 0x6

    aput v4, v8, v9

    const/4 v4, 0x0

    :goto_17
    if-ge v4, v14, :cond_34

    .line 15556
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v8, v8, v12

    add-int/lit8 v9, v4, 0x7

    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->radius:[I

    if-eqz v10, :cond_33

    aget v10, v10, v4

    int-to-float v10, v10

    goto :goto_18

    :cond_33
    const/4 v10, 0x0

    :goto_18
    aput v10, v8, v9

    add-int/lit8 v4, v4, 0x1

    const/4 v12, 0x1

    const/4 v14, 0x4

    goto :goto_17

    .line 15558
    :cond_34
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    const/4 v8, 0x1

    aget-object v9, v4, v8

    int-to-float v3, v3

    iget v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float/2addr v3, v10

    const/16 v12, 0xb

    aput v3, v9, v12

    .line 15559
    aget-object v3, v4, v8

    mul-float/2addr v0, v10

    aput v0, v3, v25

    .line 15561
    new-instance v0, Ljava/util/ArrayList;

    iget v3, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v8, :cond_35

    const/16 v18, 0x3

    goto :goto_19

    :cond_35
    const/16 v18, 0x2

    :goto_19
    array-length v3, v2

    add-int v18, v18, v3

    array-length v3, v2

    if-le v3, v8, :cond_36

    const/4 v3, 0x1

    goto :goto_1a

    :cond_36
    const/4 v3, 0x0

    :goto_1a
    add-int v3, v18, v3

    invoke-direct {v0, v3}, Ljava/util/ArrayList;-><init>(I)V

    const/4 v3, 0x0

    .line 15562
    :goto_1b
    array-length v4, v2

    if-ge v3, v4, :cond_38

    .line 15563
    aget-object v4, v2, v3

    sget-object v8, Lorg/telegram/ui/Components/AnimationProperties;->CLIPPING_IMAGE_VIEW_PROGRESS:Landroid/util/Property;

    const/4 v9, 0x2

    new-array v10, v9, [F

    fill-array-data v10, :array_0

    invoke-static {v4, v8, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    if-nez v3, :cond_37

    .line 15565
    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda12;

    invoke-direct {v8, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda12;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v8}, Landroid/animation/ObjectAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 15570
    :cond_37
    invoke-virtual {v0, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    add-int/lit8 v3, v3, 0x1

    goto :goto_1b

    .line 15572
    :cond_38
    array-length v3, v2

    const/4 v4, 0x1

    if-le v3, v4, :cond_39

    .line 15573
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v4, [F

    const/4 v10, 0x0

    const/4 v12, 0x0

    aput v10, v9, v12

    invoke-static {v3, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15574
    aget-object v2, v2, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/ClippingImageView;->setAdditionalTranslationX(F)V

    .line 15576
    :cond_39
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v3, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v8, v4, [I

    const/4 v9, 0x0

    aput v9, v8, v9

    invoke-static {v2, v3, v8}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15577
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    const/4 v10, 0x0

    aput v10, v8, v9

    invoke-static {v2, v3, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15578
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    aput v10, v8, v9

    invoke-static {v2, v3, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15579
    iget v2, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v4, :cond_3a

    .line 15580
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    aput v10, v4, v9

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15582
    :cond_3a
    invoke-virtual {v5, v0}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    goto/16 :goto_1e

    :cond_3b
    move/from16 v16, v12

    move/from16 v19, v13

    .line 15584
    sget-object v0, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v0, v0, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v2

    if-eqz v2, :cond_3c

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_1c

    :cond_3c
    const/4 v2, 0x0

    :goto_1c
    add-int/2addr v0, v2

    const/4 v2, 0x2

    new-array v3, v2, [F

    .line 15585
    fill-array-data v3, :array_1

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 15586
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda4;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda4;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x6

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 15587
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v8, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    const/4 v9, 0x1

    new-array v10, v9, [I

    aput v4, v10, v4

    .line 15589
    invoke-static {v2, v8, v10}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v9

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v9, [F

    const/4 v12, 0x0

    aput v12, v10, v4

    .line 15590
    invoke-static {v2, v8, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v4, 0x2

    aput-object v2, v3, v4

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v9, [F

    .line 15591
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v9, v9, v12

    if-ltz v9, :cond_3d

    goto :goto_1d

    :cond_3d
    neg-int v0, v0

    :goto_1d
    int-to-float v0, v0

    const/4 v9, 0x0

    aput v0, v8, v9

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x3

    aput-object v0, v3, v2

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v4, 0x1

    new-array v8, v4, [F

    const/4 v10, 0x0

    aput v10, v8, v9

    .line 15592
    invoke-static {v0, v2, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x4

    aput-object v0, v3, v2

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    aput v10, v4, v9

    .line 15593
    invoke-static {v0, v2, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x5

    aput-object v0, v3, v2

    .line 15587
    invoke-virtual {v5, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 15597
    :goto_1e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_3e

    .line 15598
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onPreClose()V

    .line 15600
    :cond_3e
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda80;

    invoke-direct {v0, v1, v7}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda80;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0xc8

    .line 15609
    invoke-virtual {v5, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 15610
    new-instance v0, Lorg/telegram/ui/PhotoViewer$70;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$70;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 15621
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    iput-wide v2, v1, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    .line 15622
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, 0x0

    const/4 v3, 0x2

    invoke-virtual {v0, v3, v2}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15623
    invoke-virtual {v5}, Landroid/animation/AnimatorSet;->start()V

    const/4 v4, 0x0

    goto/16 :goto_1f

    :cond_3f
    move/from16 v16, v12

    move/from16 v19, v13

    const/4 v3, 0x2

    .line 15625
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    new-array v2, v3, [F

    .line 15626
    fill-array-data v2, :array_2

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 15627
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda11;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda11;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x6

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 15628
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    const/4 v8, 0x1

    new-array v9, v8, [F

    const v10, 0x3f666666    # 0.9f

    aput v10, v9, v4

    .line 15630
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v8

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v9, v8, [F

    aput v10, v9, v4

    .line 15631
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x2

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v9, v8, [I

    aput v4, v9, v4

    .line 15632
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x3

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    const/4 v10, 0x0

    aput v10, v9, v4

    .line 15633
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x4

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    aput v10, v9, v4

    .line 15634
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v4, 0x5

    aput-object v2, v3, v4

    .line 15628
    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 15636
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_40

    .line 15637
    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onPreClose()V

    :cond_40
    const/4 v2, 0x2

    .line 15639
    iput v2, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15640
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda79;

    invoke-direct {v3, v1, v7}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda79;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    iput-object v3, v1, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    const-wide/16 v3, 0xc8

    .line 15652
    invoke-virtual {v0, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 15653
    new-instance v3, Lorg/telegram/ui/PhotoViewer$71;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$71;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 15674
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    iput-wide v3, v1, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    .line 15675
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v4, 0x0

    invoke-virtual {v3, v2, v4}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15676
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    if-eqz v7, :cond_41

    .line 15678
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x1

    invoke-virtual {v0, v2, v2}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15681
    :cond_41
    :goto_1f
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v0, :cond_42

    .line 15682
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->removeSecondParentView(Landroid/view/View;)V

    .line 15683
    iput-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    .line 15684
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v4}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    .line 15685
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15687
    :cond_42
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_43

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canScrollAway()Z

    move-result v0

    if-nez v0, :cond_43

    .line 15688
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->cancelButtonPressed()Z

    .line 15691
    :cond_43
    :goto_20
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_44

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_44

    .line 15692
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    .line 15693
    invoke-virtual {v0, v6}, Landroid/view/View;->setScaleX(F)V

    .line 15694
    invoke-virtual {v0, v11}, Landroid/view/View;->setScaleY(F)V

    .line 15696
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_44

    .line 15697
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v0

    move/from16 v9, v16

    .line 15698
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    move/from16 v9, v19

    .line 15699
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    :cond_44
    :goto_21
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method public destroyPhotoViewer()V
    .locals 3

    .line 15730
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-nez v0, :cond_0

    goto :goto_2

    .line 15733
    :cond_0
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->isVisible()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 15734
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss()V

    .line 15736
    :cond_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->removeObservers()V

    const/4 v0, 0x0

    .line 15737
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    const/4 v0, 0x0

    .line 15739
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object v1

    if-eqz v1, :cond_2

    .line 15740
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "window"

    invoke-virtual {v1, v2}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/WindowManager;

    .line 15741
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v1, v2}, Landroid/view/WindowManager;->removeViewImmediate(Landroid/view/View;)V

    .line 15742
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V

    .line 15744
    :cond_2
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v1

    .line 15746
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15748
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_3

    .line 15749
    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 15750
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 15752
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    .line 15756
    sget-object v1, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-ne p0, v1, :cond_4

    .line 15757
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    goto :goto_1

    .line 15759
    :cond_4
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 15761
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V

    :cond_5
    :goto_2
    return-void
.end method

.method public varargs didReceivedNotification(II[Ljava/lang/Object;)V
    .locals 28

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 4029
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v4, 0x3

    const/4 v5, 0x2

    const/4 v6, 0x1

    const/4 v7, 0x0

    if-ne v1, v2, :cond_4

    .line 4030
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    move v2, v7

    :goto_0
    if-ge v2, v4, :cond_62

    .line 4032
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v8, v2

    if-eqz v9, :cond_3

    aget-object v8, v8, v2

    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_3

    if-eqz v2, :cond_2

    if-ne v2, v6, :cond_0

    .line 4033
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v1, v4, :cond_2

    :cond_0
    if-ne v2, v5, :cond_1

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v4, :cond_1

    goto :goto_1

    :cond_1
    move v1, v7

    goto :goto_2

    :cond_2
    :goto_1
    move v1, v6

    .line 4034
    :goto_2
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v2

    invoke-virtual {v4, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4035
    invoke-direct {v0, v2, v7, v6}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    goto/16 :goto_2f

    :cond_3
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 4039
    :cond_4
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    if-ne v1, v2, :cond_d

    .line 4040
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    move v2, v7

    :goto_3
    if-ge v2, v4, :cond_62

    .line 4042
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v8, v2

    if-eqz v9, :cond_c

    aget-object v8, v8, v2

    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_c

    if-eqz v2, :cond_7

    if-ne v2, v6, :cond_5

    .line 4043
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v1, v4, :cond_7

    :cond_5
    if-ne v2, v5, :cond_6

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v4, :cond_6

    goto :goto_4

    :cond_6
    move v1, v7

    goto :goto_5

    :cond_7
    :goto_4
    move v1, v6

    .line 4044
    :goto_5
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v2

    invoke-virtual {v4, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4045
    invoke-direct {v0, v2, v7, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 4046
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v1, :cond_b

    if-nez v2, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_8

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-nez v1, :cond_a

    :cond_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_9

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {v1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_a

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-nez v1, :cond_a

    :cond_9
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_b

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_a

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_b

    .line 4047
    :cond_a
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    :cond_b
    if-nez v2, :cond_62

    .line 4049
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v1, :cond_62

    .line 4050
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    goto/16 :goto_2f

    :cond_c
    add-int/lit8 v2, v2, 0x1

    goto :goto_3

    .line 4055
    :cond_d
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    const-wide/16 v8, 0x0

    if-ne v1, v2, :cond_18

    .line 4056
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    move v2, v7

    :goto_6
    if-ge v2, v4, :cond_62

    .line 4058
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v11, v10, v2

    if-eqz v11, :cond_17

    aget-object v10, v10, v2

    invoke-virtual {v10, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v10

    if-eqz v10, :cond_17

    .line 4059
    aget-object v10, p3, v6

    check-cast v10, Ljava/lang/Long;

    .line 4060
    aget-object v11, p3, v5

    check-cast v11, Ljava/lang/Long;

    .line 4061
    invoke-virtual {v10}, Ljava/lang/Long;->longValue()J

    move-result-wide v12

    long-to-float v10, v12

    invoke-virtual {v11}, Ljava/lang/Long;->longValue()J

    move-result-wide v11

    long-to-float v11, v11

    div-float/2addr v10, v11

    invoke-static {v3, v10}, Ljava/lang/Math;->min(FF)F

    move-result v10

    if-eqz v2, :cond_10

    if-ne v2, v6, :cond_e

    .line 4062
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v11, v12, :cond_10

    :cond_e
    if-ne v2, v5, :cond_f

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v11, v12, :cond_f

    goto :goto_7

    :cond_f
    move v11, v7

    goto :goto_8

    :cond_10
    :goto_7
    move v11, v6

    .line 4063
    :goto_8
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v12, v12, v2

    invoke-virtual {v12, v10, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    if-nez v2, :cond_17

    .line 4064
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v11, :cond_17

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    if-eqz v11, :cond_17

    .line 4066
    iget-boolean v11, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    if-eqz v11, :cond_11

    :goto_9
    const/high16 v4, -0x40800000    # -1.0f

    goto :goto_c

    .line 4069
    :cond_11
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v13

    .line 4070
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    sub-long v3, v13, v3

    invoke-static {v3, v4}, Ljava/lang/Math;->abs(J)J

    move-result-wide v3

    const-wide/16 v15, 0x1f4

    cmp-long v3, v3, v15

    if-ltz v3, :cond_15

    .line 4072
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    const/4 v4, 0x0

    cmpl-float v15, v3, v4

    if-nez v15, :cond_13

    .line 4073
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v4

    .line 4074
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v11

    cmp-long v3, v4, v8

    if-ltz v3, :cond_12

    const-wide v18, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v3, v4, v18

    if-eqz v3, :cond_12

    cmp-long v3, v11, v8

    if-ltz v3, :cond_12

    long-to-float v3, v11

    long-to-float v4, v4

    div-float/2addr v3, v4

    goto :goto_a

    :cond_12
    const/4 v3, 0x0

    .line 4083
    :cond_13
    :goto_a
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    if-eqz v4, :cond_14

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v5, v5, v7

    invoke-virtual {v4, v3, v5}, Lorg/telegram/messenger/FileLoader;->getBufferedProgressFromPosition(FLjava/lang/String;)F

    move-result v3

    goto :goto_b

    :cond_14
    const/high16 v3, 0x3f800000    # 1.0f

    .line 4084
    :goto_b
    iput-wide v13, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    goto :goto_9

    :cond_15
    const/high16 v3, -0x40800000    # -1.0f

    goto :goto_9

    :goto_c
    cmpl-float v4, v3, v4

    if-eqz v4, :cond_16

    .line 4090
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v4, v3}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    .line 4091
    invoke-static {v3}, Lorg/telegram/ui/Components/PipVideoOverlay;->setBufferedProgress(F)V

    .line 4092
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v3}, Landroid/view/View;->invalidate()V

    .line 4094
    :cond_16
    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer;->checkBufferedProgress(F)V

    :cond_17
    add-int/lit8 v2, v2, 0x1

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v4, 0x3

    const/4 v5, 0x2

    goto/16 :goto_6

    .line 4098
    :cond_18
    sget v2, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    const/4 v3, 0x6

    const/4 v4, -0x1

    if-ne v1, v2, :cond_2d

    .line 4099
    aget-object v1, p3, v7

    check-cast v1, Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 4100
    iget-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    iget-wide v10, v1, Lorg/telegram/messenger/MessagesController$DialogPhotos;->dialogId:J

    cmp-long v2, v5, v10

    if-nez v2, :cond_62

    .line 4101
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->dialogPhotos:Lorg/telegram/messenger/MessagesController$DialogPhotos;

    .line 4103
    new-instance v2, Ljava/util/ArrayList;

    iget-object v1, v1, Lorg/telegram/messenger/MessagesController$DialogPhotos;->photos:Ljava/util/ArrayList;

    invoke-direct {v2, v1}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    .line 4104
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4105
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4106
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4107
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4108
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    move v5, v4

    move v1, v7

    .line 4110
    :goto_d
    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v6

    const/4 v10, 0x0

    if-ge v1, v6, :cond_25

    .line 4111
    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v6, :cond_23

    .line 4112
    instance-of v11, v6, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    if-nez v11, :cond_23

    iget-object v11, v6, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    if-nez v11, :cond_19

    goto/16 :goto_15

    :cond_19
    const/16 v12, 0x280

    .line 4120
    invoke-static {v11, v12}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v11

    .line 4121
    iget-object v12, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v12}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v12

    if-eqz v12, :cond_1a

    move-object v12, v10

    goto :goto_e

    :cond_1a
    iget-object v12, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    const/16 v13, 0x3e8

    invoke-static {v12, v13}, Lorg/telegram/messenger/FileLoader;->getClosestVideoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v12

    :goto_e
    if-eqz v11, :cond_24

    if-ne v5, v4, :cond_1c

    .line 4123
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v13, :cond_1c

    move v13, v7

    .line 4124
    :goto_f
    iget-object v14, v6, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v14}, Ljava/util/ArrayList;->size()I

    move-result v14

    if-ge v13, v14, :cond_1c

    .line 4125
    iget-object v14, v6, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v14, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 4126
    iget-object v14, v14, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v14, :cond_1b

    iget v15, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v8, v8, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v9, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v15, v9, :cond_1b

    iget-wide v14, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v8, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v8, v14, v8

    if-nez v8, :cond_1b

    .line 4127
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v5

    goto :goto_10

    :cond_1b
    add-int/lit8 v13, v13, 0x1

    const-wide/16 v8, 0x0

    goto :goto_f

    :cond_1c
    :goto_10
    if-ne v5, v4, :cond_1f

    .line 4132
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v8, :cond_1f

    move v8, v7

    .line 4133
    :goto_11
    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v8, v9, :cond_1f

    .line 4134
    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v9, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/tgnet/TLRPC$VideoSize;

    .line 4135
    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$VideoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v9, :cond_1d

    iget v13, v9, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v14, v14, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v15, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v13, v15, :cond_1d

    move v15, v5

    iget-wide v4, v9, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v13, v14, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v4, v4, v13

    if-nez v4, :cond_1e

    .line 4136
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    move v5, v4

    goto :goto_12

    :cond_1d
    move v15, v5

    :cond_1e
    add-int/lit8 v8, v8, 0x1

    move v5, v15

    const/4 v4, -0x1

    goto :goto_11

    :cond_1f
    move v15, v5

    move v5, v15

    .line 4141
    :goto_12
    iget v4, v6, Lorg/telegram/tgnet/TLRPC$Photo;->dc_id:I

    if-eqz v4, :cond_20

    .line 4142
    iget-object v8, v11, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    iput v4, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    .line 4143
    iget-object v4, v6, Lorg/telegram/tgnet/TLRPC$Photo;->file_reference:[B

    iput-object v4, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->file_reference:[B

    .line 4145
    :cond_20
    invoke-static {v11, v6}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v4

    if-eqz v12, :cond_21

    .line 4146
    invoke-static {v12, v6}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v8

    goto :goto_13

    :cond_21
    move-object v8, v4

    :goto_13
    if-eqz v4, :cond_24

    .line 4148
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v9, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4149
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    if-eqz v8, :cond_22

    iget-wide v11, v8, Lorg/telegram/messenger/ImageLocation;->currentSize:J

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v9

    goto :goto_14

    :cond_22
    move-object v9, v10

    :goto_14
    invoke-virtual {v4, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4150
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, v8}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4151
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4152
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_16

    .line 4113
    :cond_23
    :goto_15
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4114
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4115
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4116
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4117
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :cond_24
    :goto_16
    add-int/lit8 v1, v1, 0x1

    const/4 v4, -0x1

    const-wide/16 v8, 0x0

    goto/16 :goto_d

    .line 4156
    :cond_25
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_26

    .line 4157
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_17

    .line 4159
    :cond_26
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 4161
    :goto_17
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    const/4 v1, -0x1

    .line 4162
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v5, v1, :cond_27

    .line 4164
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 4168
    :cond_27
    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v3, 0x0

    cmp-long v1, v1, v3

    if-lez v1, :cond_28

    .line 4169
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    move-object v2, v10

    goto :goto_18

    .line 4171
    :cond_28
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v2, v2

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    move-object v2, v1

    move-object v1, v10

    :goto_18
    if-nez v1, :cond_29

    if-eqz v2, :cond_62

    :cond_29
    if-eqz v1, :cond_2a

    .line 4176
    invoke-static {v1, v7}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    goto :goto_19

    .line 4178
    :cond_2a
    invoke-static {v2, v7}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    :goto_19
    if-eqz v1, :cond_62

    .line 4181
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_2b

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_2b

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/ImageLocation;

    iget-wide v2, v2, Lorg/telegram/messenger/ImageLocation;->photoId:J

    iget-wide v4, v1, Lorg/telegram/messenger/ImageLocation;->photoId:J

    cmp-long v2, v2, v4

    if-nez v2, :cond_2b

    .line 4182
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4183
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4184
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4185
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4186
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4188
    :cond_2b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2, v7, v1}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4189
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    new-instance v2, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    invoke-direct {v2}, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;-><init>()V

    invoke-virtual {v1, v7, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4190
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v2, :cond_2c

    iget-wide v2, v2, Lorg/telegram/messenger/ImageLocation;->currentSize:J

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    goto :goto_1a

    :cond_2c
    move-object v2, v10

    :goto_1a
    invoke-virtual {v1, v7, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4191
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-virtual {v1, v7, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4192
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v1, v7, v10}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4193
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 4198
    :cond_2d
    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    if-ne v1, v2, :cond_32

    .line 4199
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    .line 4200
    aget-object v3, p3, v6

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v23

    .line 4201
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    cmp-long v3, v3, v23

    if-nez v3, :cond_62

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v3, v1, v3

    if-eqz v3, :cond_2e

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v3, v1, v3

    if-nez v3, :cond_62

    .line 4202
    :cond_2e
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v3, :cond_2f

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v3

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v3, v4, :cond_62

    .line 4203
    :cond_2f
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v1, v1, v3

    if-nez v1, :cond_30

    const/4 v1, 0x2

    .line 4204
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    goto :goto_1b

    :cond_30
    const/4 v1, 0x2

    .line 4206
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 4208
    :goto_1b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-eqz v1, :cond_31

    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    if-eqz v1, :cond_31

    .line 4209
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    .line 4210
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 4211
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v16

    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const/16 v19, 0x14

    const/16 v20, 0x0

    const/16 v21, 0x0

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    const/16 v25, 0x1

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v27, 0x0

    move-wide/from16 v17, v1

    move/from16 v22, v3

    move/from16 v26, v4

    invoke-virtual/range {v16 .. v27}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIII)V

    goto/16 :goto_2f

    .line 4212
    :cond_31
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_62

    .line 4213
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-direct {v0, v1, v6, v6}, Lorg/telegram/ui/PhotoViewer;->setIsAboutToSwitchToIndex(IZZ)V

    goto/16 :goto_2f

    .line 4217
    :cond_32
    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    if-ne v1, v2, :cond_50

    .line 4218
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    const/4 v4, 0x3

    .line 4219
    aget-object v4, p3, v4

    check-cast v4, Ljava/lang/Integer;

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    .line 4220
    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v5, v1, v8

    if-eqz v5, :cond_33

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v1, v10

    if-nez v5, :cond_62

    :cond_33
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-ne v4, v5, :cond_62

    .line 4221
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    cmp-long v1, v1, v8

    if-nez v1, :cond_34

    move v1, v7

    goto :goto_1c

    :cond_34
    move v1, v6

    :goto_1c
    const/4 v2, 0x2

    .line 4223
    aget-object v4, p3, v2

    check-cast v4, Ljava/util/ArrayList;

    .line 4224
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    const/4 v5, 0x5

    aget-object v5, p3, v5

    check-cast v5, Ljava/lang/Boolean;

    invoke-virtual {v5}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v5

    aput-boolean v5, v2, v1

    .line 4225
    aget-object v2, p3, v3

    check-cast v2, Ljava/lang/Boolean;

    invoke-virtual {v2}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    .line 4226
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-eqz v3, :cond_47

    .line 4227
    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_35

    if-nez v1, :cond_46

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v2, v2, v8

    if-eqz v2, :cond_46

    :cond_35
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v2, :cond_46

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-lt v2, v3, :cond_36

    goto/16 :goto_25

    .line 4233
    :cond_36
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    move v5, v7

    move v8, v5

    const/4 v3, -0x1

    .line 4236
    :goto_1d
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v5, v9, :cond_3a

    .line 4237
    invoke-virtual {v4, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/messenger/MessageObject;

    .line 4238
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v10, v10, v1

    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v11

    invoke-virtual {v10, v11}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result v10

    if-gez v10, :cond_39

    .line 4239
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v10, v10, v1

    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v11

    invoke-virtual {v10, v11, v9}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 4240
    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v10, :cond_38

    .line 4241
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v10, v9}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4242
    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    if-ne v9, v10, :cond_37

    move v3, v8

    :cond_37
    add-int/lit8 v8, v8, 0x1

    goto :goto_1e

    :cond_38
    add-int/lit8 v8, v8, 0x1

    .line 4248
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v10, v7, v9}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4249
    invoke-virtual {v9}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    if-ne v9, v10, :cond_39

    .line 4250
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v3

    sub-int/2addr v3, v8

    :cond_39
    :goto_1e
    add-int/lit8 v5, v5, 0x1

    goto :goto_1d

    :cond_3a
    if-nez v8, :cond_3c

    if-nez v1, :cond_3b

    .line 4255
    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v2, v4, v8

    if-nez v2, :cond_3c

    .line 4256
    :cond_3b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 4257
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    :cond_3c
    const/4 v2, -0x1

    if-eq v3, v2, :cond_3f

    .line 4261
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4262
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    move v1, v7

    :goto_1f
    const/4 v2, 0x2

    if-ge v1, v2, :cond_3d

    .line 4264
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v4, v4, v1

    invoke-virtual {v4}, Landroid/util/SparseArray;->clone()Landroid/util/SparseArray;

    move-result-object v4

    aput-object v4, v2, v1

    .line 4265
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v2, v2, v1

    invoke-virtual {v2}, Landroid/util/SparseArray;->clear()V

    add-int/lit8 v1, v1, 0x1

    goto :goto_1f

    .line 4267
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4268
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    const/4 v1, -0x1

    .line 4269
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4270
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v3, v1, :cond_3e

    .line 4271
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    add-int/lit8 v3, v1, -0x1

    .line 4273
    :cond_3e
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 4276
    :cond_3f
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v2, :cond_41

    .line 4277
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_40

    move v2, v7

    goto :goto_20

    :cond_40
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v3

    sub-int/2addr v3, v6

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    :goto_20
    if-nez v1, :cond_44

    .line 4278
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v3, v3, v1

    if-eqz v3, :cond_44

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v3, v3, v8

    if-eqz v3, :cond_44

    .line 4280
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_43

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v3

    sub-int/2addr v3, v6

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v1, v3, v8

    if-eqz v1, :cond_43

    goto :goto_22

    .line 4285
    :cond_41
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_42

    move v2, v7

    goto :goto_21

    :cond_42
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    :goto_21
    if-nez v1, :cond_44

    .line 4286
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v3, v3, v1

    if-eqz v3, :cond_44

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v8, 0x0

    cmp-long v3, v3, v8

    if-eqz v3, :cond_44

    .line 4288
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_43

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v1, v3, v8

    if-eqz v1, :cond_43

    :goto_22
    move v1, v6

    move v11, v7

    goto :goto_23

    :cond_43
    move v11, v2

    move v1, v6

    goto :goto_23

    :cond_44
    move v11, v2

    .line 4294
    :goto_23
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v2, v2, v1

    if-nez v2, :cond_62

    .line 4295
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 4296
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v7

    if-nez v1, :cond_45

    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_24

    :cond_45
    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_24
    move-wide v8, v1

    const/16 v10, 0x28

    const/4 v12, 0x0

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget-wide v14, v0, Lorg/telegram/ui/PhotoViewer;->topicId:J

    const/16 v16, 0x1

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v18, 0x0

    move/from16 v17, v1

    invoke-virtual/range {v7 .. v18}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIJIII)V

    goto/16 :goto_2f

    .line 4228
    :cond_46
    :goto_25
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    return-void

    :cond_47
    move v3, v7

    move v5, v3

    .line 4301
    :goto_26
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v8

    if-ge v3, v8, :cond_4d

    if-eqz v2, :cond_48

    .line 4302
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v8

    sub-int/2addr v8, v6

    sub-int/2addr v8, v3

    goto :goto_27

    :cond_48
    move v8, v3

    :goto_27
    invoke-virtual {v4, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lorg/telegram/messenger/MessageObject;

    .line 4303
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v9, v9, v1

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v9, v10}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result v9

    if-gez v9, :cond_4c

    add-int/lit8 v5, v5, 0x1

    .line 4305
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v9, :cond_4a

    if-eqz v2, :cond_49

    .line 4307
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v9, v7, v8}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4308
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    sub-int/2addr v9, v6

    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    .line 4309
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v10, v6

    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-gez v9, :cond_4b

    .line 4311
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    goto :goto_28

    .line 4314
    :cond_49
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v9, v8}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_28

    .line 4317
    :cond_4a
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v9, v7, v8}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4319
    :cond_4b
    :goto_28
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v9, v9, v1

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v9, v10, v8}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    :cond_4c
    add-int/lit8 v3, v3, 0x1

    goto :goto_26

    .line 4322
    :cond_4d
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v1, :cond_4e

    if-nez v5, :cond_62

    if-nez v2, :cond_62

    .line 4324
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    add-int/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 4325
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    goto/16 :goto_2f

    :cond_4e
    if-eqz v5, :cond_4f

    .line 4329
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, -0x1

    .line 4330
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v5

    .line 4331
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2f

    .line 4333
    :cond_4f
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 4334
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    goto/16 :goto_2f

    .line 4339
    :cond_50
    sget v2, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    if-ne v1, v2, :cond_51

    .line 4340
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v1, :cond_62

    .line 4341
    invoke-virtual {v1}, Lorg/telegram/ui/Components/TextViewSwitcher;->invalidateViews()V

    goto/16 :goto_2f

    .line 4343
    :cond_51
    sget v2, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    const/4 v3, 0x4

    if-ne v1, v2, :cond_54

    .line 4344
    aget-object v1, p3, v7

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    .line 4345
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    if-eqz v2, :cond_52

    .line 4346
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    .line 4347
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v3}, Landroid/view/View;->setVisibility(I)V

    .line 4348
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v1, v7, v7, v2}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    goto/16 :goto_2f

    .line 4349
    :cond_52
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    if-eqz v2, :cond_53

    .line 4350
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 4351
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1, v2, v6, v6}, Lorg/telegram/messenger/MediaController;->scheduleVideoConvert(Lorg/telegram/messenger/MessageObject;ZZ)Z

    move-result v1

    xor-int/2addr v1, v6

    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    goto/16 :goto_2f

    .line 4352
    :cond_53
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v1, v2, :cond_62

    .line 4353
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 4354
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v3}, Landroid/view/View;->setVisibility(I)V

    goto/16 :goto_2f

    .line 4356
    :cond_54
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    if-ne v1, v2, :cond_55

    .line 4357
    aget-object v1, p3, v7

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    .line 4358
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v1, v2, :cond_62

    .line 4359
    aget-object v1, p3, v6

    check-cast v1, Ljava/lang/String;

    const/4 v2, 0x3

    .line 4360
    aget-object v4, p3, v2

    check-cast v4, Ljava/lang/Long;

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    .line 4361
    aget-object v2, p3, v3

    check-cast v2, Ljava/lang/Float;

    invoke-virtual {v2}, Ljava/lang/Float;->floatValue()F

    move-result v2

    .line 4362
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v7

    invoke-virtual {v3, v2, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    const-wide/16 v2, 0x0

    cmp-long v2, v4, v2

    if-eqz v2, :cond_62

    .line 4364
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 4365
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v7

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v2, v3, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4366
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v7

    const/4 v3, 0x3

    invoke-virtual {v2, v3, v6, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 4367
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v1, v7, v6, v2}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    goto/16 :goto_2f

    .line 4370
    :cond_55
    sget v2, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    if-ne v1, v2, :cond_62

    const/4 v1, 0x2

    .line 4371
    aget-object v2, p3, v1

    check-cast v2, Ljava/lang/Boolean;

    invoke-virtual {v2}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    if-eqz v2, :cond_56

    return-void

    .line 4375
    :cond_56
    aget-object v2, p3, v6

    check-cast v2, Ljava/lang/Long;

    invoke-virtual {v2}, Ljava/lang/Long;->longValue()J

    move-result-wide v2

    .line 4376
    aget-object v4, p3, v7

    check-cast v4, Ljava/util/ArrayList;

    move v5, v7

    move v8, v5

    move v9, v8

    :goto_29
    if-ge v5, v1, :cond_5e

    if-nez v5, :cond_57

    .line 4380
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    goto :goto_2a

    :cond_57
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    :goto_2a
    if-nez v5, :cond_58

    .line 4381
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    goto :goto_2b

    :cond_58
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    .line 4382
    :goto_2b
    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v11

    if-nez v11, :cond_5d

    move v11, v7

    :goto_2c
    const/4 v12, 0x2

    if-ge v11, v12, :cond_5d

    .line 4384
    aget-object v14, v10, v11

    invoke-virtual {v14}, Landroid/util/SparseArray;->size()I

    move-result v14

    if-lez v14, :cond_5c

    .line 4385
    aget-object v14, v10, v11

    invoke-virtual {v14, v7}, Landroid/util/SparseArray;->valueAt(I)Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Lorg/telegram/messenger/MessageObject;

    .line 4386
    iget-object v14, v14, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v14, v14, Lorg/telegram/tgnet/TLRPC$Message;->peer_id:Lorg/telegram/tgnet/TLRPC$Peer;

    iget-wide v14, v14, Lorg/telegram/tgnet/TLRPC$Peer;->channel_id:J

    cmp-long v14, v14, v2

    if-nez v14, :cond_5c

    .line 4387
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v14

    move v15, v7

    :goto_2d
    if-ge v15, v14, :cond_5c

    .line 4388
    invoke-virtual {v4, v15}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Ljava/lang/Integer;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->intValue()I

    move-result v12

    .line 4389
    aget-object v13, v10, v11

    invoke-virtual {v4, v15}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Ljava/lang/Integer;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->intValue()I

    move-result v7

    invoke-virtual {v13, v7}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lorg/telegram/messenger/MessageObject;

    if-eqz v7, :cond_5b

    .line 4391
    aget-object v8, v10, v11

    invoke-virtual {v8, v12}, Landroid/util/SparseArray;->remove(I)V

    .line 4392
    invoke-virtual {v1, v7}, Ljava/util/ArrayList;->remove(Ljava/lang/Object;)Z

    if-nez v11, :cond_59

    .line 4394
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    sub-int/2addr v8, v6

    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    goto :goto_2e

    .line 4396
    :cond_59
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    sub-int/2addr v8, v6

    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 4398
    :goto_2e
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v7, v8, :cond_5a

    move v9, v6

    :cond_5a
    move v8, v6

    :cond_5b
    add-int/lit8 v15, v15, 0x1

    const/4 v7, 0x0

    const/4 v12, 0x2

    goto :goto_2d

    :cond_5c
    add-int/lit8 v11, v11, 0x1

    const/4 v7, 0x0

    goto :goto_2c

    :cond_5d
    add-int/lit8 v5, v5, 0x1

    const/4 v1, 0x2

    const/4 v7, 0x0

    goto/16 :goto_29

    :cond_5e
    if-eqz v8, :cond_62

    if-eqz v9, :cond_5f

    .line 4410
    sget-object v1, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-ne v0, v1, :cond_5f

    .line 4411
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    goto :goto_2f

    .line 4413
    :cond_5f
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_61

    .line 4414
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, -0x1

    .line 4415
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4416
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v1, v2, :cond_60

    .line 4417
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    sub-int/2addr v1, v6

    .line 4419
    :cond_60
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto :goto_2f

    :cond_61
    const/4 v1, 0x0

    .line 4421
    invoke-virtual {v0, v1, v6}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_62
    :goto_2f
    return-void
.end method

.method public exitFromPip()V
    .locals 11

    .line 7951
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v0, :cond_0

    return-void

    .line 7954
    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-eqz v0, :cond_1

    .line 7955
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    .line 7957
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_2

    .line 7958
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->exitFromPip()V

    .line 7960
    :cond_2
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v0, 0x0

    .line 7961
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    .line 7962
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-nez v3, :cond_4

    .line 7963
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 7964
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v3, :cond_3

    .line 7965
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V

    .line 7966
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    .line 7968
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    .line 7971
    :cond_4
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 7973
    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_5

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_5
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 7974
    :goto_0
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v5, 0x4

    if-nez v4, :cond_6

    if-eqz v3, :cond_6

    .line 7975
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->removeFromParent(Landroid/view/View;)V

    .line 7976
    invoke-virtual {v3, v5}, Landroid/view/View;->setVisibility(I)V

    .line 7977
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 7980
    :cond_6
    sget-boolean v4, Lorg/telegram/messenger/ApplicationLoader;->mainInterfacePaused:Z

    if-eqz v4, :cond_7

    .line 7982
    :try_start_0
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v6, Landroid/content/Intent;

    sget-object v7, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-class v8, Lorg/telegram/messenger/BringAppForegroundService;

    invoke-direct {v6, v7, v8}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    invoke-virtual {v4, v6}, Landroid/app/Activity;->startService(Landroid/content/Intent;)Landroid/content/ComponentName;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    :catchall_0
    move-exception v4

    .line 7984
    invoke-static {v4}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7988
    :cond_7
    :goto_1
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v6, 0x0

    const/16 v7, 0x15

    if-nez v4, :cond_a

    .line 7989
    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v4, v7, :cond_9

    if-eqz v3, :cond_9

    .line 7990
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    .line 7991
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v4

    invoke-static {v1, v4}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v4

    .line 7993
    iget v8, v4, Lorg/telegram/ui/Components/Rect;->width:F

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v9

    iget v9, v9, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v9, v9

    div-float/2addr v8, v9

    .line 7994
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 7995
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 7996
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget v10, v4, Lorg/telegram/ui/Components/Rect;->x:F

    invoke-virtual {v9, v10}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7997
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget v10, v4, Lorg/telegram/ui/Components/Rect;->y:F

    invoke-virtual {v9, v10}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7998
    invoke-virtual {v3, v8}, Landroid/view/View;->setScaleX(F)V

    .line 7999
    invoke-virtual {v3, v8}, Landroid/view/View;->setScaleY(F)V

    .line 8000
    iget v9, v4, Lorg/telegram/ui/Components/Rect;->x:F

    iget-object v10, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getX()F

    move-result v10

    sub-float/2addr v9, v10

    invoke-virtual {v3, v9}, Landroid/view/View;->setTranslationX(F)V

    .line 8001
    iget v4, v4, Lorg/telegram/ui/Components/Rect;->y:F

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getY()F

    move-result v9

    sub-float/2addr v4, v9

    invoke-virtual {v3, v4}, Landroid/view/View;->setTranslationY(F)V

    .line 8002
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v4, :cond_8

    .line 8003
    invoke-virtual {v4, v8}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 8004
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v4, v8}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 8005
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3}, Landroid/view/View;->getTranslationX()F

    move-result v9

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 8006
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3}, Landroid/view/View;->getTranslationY()F

    move-result v9

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 8009
    :cond_8
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    .line 8010
    new-instance v4, Lorg/telegram/ui/PhotoViewer$41;

    invoke-direct {v4, p0, v8}, Lorg/telegram/ui/PhotoViewer$41;-><init>(Lorg/telegram/ui/PhotoViewer;F)V

    .line 8016
    invoke-virtual {v3, v4}, Landroid/view/View;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 8017
    invoke-virtual {v3, v2}, Landroid/view/View;->setClipToOutline(Z)V

    .line 8018
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 8019
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 8020
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v3, :cond_b

    .line 8021
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 8022
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    goto :goto_2

    .line 8025
    :cond_9
    invoke-static {v2}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(Z)V

    goto :goto_2

    .line 8028
    :cond_a
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 8032
    :cond_b
    :goto_2
    :try_start_1
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 8033
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 8034
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v3, "window"

    invoke-virtual {v2, v3}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/view/WindowManager;

    .line 8035
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v2, v3, v4}, Landroid/view/WindowManager;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8036
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onShowView()V

    .line 8037
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v2, :cond_c

    .line 8038
    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_3

    :catch_0
    move-exception v2

    .line 8041
    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 8044
    :cond_c
    :goto_3
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v2, :cond_e

    .line 8045
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, v2, Lorg/telegram/ui/Components/VideoPlayer;->player:Lcom/google/android/exoplayer2/ExoPlayer;

    if-eqz v2, :cond_d

    .line 8046
    invoke-interface {v2, v0}, Lcom/google/android/exoplayer2/Player;->setVideoTextureView(Landroid/view/TextureView;)V

    .line 8048
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoPlayer;->setSurfaceView(Landroid/view/SurfaceView;)V

    .line 8049
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v0, v5}, Landroid/view/SurfaceView;->setVisibility(I)V

    const/4 v0, 0x2

    .line 8050
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    .line 8051
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    .line 8052
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 8057
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v0, v7, :cond_f

    .line 8058
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    goto :goto_4

    .line 8061
    :cond_e
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v0, v7, :cond_f

    .line 8062
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    :cond_f
    :goto_4
    return-void
.end method

.method public synthetic finishScreen()V
    .locals 0

    invoke-static {p0}, Lcom/iMe/ui/base/mvp/base/BaseView$-CC;->$default$finishScreen(Lcom/iMe/ui/base/mvp/base/BaseView;)V

    return-void
.end method

.method public getAnimationValue()F
    .locals 1
    .annotation build Landroidx/annotation/Keep;
    .end annotation

    .line 16432
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    return v0
.end method

.method public getClassGuid()I
    .locals 1

    .line 1352
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    return v0
.end method

.method public getCurrentIndex()I
    .locals 1

    .line 16416
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return v0
.end method

.method public getCurrentVideoSpeed()F
    .locals 1

    .line 7323
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return v0
.end method

.method public getImagesArrLocals()Ljava/util/List;
    .locals 1
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/List<",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation

    .line 16420
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    return-object v0
.end method

.method public getSelectionLength()I
    .locals 2

    .line 13938
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v1, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    if-eqz v1, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getSelectionLength()I

    move-result v0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public getVideoPlayer()Lorg/telegram/ui/Components/VideoPlayer;
    .locals 1

    .line 7947
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-object v0
.end method

.method public getVideoPlayerRewinder()Lorg/telegram/messenger/video/VideoPlayerRewinder;
    .locals 1

    .line 17650
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    return-object v0
.end method

.method public getVideoSurfaceView()Landroid/view/SurfaceView;
    .locals 1

    .line 605
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    return-object v0
.end method

.method public getVideoTextureView()Landroid/view/TextureView;
    .locals 1

    .line 597
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    return-object v0
.end method

.method public injectVideoPlayer(Lorg/telegram/ui/Components/VideoPlayer;)V
    .locals 0

    .line 8671
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-void
.end method

.method public injectVideoPlayerSurface(Landroid/graphics/SurfaceTexture;)V
    .locals 0

    .line 8675
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    return-void
.end method

.method public injectVideoPlayerToMediaController()V
    .locals 3

    .line 15272
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 15273
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v0, :cond_0

    .line 15274
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 15276
    :cond_0
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MediaController;->injectVideoPlayer(Lorg/telegram/ui/Components/VideoPlayer;Lorg/telegram/messenger/MessageObject;)V

    const/4 v0, 0x0

    .line 15277
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    :cond_1
    return-void
.end method

.method public isInjectingVideoPlayer()Z
    .locals 1

    .line 8679
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public isOpenedFullScreenVideo()Z
    .locals 1

    .line 4013
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    return v0
.end method

.method public isVisible()Z
    .locals 1

    .line 15896
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public isVisibleOrAnimating()Z
    .locals 1

    .line 601
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    return v0
.end method

.method public onConfigurationChanged(Landroid/content/res/Configuration;)V
    .locals 0

    return-void
.end method

.method public onDoubleTap(Landroid/view/MotionEvent;)Z
    .locals 16

    move-object/from16 v0, p0

    .line 17784
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-wide/16 v2, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x1

    if-nez v1, :cond_0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_8

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v1

    if-eqz v1, :cond_8

    :cond_0
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_8

    .line 17785
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v6

    .line 17786
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v8

    .line 17787
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    .line 17788
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v10

    .line 17789
    div-int/lit8 v10, v10, 0x3

    mul-int/lit8 v11, v10, 0x2

    int-to-float v11, v11

    cmpl-float v11, v1, v11

    .line 17790
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z

    move-result v12

    if-eqz v12, :cond_8

    const-wide/16 v12, 0x2710

    if-ltz v11, :cond_1

    add-long v14, v6, v12

    goto :goto_0

    :cond_1
    int-to-float v11, v10

    cmpg-float v11, v1, v11

    if-gez v11, :cond_2

    sub-long v14, v6, v12

    goto :goto_0

    :cond_2
    move-wide v14, v6

    :goto_0
    cmp-long v6, v6, v14

    if-eqz v6, :cond_8

    cmp-long v6, v14, v8

    if-lez v6, :cond_3

    move v6, v5

    move-wide v2, v8

    goto :goto_1

    :cond_3
    cmp-long v6, v14, v2

    if-gez v6, :cond_5

    const-wide/16 v6, -0x2328

    cmp-long v6, v14, v6

    if-gez v6, :cond_4

    move v6, v4

    goto :goto_1

    :cond_4
    move v6, v5

    goto :goto_1

    :cond_5
    move v6, v5

    move-wide v2, v14

    :goto_1
    if-eqz v6, :cond_7

    .line 17808
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v6, v5}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setOneShootAnimation(Z)V

    .line 17809
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    int-to-float v7, v10

    cmpg-float v1, v1, v7

    if-gez v1, :cond_6

    move v4, v5

    :cond_6
    invoke-virtual {v6, v4}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setLeftSide(Z)V

    .line 17810
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v1, v12, v13}, Lorg/telegram/ui/Components/VideoForwardDrawable;->addTime(J)V

    .line 17811
    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebTo(J)V

    .line 17812
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17813
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    long-to-float v2, v2

    long-to-float v3, v8

    div-float/2addr v2, v3

    invoke-virtual {v1, v2, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(FZ)V

    .line 17814
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v1}, Landroid/view/View;->invalidate()V

    :cond_7
    return v5

    .line 17820
    :cond_8
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v6, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v6

    const/4 v7, 0x0

    if-nez v1, :cond_9

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v1, v1, v7

    if-nez v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    cmpl-float v1, v1, v7

    if-eqz v1, :cond_9

    goto/16 :goto_7

    .line 17823
    :cond_9
    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v1, v8, v2

    if-nez v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v1, :cond_a

    goto/16 :goto_7

    .line 17826
    :cond_a
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v1, v4

    if-eqz v2, :cond_b

    aget-object v1, v1, v4

    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v4

    invoke-static {v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v1

    const/4 v2, -0x1

    if-eq v1, v2, :cond_b

    sget-object v1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v1, v1, Landroid/graphics/Point;->x:I

    int-to-float v1, v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v3

    sub-float/2addr v1, v3

    float-to-double v8, v1

    const-wide/high16 v10, 0x4000000000000000L    # 2.0

    invoke-static {v8, v9, v10, v11}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v8

    sget-object v1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v1, v1, Landroid/graphics/Point;->y:I

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v1, v3

    int-to-float v1, v1

    div-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    sub-float/2addr v1, v2

    float-to-double v1, v1

    invoke-static {v1, v2, v10, v11}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v1

    add-double/2addr v8, v1

    invoke-static {v8, v9}, Ljava/lang/Math;->sqrt(D)D

    move-result-wide v1

    const/16 v3, 0x28

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-double v8, v3

    cmpg-double v1, v1, v8

    if-gez v1, :cond_b

    return v4

    .line 17829
    :cond_b
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v1, v1, v6

    if-nez v1, :cond_10

    .line 17830
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x2

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v4, 0x40400000    # 3.0f

    div-float v3, v4, v3

    mul-float/2addr v2, v3

    sub-float/2addr v1, v2

    .line 17831
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    div-int/lit8 v3, v3, 0x2

    int-to-float v3, v3

    sub-float/2addr v2, v3

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v6

    div-int/lit8 v6, v6, 0x2

    int-to-float v6, v6

    sub-float/2addr v3, v6

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v3, v6

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    div-float v6, v4, v6

    mul-float/2addr v3, v6

    sub-float/2addr v2, v3

    .line 17832
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 17833
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v6, v1, v3

    if-gez v6, :cond_c

    :goto_2
    move v1, v3

    goto :goto_3

    .line 17835
    :cond_c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v6, v1, v3

    if-lez v6, :cond_d

    goto :goto_2

    .line 17838
    :cond_d
    :goto_3
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v6, v2, v3

    if-gez v6, :cond_e

    :goto_4
    move v2, v3

    goto :goto_5

    .line 17840
    :cond_e
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v6, v2, v3

    if-lez v6, :cond_f

    goto :goto_4

    .line 17843
    :cond_f
    :goto_5
    invoke-direct {v0, v4, v1, v2, v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto :goto_6

    .line 17845
    :cond_10
    invoke-direct {v0, v6, v7, v7, v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 17847
    :goto_6
    iput-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 17848
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    return v5

    :cond_11
    :goto_7
    return v4
.end method

.method public onDoubleTapEvent(Landroid/view/MotionEvent;)Z
    .locals 0

    const/4 p1, 0x0

    return p1
.end method

.method public onDown(Landroid/view/MotionEvent;)Z
    .locals 4

    .line 17552
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-eqz v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v2, v0, v1

    if-nez v2, :cond_1

    const/4 v2, 0x1

    aget-boolean v0, v0, v2

    if-nez v0, :cond_1

    .line 17553
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result p1

    const/16 v0, 0x87

    .line 17554
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x8

    invoke-static {v0, v3}, Ljava/lang/Math;->min(II)I

    move-result v0

    int-to-float v3, v0

    cmpg-float v3, p1, v3

    if-gez v3, :cond_0

    .line 17556
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 17557
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aput-boolean v2, p1, v1

    .line 17558
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_0

    .line 17560
    :cond_0
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    sub-int/2addr v3, v0

    int-to-float v0, v3

    cmpl-float p1, p1, v0

    if-lez p1, :cond_1

    .line 17561
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 17562
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aput-boolean v2, p1, v2

    .line 17563
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_1
    :goto_0
    return v1
.end method

.method public onFling(Landroid/view/MotionEvent;Landroid/view/MotionEvent;FF)Z
    .locals 9

    .line 17655
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 p2, 0x3f800000    # 1.0f

    cmpl-float p1, p1, p2

    if-eqz p1, :cond_0

    .line 17656
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {p1}, Landroid/widget/Scroller;->abortAnimation()V

    .line 17657
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result v1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result v2

    invoke-static {p3}, Ljava/lang/Math;->round(F)I

    move-result v3

    invoke-static {p4}, Ljava/lang/Math;->round(F)I

    move-result v4

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    float-to-int v5, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    float-to-int v6, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    float-to-int v7, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    float-to-int v8, p1

    invoke-virtual/range {v0 .. v8}, Landroid/widget/Scroller;->fling(IIIIIIII)V

    .line 17658
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->postInvalidate()V

    :cond_0
    const/4 p1, 0x0

    return p1
.end method

.method public onLongPress()V
    .locals 6

    .line 17629
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const v2, 0x3f8ccccd    # 1.1f

    cmpg-float v1, v1, v2

    if-gtz v1, :cond_2

    .line 17630
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    .line 17631
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    const-wide v4, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v0, v0, v4

    if-eqz v0, :cond_2

    const-wide/16 v0, 0x3a98

    cmp-long v0, v2, v0

    if-gez v0, :cond_0

    goto :goto_1

    .line 17635
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->longPressX:F

    .line 17636
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    .line 17638
    div-int/lit8 v1, v1, 0x3

    mul-int/lit8 v2, v1, 0x2

    int-to-float v2, v2

    cmpl-float v2, v0, v2

    if-ltz v2, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    int-to-float v1, v1

    cmpg-float v0, v0, v1

    if-gez v0, :cond_2

    const/4 v0, 0x0

    .line 17645
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {v1, v2, v0, v3}, Lorg/telegram/messenger/video/VideoPlayerRewinder;->startRewind(Lorg/telegram/ui/Components/VideoPlayer;ZF)V

    nop

    :cond_2
    :goto_1
    return-void
.end method

.method public onLongPress(Landroid/view/MotionEvent;)V
    .locals 0

    return-void
.end method

.method public onPause()V
    .locals 3

    .line 15883
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 15884
    invoke-virtual {p0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 15887
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->lastTitle:Ljava/lang/CharSequence;

    if-eqz v0, :cond_1

    const/4 v0, 0x1

    .line 15888
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    .line 15890
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v2, :cond_2

    .line 15891
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    :cond_2
    return-void
.end method

.method public onResume()V
    .locals 5

    const/4 v0, 0x0

    .line 15867
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->redraw(I)V

    .line 15868
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 15869
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v1

    const-wide/16 v3, 0x1

    add-long/2addr v1, v3

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 15870
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v0, :cond_0

    .line 15871
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 15874
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_1

    .line 15875
    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onResume()V

    .line 15877
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V

    return-void
.end method

.method public onScroll(Landroid/view/MotionEvent;Landroid/view/MotionEvent;FF)Z
    .locals 0

    const/4 p1, 0x0

    return p1
.end method

.method public onShowPress(Landroid/view/MotionEvent;)V
    .locals 0

    return-void
.end method

.method public onSingleTapConfirmed(Landroid/view/MotionEvent;)Z
    .locals 11

    .line 17665
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    return v1

    .line 17668
    :cond_0
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    .line 17669
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    .line 17670
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    const/4 v4, 0x1

    if-eqz v3, :cond_2

    .line 17671
    sget-boolean v3, Lorg/telegram/messenger/SharedConfig;->nextMediaTap:Z

    if-eqz v3, :cond_2

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v3

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v5

    const/16 v5, 0x28

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    add-int/2addr v3, v5

    int-to-float v3, v3

    cmpl-float v3, v2, v3

    if-lez v3, :cond_2

    const/16 v3, 0x87

    .line 17672
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v5

    div-int/lit8 v5, v5, 0x8

    invoke-static {v3, v5}, Ljava/lang/Math;->min(II)I

    move-result v3

    int-to-float v5, v3

    cmpg-float v5, v0, v5

    if-gez v5, :cond_1

    .line 17674
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_2

    const/4 p1, -0x1

    .line 17675
    invoke-direct {p0, p1, v4}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return v4

    .line 17678
    :cond_1
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v5

    sub-int/2addr v5, v3

    int-to-float v3, v5

    cmpl-float v3, v0, v3

    if-lez v3, :cond_2

    .line 17679
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_2

    .line 17680
    invoke-direct {p0, v4, v4}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return v4

    .line 17686
    :cond_2
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v3, :cond_3

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v3

    if-eqz v3, :cond_3

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v3, :cond_3

    .line 17687
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getWebView()Landroid/webkit/WebView;

    move-result-object v3

    .line 17689
    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v5

    cmpl-float v5, v0, v5

    if-ltz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v5

    invoke-virtual {v3}, Landroid/view/View;->getWidth()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    cmpg-float v5, v0, v5

    if-gtz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v5

    cmpl-float v5, v2, v5

    if-ltz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v5

    invoke-virtual {v3}, Landroid/view/View;->getHeight()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    cmpg-float v5, v2, v5

    if-gtz v5, :cond_3

    .line 17690
    invoke-static {p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object p1

    .line 17691
    invoke-virtual {p1, v1}, Landroid/view/MotionEvent;->setAction(I)V

    .line 17692
    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v0

    neg-float v0, v0

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v1

    neg-float v1, v1

    invoke-virtual {p1, v0, v1}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 17693
    invoke-virtual {v3, p1}, Landroid/view/View;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    .line 17694
    invoke-virtual {p1, v4}, Landroid/view/MotionEvent;->setAction(I)V

    .line 17695
    invoke-virtual {v3, p1}, Landroid/view/View;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    .line 17696
    invoke-virtual {p1}, Landroid/view/MotionEvent;->recycle()V

    .line 17698
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    return v4

    .line 17702
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object p1

    const/4 v3, 0x4

    const/4 v5, 0x3

    const/16 v6, 0x64

    const/high16 v7, 0x40000000    # 2.0f

    if-eqz p1, :cond_c

    .line 17703
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz p1, :cond_4

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result p1

    if-eqz p1, :cond_5

    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p1, :cond_6

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_6

    :cond_5
    move p1, v4

    goto :goto_0

    :cond_6
    move p1, v1

    .line 17705
    :goto_0
    iget v8, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v8, v4, :cond_7

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v8, :cond_7

    .line 17706
    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result p1

    if-nez p1, :cond_a

    .line 17707
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    const/16 v0, 0x168

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    sub-int/2addr p1, v1

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float v1, v2, p1

    if-ltz v1, :cond_a

    .line 17708
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    int-to-float v0, v0

    add-float/2addr p1, v0

    cmpg-float p1, v2, p1

    if-gtz p1, :cond_a

    .line 17709
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    return v4

    .line 17714
    :cond_7
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v9, v8, v1

    if-eqz v9, :cond_a

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v9, :cond_a

    .line 17715
    aget-object v8, v8, v1

    invoke-static {v8}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v8

    .line 17716
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    sub-int/2addr v9, v10

    int-to-float v9, v9

    div-float/2addr v9, v7

    cmpl-float v9, v0, v9

    if-ltz v9, :cond_a

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    add-int/2addr v9, v10

    int-to-float v9, v9

    div-float/2addr v9, v7

    cmpg-float v0, v0, v9

    if-gtz v0, :cond_a

    .line 17717
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    sub-int/2addr v0, v9

    int-to-float v0, v0

    div-float/2addr v0, v7

    cmpl-float v0, v2, v0

    if-ltz v0, :cond_a

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    add-int/2addr v0, v6

    int-to-float v0, v0

    div-float/2addr v0, v7

    cmpg-float v0, v2, v0

    if-gtz v0, :cond_a

    if-nez p1, :cond_8

    if-lez v8, :cond_a

    if-gt v8, v5, :cond_a

    .line 17720
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 17721
    invoke-direct {p0, v1, v1, v4}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return v4

    :cond_8
    if-eq v8, v5, :cond_9

    if-ne v8, v3, :cond_a

    .line 17726
    :cond_9
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v1

    invoke-virtual {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result p1

    if-eqz p1, :cond_a

    .line 17727
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17728
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    return v4

    .line 17736
    :cond_a
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p1, :cond_b

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_b

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result p1

    if-nez p1, :cond_b

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez p1, :cond_13

    .line 17737
    :cond_b
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    xor-int/2addr p1, v4

    invoke-direct {p0, p1, v4}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto/16 :goto_2

    .line 17739
    :cond_c
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz p1, :cond_10

    if-ne p1, v3, :cond_d

    goto/16 :goto_1

    .line 17749
    :cond_d
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz p1, :cond_f

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p1

    if-nez p1, :cond_e

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result p1

    if-eqz p1, :cond_f

    .line 17750
    :cond_e
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v1

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-lez p1, :cond_13

    if-gt p1, v5, :cond_13

    .line 17752
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    sub-int/2addr p1, v3

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float p1, v0, p1

    if-ltz p1, :cond_13

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    add-int/2addr p1, v3

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpg-float p1, v0, p1

    if-gtz p1, :cond_13

    .line 17753
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    sub-int/2addr p1, v0

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float p1, v2, p1

    if-ltz p1, :cond_13

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    add-int/2addr p1, v0

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpg-float p1, v2, p1

    if-gtz p1, :cond_13

    .line 17754
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 17755
    invoke-direct {p0, v1, v1, v4}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return v4

    .line 17759
    :cond_f
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v0, 0x2

    if-ne p1, v0, :cond_13

    .line 17760
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_13

    .line 17761
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17762
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    goto :goto_2

    .line 17740
    :cond_10
    :goto_1
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_12

    .line 17741
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_11

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v1, :cond_11

    if-eq p1, v4, :cond_11

    const/high16 p1, 0x3f800000    # 1.0f

    .line 17742
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/VideoPlayer;->setVolume(F)V

    .line 17744
    :cond_11
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17745
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    goto :goto_2

    .line 17747
    :cond_12
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Landroid/view/View;->performClick()Z

    :cond_13
    :goto_2
    return v4
.end method

.method public onSingleTapUp(Landroid/view/MotionEvent;)Z
    .locals 7

    .line 17599
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doubleTapEnabled:Z

    if-nez v0, :cond_0

    .line 17600
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSingleTapConfirmed(Landroid/view/MotionEvent;)Z

    move-result p1

    return p1

    .line 17602
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    if-eqz v0, :cond_2

    .line 17603
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    .line 17604
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    .line 17606
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    const/16 v4, 0x64

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    sub-int/2addr v3, v5

    int-to-float v3, v3

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v3, v5

    cmpl-float v3, v0, v3

    if-ltz v3, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    add-int/2addr v3, v6

    int-to-float v3, v3

    div-float/2addr v3, v5

    cmpg-float v0, v0, v3

    if-gtz v0, :cond_1

    .line 17607
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    sub-int/2addr v0, v3

    int-to-float v0, v0

    div-float/2addr v0, v5

    cmpl-float v0, v2, v0

    if-ltz v0, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    add-int/2addr v0, v3

    int-to-float v0, v0

    div-float/2addr v0, v5

    cmpg-float v0, v2, v0

    if-gtz v0, :cond_1

    .line 17608
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSingleTapConfirmed(Landroid/view/MotionEvent;)Z

    move-result p1

    goto :goto_0

    :cond_1
    move p1, v1

    :goto_0
    if-eqz p1, :cond_2

    const/4 p1, 0x1

    .line 17611
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    return p1

    :cond_2
    return v1
.end method

.method public onUp(Landroid/view/MotionEvent;)V
    .locals 0

    .line 17589
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    return-void
.end method

.method public openPhoto(ILorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move/from16 v8, p1

    move-object/from16 v18, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v19, 0x0

    .line 14419
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Ljava/util/ArrayList;IJJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;IJJJ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            ")Z"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v5, p1

    move/from16 v8, p2

    move-wide/from16 v11, p3

    move-wide/from16 v13, p5

    move-wide/from16 v15, p7

    move-object/from16 v9, p9

    .line 14411
    invoke-virtual/range {p1 .. p2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            ")Z"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v6, p1

    move/from16 v8, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14415
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;ILorg/telegram/ui/ChatActivity;JJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v10, p3

    move-wide/from16 v11, p4

    move-wide/from16 v13, p6

    move-wide/from16 v15, p8

    move-object/from16 v9, p10

    .line 14391
    invoke-static/range {p2 .. p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v19

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;JJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Z)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-wide/from16 v11, p2

    move-wide/from16 v13, p4

    move-wide/from16 v15, p6

    move-object/from16 v9, p8

    move/from16 v17, p9

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14395
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z
    .locals 16
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/messenger/MessageObject;",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            "JJJZ",
            "Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;",
            "Ljava/lang/Integer;",
            ")Z"
        }
    .end annotation

    move-object/from16 v12, p0

    move-object/from16 v0, p1

    move-object/from16 v3, p2

    move-object/from16 v11, p9

    move-object/from16 v1, p10

    move-object/from16 v13, p18

    move-object/from16 v14, p19

    .line 14682
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v15, 0x0

    if-eqz v2, :cond_24

    iget-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-nez v2, :cond_24

    if-nez v11, :cond_0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkAnimation()Z

    move-result v2

    if-nez v2, :cond_24

    :cond_0
    if-nez v0, :cond_1

    if-nez v3, :cond_1

    if-nez p5, :cond_1

    if-nez p7, :cond_1

    if-nez p6, :cond_1

    if-nez p3, :cond_1

    if-nez v13, :cond_1

    goto/16 :goto_b

    :cond_1
    const/4 v10, 0x1

    move/from16 v9, p8

    .line 14686
    invoke-interface {v11, v0, v3, v9, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v8

    .line 14687
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x15

    if-ge v2, v4, :cond_2

    .line 14688
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    iput v5, v2, Landroid/graphics/Rect;->top:I

    .line 14689
    sget v5, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    iput v5, v2, Landroid/graphics/Rect;->bottom:I

    .line 14691
    :cond_2
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v5, "window"

    invoke-virtual {v2, v5}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/view/WindowManager;

    .line 14692
    iget-boolean v5, v12, Lorg/telegram/ui/PhotoViewer;->attachedToWindow:Z

    if-eqz v5, :cond_3

    .line 14694
    :try_start_0
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v2, v5}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 14695
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 14702
    :catch_0
    :cond_3
    :try_start_1
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v6, 0x63

    iput v6, v5, Landroid/view/WindowManager$LayoutParams;->type:I

    .line 14703
    sget v6, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v6, v4, :cond_4

    const v4, -0x7ffcff00

    .line 14704
    iput v4, v5, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_0

    :cond_4
    const/high16 v4, 0x20000

    .line 14710
    iput v4, v5, Landroid/view/WindowManager$LayoutParams;->flags:I

    :goto_0
    if-eqz v1, :cond_5

    .line 14712
    invoke-virtual/range {p10 .. p10}, Lorg/telegram/ui/ChatActivity;->getCurrentEncryptedChat()Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    move-result-object v4

    if-nez v4, :cond_8

    :cond_5
    iget-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v4, v4, v6

    if-eqz v4, :cond_6

    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 14713
    invoke-static {v4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v4

    iget-wide v5, v12, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v5, v5

    invoke-virtual {v4, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    :cond_6
    if-eqz v0, :cond_7

    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 14714
    invoke-static {v4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v4

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v5

    invoke-virtual {v4, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    iget-object v4, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v4, :cond_7

    iget-boolean v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v4, :cond_8

    :cond_7
    if-eqz v0, :cond_9

    .line 14715
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v4

    if-eqz v4, :cond_9

    .line 14716
    :cond_8
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    iget v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    or-int/lit16 v5, v5, 0x2000

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_1

    .line 14718
    :cond_9
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    iget v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    and-int/lit16 v5, v5, -0x2001

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 14720
    :goto_1
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v5, 0x110

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 14721
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v4, v15}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14722
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v15}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14723
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v2, v4, v5}, Landroid/view/WindowManager;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 14724
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->onShowView()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    .line 14730
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 14731
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14732
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    .line 14733
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    .line 14734
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 14735
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v1, 0x0

    .line 14736
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->lastTitle:Ljava/lang/CharSequence;

    if-eqz v14, :cond_a

    move v2, v10

    goto :goto_2

    :cond_a
    move v2, v15

    .line 14737
    :goto_2
    iput-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    .line 14739
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const-string v4, ""

    invoke-virtual {v2, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 14740
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v4, v15}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    .line 14741
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_b

    .line 14742
    invoke-virtual {v2, v15, v15, v15}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(IIZ)V

    .line 14743
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-virtual {v2, v15, v15}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 14745
    :cond_b
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v2, v15}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleScrollNonFitText(Z)V

    .line 14747
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14748
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14749
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14750
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14751
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14752
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosUpdate:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14753
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14754
    invoke-static {}, Lorg/telegram/messenger/NotificationCenter;->getGlobalInstance()Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14755
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14756
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14758
    iput-object v11, v12, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    move-wide/from16 v4, p13

    .line 14759
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    move-wide/from16 v4, p11

    .line 14760
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    move-wide/from16 v4, p15

    .line 14761
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->topicId:J

    .line 14762
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v2}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 14763
    iput-object v13, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 14764
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    .line 14766
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v2, :cond_c

    .line 14767
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v2

    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 14770
    :cond_c
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 14771
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14773
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    xor-int/lit8 v2, p17, 0x1

    .line 14775
    iput-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    if-eqz v2, :cond_d

    .line 14777
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_3

    .line 14779
    :cond_d
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_e

    .line 14780
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 14781
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_3

    .line 14783
    :cond_e
    invoke-direct {v12, v10, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 14787
    :goto_3
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v15}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 14788
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, v15}, Landroid/view/View;->setVisibility(I)V

    const/4 v7, 0x0

    .line 14790
    iput v7, v12, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14791
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14792
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    const/high16 v6, 0x3f800000    # 1.0f

    if-eqz v8, :cond_1e

    .line 14794
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    .line 14795
    iput v10, v12, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_14

    .line 14797
    iget-boolean v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->allowTakeAnimation:Z

    if-eqz v2, :cond_f

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v2

    goto :goto_4

    :cond_f
    move-object v2, v1

    :goto_4
    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v2, :cond_15

    .line 14799
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_13

    .line 14800
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v15}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 14801
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->stopAnimation()V

    .line 14802
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v2

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/MediaController;->isPlayingMessage(Lorg/telegram/messenger/MessageObject;)Z

    move-result v2

    if-eqz v2, :cond_10

    .line 14803
    iget v2, v0, Lorg/telegram/messenger/MessageObject;->audioProgress:F

    iput v2, v12, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14805
    :cond_10
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v2, :cond_12

    iget v2, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    invoke-virtual {v2, v4, v10}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v2

    if-nez v2, :cond_12

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->hasBitmap()Z

    move-result v2

    if-nez v2, :cond_11

    iget v2, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    invoke-virtual {v2, v4, v15}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v2

    if-nez v2, :cond_12

    :cond_11
    move v2, v10

    goto :goto_5

    :cond_12
    move v2, v15

    :goto_5
    iput-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14806
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    goto :goto_6

    .line 14807
    :cond_13
    invoke-virtual {v0, v1, v1}, Lorg/telegram/messenger/MessageObject;->getWebPagePhotos(Ljava/util/ArrayList;Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v2

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-le v2, v10, :cond_15

    .line 14808
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    goto :goto_6

    :cond_14
    if-eqz v13, :cond_15

    .line 14812
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v1

    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    :cond_15
    :goto_6
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    move v0, v6

    move-object/from16 v6, p5

    move v0, v7

    move-object/from16 v7, p6

    move-object/from16 p10, v8

    move-object/from16 v8, p7

    move/from16 v9, p8

    move v0, v10

    move-object/from16 v10, p10

    .line 14815
    invoke-direct/range {v1 .. v10}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14816
    iget v1, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v0, :cond_16

    .line 14817
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14818
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 14819
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v15}, Lorg/telegram/ui/Components/PhotoCropView;->setFreeform(Z)V

    :cond_16
    move-object/from16 v10, p10

    .line 14821
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getDrawRegion()Landroid/graphics/RectF;

    move-result-object v1

    .line 14822
    iget v5, v1, Landroid/graphics/RectF;->left:F

    .line 14823
    iget v7, v1, Landroid/graphics/RectF;->top:F

    .line 14824
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    .line 14825
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getAnimatedOrientation()I

    move-result v3

    if-eqz v3, :cond_17

    move v2, v3

    .line 14830
    :cond_17
    invoke-direct {v12, v10}, Lorg/telegram/ui/PhotoViewer;->getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;

    move-result-object v3

    const/high16 v4, 0x3f800000    # 1.0f

    .line 14831
    iput v4, v12, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    move v4, v15

    .line 14833
    :goto_7
    array-length v6, v3

    if-ge v4, v6, :cond_18

    .line 14834
    aget-object v6, v3, v4

    iget-object v8, v12, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 14835
    aget-object v6, v3, v4

    invoke-virtual {v6, v15}, Landroid/view/View;->setVisibility(I)V

    .line 14836
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->radius:[I

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setRadius([I)V

    .line 14837
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v8

    invoke-virtual {v6, v2, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 14838
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v4, v4, 0x1

    goto :goto_7

    .line 14841
    :cond_18
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14842
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v0, :cond_19

    .line 14843
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/high16 v4, 0x3f800000    # 1.0f

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/PhotoCropView;->setAspectRatio(F)V

    .line 14846
    :cond_19
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v4

    .line 14847
    invoke-virtual {v1}, Landroid/graphics/RectF;->width()F

    move-result v2

    float-to-int v2, v2

    iput v2, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 14848
    invoke-virtual {v1}, Landroid/graphics/RectF;->height()F

    move-result v2

    float-to-int v2, v2

    iput v2, v4, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 14849
    iget v6, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    const/16 v8, 0x64

    if-gtz v6, :cond_1a

    .line 14850
    iput v8, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    :cond_1a
    if-gtz v2, :cond_1b

    .line 14853
    iput v8, v4, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 14856
    :cond_1b
    :goto_8
    array-length v2, v3

    if-ge v15, v2, :cond_1d

    .line 14857
    array-length v2, v3

    if-le v2, v0, :cond_1c

    .line 14858
    aget-object v2, v3, v15

    const/4 v6, 0x0

    invoke-virtual {v2, v6}, Landroid/view/View;->setAlpha(F)V

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_9

    :cond_1c
    const/4 v6, 0x0

    .line 14860
    aget-object v2, v3, v15

    const/high16 v8, 0x3f800000    # 1.0f

    invoke-virtual {v2, v8}, Landroid/view/View;->setAlpha(F)V

    .line 14862
    :goto_9
    aget-object v2, v3, v15

    invoke-virtual {v2, v6}, Landroid/view/View;->setPivotX(F)V

    .line 14863
    aget-object v2, v3, v15

    invoke-virtual {v2, v6}, Landroid/view/View;->setPivotY(F)V

    .line 14864
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    invoke-virtual {v2, v9}, Landroid/view/View;->setScaleX(F)V

    .line 14865
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    invoke-virtual {v2, v9}, Landroid/view/View;->setScaleY(F)V

    .line 14866
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewX:I

    int-to-float v9, v9

    iget v6, v1, Landroid/graphics/RectF;->left:F

    iget v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float/2addr v6, v8

    add-float/2addr v9, v6

    invoke-virtual {v2, v9}, Landroid/view/View;->setTranslationX(F)V

    .line 14867
    aget-object v2, v3, v15

    iget v6, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v6, v6

    iget v8, v1, Landroid/graphics/RectF;->top:F

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float/2addr v8, v9

    add-float/2addr v6, v8

    invoke-virtual {v2, v6}, Lorg/telegram/ui/Components/ClippingImageView;->setTranslationY(F)V

    .line 14868
    aget-object v2, v3, v15

    invoke-virtual {v2, v4}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    add-int/lit8 v15, v15, 0x1

    goto :goto_8

    .line 14871
    :cond_1d
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object v15

    new-instance v9, Lorg/telegram/ui/PhotoViewer$67;

    move-object v1, v9

    move-object/from16 v2, p0

    move-object v6, v10

    move-object/from16 v8, p18

    move-object v13, v9

    move-object/from16 v9, p9

    move-object/from16 v10, p7

    move-object/from16 v11, p19

    invoke-direct/range {v1 .. v11}, Lorg/telegram/ui/PhotoViewer$67;-><init>(Lorg/telegram/ui/PhotoViewer;[Lorg/telegram/ui/Components/ClippingImageView;Landroid/view/ViewGroup$LayoutParams;FLorg/telegram/ui/PhotoViewer$PlaceProviderObject;FLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Ljava/util/ArrayList;Ljava/lang/Integer;)V

    invoke-virtual {v15, v13}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    goto :goto_a

    :cond_1e
    move v1, v6

    move v0, v10

    move-object v10, v8

    if-eqz p7, :cond_20

    .line 15086
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x3

    if-eq v2, v4, :cond_20

    .line 15087
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_1f

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->closeKeyboard()Z

    move-result v2

    if-nez v2, :cond_20

    .line 15088
    :cond_1f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 15093
    :cond_20
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    move-object/from16 v6, p5

    move-object/from16 v7, p6

    move-object/from16 v8, p7

    move/from16 v9, p8

    .line 15094
    invoke-direct/range {v1 .. v10}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15095
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 15096
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    .line 15097
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_22

    .line 15098
    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getUndoView()Lorg/telegram/ui/Components/UndoView;

    move-result-object v1

    if-eqz v1, :cond_21

    .line 15100
    invoke-virtual {v1, v15, v0}, Lorg/telegram/ui/Components/UndoView;->hide(ZI)V

    .line 15102
    :cond_21
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->invalidate()V

    .line 15104
    :cond_22
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object v1

    new-instance v2, Lorg/telegram/ui/PhotoViewer$68;

    invoke-direct {v2, v12, v11, v14}, Lorg/telegram/ui/PhotoViewer$68;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Ljava/lang/Integer;)V

    invoke-virtual {v1, v2}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    .line 15174
    :goto_a
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "accessibility"

    invoke-virtual {v1, v2}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/accessibility/AccessibilityManager;

    .line 15175
    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isTouchExplorationEnabled()Z

    move-result v2

    if-eqz v2, :cond_23

    .line 15176
    invoke-static {}, Landroid/view/accessibility/AccessibilityEvent;->obtain()Landroid/view/accessibility/AccessibilityEvent;

    move-result-object v2

    const/16 v3, 0x4000

    .line 15177
    invoke-virtual {v2, v3}, Landroid/view/accessibility/AccessibilityEvent;->setEventType(I)V

    .line 15178
    invoke-virtual {v2}, Landroid/view/accessibility/AccessibilityEvent;->getText()Ljava/util/List;

    move-result-object v3

    sget v4, Lorg/telegram/messenger/R$string;->AccDescrPhotoViewer:I

    const-string v5, "AccDescrPhotoViewer"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-interface {v3, v4}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 15179
    invoke-virtual {v1, v2}, Landroid/view/accessibility/AccessibilityManager;->sendAccessibilityEvent(Landroid/view/accessibility/AccessibilityEvent;)V

    :cond_23
    return v0

    :catch_1
    move-exception v0

    .line 14726
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_24
    :goto_b
    return v15
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/ui/ChatActivity;JJJLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v10, p2

    move-wide/from16 v11, p3

    move-wide/from16 v13, p5

    move-wide/from16 v15, p7

    move-object/from16 v9, p9

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14387
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14407
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v9, p2

    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14399
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhotoForSelect(Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z
    .locals 9
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;IIZ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            ")Z"
        }
    .end annotation

    const/4 v1, 0x0

    const/4 v2, 0x0

    move-object v0, p0

    move-object v3, p1

    move v4, p2

    move v5, p3

    move v6, p4

    move-object v7, p5

    move-object v8, p6

    .line 14423
    invoke-virtual/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->openPhotoForSelect(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z

    move-result p1

    return p1
.end method

.method public openPhotoForSelect(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z
    .locals 20
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;IIZ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            ")Z"
        }
    .end annotation

    move-object/from16 v10, p0

    move/from16 v0, p5

    move/from16 v1, p6

    .line 14427
    iput-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    .line 14428
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v11, 0x1

    const/4 v2, 0x0

    if-eqz v1, :cond_4

    .line 14429
    invoke-virtual {v1}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v1

    check-cast v1, Landroid/widget/FrameLayout$LayoutParams;

    const/4 v3, 0x4

    const v4, 0x40ea8f5c    # 7.33f

    if-eq v0, v3, :cond_3

    const/4 v3, 0x5

    if-ne v0, v3, :cond_0

    goto :goto_1

    :cond_0
    if-eq v0, v11, :cond_2

    const/4 v3, 0x3

    if-eq v0, v3, :cond_2

    const/16 v3, 0xa

    if-ne v0, v3, :cond_1

    goto :goto_0

    .line 14438
    :cond_1
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setImageResource(I)V

    const v3, 0x40151eb8    # 2.33f

    .line 14439
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    goto :goto_2

    .line 14434
    :cond_2
    :goto_0
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v5, Lorg/telegram/messenger/R$drawable;->floating_check:I

    invoke-virtual {v3, v5}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 14435
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    invoke-virtual {v3, v2, v5, v2, v2}, Landroid/widget/ImageView;->setPadding(IIII)V

    .line 14436
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    goto :goto_2

    .line 14431
    :cond_3
    :goto_1
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v5, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v3, v5}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 14432
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    .line 14441
    :goto_2
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v1}, Landroid/widget/ImageView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 14443
    :cond_4
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v11, :cond_6

    if-ne v0, v11, :cond_6

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v1, :cond_6

    .line 14444
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 14445
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14446
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const-string v1, ""

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 14447
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    move-object/from16 v9, p7

    .line 14448
    iput-object v9, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const-wide/16 v0, 0x0

    .line 14449
    iput-wide v0, v10, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    .line 14450
    iput-wide v0, v10, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    .line 14451
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    const/4 v0, 0x0

    .line 14452
    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 14454
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v0, :cond_5

    .line 14455
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 14458
    :cond_5
    iput-boolean v11, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 14459
    iput-boolean v11, v10, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14461
    invoke-direct {v10, v2, v2}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    .line 14463
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 14464
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 14465
    invoke-direct {v10, v2, v2}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    const/4 v0, 0x0

    .line 14466
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14467
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14468
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 14470
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14472
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    .line 14473
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v9, 0x0

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v7, p3

    move/from16 v8, p4

    .line 14474
    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14475
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14476
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    return v11

    :cond_6
    move-object/from16 v9, p7

    .line 14479
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v7, p3

    move/from16 v8, p4

    move-object/from16 v9, p7

    move-object/from16 v10, p8

    .line 14480
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhotoWithVideo(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 20

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v4, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const-wide/16 v15, 0x0

    const/16 v17, 0x1

    const/16 v18, 0x0

    const/16 v19, 0x0

    .line 14403
    invoke-virtual/range {v0 .. v19}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJJZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openStickerEditor(Lorg/telegram/messenger/MediaController$PhotoEntry;ZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)V
    .locals 7

    .line 342
    new-instance v1, Ljava/util/ArrayList;

    invoke-static {p1}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object p1

    invoke-direct {v1, p1}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v6, 0x0

    move-object v0, p0

    move-object v5, p3

    invoke-virtual/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->openPhotoForSelect(Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z

    .line 343
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1, p3}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 344
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p1, p3}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    if-eqz p2, :cond_0

    const/4 p1, 0x1

    .line 346
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 347
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    :cond_0
    return-void
.end method

.method providePresenter()Lcom/iMe/ui/recognition/PhotoViewerPresenter;
    .locals 1
    .annotation runtime Lmoxy/presenter/ProvidePresenter;
    .end annotation

    .line 321
    const-class v0, Lcom/iMe/ui/recognition/PhotoViewerPresenter;

    invoke-static {v0}, Lorg/koin/java/KoinJavaComponent;->get(Ljava/lang/Class;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/iMe/ui/recognition/PhotoViewerPresenter;

    return-object v0
.end method

.method public synthetic removeSelfFromStackImmediately()V
    .locals 0

    invoke-static {p0}, Lcom/iMe/ui/base/mvp/base/BaseView$-CC;->$default$removeSelfFromStackImmediately(Lcom/iMe/ui/base/mvp/base/BaseView;)V

    return-void
.end method

.method public setAnimationValue(F)V
    .locals 0
    .annotation build Landroidx/annotation/Keep;
    .end annotation

    .line 16425
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 16426
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16427
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method public setAvatarFor(Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;)V
    .locals 6

    .line 1363
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    .line 1364
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-ne v0, v2, :cond_4

    .line 1366
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    if-eqz v0, :cond_1

    .line 1367
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v0

    const/16 v4, 0x8

    if-eqz v0, :cond_0

    .line 1368
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setVisibility(I)V

    .line 1369
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_0

    .line 1371
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 1372
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v4}, Landroid/widget/TextView;->setVisibility(I)V

    :cond_1
    :goto_0
    if-eqz p1, :cond_3

    .line 1374
    iget-object v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->fromObject:Lorg/telegram/tgnet/TLRPC$User;

    if-eqz v0, :cond_3

    iget v4, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    if-ne v4, v2, :cond_3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget-boolean v4, v4, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->self:Z

    if-eqz v4, :cond_3

    .line 1375
    iget-boolean v4, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz v4, :cond_2

    .line 1376
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget v5, Lorg/telegram/messenger/R$string;->SetSuggestedVideoTooltip:I

    new-array v2, v2, [Ljava/lang/Object;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    aput-object v0, v2, v3

    const-string v0, "SetSuggestedVideoTooltip"

    invoke-static {v0, v5, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    goto :goto_1

    .line 1378
    :cond_2
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget v5, Lorg/telegram/messenger/R$string;->SetSuggestedPhotoTooltip:I

    new-array v2, v2, [Ljava/lang/Object;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    aput-object v0, v2, v3

    const-string v0, "SetSuggestedPhotoTooltip"

    invoke-static {v0, v5, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    goto :goto_1

    .line 1381
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    :cond_4
    :goto_1
    if-eqz p1, :cond_8

    .line 1385
    iget v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    const/4 v2, 0x2

    if-ne v0, v2, :cond_6

    .line 1386
    iget-boolean v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz v0, :cond_5

    sget v0, Lorg/telegram/messenger/R$string;->SuggestVideo:I

    const-string v2, "SuggestVideo"

    goto :goto_2

    :cond_5
    sget v0, Lorg/telegram/messenger/R$string;->SuggestPhoto:I

    const-string v2, "SuggestPhoto"

    :goto_2
    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->setTitle(Ljava/lang/CharSequence;)V

    .line 1388
    :cond_6
    iget-boolean p1, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz p1, :cond_7

    .line 1389
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    sget v0, Lorg/telegram/messenger/R$string;->SetCover:I

    const-string v2, "SetCover"

    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 1391
    :cond_7
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {p1, v1}, Landroid/widget/FrameLayout;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 1392
    sget p1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0x15

    if-lt p1, v0, :cond_8

    .line 1393
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v0, 0x40000000    # 2.0f

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setElevation(F)V

    :cond_8
    return-void
.end method

.method public setCaption(Ljava/lang/CharSequence;)V
    .locals 2

    const/4 v0, 0x1

    .line 1356
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 1357
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    const/4 v0, 0x0

    const/4 v1, 0x0

    .line 1358
    invoke-direct {p0, v0, p1, v1, v1}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    .line 1359
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V

    return-void
.end method

.method public setMaxSelectedPhotos(IZ)V
    .locals 0

    .line 14372
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    .line 14373
    iput-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    return-void
.end method

.method public setParentActivity(Landroid/app/Activity;)V
    .locals 1

    const/4 v0, 0x0

    .line 4529
    invoke-virtual {p0, p1, v0, v0}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 40

    move-object/from16 v9, p0

    move-object/from16 v10, p3

    if-eqz p1, :cond_0

    move-object/from16 v11, p1

    goto :goto_0

    .line 4545
    :cond_0
    invoke-virtual/range {p2 .. p2}, Lorg/telegram/ui/ActionBar/BaseFragment;->getParentActivity()Landroid/app/Activity;

    move-result-object v0

    move-object v11, v0

    :goto_0
    const/4 v12, 0x0

    .line 4546
    invoke-static {v11, v12}, Lorg/telegram/ui/ActionBar/Theme;->createChatResources(Landroid/content/Context;Z)V

    .line 4547
    iput-object v10, v9, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object/from16 v0, p2

    .line 4548
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    .line 4549
    sget v0, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 4550
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4551
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4552
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4553
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    .line 4554
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setAccount(I)V

    .line 4556
    :cond_1
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eq v0, v11, :cond_13

    if-nez v11, :cond_2

    goto/16 :goto_b

    .line 4560
    :cond_2
    instance-of v0, v11, Lorg/telegram/ui/BubbleActivity;

    iput-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    .line 4561
    iput-object v11, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    .line 4562
    new-instance v0, Landroid/view/ContextThemeWrapper;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$style;->Theme_TMessages:I

    invoke-direct {v0, v1, v2}, Landroid/view/ContextThemeWrapper;-><init>(Landroid/content/Context;I)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    .line 4563
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {v0}, Landroid/view/ViewConfiguration;->get(Landroid/content/Context;)Landroid/view/ViewConfiguration;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewConfiguration;->getScaledTouchSlop()I

    move-result v0

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->touchSlop:I

    .line 4565
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    const/4 v13, 0x2

    const/4 v14, 0x3

    const/4 v15, 0x1

    if-nez v0, :cond_3

    .line 4566
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v1, Lorg/telegram/messenger/R$drawable;->circle_big:I

    invoke-static {v0, v1}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    new-array v1, v14, [Landroid/graphics/drawable/Drawable;

    aput-object v0, v1, v12

    .line 4567
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$drawable;->cancel_big:I

    .line 4569
    invoke-static {v0, v2}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    aput-object v0, v1, v15

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$drawable;->load_big:I

    .line 4570
    invoke-static {v0, v2}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    aput-object v0, v1, v13

    sput-object v1, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    .line 4574
    :cond_3
    new-instance v0, Landroid/widget/Scroller;

    invoke-direct {v0, v11}, Landroid/widget/Scroller;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    .line 4576
    new-instance v0, Lorg/telegram/ui/PhotoViewer$13;

    invoke-direct {v0, v9, v11}, Lorg/telegram/ui/PhotoViewer$13;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    .line 4770
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 4771
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 4773
    new-instance v0, Lorg/telegram/ui/Components/ClippingImageView;

    invoke-direct {v0, v11}, Lorg/telegram/ui/Components/ClippingImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 4774
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 4775
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    const/16 v2, 0x28

    const/16 v3, 0x28

    invoke-static {v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4777
    new-instance v0, Lorg/telegram/ui/PhotoViewer$14;

    invoke-direct {v0, v9, v11, v11}, Lorg/telegram/ui/PhotoViewer$14;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/app/Activity;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    .line 4811
    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 4813
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v15}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 4814
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v15}, Landroid/widget/FrameLayout;->setClipToPadding(Z)V

    .line 4815
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 4816
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipToPadding(Z)V

    .line 4818
    new-instance v0, Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;-><init>(Landroid/view/View;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    .line 4819
    iput v15, v0, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->padding:I

    .line 4821
    new-instance v1, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v3, 0x6

    invoke-direct {v1, v0, v2, v3}, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;-><init>(Lorg/telegram/ui/Components/BlurringShader$BlurManager;Landroid/view/View;I)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    .line 4823
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v8, -0x1

    const/16 v7, 0x33

    invoke-static {v8, v8, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4824
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v0, v6, :cond_4

    .line 4825
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setFitsSystemWindows(Z)V

    .line 4826
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda26;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda26;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setOnApplyWindowInsetsListener(Landroid/view/View$OnApplyWindowInsetsListener;)V

    .line 4874
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v2, 0x700

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setSystemUiVisibility(I)V

    .line 4877
    :cond_4
    new-instance v1, Landroid/view/WindowManager$LayoutParams;

    invoke-direct {v1}, Landroid/view/WindowManager$LayoutParams;-><init>()V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    .line 4878
    iput v8, v1, Landroid/view/WindowManager$LayoutParams;->height:I

    const/4 v2, -0x3

    .line 4879
    iput v2, v1, Landroid/view/WindowManager$LayoutParams;->format:I

    .line 4880
    iput v8, v1, Landroid/view/WindowManager$LayoutParams;->width:I

    .line 4881
    iput v7, v1, Landroid/view/WindowManager$LayoutParams;->gravity:I

    const/16 v2, 0x63

    .line 4882
    iput v2, v1, Landroid/view/WindowManager$LayoutParams;->type:I

    const/16 v2, 0x1c

    if-lt v0, v2, :cond_5

    .line 4884
    iput v15, v1, Landroid/view/WindowManager$LayoutParams;->layoutInDisplayCutoutMode:I

    :cond_5
    if-lt v0, v6, :cond_6

    const v0, -0x7ffcff00

    .line 4887
    iput v0, v1, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_1

    :cond_6
    const/high16 v0, 0x20000

    .line 4893
    iput v0, v1, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 4896
    :goto_1
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4897
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v5, -0x2

    invoke-static {v5, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4898
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4899
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v5, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4900
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4901
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v5, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4903
    new-instance v0, Lorg/telegram/ui/PhotoViewer$15;

    invoke-direct {v0, v9, v11}, Lorg/telegram/ui/PhotoViewer$15;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    .line 4910
    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/ActionBar;->setOverlayTitleAnimation(Z)V

    .line 4911
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleColor(I)V

    .line 4912
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setSubtitleColor(I)V

    .line 4913
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v1, 0x7f000000

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 4914
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setOccupyStatusBar(Z)V

    .line 4915
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const v4, 0x40ffffff    # 7.9999995f

    invoke-virtual {v0, v4, v12}, Lorg/telegram/ui/ActionBar/ActionBar;->setItemsBackgroundColor(IZ)V

    .line 4916
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget v2, Lorg/telegram/messenger/R$drawable;->ic_ab_back:I

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackButtonImage(I)V

    .line 4917
    new-instance v0, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    .line 4918
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/16 v3, 0x77

    invoke-static {v8, v8, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4919
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-static {v8, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4921
    new-instance v0, Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    .line 4922
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v3, 0x37

    invoke-static {v8, v5, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4924
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$16;

    invoke-direct {v2, v9, v10}, Lorg/telegram/ui/PhotoViewer$16;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setActionBarMenuOnItemClick(Lorg/telegram/ui/ActionBar/ActionBar$ActionBarMenuOnItemClick;)V

    .line 5687
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->createMenu()Lorg/telegram/ui/ActionBar/ActionBarMenu;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    .line 5688
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda71;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda71;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->setOnLayoutListener(Ljava/lang/Runnable;)V

    .line 5690
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/16 v2, 0xd

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_mask:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5691
    sget v2, Lorg/telegram/messenger/R$string;->Masks:I

    const-string v3, "Masks"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5692
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/4 v2, 0x5

    sget v3, Lorg/telegram/messenger/R$drawable;->ic_goinline:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5693
    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPipMode:I

    const-string v3, "AccDescrPipMode"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5694
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_header_draw:I

    const/16 v3, 0x14

    invoke-virtual {v0, v3, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5695
    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoEditor:I

    const-string v3, "AccDescrPhotoEditor"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5697
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_SAVE_CLOUD:I

    sget v3, Lorg/telegram/messenger/R$drawable;->fork_forward_cloud:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5698
    sget v2, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_cloud:I

    invoke-static {v2}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5700
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_header_share:I

    invoke-virtual {v0, v14, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5701
    sget v2, Lorg/telegram/messenger/R$string;->Forward:I

    const-string v3, "Forward"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5703
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    new-instance v2, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-direct {v2}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;-><init>()V

    iput-object v2, v9, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-virtual {v0, v12, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(ILandroid/graphics/drawable/Drawable;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5704
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda89;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda89;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setOnMenuDismiss(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 5706
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    iput-boolean v15, v0, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->swipeBackGravityRight:Z

    .line 5707
    new-instance v0, Lorg/telegram/ui/ChooseSpeedLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v3

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->getSwipeBack()Lorg/telegram/ui/Components/PopupSwipeBackLayout;

    move-result-object v3

    new-instance v7, Lorg/telegram/ui/PhotoViewer$17;

    invoke-direct {v7, v9}, Lorg/telegram/ui/PhotoViewer$17;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, v2, v3, v7}, Lorg/telegram/ui/ChooseSpeedLayout;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/PopupSwipeBackLayout;Lorg/telegram/ui/ChooseSpeedLayout$Callback;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    .line 5734
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_speed:I

    sget v3, Lorg/telegram/messenger/R$string;->Speed:I

    const-string v7, "Speed"

    invoke-static {v7, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    iget-object v7, v7, Lorg/telegram/ui/ChooseSpeedLayout;->speedSwipeBackLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/4 v5, 0x0

    invoke-virtual {v0, v2, v5, v3, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSwipeBackItem(ILandroid/graphics/drawable/Drawable;Ljava/lang/String;Landroid/view/View;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5735
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    const v2, -0xddddde

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setSwipeBackForegroundColor(I)V

    .line 5736
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v2, Lorg/telegram/messenger/R$string;->SpeedNormal:I

    const-string v3, "SpeedNormal"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    .line 5737
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    const v2, -0x50506

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5738
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addColoredGap()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    const v3, -0xe7e7e8

    .line 5739
    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;->setColor(I)V

    .line 5740
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setFitItems(Z)V

    .line 5742
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xb

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_openin:I

    sget v5, Lorg/telegram/messenger/R$string;->OpenInExternalApp:I

    const-string v4, "OpenInExternalApp"

    invoke-static {v4, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v3, v7, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5743
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrMoreOptions:I

    const-string v4, "AccDescrMoreOptions"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5744
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_media:I

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllMedia:I

    invoke-static {v4}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v13, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5745
    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5746
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xe

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_gif:I

    sget v5, Lorg/telegram/messenger/R$string;->SaveToGIFs:I

    const-string v7, "SaveToGIFs"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5747
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_message:I

    sget v4, Lorg/telegram/messenger/R$string;->ShowInChat:I

    const-string v5, "ShowInChat"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x4

    invoke-virtual {v0, v5, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5748
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xf

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_sticker:I

    sget v7, Lorg/telegram/messenger/R$string;->ShowStickers:I

    const-string v5, "ShowStickers"

    invoke-static {v5, v7}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5749
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xa

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_shareout:I

    sget v5, Lorg/telegram/messenger/R$string;->ShareFile:I

    const-string v7, "ShareFile"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5750
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_gallery:I

    sget v4, Lorg/telegram/messenger/R$string;->SaveToGallery:I

    const-string v5, "SaveToGallery"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v15, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5752
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x10

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_openprofile:I

    sget v5, Lorg/telegram/messenger/R$string;->SetAsMain:I

    const-string v7, "SetAsMain"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5753
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_translate:I

    sget v4, Lorg/telegram/messenger/R$string;->TranslateMessage:I

    invoke-static {v4}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v6, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5754
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v4, 0x16

    sget v5, Lorg/telegram/messenger/R$string;->HideTranslation:I

    invoke-static {v5}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v4, v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5756
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->getTextColor()I

    move-result v0

    .line 5757
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->PHOTO_COPY:I

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_copy:I

    sget v19, Lorg/telegram/messenger/R$string;->photo_viewer_image_copy:I

    invoke-static/range {v19 .. v19}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5758
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->PHOTO_TEXT:I

    sget v7, Lorg/telegram/messenger/R$drawable;->fork_photo_text:I

    sget v14, Lorg/telegram/messenger/R$string;->photo_viewer_open_recognize_text:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5759
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->PHOTO_OBJECTS:I

    sget v7, Lorg/telegram/messenger/R$drawable;->fork_photo_objects:I

    sget v14, Lorg/telegram/messenger/R$string;->photo_viewer_open_recognize_photo:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5760
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP:I

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_forward:I

    sget v14, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_whatsapp:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5761
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP_BUSINESS:I

    sget v14, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_whatsapp_business:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5762
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_VIBER:I

    sget v14, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_viber:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5763
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    sget v7, Lorg/telegram/messenger/R$string;->chat_long_action_translate:I

    invoke-static {v7}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v4, v5, v3, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v3

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5764
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v4, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_DELETE_FROM_CACHE:I

    sget v5, Lorg/telegram/messenger/R$drawable;->msg_clear:I

    sget v7, Lorg/telegram/messenger/R$string;->ClearHistoryCache:I

    const-string v14, "ClearHistoryCache"

    invoke-static {v14, v7}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v3, v4, v5, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v3

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5766
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x6

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_delete:I

    sget v5, Lorg/telegram/messenger/R$string;->Delete:I

    const-string v7, "Delete"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5767
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x7

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_cancel:I

    sget v5, Lorg/telegram/messenger/R$string;->StopDownload:I

    const-string v7, "StopDownload"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5768
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const v2, -0x6ddddde

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->redrawPopup(I)V

    .line 5769
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 5770
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 5771
    invoke-direct {v9, v12, v15}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    .line 5772
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const v2, 0xfffffff

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setPopupItemsSelectorColor(I)V

    .line 5774
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$18;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$18;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubMenuDelegate(Lorg/telegram/ui/ActionBar/ActionBarMenuItem$ActionBarSubMenuItemDelegate;)V

    .line 5790
    new-instance v0, Lorg/telegram/ui/PhotoViewer$19;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v2}, Lorg/telegram/ui/PhotoViewer$19;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    .line 5796
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 5797
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v14, 0x30

    const/16 v7, 0x53

    invoke-static {v8, v14, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5799
    new-instance v0, Landroid/view/View;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v2}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    .line 5800
    invoke-virtual {v0, v1}, Landroid/view/View;->setBackgroundColor(I)V

    .line 5801
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    const/high16 v3, -0x40800000    # -1.0f

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    int-to-float v4, v4

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v4, v5

    const/16 v5, 0x57

    invoke-static {v3, v4, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(FFI)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5803
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-instance v2, Landroid/graphics/drawable/GradientDrawable;

    sget-object v3, Landroid/graphics/drawable/GradientDrawable$Orientation;->LEFT_RIGHT:Landroid/graphics/drawable/GradientDrawable$Orientation;

    new-array v4, v13, [I

    fill-array-data v4, :array_0

    invoke-direct {v2, v3, v4}, Landroid/graphics/drawable/GradientDrawable;-><init>(Landroid/graphics/drawable/GradientDrawable$Orientation;[I)V

    aput-object v2, v0, v12

    .line 5804
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v0, v0, v12

    invoke-virtual {v0, v12}, Landroid/graphics/drawable/GradientDrawable;->setShape(I)V

    .line 5805
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-instance v2, Landroid/graphics/drawable/GradientDrawable;

    sget-object v3, Landroid/graphics/drawable/GradientDrawable$Orientation;->RIGHT_LEFT:Landroid/graphics/drawable/GradientDrawable$Orientation;

    new-array v4, v13, [I

    fill-array-data v4, :array_1

    invoke-direct {v2, v3, v4}, Landroid/graphics/drawable/GradientDrawable;-><init>(Landroid/graphics/drawable/GradientDrawable$Orientation;[I)V

    aput-object v2, v0, v15

    .line 5806
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v0, v0, v15

    invoke-virtual {v0, v12}, Landroid/graphics/drawable/GradientDrawable;->setShape(I)V

    .line 5808
    new-instance v0, Lorg/telegram/ui/Components/GroupedPhotosListView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const/16 v3, 0xa

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/Components/GroupedPhotosListView;-><init>(Landroid/content/Context;I)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    .line 5809
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v3, 0x44

    invoke-static {v8, v3, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5810
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$20;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$20;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setDelegate(Lorg/telegram/ui/Components/GroupedPhotosListView$GroupedPhotosListViewDelegate;)V

    move v0, v12

    :goto_2
    const/4 v2, 0x3

    if-ge v0, v2, :cond_7

    .line 5887
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    new-instance v3, Landroid/widget/ImageView;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v3, v4}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    aput-object v3, v2, v0

    .line 5888
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_maxvideo:I

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 5889
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget v3, Lorg/telegram/messenger/R$string;->AccSwitchToFullscreen:I

    const-string v4, "AccSwitchToFullscreen"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5890
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 5891
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const v4, 0x40ffffff    # 7.9999995f

    invoke-static {v4}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 5892
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const/4 v3, 0x4

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 5893
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 5894
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v3, v0

    invoke-static {v14, v14}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v2, v3, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5895
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda42;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda42;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_2

    :cond_7
    const v4, 0x40ffffff    # 7.9999995f

    .line 5915
    new-instance v0, Lorg/telegram/ui/PhotoViewer$21;

    new-instance v2, Lorg/telegram/ui/Stories/DarkThemeResourceProvider;

    invoke-direct {v2}, Lorg/telegram/ui/Stories/DarkThemeResourceProvider;-><init>()V

    const/4 v5, 0x0

    invoke-direct {v0, v9, v5, v2}, Lorg/telegram/ui/PhotoViewer$21;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleSelectabeleView;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    .line 5922
    new-instance v0, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    .line 5923
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda52;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda52;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/widget/ViewSwitcher;->setFactory(Landroid/widget/ViewSwitcher$ViewFactory;)V

    .line 5924
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 5925
    invoke-direct {v9, v15}, Lorg/telegram/ui/PhotoViewer;->setCaptionHwLayerEnabled(Z)V

    move v0, v12

    const/4 v2, 0x3

    :goto_3
    if-ge v0, v2, :cond_8

    .line 5928
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$22;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v3, v9, v4}, Lorg/telegram/ui/PhotoViewer$22;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    aput-object v3, v2, v0

    .line 5943
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v0

    invoke-virtual {v2, v12, v12, v15}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    add-int/lit8 v0, v0, 0x1

    const/4 v2, 0x3

    const v4, 0x40ffffff    # 7.9999995f

    goto :goto_3

    .line 5946
    :cond_8
    new-instance v0, Lorg/telegram/ui/PhotoViewer$23;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v2, v10}, Lorg/telegram/ui/PhotoViewer$23;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    .line 5963
    invoke-virtual {v0, v15}, Lorg/telegram/ui/Components/RadialProgressView;->setUseSelfAlpha(Z)V

    .line 5964
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/RadialProgressView;->setProgressColor(I)V

    .line 5965
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/16 v2, 0x36

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/RadialProgressView;->setSize(I)V

    .line 5966
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    sget v3, Lorg/telegram/messenger/R$drawable;->circle_big:I

    invoke-virtual {v0, v3}, Landroid/view/View;->setBackgroundResource(I)V

    .line 5967
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x4

    invoke-virtual {v0, v4}, Landroid/view/View;->setVisibility(I)V

    .line 5968
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x0

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/RadialProgressView;->setAlpha(F)V

    .line 5969
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/16 v13, 0x40

    const/16 v15, 0x11

    invoke-static {v13, v13, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v4, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5971
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createVideoControlsInterface()V

    .line 5973
    new-instance v0, Lorg/telegram/ui/Components/RadialProgressView;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v4, v10}, Lorg/telegram/ui/Components/RadialProgressView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    .line 5974
    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/RadialProgressView;->setProgressColor(I)V

    .line 5975
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v0, v3}, Landroid/view/View;->setBackgroundResource(I)V

    .line 5976
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v3, 0x4

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    .line 5977
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-static {v2, v2, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5979
    new-instance v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    .line 5980
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 5981
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v12, v12}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->updateSelectedCount(IZ)V

    .line 5982
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v3, 0x78

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 5983
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v3, Lorg/telegram/messenger/R$string;->Done:I

    const-string v4, "Done"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->toUpperCase()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 5984
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v9, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 5985
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-static {v8, v14, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5986
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda38;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda38;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 5992
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda41;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda41;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6001
    new-instance v0, Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-direct {v0, v12}, Lorg/telegram/ui/Components/VideoForwardDrawable;-><init>(Z)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    .line 6002
    new-instance v3, Lorg/telegram/ui/PhotoViewer$24;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$24;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setDelegate(Lorg/telegram/ui/Components/VideoForwardDrawable$VideoForwardDrawableDelegate;)V

    .line 6014
    new-instance v0, Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v3}, Lorg/telegram/ui/PhotoViewer$QualityChooseView;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/16 v3, 0x78

    .line 6015
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/view/View;->setTranslationY(F)V

    .line 6016
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v3, 0x4

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    .line 6017
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setBackgroundColor(I)V

    .line 6018
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/16 v20, -0x1

    const/16 v21, 0x46

    const/16 v22, 0x53

    const/16 v23, 0x0

    const/16 v24, 0x0

    const/16 v25, 0x0

    const/16 v26, 0x30

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6020
    new-instance v0, Landroid/graphics/Paint;

    invoke-direct {v0}, Landroid/graphics/Paint;-><init>()V

    .line 6021
    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setColor(I)V

    .line 6022
    new-instance v0, Lorg/telegram/ui/PhotoViewer$25;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$25;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    .line 6100
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v4, -0x2

    invoke-static {v8, v4, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6102
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/high16 v1, 0x41700000    # 15.0f

    const/4 v3, 0x1

    .line 6103
    invoke-virtual {v0, v3, v1}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6104
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const-string v16, "fonts/rmedium.ttf"

    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6105
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6106
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 6107
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 6108
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v8}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6109
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/4 v1, 0x3

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6110
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/16 v21, -0x2

    const/16 v22, 0x33

    const/16 v23, 0x14

    const/16 v24, 0x17

    const/16 v25, 0x54

    const/16 v26, 0x0

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6112
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/high16 v3, 0x41600000    # 14.0f

    const/4 v1, 0x1

    .line 6113
    invoke-virtual {v0, v1, v3}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6114
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6115
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 6116
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 6117
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v8}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6118
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/4 v1, 0x3

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6119
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/16 v24, 0x2e

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6122
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    .line 6123
    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_featuredStickers_addButton:I

    invoke-direct {v9, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    const/4 v4, 0x1

    new-array v6, v4, [F

    const/high16 v4, 0x40c00000    # 6.0f

    aput v4, v6, v12

    invoke-static {v1, v6}, Lorg/telegram/ui/ActionBar/Theme$AdaptiveRipple;->filledRect(I[F)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 6124
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_featuredStickers_buttonText:I

    invoke-direct {v9, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6125
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 6126
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setGravity(I)V

    .line 6127
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setLines(I)V

    .line 6128
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6129
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget v4, Lorg/telegram/messenger/R$string;->SetAsMyPhoto:I

    const-string v13, "SetAsMyPhoto"

    invoke-static {v13, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6130
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/high16 v4, 0x41700000    # 15.0f

    invoke-virtual {v0, v1, v4}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6131
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6132
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda37;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda37;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6133
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/16 v13, 0x8

    invoke-virtual {v0, v13}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6134
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/16 v23, -0x1

    const/16 v24, 0x30

    const/16 v25, 0x33

    const/16 v26, 0x14

    const/16 v27, 0x0

    const/16 v28, 0x14

    const/16 v29, 0x40

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v1, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6136
    new-instance v0, Lorg/telegram/ui/PhotoViewer$26;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$26;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    .line 6170
    new-instance v1, Lorg/telegram/ui/PhotoViewer$27;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$27;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setDelegate(Lorg/telegram/ui/Components/VideoTimelinePlayView$VideoTimelineViewDelegate;)V

    .line 6303
    new-instance v0, Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    .line 6304
    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 6305
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-static {v8, v2, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6306
    invoke-direct {v9, v12, v12}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 6307
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    const/16 v24, 0x36

    const/16 v25, 0x53

    const/16 v26, 0x0

    const/16 v27, 0x8

    const/16 v28, 0x0

    const/16 v29, 0x0

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6309
    new-instance v4, Lorg/telegram/ui/PhotoViewer$28;

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda64;

    invoke-direct {v8, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda64;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    move-object/from16 v25, v0

    move-object v0, v4

    move-object/from16 v26, v1

    move-object/from16 v1, p0

    move/from16 v30, v3

    const/high16 v15, 0x41600000    # 14.0f

    const/16 v18, 0x14

    move-object/from16 v3, v26

    move-object v14, v4

    const v17, 0x40ffffff    # 7.9999995f

    const/16 v20, -0x2

    move-object/from16 v4, v25

    move/from16 v31, v5

    move-object/from16 v5, v25

    move/from16 v32, v6

    move-object/from16 v6, p3

    const/16 v15, 0x53

    const/4 v13, -0x1

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer$28;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/widget/FrameLayout;Lorg/telegram/ui/Components/SizeNotifierFrameLayout;Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Lorg/telegram/ui/Components/BlurringShader$BlurManager;Ljava/lang/Runnable;)V

    iput-object v14, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    .line 6376
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda91;

    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda91;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v14, v0}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setOnTimerChange(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 6387
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setAccount(I)V

    .line 6388
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda90;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda90;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setOnHeightUpdate(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 6392
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda34;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda34;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setOnAddPhotoClick(Landroid/view/View$OnClickListener;)V

    .line 6399
    invoke-direct {v9, v12, v12}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 6401
    new-instance v0, Lorg/telegram/ui/PhotoViewer$29;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$29;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    .line 6408
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-static {v13, v13, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6409
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    const/4 v2, -0x1

    const/4 v3, -0x1

    const/16 v4, 0x53

    const/4 v5, 0x0

    const/16 v6, 0x8

    const/4 v7, 0x0

    const/4 v8, 0x0

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6411
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/4 v1, 0x1

    .line 6412
    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6413
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/16 v2, 0x8

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6414
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    sget v2, Lorg/telegram/messenger/R$string;->ChooseCover:I

    const-string v3, "ChooseCover"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6415
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6416
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/high16 v2, 0x41600000    # 14.0f

    invoke-virtual {v0, v1, v2}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6417
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const v1, -0x737374

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6418
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/4 v2, -0x1

    const/4 v3, -0x2

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6420
    new-instance v0, Landroid/widget/ImageView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    .line 6421
    sget-object v1, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    const/16 v0, 0x30

    .line 6422
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    move/from16 v0, v31

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    sget v3, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x15

    if-lt v3, v4, :cond_9

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButtonPressed:I

    goto :goto_4

    :cond_9
    move v5, v0

    :goto_4
    invoke-direct {v9, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    invoke-static {v1, v2, v3}, Lorg/telegram/ui/ActionBar/Theme;->createSimpleSelectorCircleDrawable(III)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendDrawable:Landroid/graphics/drawable/Drawable;

    .line 6423
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6424
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6425
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingIcon:I

    invoke-direct {v9, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 6426
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/16 v33, 0x30

    const/high16 v34, 0x42400000    # 48.0f

    const/16 v35, 0x55

    const/16 v36, 0x0

    const/16 v37, 0x0

    const/high16 v38, 0x41600000    # 14.0f

    const v39, 0x40151eb8    # 2.33f

    invoke-static/range {v33 .. v39}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6427
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->Send:I

    const-string v3, "Send"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6428
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-static {v1}, Lorg/telegram/ui/Components/ScaleStateListAnimator;->apply(Landroid/view/View;)V

    .line 6429
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda30;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda30;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6444
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda50;

    invoke-direct {v2, v9, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda50;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnLongClickListener(Landroid/view/View$OnLongClickListener;)V

    .line 6619
    new-instance v1, Lorg/telegram/ui/PhotoViewer$30;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v9, v2}, Lorg/telegram/ui/PhotoViewer$30;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    .line 6664
    invoke-virtual {v1, v12}, Landroid/widget/LinearLayout;->setOrientation(I)V

    .line 6665
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    const/16 v33, -0x2

    const/16 v34, 0x30

    const/16 v35, 0x51

    const/16 v36, 0x0

    const/16 v37, 0x0

    const/16 v38, 0x46

    const/16 v39, 0x0

    invoke-static/range {v33 .. v39}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6667
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    .line 6668
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6669
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_crop:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6670
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6671
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6672
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda32;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda32;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6691
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->CropImage:I

    const-string v3, "CropImage"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6693
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    .line 6694
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6695
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_photo_rotate:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6696
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6697
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6698
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda44;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda44;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6699
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrRotate:I

    const-string v3, "AccDescrRotate"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6701
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    .line 6702
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6703
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_flip:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6704
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6705
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6706
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda40;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda40;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6707
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrMirror:I

    const-string v3, "AccDescrMirror"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6709
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    .line 6710
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6711
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_draw:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6712
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6713
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6714
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda45;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda45;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6733
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoEditor:I

    const-string v3, "AccDescrPhotoEditor"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6735
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    .line 6736
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6737
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6738
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/16 v33, 0x30

    const/16 v35, 0x53

    const/16 v36, 0x10

    const/16 v38, 0x0

    invoke-static/range {v33 .. v39}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6739
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda36;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda36;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6756
    new-instance v1, Lorg/telegram/ui/Components/VideoCompressButton;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Lorg/telegram/ui/Components/VideoCompressButton;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/4 v2, 0x1

    .line 6757
    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v3}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 6758
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v1, v3}, Landroid/view/View;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6760
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->selectCompression()I

    move-result v1

    iput v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 6761
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    iget-boolean v3, v9, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-eqz v3, :cond_a

    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-le v3, v2, :cond_a

    const/4 v2, 0x1

    goto :goto_5

    :cond_a
    move v2, v12

    :goto_5
    iget-boolean v3, v9, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    invoke-static {v4, v5}, Ljava/lang/Math;->min(II)I

    move-result v4

    invoke-virtual {v1, v2, v3, v4}, Lorg/telegram/ui/Components/VideoCompressButton;->setState(ZZI)V

    .line 6762
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrVideoQuality:I

    const-string v3, "AccDescrVideoQuality"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6763
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6764
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda49;

    invoke-direct {v2, v9, v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda49;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;)V

    invoke-virtual {v1, v2}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6782
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    .line 6783
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6784
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_settings:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6785
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6786
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6787
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda29;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda29;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6806
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoAdjust:I

    const-string v3, "AccDescrPhotoAdjust"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6808
    new-instance v1, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v1, v2}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/high16 v2, -0x34000000    # -3.3554432E7f

    .line 6809
    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 6810
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v1, v12, v12}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->updateSelectedCount(IZ)V

    .line 6811
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 6812
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v3, 0x30

    invoke-static {v13, v3, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6813
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v1, v1, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda33;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda33;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6845
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v1, v1, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda27;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda27;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6853
    new-instance v1, Landroid/widget/TextView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v1, v2}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    .line 6854
    invoke-virtual {v1, v12}, Landroid/widget/TextView;->setClickable(Z)V

    .line 6855
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6856
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/high16 v2, 0x41600000    # 14.0f

    const/4 v3, 0x1

    invoke-virtual {v1, v3, v2}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6857
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v1, v13}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6858
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v2, 0x11

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setGravity(I)V

    .line 6859
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const v2, -0xc2c2c3

    invoke-static {v2, v12}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(II)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6860
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-static/range {v18 .. v18}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    invoke-static/range {v18 .. v18}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-virtual {v1, v2, v12, v3, v12}, Landroid/widget/TextView;->setPadding(IIII)V

    .line 6861
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    sget v2, Lorg/telegram/messenger/R$string;->CropReset:I

    const-string v3, "Reset"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/String;->toUpperCase()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6862
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6863
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v3, 0x31

    const/4 v4, -0x2

    invoke-static {v4, v13, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6864
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda46;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda46;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6874
    new-instance v1, Lorg/telegram/ui/Components/GestureDetector2;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v1, v2, v9}, Lorg/telegram/ui/Components/GestureDetector2;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/GestureDetector2$OnGestureListener;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    .line 6875
    invoke-virtual {v1, v12}, Lorg/telegram/ui/Components/GestureDetector2;->setIsLongpressEnabled(Z)V

    const/4 v1, 0x1

    .line 6876
    invoke-direct {v9, v1}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    .line 6878
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda86;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda86;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6900
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6901
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v4, 0x2

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6902
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v1}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6903
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6904
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v5}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6905
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6906
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v1}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6907
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6908
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v5}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6909
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6910
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v1}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6911
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6913
    sget-object v1, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v2, "window"

    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/WindowManager;

    .line 6914
    invoke-interface {v1}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/Display;->getRotation()I

    move-result v1

    .line 6916
    new-instance v2, Lorg/telegram/ui/Components/CheckBox;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    sget v4, Lorg/telegram/messenger/R$drawable;->selectphoto_large:I

    invoke-direct {v2, v3, v4}, Lorg/telegram/ui/Components/CheckBox;-><init>(Landroid/content/Context;I)V

    iput-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x1

    .line 6917
    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/CheckBox;->setDrawBackground(Z)V

    .line 6918
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/CheckBox;->setHasBorder(Z)V

    .line 6919
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v4, 0x22

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/CheckBox;->setSize(I)V

    .line 6920
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/CheckBox;->setCheckOffset(I)V

    .line 6921
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v0

    invoke-virtual {v2, v0, v13}, Lorg/telegram/ui/Components/CheckBox;->setColor(II)V

    .line 6922
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v2, 0x8

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 6923
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v23, 0x22

    const/16 v24, 0x22

    const/16 v25, 0x35

    const/16 v26, 0x0

    const/4 v3, 0x3

    if-eq v1, v3, :cond_c

    const/4 v3, 0x1

    if-ne v1, v3, :cond_b

    goto :goto_6

    :cond_b
    const/16 v3, 0x47

    goto :goto_7

    :cond_c
    :goto_6
    const/16 v3, 0x3d

    :goto_7
    move/from16 v27, v3

    const/16 v28, 0xb

    const/16 v29, 0x0

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6924
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_d

    .line 6925
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0

    check-cast v0, Landroid/widget/FrameLayout$LayoutParams;

    iget v2, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v2, v3

    iput v2, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    .line 6927
    :cond_d
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda35;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda35;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6934
    new-instance v0, Lorg/telegram/ui/PhotoViewer$CounterView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer$CounterView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    .line 6935
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v23, 0x28

    const/16 v24, 0x28

    const/16 v25, 0x35

    const/16 v26, 0x0

    const/4 v3, 0x3

    if-eq v1, v3, :cond_f

    const/4 v3, 0x1

    if-ne v1, v3, :cond_e

    goto :goto_8

    :cond_e
    const/16 v1, 0x44

    goto :goto_9

    :cond_f
    :goto_8
    const/16 v1, 0x3a

    :goto_9
    move/from16 v27, v1

    const/16 v28, 0x40

    const/16 v29, 0x0

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {v2, v0, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6936
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_10

    .line 6937
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0

    check-cast v0, Landroid/widget/FrameLayout$LayoutParams;

    iget v1, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v1, v2

    iput v1, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    .line 6939
    :cond_10
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda39;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda39;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6946
    new-instance v0, Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v1, 0x8

    .line 6947
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 6948
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 6949
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$31;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v3, 0x1

    invoke-direct {v1, v9, v2, v12, v3}, Lorg/telegram/ui/PhotoViewer$31;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;IZ)V

    invoke-virtual {v0, v1}, Landroidx/recyclerview/widget/RecyclerView;->setLayoutManager(Landroidx/recyclerview/widget/RecyclerView$LayoutManager;)V

    .line 6962
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$ListAdapter;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v9, v2}, Lorg/telegram/ui/PhotoViewer$ListAdapter;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setAdapter(Landroidx/recyclerview/widget/RecyclerView$Adapter;)V

    .line 6963
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v2, 0x67

    const/16 v3, 0x33

    invoke-static {v13, v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6964
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda96;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda96;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setOnItemClickListener(Lorg/telegram/ui/Components/RecyclerListView$OnItemClickListener;)V

    .line 6980
    new-instance v0, Lorg/telegram/ui/Components/UndoView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const/4 v2, 0x0

    invoke-direct {v0, v1, v2, v12, v10}, Lorg/telegram/ui/Components/UndoView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/BaseFragment;ZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const/16 v1, 0x70

    .line 6981
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/UndoView;->setAdditionalTranslationY(F)V

    .line 6982
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const v1, -0x6ddddde

    invoke-virtual {v0, v1, v13}, Lorg/telegram/ui/Components/UndoView;->setColors(II)V

    .line 6983
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const/4 v2, -0x1

    const/4 v3, -0x2

    const/16 v4, 0x53

    const/16 v5, 0x8

    const/4 v6, 0x0

    const/16 v7, 0x8

    const/16 v8, 0x8

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6985
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isAccessibilityScreenReaderEnabled()Z

    move-result v0

    if-eqz v0, :cond_11

    .line 6986
    new-instance v0, Landroid/view/View;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v1}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    .line 6987
    sget v1, Lorg/telegram/messenger/R$string;->AccActionPlay:I

    const-string v2, "AccActionPlay"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6988
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/view/View;->setFocusable(Z)V

    .line 6989
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    const/16 v3, 0x40

    const/16 v4, 0x11

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_a

    :cond_11
    const/4 v1, 0x1

    .line 6992
    :goto_a
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    move/from16 v2, v30

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    new-array v3, v1, [F

    const/high16 v4, 0x40c00000    # 6.0f

    aput v4, v3, v12

    invoke-static {v2, v3}, Lorg/telegram/ui/ActionBar/Theme$AdaptiveRipple;->filledRect(I[F)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 6993
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    move/from16 v2, v32

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6995
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    iput-boolean v1, v0, Lorg/telegram/ui/Cells/TextSelectionHelper;->allowScrollPrentRelative:Z

    .line 6996
    iput-boolean v12, v0, Lorg/telegram/ui/Cells/TextSelectionHelper;->useMovingOffset:Z

    .line 6997
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Cells/TextSelectionHelper;->getOverlayView(Landroid/content/Context;)Lorg/telegram/ui/Cells/TextSelectionHelper$TextSelectionOverlay;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 6999
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->removeFromParent(Landroid/view/View;)V

    .line 7000
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 7002
    :cond_12
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Cells/TextSelectionHelper;->setParentView(Landroid/view/ViewGroup;)V

    .line 7003
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    invoke-virtual {v0}, Lorg/telegram/ui/Cells/TextSelectionHelper;->setInvalidateParent()V

    return-void

    .line 4557
    :cond_13
    :goto_b
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateColors()V

    return-void

    :array_0
    .array-data 4
        0x32000000
        0x0
    .end array-data

    :array_1
    .array-data 4
        0x32000000
        0x0
    .end array-data
.end method

.method public setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 1

    const/4 v0, 0x0

    .line 4533
    invoke-virtual {p0, p1, v0, p2}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;)V
    .locals 1

    const/4 v0, 0x0

    .line 4537
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 1

    const/4 v0, 0x0

    .line 4541
    invoke-virtual {p0, v0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentAlert(Lorg/telegram/ui/Components/ChatAttachAlert;)V
    .locals 0

    .line 4525
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    return-void
.end method

.method public setParentChatActivity(Lorg/telegram/ui/ChatActivity;)V
    .locals 0

    .line 14368
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    return-void
.end method

.method public setTitle(Ljava/lang/CharSequence;)V
    .locals 1

    .line 14486
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 14487
    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method public showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V
    .locals 1

    const/4 v0, 0x0

    .line 334
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;Landroid/app/Dialog;)V

    return-void
.end method

.method public showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;Landroid/app/Dialog;)V
    .locals 1

    .line 9550
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v0, :cond_0

    return-void

    .line 9554
    :cond_0
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    if-eqz v0, :cond_1

    .line 9555
    invoke-virtual {v0}, Landroid/app/Dialog;->dismiss()V

    const/4 v0, 0x0

    .line 9556
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 9559
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    if-eqz p2, :cond_2

    move-object p1, p2

    goto :goto_1

    .line 9562
    :cond_2
    :try_start_1
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object p1

    :goto_1
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    if-eqz p2, :cond_3

    .line 9565
    invoke-virtual {p1}, Landroid/app/Dialog;->show()V

    .line 9568
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    const/4 p2, 0x1

    invoke-virtual {p1, p2}, Landroid/app/Dialog;->setCanceledOnTouchOutside(Z)V

    .line 9569
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda25;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda25;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_2

    :catch_1
    move-exception p1

    .line 9571
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_2
    return-void
.end method

.method public showAppUpdateDialog()V
    .locals 1

    .line 357
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    invoke-static {v0}, Lcom/iMe/utils/dialogs/DialogsFactoryKt;->createUpdateAppDialog(Lorg/telegram/ui/ActionBar/BaseFragment;)Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object v0

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method public showCaptionLimitBulletin(Landroid/widget/FrameLayout;)Z
    .locals 2

    .line 7008
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    instance-of v1, v0, Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_1

    check-cast v0, Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannelAndNotMegaGroup(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_0

    goto :goto_0

    .line 7011
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {p1, v0}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object p1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    iget v0, v0, Lorg/telegram/messenger/MessagesController;->captionLengthLimitPremium:I

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda66;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda66;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createCaptionLimitBulletin(ILjava/lang/Runnable;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda73;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda73;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 7019
    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/Bulletin;->setOnHideListener(Ljava/lang/Runnable;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    .line 7021
    invoke-virtual {p1}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    const/4 p1, 0x1

    return p1

    :cond_1
    :goto_0
    const/4 p1, 0x0

    return p1
.end method

.method public showDialog(Landroid/app/Dialog;)V
    .locals 1

    const/4 v0, 0x0

    .line 338
    invoke-virtual {p0, v0, p1}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;Landroid/app/Dialog;)V

    return-void
.end method

.method public showErrorToast(Lcom/iMe/storage/domain/model/Result$Error;Lcom/iMe/storage/domain/utils/system/ResourceManager;)V
    .locals 0
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "<T:",
            "Ljava/lang/Object;",
            ">(",
            "Lcom/iMe/storage/domain/model/Result$Error<",
            "+TT;>;",
            "Lcom/iMe/storage/domain/utils/system/ResourceManager;",
            ")V"
        }
    .end annotation

    .line 423
    invoke-virtual {p1}, Lcom/iMe/storage/domain/model/Result$Error;->getError()Lcom/iMe/storage/data/network/model/error/ErrorModel;

    move-result-object p1

    invoke-virtual {p1, p2}, Lcom/iMe/storage/data/network/model/error/ErrorModel;->getErrorMessage(Lcom/iMe/storage/domain/utils/system/ResourceManager;)Ljava/lang/String;

    move-result-object p1

    invoke-static {p1}, Lcom/iMe/utils/extentions/common/ContextExtKt;->longToast(Ljava/lang/CharSequence;)V

    return-void
.end method

.method public showLoadingDialog(ZZLio/reactivex/disposables/Disposable;)V
    .locals 3

    .line 388
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    if-nez v0, :cond_0

    .line 389
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v2, 0x3

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog;-><init>(Landroid/content/Context;I)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    .line 390
    invoke-virtual {v0, p2}, Lorg/telegram/ui/ActionBar/AlertDialog;->setCanCancel(Z)V

    .line 391
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda19;

    invoke-direct {v0, p3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda19;-><init>(Lio/reactivex/disposables/Disposable;)V

    invoke-virtual {p2, v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->setOnCancelListener(Landroid/content/DialogInterface$OnCancelListener;)V

    :cond_0
    if-eqz p1, :cond_1

    .line 399
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog;->show()V

    goto :goto_0

    .line 401
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog;->dismiss()V

    const/4 p1, 0x0

    .line 402
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    :goto_0
    return-void
.end method

.method public showPhotoObjectsDialog(Ljava/lang/String;)V
    .locals 2

    .line 383
    sget v0, Lorg/telegram/messenger/R$string;->image_recognition_bottom_sheet_title:I

    sget v1, Lorg/telegram/messenger/R$drawable;->fork_photo_objects:I

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->showRecognitionDialog(Ljava/lang/String;II)V

    return-void
.end method

.method public showPhotoTextDialog(Ljava/lang/String;)V
    .locals 2

    .line 378
    sget v0, Lorg/telegram/messenger/R$string;->text_recognition_bottom_sheet_title:I

    sget v1, Lorg/telegram/messenger/R$drawable;->fork_photo_text:I

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->showRecognitionDialog(Ljava/lang/String;II)V

    return-void
.end method

.method public showToast(Ljava/lang/String;)V
    .locals 0

    .line 418
    invoke-static {p1}, Lcom/iMe/utils/extentions/common/ContextExtKt;->longToast(Ljava/lang/CharSequence;)V

    return-void
.end method

.method public showTranslateDialog(Ljava/lang/String;)V
    .locals 6

    .line 364
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    new-instance v1, Lcom/iMe/model/translation/TranslationArgs;

    sget-object v2, Lcom/iMe/fork/enums/TranslationDialogType;->INCOMING:Lcom/iMe/fork/enums/TranslationDialogType;

    const/4 v3, 0x0

    invoke-direct {v1, v2, p1, v3}, Lcom/iMe/model/translation/TranslationArgs;-><init>(Lcom/iMe/fork/enums/TranslationDialogType;Ljava/lang/String;Lcom/iMe/storage/domain/model/dialogs/DialogTranslationSettings;)V

    sget p1, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    .line 371
    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    iget-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    neg-long v4, v4

    invoke-virtual {p1, v4, v5}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result p1

    .line 363
    invoke-static {v0, v1, v3, p1}, Lcom/iMe/fork/ui/dialog/TranslateAlert;->createInstanceForForkTranslation(Lorg/telegram/ui/ActionBar/BaseFragment;Lcom/iMe/model/translation/TranslationArgs;Lcom/iMe/fork/ui/dialog/TranslateAlert$TranslatorActionsDelegate;Z)Lcom/iMe/fork/ui/dialog/TranslateAlert;

    move-result-object p1

    .line 362
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method public switchToEditMode(I)V
    .locals 31

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 10238
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v2, v1, :cond_59

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v3, -0x1

    const/4 v4, 0x3

    const/4 v5, 0x0

    if-eqz v2, :cond_0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v5

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v2

    if-eq v2, v4, :cond_0

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v2, :cond_0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_59

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v5

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v2

    if-ne v2, v3, :cond_59

    :cond_0
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    if-nez v2, :cond_59

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-nez v2, :cond_59

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v2

    if-eqz v2, :cond_1

    goto/16 :goto_2d

    .line 10241
    :cond_1
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v6, 0x1

    if-eqz v2, :cond_4

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v7, :cond_2

    if-nez v1, :cond_4

    :cond_2
    if-eqz v1, :cond_3

    move v7, v6

    goto :goto_0

    :cond_3
    move v7, v5

    .line 10242
    :goto_0
    invoke-interface {v2, v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onEditModeChanged(Z)V

    .line 10244
    :cond_4
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    const/4 v7, 0x2

    if-ne v1, v7, :cond_5

    move v8, v6

    goto :goto_1

    :cond_5
    move v8, v5

    :goto_1
    invoke-virtual {v2, v8}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 10246
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2}, Landroid/view/View;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    instance-of v2, v2, Landroid/graphics/drawable/ColorDrawable;

    const/high16 v8, 0x7f000000

    if-eqz v2, :cond_6

    .line 10247
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2}, Landroid/view/View;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    check-cast v2, Landroid/graphics/drawable/ColorDrawable;

    invoke-virtual {v2}, Landroid/graphics/drawable/ColorDrawable;->getColor()I

    move-result v2

    goto :goto_2

    :cond_6
    move v2, v8

    :goto_2
    if-ne v1, v6, :cond_7

    const/high16 v8, -0x34000000    # -3.3554432E7f

    goto :goto_3

    :cond_7
    if-ne v1, v4, :cond_8

    const/high16 v8, -0x1000000

    goto :goto_3

    :cond_8
    if-nez v1, :cond_9

    .line 10254
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v9, :cond_9

    move v8, v5

    .line 10259
    :cond_9
    :goto_3
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->editing:Z

    if-eqz v9, :cond_a

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-nez v9, :cond_a

    if-nez v1, :cond_a

    move v9, v6

    goto :goto_4

    :cond_a
    move v9, v5

    :goto_4
    invoke-direct {v0, v9, v6}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 10260
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eq v1, v7, :cond_b

    move v11, v5

    goto :goto_5

    :cond_b
    const/4 v11, 0x4

    :goto_5
    invoke-virtual {v9, v11}, Landroid/view/View;->setVisibility(I)V

    .line 10261
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    .line 10262
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v9, :cond_d

    .line 10263
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v9, :cond_c

    invoke-virtual {v9}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->isShown()Z

    move-result v9

    if-eqz v9, :cond_c

    move v9, v6

    goto :goto_6

    :cond_c
    move v9, v5

    :goto_6
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->wasCountViewShown:Z

    .line 10265
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v9, :cond_f

    if-nez v1, :cond_e

    .line 10266
    iget-boolean v11, v0, Lorg/telegram/ui/PhotoViewer;->wasCountViewShown:Z

    if-eqz v11, :cond_e

    move v11, v6

    goto :goto_7

    :cond_e
    move v11, v5

    :goto_7
    invoke-virtual {v9, v11, v6}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    :cond_f
    const/high16 v11, 0x3f800000    # 1.0f

    const-string v14, "backgroundColor"

    if-nez v1, :cond_2e

    .line 10269
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v3

    const/16 v16, 0xc

    if-eqz v3, :cond_2a

    .line 10271
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v3

    .line 10272
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v12}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v12

    .line 10276
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v9, 0x10e

    const/16 v10, 0x5a

    if-ne v13, v4, :cond_15

    .line 10277
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v11, v6, :cond_11

    .line 10278
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v11

    if-eq v11, v10, :cond_10

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v10

    if-ne v10, v9, :cond_14

    :cond_10
    move v9, v3

    move v3, v12

    goto :goto_8

    .line 10284
    :cond_11
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v11, v11, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v11, :cond_14

    .line 10285
    iget v13, v11, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v13, v10, :cond_12

    if-ne v13, v9, :cond_13

    :cond_12
    move/from16 v30, v12

    move v12, v3

    move/from16 v3, v30

    :cond_13
    int-to-float v3, v3

    .line 10290
    iget v9, v11, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v9

    float-to-int v3, v3

    int-to-float v9, v12

    .line 10291
    iget v10, v11, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v9, v10

    float-to-int v9, v9

    goto :goto_8

    :cond_14
    move v9, v12

    .line 10294
    :goto_8
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v10

    int-to-float v10, v10

    int-to-float v3, v3

    div-float/2addr v10, v3

    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v11

    int-to-float v11, v11

    int-to-float v9, v9

    div-float/2addr v11, v9

    invoke-static {v10, v11}, Ljava/lang/Math;->min(FF)F

    move-result v10

    .line 10295
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v11

    int-to-float v11, v11

    div-float/2addr v11, v3

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v9

    invoke-static {v11, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    goto/16 :goto_e

    :cond_15
    if-eq v13, v6, :cond_18

    .line 10297
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v13, v13, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v13, :cond_18

    iget v13, v13, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v13, v10, :cond_16

    if-ne v13, v9, :cond_18

    .line 10298
    :cond_16
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v13

    int-to-float v13, v13

    int-to-float v4, v12

    div-float/2addr v13, v4

    int-to-float v7, v3

    mul-float v17, v13, v7

    .line 10299
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v15

    int-to-float v15, v15

    cmpl-float v15, v17, v15

    if-lez v15, :cond_17

    .line 10300
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v7

    .line 10302
    :cond_17
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v15

    int-to-float v15, v15

    div-float/2addr v15, v7

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v7

    int-to-float v7, v7

    div-float/2addr v7, v4

    invoke-static {v15, v7}, Ljava/lang/Math;->min(FF)F

    move-result v4

    div-float/2addr v13, v4

    div-float/2addr v11, v13

    .line 10304
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    goto :goto_9

    .line 10305
    :cond_18
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v6, :cond_1b

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-eq v4, v10, :cond_19

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-ne v4, v9, :cond_1b

    .line 10306
    :cond_19
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    int-to-float v4, v4

    int-to-float v7, v12

    div-float/2addr v4, v7

    int-to-float v13, v3

    mul-float v15, v4, v13

    .line 10307
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    int-to-float v5, v5

    cmpl-float v5, v15, v5

    if-lez v5, :cond_1a

    .line 10308
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v13

    .line 10310
    :cond_1a
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    int-to-float v5, v5

    div-float/2addr v5, v13

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v7

    invoke-static {v5, v13}, Ljava/lang/Math;->min(FF)F

    move-result v5

    .line 10311
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v7

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v13

    div-float/2addr v7, v13

    mul-float/2addr v7, v4

    div-float/2addr v7, v5

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v4

    div-float/2addr v7, v4

    div-float/2addr v11, v7

    .line 10312
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 10314
    :cond_1b
    :goto_9
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v4, :cond_1e

    .line 10315
    iget v5, v4, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v5, v10, :cond_1c

    if-ne v5, v9, :cond_1d

    :cond_1c
    move/from16 v30, v12

    move v12, v3

    move/from16 v3, v30

    :cond_1d
    int-to-float v3, v3

    .line 10320
    iget v5, v4, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v5

    float-to-int v3, v3

    int-to-float v5, v12

    .line 10321
    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v5, v4

    float-to-int v4, v5

    goto :goto_a

    .line 10322
    :cond_1e
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v6, :cond_20

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-eq v4, v10, :cond_1f

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-ne v4, v9, :cond_20

    :cond_1f
    move v4, v3

    move v3, v12

    goto :goto_a

    :cond_20
    move v4, v12

    .line 10327
    :goto_a
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    int-to-float v5, v5

    int-to-float v3, v3

    div-float/2addr v5, v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v7

    int-to-float v7, v7

    int-to-float v4, v4

    div-float/2addr v7, v4

    invoke-static {v5, v7}, Ljava/lang/Math;->min(FF)F

    move-result v5

    .line 10328
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v7, v6, :cond_23

    .line 10329
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    if-eq v3, v10, :cond_22

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    if-ne v3, v9, :cond_21

    goto :goto_b

    :cond_21
    const/4 v3, 0x0

    goto :goto_c

    :cond_22
    :goto_b
    move v3, v6

    :goto_c
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v10

    goto :goto_d

    :cond_23
    const/4 v7, 0x0

    .line 10331
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v9

    int-to-float v9, v9

    div-float/2addr v9, v3

    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v4

    invoke-static {v9, v3}, Ljava/lang/Math;->min(FF)F

    move-result v10

    :goto_d
    move v3, v5

    :goto_e
    div-float/2addr v10, v3

    .line 10334
    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    const/4 v3, 0x0

    .line 10335
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 10336
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    const/4 v4, 0x2

    div-int/2addr v3, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v5

    div-int/2addr v5, v4

    sub-int/2addr v3, v5

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 10337
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/high16 v5, 0x40000000    # 2.0f

    if-ne v3, v6, :cond_25

    .line 10338
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v4, :cond_24

    const/16 v3, 0x24

    .line 10339
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_10

    :cond_24
    const/4 v4, 0x3

    if-ne v3, v4, :cond_29

    .line 10341
    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10342
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v4, :cond_29

    .line 10343
    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_10

    .line 10347
    :cond_25
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v6, :cond_26

    const/16 v3, 0x38

    .line 10348
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_f

    :cond_26
    const/4 v4, 0x2

    if-ne v3, v4, :cond_27

    const/16 v3, 0x5d

    .line 10350
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_f

    :cond_27
    const/4 v4, 0x3

    if-ne v3, v4, :cond_28

    const/16 v3, 0x2c

    .line 10352
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10353
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v4, :cond_28

    .line 10354
    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10355
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    add-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10358
    :cond_28
    :goto_f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v3

    if-eqz v3, :cond_29

    .line 10359
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v4, v4

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10362
    :cond_29
    :goto_10
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    iput-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 10363
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v3, 0x0

    goto :goto_11

    :cond_2a
    move v3, v5

    .line 10365
    :goto_11
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    .line 10367
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 10368
    new-instance v3, Ljava/util/ArrayList;

    const/4 v4, 0x4

    invoke-direct {v3, v4}, Ljava/util/ArrayList;-><init>(I)V

    .line 10369
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v4, v6, :cond_2b

    .line 10370
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    const/16 v9, 0x30

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10371
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_0

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10372
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v6, [F

    const/4 v11, 0x0

    aput v11, v9, v10

    invoke-static {v4, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    new-array v4, v5, [F

    .line 10373
    fill-array-data v4, :array_1

    invoke-static {v4}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v4

    .line 10374
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda3;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda3;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10382
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto/16 :goto_12

    :cond_2b
    const/4 v5, 0x2

    if-ne v4, v5, :cond_2c

    .line 10384
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->shutdown()V

    .line 10385
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getToolsView()Landroid/widget/FrameLayout;

    move-result-object v4

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    const/16 v9, 0xba

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10386
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getCurveControl()Lorg/telegram/ui/Components/PhotoFilterCurvesControl;

    move-result-object v4

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v6, [F

    const/4 v9, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10387
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getBlurControl()Lorg/telegram/ui/Components/PhotoFilterBlurControl;

    move-result-object v4

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v6, [F

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10388
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_2

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_12

    :cond_2c
    const/4 v7, 0x3

    if-ne v4, v7, :cond_2d

    new-array v4, v5, [F

    .line 10390
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getOffsetTranslationY()F

    move-result v7

    const/4 v9, 0x0

    aput v7, v4, v9

    const/16 v7, 0x7e

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v7

    int-to-float v7, v7

    aput v7, v4, v6

    invoke-static {v4}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v4

    new-array v7, v5, [F

    const/4 v5, 0x0

    aput v5, v7, v9

    .line 10391
    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    neg-int v5, v5

    int-to-float v5, v5

    aput v5, v7, v6

    invoke-static {v7}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v5

    .line 10392
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda14;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda14;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10393
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda15;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda15;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10394
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/PaintingOverlay;->showAll()V

    .line 10395
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->invalidate()V

    .line 10396
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->shutdown()V

    .line 10397
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10398
    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10399
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_3

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10400
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4, v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onAnimationStateChanged(Z)V

    .line 10402
    :cond_2d
    :goto_12
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v7, Landroid/animation/ArgbEvaluator;

    invoke-direct {v7}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v5, v5, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v9, 0x0

    aput-object v2, v5, v9

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v5, v6

    invoke-static {v4, v14, v7, v5}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10403
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10404
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10405
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$53;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$53;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10516
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2c

    :cond_2e
    const/16 v4, 0x3a

    const/16 v5, 0x9a

    const/16 v7, 0x60

    if-ne v1, v6, :cond_38

    .line 10518
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10519
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 10520
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v3

    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 10521
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    .line 10522
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    .line 10523
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    .line 10524
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    .line 10525
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    .line 10526
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    .line 10527
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    .line 10528
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v3

    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    .line 10529
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoCropView;->onAppear()V

    .line 10531
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v3, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v9, Lorg/telegram/messenger/R$string;->Crop:I

    const-string v10, "Crop"

    invoke-static {v10, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 10532
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v3, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v9, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v9

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setTextColor(I)V

    .line 10534
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10535
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 10536
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v10, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v12, 0x2

    new-array v13, v12, [F

    const/4 v12, 0x0

    const/4 v15, 0x0

    aput v12, v13, v15

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v12

    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v15}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v15

    add-int/2addr v12, v15

    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v15, :cond_2f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    goto :goto_13

    :cond_2f
    const/4 v4, 0x0

    :goto_13
    add-int/2addr v12, v4

    int-to-float v4, v12

    aput v4, v13, v6

    invoke-static {v9, v10, v13}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10537
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v6, [F

    const/4 v12, 0x0

    const/4 v13, 0x0

    aput v12, v10, v13

    invoke-static {v4, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10538
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v15, v10, [F

    aput v12, v15, v13

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_30

    move v10, v5

    goto :goto_14

    :cond_30
    move v10, v7

    :goto_14
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    int-to-float v10, v10

    aput v10, v15, v6

    invoke-static {v4, v9, v15}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10539
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v12, v10, [F

    const/4 v13, 0x0

    const/4 v15, 0x0

    aput v13, v12, v15

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v13

    neg-int v13, v13

    int-to-float v13, v13

    aput v13, v12, v6

    invoke-static {v4, v9, v12}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10540
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v9, Landroid/animation/ArgbEvaluator;

    invoke-direct {v9}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v12, v10, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v13, 0x0

    aput-object v2, v12, v13

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v12, v6

    invoke-static {v4, v14, v9, v12}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10541
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v2, :cond_32

    .line 10542
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v10, [F

    const/4 v9, 0x0

    aput v9, v8, v13

    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v9, :cond_31

    goto :goto_15

    :cond_31
    move v5, v7

    :goto_15
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    aput v5, v8, v6

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10544
    :cond_32
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v2, :cond_34

    const/4 v4, 0x4

    if-ne v2, v4, :cond_33

    goto :goto_16

    :cond_33
    const/4 v5, 0x2

    goto :goto_17

    .line 10545
    :cond_34
    :goto_16
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_4

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10546
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v5, [F

    fill-array-data v7, :array_5

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10548
    :goto_17
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v2}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v2

    if-nez v2, :cond_35

    .line 10549
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v5, [F

    fill-array-data v7, :array_6

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10551
    :cond_35
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_36

    .line 10552
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v5, [F

    fill-array-data v5, :array_7

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10554
    :cond_36
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_37

    .line 10555
    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v6, [F

    const/4 v6, 0x0

    aput v11, v5, v6

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10557
    :cond_37
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10558
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10559
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$54;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$54;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10659
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2c

    :cond_38
    const/4 v9, 0x2

    if-ne v1, v9, :cond_4e

    .line 10661
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10662
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-nez v9, :cond_46

    .line 10667
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    const/4 v10, 0x0

    if-nez v9, :cond_3a

    .line 10668
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v9, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    .line 10669
    instance-of v11, v9, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v11, :cond_39

    .line 10670
    move-object v11, v9

    check-cast v11, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 10671
    iget v11, v11, Lorg/telegram/messenger/MediaController$PhotoEntry;->orientation:I

    goto :goto_18

    :cond_39
    const/4 v11, 0x0

    .line 10673
    :goto_18
    check-cast v9, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 10674
    iget-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 10675
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v9

    move-object/from16 v23, v12

    goto :goto_19

    :cond_3a
    move-object v9, v10

    move-object/from16 v23, v9

    const/4 v11, 0x0

    .line 10677
    :goto_19
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v12, :cond_3b

    move-object/from16 v21, v10

    :goto_1a
    move/from16 v22, v11

    goto :goto_1c

    :cond_3b
    if-nez v23, :cond_3c

    .line 10681
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v9

    .line 10682
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v11}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v11

    goto :goto_1b

    .line 10684
    :cond_3c
    invoke-static {v9}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v9

    :goto_1b
    move-object/from16 v21, v9

    goto :goto_1a

    .line 10689
    :goto_1c
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v9, v6, :cond_3d

    move/from16 v25, v6

    goto :goto_1f

    .line 10691
    :cond_3d
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v9, :cond_40

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    const/4 v11, 0x2

    if-ne v9, v11, :cond_3e

    goto :goto_1e

    :cond_3e
    if-ne v9, v6, :cond_3f

    move v9, v6

    goto :goto_1d

    :cond_3f
    const/4 v9, 0x0

    :goto_1d
    move/from16 v25, v9

    goto :goto_1f

    :cond_40
    :goto_1e
    const/16 v25, 0x2

    .line 10696
    :goto_1f
    new-instance v9, Lorg/telegram/ui/Components/PhotoFilterView;

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v12, :cond_41

    move-object v13, v12

    check-cast v13, Lorg/telegram/ui/Components/VideoEditTextureView;

    move-object/from16 v20, v13

    goto :goto_20

    :cond_41
    move-object/from16 v20, v10

    :goto_20
    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_42

    goto :goto_21

    :cond_42
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    :goto_21
    move-object/from16 v24, v10

    if-nez v12, :cond_45

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v10, v10, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v10, :cond_43

    iget-boolean v10, v10, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-nez v10, :cond_44

    :cond_43
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v10

    if-eqz v10, :cond_45

    :cond_44
    move/from16 v26, v6

    goto :goto_22

    :cond_45
    const/16 v26, 0x0

    :goto_22
    const/16 v27, 0x1

    const/16 v28, 0x0

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object/from16 v18, v9

    move-object/from16 v19, v11

    move-object/from16 v29, v10

    invoke-direct/range {v18 .. v29}, Lorg/telegram/ui/Components/PhotoFilterView;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/VideoEditTextureView;Landroid/graphics/Bitmap;ILorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/PaintingOverlay;IZZLorg/telegram/ui/Components/BlurringShader$BlurManager;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    .line 10697
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v10, v9, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 10698
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getDoneTextView()Landroid/widget/TextView;

    move-result-object v3

    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda31;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda31;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10702
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getCancelTextView()Landroid/widget/TextView;

    move-result-object v3

    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda47;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda47;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10717
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getToolsView()Landroid/widget/FrameLayout;

    move-result-object v3

    const/16 v9, 0xba

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    invoke-virtual {v3, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 10720
    :cond_46
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10721
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 10722
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v10, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v11, 0x2

    new-array v12, v11, [F

    const/4 v11, 0x0

    const/4 v13, 0x0

    aput v11, v12, v13

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v13}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v13

    add-int/2addr v11, v13

    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_47

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    goto :goto_23

    :cond_47
    const/4 v4, 0x0

    :goto_23
    add-int/2addr v11, v4

    int-to-float v4, v11

    aput v4, v12, v6

    invoke-static {v9, v10, v12}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10723
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v6, [F

    const/4 v11, 0x0

    const/4 v12, 0x0

    aput v11, v10, v12

    invoke-static {v4, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10724
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v13, v10, [F

    aput v11, v13, v12

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_48

    goto :goto_24

    :cond_48
    move v5, v7

    :goto_24
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    aput v5, v13, v6

    invoke-static {v4, v9, v13}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10725
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v7, 0x2

    new-array v9, v7, [F

    const/4 v7, 0x0

    const/4 v10, 0x0

    aput v7, v9, v10

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v7

    neg-int v7, v7

    int-to-float v7, v7

    aput v7, v9, v6

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10726
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v4, :cond_4b

    const/4 v5, 0x4

    if-ne v4, v5, :cond_49

    goto :goto_25

    :cond_49
    if-ne v4, v6, :cond_4a

    .line 10730
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v7, 0x2

    new-array v9, v7, [F

    fill-array-data v9, :array_8

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_26

    :cond_4a
    const/4 v7, 0x2

    goto :goto_26

    :cond_4b
    :goto_25
    const/4 v7, 0x2

    .line 10727
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_9

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10728
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_a

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10732
    :goto_26
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v4}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v4

    if-nez v4, :cond_4c

    .line 10733
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_b

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10735
    :cond_4c
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v4}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v4

    if-eqz v4, :cond_4d

    .line 10736
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_c

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10738
    :cond_4d
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v5, Landroid/animation/ArgbEvaluator;

    invoke-direct {v5}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v7, v7, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v9, 0x0

    aput-object v2, v7, v9

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v7, v6

    invoke-static {v4, v14, v5, v7}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10739
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10740
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10741
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$55;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$55;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10830
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2c

    :cond_4e
    const/4 v3, 0x3

    if-ne v1, v3, :cond_58

    .line 10832
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10833
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createPaintView()V

    .line 10835
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10836
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    .line 10837
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v6, [F

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v12

    add-int/2addr v11, v12

    iget-boolean v12, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v12, :cond_4f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    goto :goto_27

    :cond_4f
    const/4 v4, 0x0

    :goto_27
    add-int/2addr v11, v4

    int-to-float v4, v11

    const/4 v11, 0x0

    aput v4, v10, v11

    invoke-static {v3, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10838
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v6, [F

    const/4 v10, 0x0

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10839
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v6, [F

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_50

    move v10, v5

    goto :goto_28

    :cond_50
    move v10, v7

    :goto_28
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    int-to-float v10, v10

    const/4 v11, 0x0

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10840
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v6, [F

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v10

    neg-int v10, v10

    int-to-float v10, v10

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10841
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v4, Landroid/animation/ArgbEvaluator;

    invoke-direct {v4}, Landroid/animation/ArgbEvaluator;-><init>()V

    const/4 v9, 0x2

    new-array v10, v9, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v10, v11

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v10, v6

    invoke-static {v3, v14, v4, v10}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10842
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v2, :cond_52

    .line 10843
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget-object v3, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v4, v6, [F

    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v8, :cond_51

    goto :goto_29

    :cond_51
    move v5, v7

    :goto_29
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    const/4 v7, 0x0

    aput v5, v4, v7

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10845
    :cond_52
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v2, :cond_55

    const/4 v3, 0x4

    if-ne v2, v3, :cond_53

    goto :goto_2a

    :cond_53
    if-ne v2, v6, :cond_54

    .line 10849
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v4, 0x2

    new-array v5, v4, [F

    fill-array-data v5, :array_d

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_2b

    :cond_54
    const/4 v4, 0x2

    goto :goto_2b

    :cond_55
    :goto_2a
    const/4 v4, 0x2

    .line 10846
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_e

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10847
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_f

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10851
    :goto_2b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v2}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v2

    if-nez v2, :cond_56

    .line 10852
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_10

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10854
    :cond_56
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_57

    .line 10855
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    fill-array-data v4, :array_11

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10857
    :cond_57
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v1}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10858
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v2, 0xc8

    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10859
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$56;

    invoke-direct {v2, v0}, Lorg/telegram/ui/PhotoViewer$56;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10865
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    .line 10868
    :cond_58
    :goto_2c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v1, :cond_59

    .line 10869
    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->updateExclusionRects()V

    :cond_59
    :goto_2d
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_3
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_4
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_5
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_6
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_7
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_8
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_9
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_a
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_b
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_c
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_d
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_e
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_f
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_10
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_11
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data
.end method

.method public updateColors()V
    .locals 8

    .line 8612
    sget v0, Lorg/telegram/ui/ActionBar/Theme;->key_chat_editMediaButton:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    .line 8613
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    const/4 v4, 0x1

    if-eqz v2, :cond_1

    .line 8614
    invoke-virtual {v2}, Landroid/widget/ImageView;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    .line 8615
    invoke-static {v2, v1, v3}, Lorg/telegram/ui/ActionBar/Theme;->setSelectorDrawableColor(Landroid/graphics/drawable/Drawable;IZ)V

    .line 8616
    sget v5, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v5, v6, :cond_0

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButtonPressed:I

    goto :goto_0

    :cond_0
    move v5, v0

    :goto_0
    invoke-direct {p0, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v5

    invoke-static {v2, v5, v4}, Lorg/telegram/ui/ActionBar/Theme;->setSelectorDrawableColor(Landroid/graphics/drawable/Drawable;IZ)V

    .line 8617
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v5, Landroid/graphics/PorterDuffColorFilter;

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingIcon:I

    invoke-direct {p0, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v6

    sget-object v7, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v5, v6, v7}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v2, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8619
    :cond_1
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    if-eqz v2, :cond_2

    .line 8620
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v0

    const/4 v5, -0x1

    invoke-virtual {v2, v0, v5}, Lorg/telegram/ui/Components/CheckBox;->setColor(II)V

    .line 8622
    :cond_2
    new-instance v0, Landroid/graphics/PorterDuffColorFilter;

    sget-object v2, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v0, v1, v2}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    .line 8623
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_3

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_3

    .line 8624
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8626
    :cond_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_4

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_4

    .line 8627
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8629
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_5

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_5

    .line 8630
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8632
    :cond_5
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_6

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_6

    .line 8633
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8635
    :cond_6
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_7

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_7

    .line 8636
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8638
    :cond_7
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    if-eqz v0, :cond_8

    .line 8639
    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 8641
    :cond_8
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    if-eqz v0, :cond_9

    .line 8642
    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 8644
    :cond_9
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_a

    .line 8645
    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updateColors()V

    .line 8647
    :cond_a
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-eqz v0, :cond_b

    .line 8648
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoFilterView;->updateColors()V

    .line 8650
    :cond_b
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_c

    .line 8651
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->updateColors(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 8653
    :cond_c
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_d

    .line 8654
    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 8656
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz v0, :cond_f

    .line 8657
    invoke-virtual {v0}, Landroid/view/ViewGroup;->getChildCount()I

    move-result v0

    :goto_1
    if-ge v3, v0, :cond_f

    .line 8659
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v3}, Landroid/view/ViewGroup;->getChildAt(I)Landroid/view/View;

    move-result-object v1

    .line 8660
    instance-of v2, v1, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;

    if-eqz v2, :cond_e

    .line 8661
    check-cast v1, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;

    invoke-virtual {v1}, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;->updateColors()V

    :cond_e
    add-int/lit8 v3, v3, 0x1

    goto :goto_1

    .line 8665
    :cond_f
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    if-eqz v0, :cond_10

    .line 8666
    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/StickersAlert;->updateColors(Z)V

    :cond_10
    return-void
.end method

.method public updateMuteButton()V
    .locals 7

    .line 18010
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 18011
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setMute(Z)V

    .line 18013
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    const/high16 v1, 0x3f000000    # 0.5f

    const-wide/16 v2, 0xb4

    const/4 v4, 0x0

    if-nez v0, :cond_1

    .line 18014
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setEnabled(Z)V

    .line 18015
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setClickable(Z)V

    .line 18016
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 18017
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    goto/16 :goto_1

    .line 18019
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/4 v5, 0x1

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setEnabled(Z)V

    .line 18020
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setClickable(Z)V

    .line 18021
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const/high16 v6, 0x3f800000    # 1.0f

    invoke-virtual {v0, v6}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 18022
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v0, :cond_5

    .line 18023
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-nez v0, :cond_2

    .line 18024
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    sget v2, Lorg/telegram/messenger/R$string;->SoundMuted:I

    const-string v3, "SoundMuted"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 18026
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->video_send_mute:I

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 18027
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 18028
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v1}, Landroid/view/View;->setAlpha(F)V

    .line 18029
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v4}, Landroid/view/View;->setEnabled(Z)V

    .line 18031
    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v5, :cond_4

    .line 18032
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    const/high16 v1, 0x46160000    # 9600.0f

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr v1, v2

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 18033
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    .line 18034
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    goto :goto_0

    .line 18036
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 18037
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    .line 18039
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$string;->NoSound:I

    const-string v2, "NoSound"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_1

    .line 18041
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 18042
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$drawable;->video_send_unmute:I

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 18043
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$string;->Sound:I

    const-string v2, "Sound"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 18044
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 18045
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v6}, Landroid/view/View;->setAlpha(F)V

    .line 18046
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v5}, Landroid/view/View;->setEnabled(Z)V

    .line 18048
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 18049
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    :goto_1
    return-void
.end method

.method public updateWebPlayerState(ZI)V
    .locals 0

    .line 8704
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    return-void
.end method

.method public zoomOut()V
    .locals 3

    const/high16 v0, 0x3f800000    # 1.0f

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 16383
    invoke-direct {p0, v0, v1, v1, v2}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method
