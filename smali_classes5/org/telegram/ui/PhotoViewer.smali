.class public Lorg/telegram/ui/PhotoViewer;
.super Lcom/iMe/ui/base/mvp/view/MvpNoParentCustomView;
.source "PhotoViewer.java"

# interfaces
.implements Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;
.implements Lorg/telegram/ui/Components/GestureDetector2$OnGestureListener;
.implements Lorg/telegram/ui/Components/GestureDetector2$OnDoubleTapListener;
.implements Lcom/iMe/ui/recognition/PhotoView;


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lorg/telegram/ui/PhotoViewer$FirstFrameView;,
        Lorg/telegram/ui/PhotoViewer$ListAdapter;,
        Lorg/telegram/ui/PhotoViewer$QualityChooseView;,
        Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;,
        Lorg/telegram/ui/PhotoViewer$CaptionTextView;,
        Lorg/telegram/ui/PhotoViewer$CaptionScrollView;,
        Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;,
        Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;,
        Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;,
        Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;,
        Lorg/telegram/ui/PhotoViewer$EmptyPhotoViewerProvider;,
        Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;,
        Lorg/telegram/ui/PhotoViewer$PhotoProgressView;,
        Lorg/telegram/ui/PhotoViewer$CounterView;,
        Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;,
        Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;,
        Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;,
        Lorg/telegram/ui/PhotoViewer$SavedState;,
        Lorg/telegram/ui/PhotoViewer$EditState;,
        Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;,
        Lorg/telegram/ui/PhotoViewer$PhotoCountView;,
        Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;
    }
.end annotation


# static fields
.field private static volatile Instance:Lorg/telegram/ui/PhotoViewer;

.field private static volatile PipInstance:Lorg/telegram/ui/PhotoViewer;

.field private static final VPC_PROGRESS:Landroid/util/Property;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroid/util/Property<",
            "Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;",
            "Ljava/lang/Float;",
            ">;"
        }
    .end annotation
.end field

.field private static decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

.field private static progressDrawables:[Landroid/graphics/drawable/Drawable;

.field private static progressPaint:Landroid/graphics/Paint;


# instance fields
.field private ALLOW_USE_SURFACE:Z

.field public final FLASH_VIEW_VALUE:Landroid/util/Property;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroid/util/Property<",
            "Landroid/view/View;",
            "Ljava/lang/Float;",
            ">;"
        }
    .end annotation
.end field

.field private aboutToSwitchTo:I

.field private actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

.field private actionBarAnimator:Landroid/animation/AnimatorSet;

.field private actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

.field private actionBarItemsVisibility:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map<",
            "Landroid/view/View;",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field private actionBarWasShownBeforeByEnd:Z

.field private activityContext:Landroid/content/Context;

.field private allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

.field private allowOrder:Z

.field private allowShare:Z

.field private allowShowFullscreenButton:Z

.field private animateToMirror:F

.field private animateToRotate:F

.field private animateToScale:F

.field private animateToX:F

.field private animateToY:F

.field private animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

.field private animationEndRunnable:Ljava/lang/Runnable;

.field private animationInProgress:I

.field private animationStartTime:J

.field private animationValue:F

.field private animationValues:[[F

.field private applying:Z

.field private aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

.field private attachedToWindow:Z

.field private audioFramesSize:J

.field private avatarStartProgress:F

.field private avatarStartTime:J

.field private final avatarsArr:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/tgnet/TLRPC$Photo;",
            ">;"
        }
    .end annotation
.end field

.field private avatarsDialogId:J

.field private backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

.field private bitmapPaint:Landroid/graphics/Paint;

.field private volatile bitrate:I

.field private blackPaint:Landroid/graphics/Paint;

.field private final blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

.field private blurBounds:Landroid/graphics/RectF;

.field private blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

.field private bottomFancyShadow:Landroid/graphics/LinearGradient;

.field private bottomFancyShadowMatrix:Landroid/graphics/Matrix;

.field private bottomFancyShadowPaint:Landroid/graphics/Paint;

.field private bottomLayout:Landroid/widget/FrameLayout;

.field private canDragDown:Z

.field private canEditAvatar:Z

.field private canZoom:Z

.field private captionAnimator:Landroid/animation/ObjectAnimator;

.field private captionContainer:Landroid/widget/FrameLayout;

.field private captionDetectedLanguage:Ljava/lang/String;

.field private captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

.field private captionEditContainer:Landroid/widget/FrameLayout;

.field public captionForAllMedia:Ljava/lang/CharSequence;

.field private captionHwLayerEnabled:Z

.field private captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

.field private captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

.field private captionTranslated:Z

.field private captureFrameAtTime:J

.field private captureFrameReadyAtTime:J

.field private centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private centerImage:Lorg/telegram/messenger/ImageReceiver;

.field private centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

.field private centerImageIsVideo:Z

.field private changeModeAnimation:Landroid/animation/AnimatorSet;

.field private changedTextureView:Landroid/view/TextureView;

.field private changingPage:Z

.field private changingTextureView:Z

.field private checkImageView:Lorg/telegram/ui/Components/CheckBox;

.field chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

.field private classGuid:I

.field private clipFancyShadows:Landroid/graphics/Path;

.field private clippingImageProgress:F

.field public closePhotoAfterSelect:Z

.field private compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

.field private volatile compressionsCount:I

.field private containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

.field private countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

.field private cropInitied:Z

.field private cropItem:Landroid/widget/ImageView;

.field private cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private currentAccount:I

.field private currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

.field private currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

.field private currentBitmap:Landroid/graphics/Bitmap;

.field private currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

.field private currentDialogId:J

.field private currentEditMode:I

.field private currentFileLocation:Lorg/telegram/messenger/ImageLocation;

.field private currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

.field private currentFileNames:[Ljava/lang/String;

.field private currentImageFaceKey:Ljava/lang/String;

.field private currentImageHasFace:I

.field private currentImagePath:Ljava/lang/String;

.field private currentIndex:I

.field private currentListViewAnimation:Landroid/animation/AnimatorSet;

.field private currentLoadingVideoRunnable:Ljava/lang/Runnable;

.field private currentMessageObject:Lorg/telegram/messenger/MessageObject;

.field private currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

.field private currentPanTranslationY:F

.field private currentPathObject:Ljava/lang/String;

.field private currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private currentPlayingVideoFile:Landroid/net/Uri;

.field private currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

.field private currentSubtitle:Ljava/lang/String;

.field private currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

.field private currentVideoFinishedLoading:Z

.field private currentVideoSpeed:F

.field private customTitle:Ljava/lang/CharSequence;

.field private disableShowCheck:Z

.field private discardTap:Z

.field private docInfoTextView:Landroid/widget/TextView;

.field private docNameTextView:Landroid/widget/TextView;

.field private doneButtonFullWidth:Landroid/widget/TextView;

.field private doneButtonPressed:Z

.field private dontAutoPlay:Z

.field private dontChangeCaptionPosition:Z

.field private dontResetZoomOnFirstLayout:Z

.field private doubleTap:Z

.field private doubleTapEnabled:Z

.field private dragY:F

.field private draggingDown:Z

.field private drawPressedDrawable:[Z

.field private editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private editState:Lorg/telegram/ui/PhotoViewer$EditState;

.field private editing:Z

.field private editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

.field private endReached:[Z

.field private endTime:J

.field private estimatedDuration:J

.field private estimatedSize:J

.field private exitFullscreenButton:Landroid/widget/ImageView;

.field private fancyShadows:Z

.field private firstAnimationDelay:Z

.field private firstFrameRendered:Z

.field private firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

.field private flashAnimator:Landroid/animation/AnimatorSet;

.field private flashView:Landroid/view/View;

.field private forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field fromCamera:Z

.field private fullscreenButton:[Landroid/widget/ImageView;

.field private fullscreenedByButton:I

.field private gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

.field private groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

.field public hasCaptionForAllMedia:Z

.field private hideActionBarRunnable:Ljava/lang/Runnable;

.field private hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private hintView:Lorg/telegram/ui/Components/UndoView;

.field private hitRect:Landroid/graphics/Rect;

.field private ignoreDidSetImage:Z

.field private imageBounds:Landroid/graphics/RectF;

.field private imageBoundsMatrix:Landroid/graphics/Matrix;

.field private imageBoundsPoints:[F

.field private imageMoveAnimation:Landroid/animation/AnimatorSet;

.field private final imagesArr:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocals:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocations:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/ImageLocation;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocationsSizes:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrLocationsVideo:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/ImageLocation;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrMessages:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/tgnet/TLRPC$Message;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesArrTemp:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesByIds:[Landroid/util/SparseArray;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "[",
            "Landroid/util/SparseArray<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private final imagesByIdsTemp:[Landroid/util/SparseArray;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "[",
            "Landroid/util/SparseArray<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;"
        }
    .end annotation
.end field

.field private inBubbleMode:Z

.field private inPreview:Z

.field private injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

.field private injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

.field private inlineOutAnimationProgress:F

.field private final insets:Landroid/graphics/Rect;

.field private interpolator:Landroid/view/animation/DecelerateInterpolator;

.field private invalidCoords:Z

.field private isActionBarVisible:Z

.field private isCurrentVideo:Z

.field private isDocumentsPicker:Z

.field private isEmbedVideo:Z

.field private isEvent:Z

.field private isFirstLoading:Z

.field private volatile isH264Video:Z

.field private isInline:Z

.field private isPhotosListViewVisible:Z

.field private isPlaying:Z

.field private isStreaming:Z

.field private isVisible:Z

.field private isVisibleOrAnimating:Z

.field private itemsLayout:Landroid/widget/LinearLayout;

.field private keepScreenOnFlagSet:Z

.field private keyboardSize:I

.field private lastBufferedPositionCheck:J

.field private lastCaptionTranslating:Z

.field private lastControlFrameDuration:Ljava/lang/String;

.field private lastFrameBitmap:Landroid/graphics/Bitmap;

.field private lastFrameImageView:Landroid/widget/ImageView;

.field private lastImageId:I

.field private lastPhotoSetTime:J

.field private lastSaveTime:J

.field private lastTitle:Ljava/lang/CharSequence;

.field private leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private leftCropState:Lorg/telegram/messenger/MediaController$CropState;

.field private leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private leftImage:Lorg/telegram/messenger/ImageReceiver;

.field private leftImageIsVideo:Z

.field private leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private limitBulletin:Lorg/telegram/ui/Components/Bulletin;

.field private loadInitialVideo:Z

.field private loadingMoreImages:Z

.field longPressRunnable:Ljava/lang/Runnable;

.field longPressX:F

.field private manuallyPaused:Z

.field private masksAlert:Lorg/telegram/ui/Components/StickersAlert;

.field private masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private maxSelectedPhotos:I

.field private maxX:F

.field private maxY:F

.field private menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

.field private menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

.field private mergeDialogId:J

.field private minX:F

.field private minY:F

.field private miniProgressAnimator:Landroid/animation/AnimatorSet;

.field private miniProgressShowRunnable:Ljava/lang/Runnable;

.field private miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

.field private mirror:F

.field private mirrorItem:Landroid/widget/ImageView;

.field private moveStartX:F

.field private moveStartY:F

.field private moving:Z

.field private muteItem:Landroid/widget/ImageView;

.field private muteVideo:Z

.field private navigationBar:Landroid/view/View;

.field private navigationBarHeight:I

.field private needCaptionLayout:Z

.field private needCaptureFrameReadyAtTime:J

.field private needSearchImageInArr:Z

.field private needShowOnReady:Z

.field private onUserLeaveHintListener:Ljava/lang/Runnable;

.field private openedFromProfile:Z

.field private openedFullScreenVideo:Z

.field private opennedFromMedia:Z

.field private orientationEventListener:Landroid/view/OrientationEventListener;

.field private volatile originalBitrate:I

.field private volatile originalHeight:I

.field private originalSize:J

.field private volatile originalWidth:I

.field private padImageForHorizontalInsets:Z

.field private pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

.field private paintItem:Landroid/widget/ImageView;

.field private paintKeyboardAnimator:Landroid/animation/AnimatorSet;

.field private paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

.field private paintViewTouched:I

.field private paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private parentActivity:Landroid/app/Activity;

.field private parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

.field private parentChatActivity:Lorg/telegram/ui/ChatActivity;

.field private parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

.field private photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

.field private photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

.field private photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

.field private photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

.field private photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

.field private photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

.field private pickerView:Landroid/widget/FrameLayout;

.field private pickerViewSendButton:Landroid/widget/ImageView;

.field private pickerViewSendDrawable:Landroid/graphics/drawable/Drawable;

.field private pinchCenterX:F

.field private pinchCenterY:F

.field private pinchStartDistance:F

.field private pinchStartScale:F

.field private pinchStartX:F

.field private pinchStartY:F

.field private pipAnimationInProgress:Z

.field private pipAvailable:Z

.field private pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private pipPosition:[I

.field private pipVideoOverlayAnimateFlag:Z

.field private placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

.field private playButtonAccessibilityOverlay:Landroid/view/View;

.field private playerAutoStarted:Z

.field private playerInjected:Z

.field private playerLooping:Z

.field private playerWasPlaying:Z

.field private playerWasReady:Z

.field private pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

.field private pressedDrawableAlpha:[F

.field private prevOrientation:I

.field private previousCompression:I

.field private previousCropMirrored:Z

.field private previousCropOrientation:I

.field private previousCropPh:F

.field private previousCropPw:F

.field private previousCropPx:F

.field private previousCropPy:F

.field private previousCropRotation:F

.field private previousCropScale:F

.field private previousHasTransform:Z

.field private progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

.field private progressView:Lorg/telegram/ui/Components/RadialProgressView;

.field private qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

.field private qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

.field private qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

.field public recognitionPresenter:Lcom/iMe/ui/recognition/PhotoViewerPresenter;
    .annotation runtime Lmoxy/presenter/InjectPresenter;
    .end annotation
.end field

.field private requestingPreview:Z

.field private resetButton:Landroid/widget/TextView;

.field private resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

.field private volatile resultHeight:I

.field private volatile resultWidth:I

.field private rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

.field private rightCropState:Lorg/telegram/messenger/MediaController$CropState;

.field private rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

.field private rightImage:Lorg/telegram/messenger/ImageReceiver;

.field private rightImageIsVideo:Z

.field private rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

.field private rotate:F

.field private rotateItem:Landroid/widget/ImageView;

.field private rotationValue:I

.field private savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

.field private savedVideoPositions:Landroidx/collection/ArrayMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Landroidx/collection/ArrayMap<",
            "Ljava/lang/String;",
            "Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;",
            ">;"
        }
    .end annotation
.end field

.field private scale:F

.field private scroller:Landroid/widget/Scroller;

.field private final secureDocuments:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;"
        }
    .end annotation
.end field

.field private seekToProgressPending:F

.field private seekToProgressPending2:F

.field private volatile selectedCompression:I

.field private selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

.field private selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

.field private sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

.field private sendPhotoType:I

.field private sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

.field private sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

.field private setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

.field private setLoadingRunnable:Ljava/lang/Runnable;

.field private shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

.field private sharedMediaType:I

.field private shiftDp:F

.field private shouldSavePositionForCurrentVideo:Ljava/lang/String;

.field private shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

.field private showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

.field private shownControlsByEnd:Z

.field private sideImage:Lorg/telegram/messenger/ImageReceiver;

.field private skipFirstBufferingProgress:Z

.field public skipLastFrameDraw:Z

.field private slideshowMessageId:I

.field private speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

.field private speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

.field private startOffset:I

.field private startTime:J

.field private startedPlayTime:J

.field private streamingAlertShown:Z

.field private surfaceBlackoutPaint:Landroid/graphics/Paint;

.field private surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

.field private switchImageAfterAnimation:I

.field private switchToInlineRunnable:Ljava/lang/Runnable;

.field private switchingInlineMode:Z

.field private switchingToIndex:I

.field private switchingToMode:I

.field private tempInt:[I

.field private textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

.field private textureImageView:Landroid/widget/ImageView;

.field private textureUploaded:Z

.field private tooltip:Lorg/telegram/ui/Components/Tooltip;

.field private topFancyShadow:Landroid/graphics/LinearGradient;

.field private topFancyShadowMatrix:Landroid/graphics/Matrix;

.field private topFancyShadowPaint:Landroid/graphics/Paint;

.field private topicId:I

.field private totalImagesCount:I

.field private totalImagesCountMerge:I

.field private touchSlop:I

.field private transitionAnimationStartTime:J

.field private transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

.field private translateY:F

.field private translateYAnimator:Landroid/animation/ValueAnimator;

.field private translationX:F

.field private translationY:F

.field private tryStartRequestPreviewOnFinish:Z

.field private tuneItem:Landroid/widget/ImageView;

.field private final updateContainerFlagsRunnable:Ljava/lang/Runnable;

.field private updateProgressRunnable:Ljava/lang/Runnable;

.field private usedSurfaceView:Z

.field private velocityTracker:Landroid/view/VelocityTracker;

.field private videoAvatarTooltip:Landroid/widget/TextView;

.field private volatile videoConvertSupported:Z

.field private videoCrossfadeAlpha:F

.field private videoCrossfadeAlphaLastTime:J

.field private videoCrossfadeStarted:Z

.field private videoCutEnd:F

.field private videoCutStart:F

.field private videoDuration:F

.field private videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

.field private videoFrameBitmap:Landroid/graphics/Bitmap;

.field private videoFrameBitmapPaint:Landroid/graphics/Paint;

.field private videoFramerate:I

.field private videoFramesSize:J

.field private videoHeight:I

.field private videoPlayRunnable:Ljava/lang/Runnable;

.field private videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

.field private videoPlayerControlAnimator:Landroid/animation/Animator;

.field private videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

.field private videoPlayerControlVisible:Z

.field private videoPlayerCurrentTime:[I

.field videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

.field private videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

.field private videoPlayerSeekbarView:Landroid/view/View;

.field private videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

.field private videoPlayerTotalTime:[I

.field private videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

.field private videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

.field private videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

.field private videoSizeSet:Z

.field private videoSurfaceView:Landroid/view/SurfaceView;

.field private videoTextureView:Landroid/view/TextureView;

.field private videoTimelineAnimator:Landroid/animation/ObjectAnimator;

.field private videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

.field private videoTimelineViewContainer:Landroid/widget/FrameLayout;

.field private videoWidth:I

.field private visibleDialog:Landroid/app/Dialog;

.field private waitingForDraw:I

.field private waitingForFirstTextureUpload:I

.field private wasCountViewShown:Z

.field private wasLayout:Z

.field private wasRotated:Z

.field private windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

.field private windowView:Landroid/widget/FrameLayout;

.field private zoomAnimation:Z

.field private zooming:Z


# direct methods
.method public static synthetic $r8$lambda$-AZBnKTzUJvASvetTWijFUiS0Zo(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$88()V

    return-void
.end method

.method public static synthetic $r8$lambda$-NA0Fx2Y3c2pICEKBCtYIjS5xNk(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$65()V

    return-void
.end method

.method public static synthetic $r8$lambda$0p8udDraC_ViS6uz2OM7myegBZw(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$new$2()V

    return-void
.end method

.method public static synthetic $r8$lambda$17DtQhzX1FkP5XrQZAVsUz8VlZM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$89()V

    return-void
.end method

.method public static synthetic $r8$lambda$2yVyyPb6iiaOpq0T7YqB3Ve3vjs(Lorg/telegram/ui/PhotoViewer;Landroid/view/KeyEvent;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$20(Landroid/view/KeyEvent;)V

    return-void
.end method

.method public static synthetic $r8$lambda$321WUtQsDZC9izBxlBvzd-Ncx9I(Lorg/telegram/ui/PhotoViewer;ZLandroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setItemVisible$74(ZLandroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$335CQ8LT4pcy9LioWcokTnkgMGM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$35()V

    return-void
.end method

.method public static synthetic $r8$lambda$3TNu3gKvFTsabrtEDCGov8r2dwg(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct/range {p0 .. p10}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$48(Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$3btRapgVD1b3QuE3V_cwktKxOlg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$34(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5GRgIccrE7gBhKwkCiIi5GOpZ_Y(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$67(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5QrQb6HDFLARSG1O8e68TuqYBSs(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$31(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$5hAS0PBNXM2b0834KESVSZjx9WQ(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$onDraw$90()V

    return-void
.end method

.method public static synthetic $r8$lambda$6_NutMDMq_A0iRCefDMD9FEsmw8(Lorg/telegram/ui/PhotoViewer;ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V
    .locals 0

    invoke-direct/range {p0 .. p10}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$79(ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$7_so8eXvqBtAzoDBFjvoAeXTxys(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/view/MotionEvent;)Z
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$19(Landroid/view/View;Landroid/view/MotionEvent;)Z

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$7mAjAwS1CzQ3Lm9mw7cI6sRKZ3g(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$63(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8MFGcaEqJepV0IXbKKoNmuQEH64(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$18(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8Yx9Z7jCQnMGR0s6tHta25Cz0QM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onPhotoClosed$86(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8rs8oLKph6-1rFmzzxOIEgTYOzA(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$toggleActionBar$72(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$8tv8I4gkFhhpsgkzrIvb73bnJ1g(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$60(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$9HkFFCP5yLm1fUhxHcM_K8r3v_8(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$checkChangedTextureView$6(Landroid/view/View;Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$9h3uUlg2zaXV1-Fppnin-b9-03Y(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct/range {p0 .. p5}, Lorg/telegram/ui/PhotoViewer;->lambda$onLinkLongPress$3(Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$B8usTG0b7EYbVlwnwqkEH8nRmAo(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$57(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$CHDJli6hZ6Qo3Ho4WYMl0wC3RbM(Lorg/telegram/ui/PhotoViewer;Ljava/util/ArrayList;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$deleteVideoFromCache$1(Ljava/util/ArrayList;)V

    return-void
.end method

.method public static synthetic $r8$lambda$CQv-dj79Jg_EwcAe2M-3Dfy0_2U(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoControlsInterface$51()V

    return-void
.end method

.method public static synthetic $r8$lambda$DFJnyEXt6MH40A7FQ9ZOH_hBLuM(Lorg/telegram/ui/PhotoViewer;ILjava/lang/String;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$23(ILjava/lang/String;Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$DZp9fuxTsPz9F9hjqyb8Utde7Lg(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$25(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$EImSZPnnHcsUHMPh0tTypu78ZUY(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/CharSequence;
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCaption()Ljava/lang/CharSequence;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$F7C8zAeXx-O0keCcTfOH5cSlgc8(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$82(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$FGtB-mPnfnyi3CpQhFrhgBG5-UU(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$33(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Fd0GCX2kvJa37lBGMMmwhDr1asc(Lorg/telegram/ui/PhotoViewer;ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$setIsAboutToSwitchToIndex$75(ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$GtWRWIOjM-FMhefMzJn_1zIqbQ4(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$8(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$Hqn2HsQb6oBzKVgUuUlW_ZY9b-I(Lorg/telegram/ui/PhotoViewer;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showAlertDialog$55(Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$I8m6umDdefrLRsC9mawEDXSquWA(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V

    return-void
.end method

.method public static synthetic $r8$lambda$IAgoVXY94x-0Bf6lK0YPVH23jRM(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$new$7()V

    return-void
.end method

.method public static synthetic $r8$lambda$JlPr3jkeMOm9ZCKxZrPGLFAwx-s(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$17(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$KrsRdJ5UKEcdt-MSSStO1DGtvf4(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$showCaptionLimitBulletin$41()V

    return-void
.end method

.method public static synthetic $r8$lambda$LIdvqwO-iOESu4uwbBMdKySGlXM(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$38(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$L_KRSbUD-hk9qZn-Q_XImyrhUII(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/ShareAlert;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showShareAlert$46(Lorg/telegram/ui/Components/ShareAlert;)V

    return-void
.end method

.method public static synthetic $r8$lambda$MOYlYAdHKtdcSQj9VInO0oKjrKY(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$updateResetButtonVisibility$56(Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$NON_qvMFzl-kk1NXKCR01AoT5WE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHint()V

    return-void
.end method

.method public static synthetic $r8$lambda$NR4QScktwDBaTmue0Cw5sK5be-s(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$29(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$O8_WwyXX3mEDbed-AAJTYFHk1so(Lorg/telegram/ui/PhotoViewer;Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$openCurrentPhotoInPaintModeForSelect$80(Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V

    return-void
.end method

.method public static synthetic $r8$lambda$OHX67oQIc71Vyfk84fBeXSF3iUo(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$85(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$PYsylu19tlf58ZFPXDaKmL54BLI(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$30(Landroid/app/Activity;Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$QEU1Fa0biBgdSfsUDSeOauUeHK8(Lorg/telegram/ui/PhotoViewer;ZILjava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZILjava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$QeFF9eqA2-Z4LS1o_d5vwYWW-sw(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setVideoPlayerControlVisible$54(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$RLjC4so4nqt42ndAoAROgN_Wk_c(Lorg/telegram/ui/PhotoViewer;Landroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$61(Landroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$RbBYSoLp2Q44qMD67uIx3DA6OC0(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$onLinkLongPress$4(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Rp4sNu93e_lBz9UJKT9HavHrXQA(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$14(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$V9Q07XJ1bVN84Kulo1Juyaz7498(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$83(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method public static synthetic $r8$lambda$VWcqH6qy5P2LiW3RNCE-HkvG0MM(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$77(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$WJkKydMvfBHUv-H1JuD2hWgeB5I(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method public static synthetic $r8$lambda$WMlfxz7T8w3UhCDRz_nT8m-IaLE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$closePaintMode$69()V

    return-void
.end method

.method public static synthetic $r8$lambda$XOSO1cDfAksK6QPsYT5VOzCoe1c(Lorg/telegram/ui/PhotoViewer;FFLandroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->lambda$cropRotate$50(FFLandroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$XQRMML8WiZmysIuRVLHqC1hr2AE(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$12(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$YNI1g-aJY6O5RC0O9u1jg3hblcY(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$39(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$Yth6afZtTgtmQWyU363Q_P200VI(Landroid/content/DialogInterface;I)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$sendPressed$44(Landroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$aG1uJVzS1QGeO_eSYEAGWlLoK_w(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$66()V

    return-void
.end method

.method public static synthetic $r8$lambda$bozdBAb14mSchWEQHkMUp3yaP7w(Lorg/telegram/ui/PhotoViewer;ILjava/io/File;Ljava/io/File;ZZZZZ)V
    .locals 0

    invoke-direct/range {p0 .. p8}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$78(ILjava/io/File;Ljava/io/File;ZZZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$dAycv_7mWkNqVpnhmuKQNQEhBDk(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$27(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dMNbMr76REuyuOf1F_J-AbA0Fd8(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$21(Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dVVMYEiEZJww4B4TrNThslsoUac(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$47(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$dx34Kmg-X7pytr_m-YGubLZOIVc(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$16(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$eP2odfSVu2PQVkwye-wOvdRe7fc(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$13(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$fWDqj9gmPsf83B-LtEdfKnesV80(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Boolean;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$9(Ljava/lang/Boolean;)V

    return-void
.end method

.method public static synthetic $r8$lambda$g2UG7k5xw_ePIoKpQA8pTTmGdk4(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method public static synthetic $r8$lambda$gZMaB5WGlfuhr6eDdRYcSftFabA(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$translateY$68(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$g_CPZ-lh0wBShnIlgtsS-XcP3VI(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLObject;)Ljava/io/File;
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkProgress$76(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$i4Ht5gE0AIuXtqO-d347GfB8OLE(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$redraw$87(I)V

    return-void
.end method

.method public static synthetic $r8$lambda$j2sre6Q8bPBz1OQHcl7MPIyNsck(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$checkChangedTextureView$5(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$kTsTR1JoypidgJrjNksHYUHgWrM(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPaintMode$70(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$kUg3Ati6W9a8SDrnUYe_IKRzYw0(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$24(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z

    move-result p0

    return p0
.end method

.method public static synthetic $r8$lambda$knNt2jIiwZ-Piihk_Jh2np_hbDE(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPip$49(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$lgZzwgh4TLHFhjdjXmG8FmXMTs4(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToPaintMode$71(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$lrCCb6-CzfWco7HWS8L5Z84_cXM(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$15(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$m205K17S__UHd-meU2ZqDpgxqgI(Lorg/telegram/ui/PhotoViewer;ZIZZLandroid/content/DialogInterface;I)V
    .locals 0

    invoke-direct/range {p0 .. p6}, Lorg/telegram/ui/PhotoViewer;->lambda$sendPressed$45(ZIZZLandroid/content/DialogInterface;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$n-C9wcE_-K1SmaKzlHOaoN-hGMk(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$22(Ljava/lang/String;)V

    return-void
.end method

.method public static synthetic $r8$lambda$nuNLNarPogfxbaWPBb0QX_yRD2w(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$10(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$o0zyc5dkRKVkTYOLu2FEmWL5Psc(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoControlsInterface$52(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$p2KXruaXNoe_X-xwQ6lukSZtZaw(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver;ZZZ)V
    .locals 0

    invoke-direct {p0, p1, p2, p3, p4}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$37(Lorg/telegram/messenger/ImageReceiver;ZZZ)V

    return-void
.end method

.method public static synthetic $r8$lambda$pNNLa9LCK3D1X9v1VSlN6sCmMfQ(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V
    .locals 0

    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->onLinkLongPress(Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V

    return-void
.end method

.method public static synthetic $r8$lambda$q6jj8-llr1LjzS6gPMNvFpL_B9Q(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$11()Landroid/view/View;

    move-result-object p0

    return-object p0
.end method

.method public static synthetic $r8$lambda$q6sx4d3lw9yFZ5tPo6_JVC8w9BE(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$32()V

    return-void
.end method

.method public static synthetic $r8$lambda$qJHVsbHMvJrb3VzWyrDsL4VthSY(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$26(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$qZULGqJ1evsQiHAykokml9ouY20(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$84(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$q_Yt8qFhGbSVkv_Ids6-lEm-uYE(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createVideoTextureView$53(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V

    return-void
.end method

.method public static synthetic $r8$lambda$rmdWN2DdNVDzYIenPP7w8E-BGAE(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$closePhoto$81(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$sKdAF-UW7YxB4IdT4ia8X94BKd0(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$28(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$sx0V8KpF62eLkTaXR-IHVeIP2o4(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$36(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$uq_ualfJVhPz7aSzm4YlNVxFfqQ(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$62(Landroid/view/View;)V

    return-void
.end method

.method public static synthetic $r8$lambda$vtdT2W5KmeP6JL-9E57MGDHruMk(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$setItemVisible$73(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$wSBxXOoHn0JghU1PzuwGZYkXXTI(Lio/reactivex/disposables/Disposable;Landroid/content/DialogInterface;)V
    .locals 0

    invoke-static {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$showLoadingDialog$0(Lio/reactivex/disposables/Disposable;Landroid/content/DialogInterface;)V

    return-void
.end method

.method public static synthetic $r8$lambda$wXPBc52L00IY0pl8iENNYUl6zm0(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$58(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method public static synthetic $r8$lambda$xMTwfb1RlZWzr3MhNWt_2YfJq40(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;I)V
    .locals 0

    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->lambda$setParentActivity$40(Landroid/view/View;I)V

    return-void
.end method

.method public static synthetic $r8$lambda$y3IJS8C7jQ_d8zzS8eEhQYtNWf8(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->lambda$showCaptionLimitBulletin$42()V

    return-void
.end method

.method public static synthetic $r8$lambda$yGKNixVKe3fGCU9b1C2K6A4N6Yc(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Integer;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$createPaintView$64(Ljava/lang/Integer;)V

    return-void
.end method

.method public static synthetic $r8$lambda$z6UdvEMLx-nVc3Y-V0xfkx2CMJY(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;)V
    .locals 0

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->lambda$switchToEditMode$59(Landroid/animation/ValueAnimator;)V

    return-void
.end method

.method static constructor <clinit>()V
    .locals 3

    .line 3375
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const-string v1, "progress"

    const/16 v2, 0x18

    if-lt v0, v2, :cond_0

    .line 3376
    new-instance v0, Lorg/telegram/ui/PhotoViewer$11;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$11;-><init>(Ljava/lang/String;)V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    goto :goto_0

    .line 3388
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$12;

    const-class v2, Ljava/lang/Float;

    invoke-direct {v0, v2, v1}, Lorg/telegram/ui/PhotoViewer$12;-><init>(Ljava/lang/Class;Ljava/lang/String;)V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    :goto_0
    const/4 v0, 0x0

    .line 3988
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 3989
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-void
.end method

.method public constructor <init>()V
    .locals 11

    .line 4016
    invoke-direct {p0}, Lcom/iMe/ui/base/mvp/view/MvpNoParentCustomView;-><init>()V

    .line 332
    new-instance v0, Ljava/util/HashMap;

    const/4 v1, 0x4

    invoke-direct {v0, v1}, Ljava/util/HashMap;-><init>(I)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    .line 562
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/4 v2, 0x0

    const/4 v3, 0x1

    const/16 v4, 0x1e

    if-lt v0, v4, :cond_0

    move v0, v3

    goto :goto_0

    :cond_0
    move v0, v2

    :goto_0
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->ALLOW_USE_SURFACE:Z

    const/4 v0, -0x1

    .line 568
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    .line 569
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    .line 580
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda60;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda60;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    .line 586
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 591
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    .line 1079
    new-instance v4, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/high16 v5, -0x1000000

    invoke-direct {v4, p0, v5}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    .line 1080
    new-instance v4, Landroid/graphics/Paint;

    invoke-direct {v4}, Landroid/graphics/Paint;-><init>()V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    const/4 v4, 0x3

    new-array v6, v4, [Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    .line 1087
    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    .line 1105
    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda67;

    invoke-direct {v6, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda67;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v6, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    const/4 v6, 0x2

    new-array v7, v6, [Landroid/graphics/drawable/GradientDrawable;

    .line 1111
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-array v7, v6, [Z

    .line 1112
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    new-array v7, v6, [F

    .line 1113
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    .line 1120
    new-instance v7, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 1121
    new-instance v7, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 1122
    new-instance v7, Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/high16 v7, -0x3f000000    # -8.0f

    .line 1133
    iput v7, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    .line 1150
    new-instance v7, Landroid/graphics/Paint;

    invoke-direct {v7, v6}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    .line 1154
    new-instance v7, Landroid/graphics/Rect;

    invoke-direct {v7}, Landroid/graphics/Rect;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    .line 1161
    new-instance v7, Lorg/telegram/ui/PhotoViewer$2;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$2;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    .line 1171
    new-instance v7, Lorg/telegram/ui/PhotoViewer$3;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$3;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    .line 1222
    new-instance v7, Landroidx/collection/ArrayMap;

    invoke-direct {v7}, Landroidx/collection/ArrayMap;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    .line 1231
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    new-array v7, v6, [I

    .line 1232
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    new-array v7, v6, [I

    .line 1233
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    new-array v7, v4, [Landroid/widget/ImageView;

    .line 1244
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    new-array v7, v6, [I

    .line 1246
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    .line 1256
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 1267
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    const/16 v7, -0xa

    .line 1270
    iput v7, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 1283
    new-instance v7, Lorg/telegram/ui/PhotoViewer$4;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$4;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    .line 1314
    new-instance v7, Lorg/telegram/ui/PhotoViewer$5;

    const-string v8, "flashViewAlpha"

    invoke-direct {v7, p0, v8}, Lorg/telegram/ui/PhotoViewer$5;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->FLASH_VIEW_VALUE:Landroid/util/Property;

    .line 1599
    new-instance v7, Lorg/telegram/ui/PhotoViewer$6;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$6;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    .line 1715
    new-instance v7, Lorg/telegram/ui/PhotoViewer$7;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$7;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    .line 1792
    new-instance v7, Lorg/telegram/ui/PhotoViewer$8;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$8;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

    new-array v7, v6, [I

    .line 1981
    fill-array-data v7, :array_0

    const-class v8, F

    invoke-static {v8, v7}, Ljava/lang/reflect/Array;->newInstance(Ljava/lang/Class;[I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, [[F

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    .line 2009
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda65;

    invoke-direct {v7, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda65;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    .line 2071
    new-instance v7, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v7}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 2072
    new-instance v7, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v7}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 2073
    new-instance v7, Lorg/telegram/messenger/ImageReceiver;

    invoke-direct {v7}, Lorg/telegram/messenger/ImageReceiver;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 2074
    new-instance v7, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v8, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v7, v3, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 2075
    new-instance v7, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v8, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v7, v3, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 2076
    new-instance v7, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v8, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v7, v3, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;-><init>(ILjava/lang/Runnable;)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 2080
    new-instance v7, Landroid/graphics/Paint;

    invoke-direct {v7}, Landroid/graphics/Paint;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    const/4 v7, 0x0

    .line 2081
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    .line 2088
    new-instance v8, Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-direct {v8}, Lorg/telegram/ui/PhotoViewer$EditState;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    new-array v8, v4, [Ljava/lang/String;

    .line 2093
    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    new-array v8, v6, [Z

    .line 2119
    fill-array-data v8, :array_1

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    const/high16 v8, 0x3f800000    # 1.0f

    .line 2134
    iput v8, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/4 v9, 0x0

    .line 2135
    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 2136
    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 2146
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    .line 2151
    new-instance v9, Landroid/view/animation/DecelerateInterpolator;

    const/high16 v10, 0x3fc00000    # 1.5f

    invoke-direct {v9, v10}, Landroid/view/animation/DecelerateInterpolator;-><init>(F)V

    iput-object v9, p0, Lorg/telegram/ui/PhotoViewer;->interpolator:Landroid/view/animation/DecelerateInterpolator;

    .line 2153
    iput v8, p0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 2164
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    .line 2171
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 2177
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    .line 2178
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    .line 2180
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    new-array v8, v6, [Landroid/util/SparseArray;

    .line 2181
    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v2

    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v3

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    .line 2182
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    new-array v8, v6, [Landroid/util/SparseArray;

    .line 2183
    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v2

    new-instance v9, Landroid/util/SparseArray;

    invoke-direct {v9}, Landroid/util/SparseArray;-><init>()V

    aput-object v9, v8, v3

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    .line 2184
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    .line 2185
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    .line 2186
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    .line 2187
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    .line 2188
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    .line 2189
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    .line 2190
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    iput-object v8, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    .line 2191
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 2192
    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 2211
    new-instance v7, Landroid/graphics/Rect;

    invoke-direct {v7}, Landroid/graphics/Rect;-><init>()V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    .line 2236
    new-instance v7, Lorg/telegram/messenger/AnimationNotificationsLocker;

    const/4 v8, 0x5

    new-array v8, v8, [I

    sget v9, Lorg/telegram/messenger/NotificationCenter;->dialogsNeedReload:I

    aput v9, v8, v2

    sget v2, Lorg/telegram/messenger/NotificationCenter;->closeChats:I

    aput v2, v8, v3

    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    aput v2, v8, v6

    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    aput v2, v8, v4

    sget v2, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosLoaded:I

    aput v2, v8, v1

    invoke-direct {v7, v8}, Lorg/telegram/messenger/AnimationNotificationsLocker;-><init>([I)V

    iput-object v7, p0, Lorg/telegram/ui/PhotoViewer;->transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

    .line 15968
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda57;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda57;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    new-array v1, v6, [I

    .line 17311
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->tempInt:[I

    const-wide/16 v1, -0x1

    .line 17845
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 17846
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    .line 17847
    iput-wide v1, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    .line 17850
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    .line 18719
    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    const-wide/16 v6, 0xb4

    sget-object v3, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-direct {v1, v2, v6, v7, v3}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    .line 4017
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    invoke-virtual {v1, v5}, Landroid/graphics/Paint;->setColor(I)V

    .line 4018
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 4019
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v4}, Lorg/telegram/messenger/ImageReceiver;->setFileLoadingPriority(I)V

    return-void

    :array_0
    .array-data 4
        0x2
        0xd
    .end array-data

    :array_1
    .array-data 1
        0x0t
        0x1t
    .end array-data
.end method

.method static synthetic access$000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    return p0
.end method

.method static synthetic access$1000(Lorg/telegram/ui/PhotoViewer;Landroid/view/MotionEvent;)Z
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onTouchEvent(Landroid/view/MotionEvent;)Z

    move-result p0

    return p0
.end method

.method static synthetic access$10000(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    return p0
.end method

.method static synthetic access$10002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    return p1
.end method

.method static synthetic access$10100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$10200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$10300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$10400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->editing:Z

    return p0
.end method

.method static synthetic access$10500(Lorg/telegram/ui/PhotoViewer;)[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    return-object p0
.end method

.method static synthetic access$10600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/SimpleTextView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    return-object p0
.end method

.method static synthetic access$10700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$10800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    return p0
.end method

.method static synthetic access$10900(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$1100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoForwardDrawable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    return-object p0
.end method

.method static synthetic access$11000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    return-void
.end method

.method static synthetic access$11100(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Rect;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    return-object p0
.end method

.method static synthetic access$11200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    return p0
.end method

.method static synthetic access$11302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasLayout:Z

    return p1
.end method

.method static synthetic access$11400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    return p0
.end method

.method static synthetic access$11402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    return p1
.end method

.method static synthetic access$11502(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    return p1
.end method

.method static synthetic access$11600(Lorg/telegram/ui/PhotoViewer;F)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    return-void
.end method

.method static synthetic access$11700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/CheckBox;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    return-object p0
.end method

.method static synthetic access$11800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setScaleToFill()V

    return-void
.end method

.method static synthetic access$11900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$1200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoPlayerSeekBar;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    return-object p0
.end method

.method static synthetic access$12000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$12102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->attachedToWindow:Z

    return p1
.end method

.method static synthetic access$12200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    return-object p0
.end method

.method static synthetic access$12300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p0

    return p0
.end method

.method static synthetic access$12400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    return-void
.end method

.method static synthetic access$12500(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Paint;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->blackPaint:Landroid/graphics/Paint;

    return-object p0
.end method

.method static synthetic access$12600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ChatActivity;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    return-object p0
.end method

.method static synthetic access$12700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CounterView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    return-object p0
.end method

.method static synthetic access$12800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->deleteVideoFromCache()V

    return-void
.end method

.method static synthetic access$12900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->forwardCloud()V

    return-void
.end method

.method static synthetic access$1300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$13000(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSharePressed(Ljava/lang/String;)V

    return-void
.end method

.method static synthetic access$13100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/BaseFragment;
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$13200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    return-object p0
.end method

.method static synthetic access$13202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;)Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    return-object p1
.end method

.method static synthetic access$13300(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return p0
.end method

.method static synthetic access$13302(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return p1
.end method

.method static synthetic access$13400(Lorg/telegram/ui/PhotoViewer;I[J)Lorg/telegram/tgnet/TLObject;
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$13500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    return-object p0
.end method

.method static synthetic access$13600(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    return-wide v0
.end method

.method static synthetic access$13700(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    return p0
.end method

.method static synthetic access$13800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    return-object p0
.end method

.method static synthetic access$13900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V

    return-void
.end method

.method static synthetic access$1400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    return-object p0
.end method

.method static synthetic access$14000(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$14100(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    return-wide v0
.end method

.method static synthetic access$14202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    return p1
.end method

.method static synthetic access$14300(Lorg/telegram/ui/PhotoViewer;Ljava/util/ArrayList;)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showShareAlert(Ljava/util/ArrayList;)V

    return-void
.end method

.method static synthetic access$14400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->openCurrentPhotoInPaintModeForSelect()V

    return-void
.end method

.method static synthetic access$14500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    return p0
.end method

.method static synthetic access$14600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    return-object p0
.end method

.method static synthetic access$14700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onSharePressed()V

    return-void
.end method

.method static synthetic access$14800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/StickersAlert;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    return-object p0
.end method

.method static synthetic access$14802(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/StickersAlert;)Lorg/telegram/ui/Components/StickersAlert;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    return-object p1
.end method

.method static synthetic access$14900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    return-object p0
.end method

.method static synthetic access$1500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoCropView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    return-object p0
.end method

.method static synthetic access$15000()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 315
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method static synthetic access$15002(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer;
    .locals 0

    .line 315
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    return-object p0
.end method

.method static synthetic access$15102(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    return p1
.end method

.method static synthetic access$15202(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return p1
.end method

.method static synthetic access$15300(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    return-void
.end method

.method static synthetic access$15400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    return-void
.end method

.method static synthetic access$15500(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15602(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/messenger/ImageLocation;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    return-object p1
.end method

.method static synthetic access$15700(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15800(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$15900(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$1600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoPlayer;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-object p0
.end method

.method static synthetic access$16000(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$16100(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    return-void
.end method

.method static synthetic access$16200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/UndoView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    return-object p0
.end method

.method static synthetic access$16300(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    return p0
.end method

.method static synthetic access$16400(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$16502(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    return p1
.end method

.method static synthetic access$16600(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTranslated()V

    return-void
.end method

.method static synthetic access$16700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/SecureDocument;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    return-object p0
.end method

.method static synthetic access$16800(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    return p0
.end method

.method static synthetic access$16900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result p0

    return p0
.end method

.method static synthetic access$1700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoViewerWebView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    return-object p0
.end method

.method static synthetic access$17000(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$17100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/BaseFragment;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    return-object p0
.end method

.method static synthetic access$17200(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return p0
.end method

.method static synthetic access$17202(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return p1
.end method

.method static synthetic access$17300(Lorg/telegram/ui/PhotoViewer;ZZ)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    return-void
.end method

.method static synthetic access$17400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    return-object p0
.end method

.method static synthetic access$17402(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    return-object p1
.end method

.method static synthetic access$17502(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->dontAutoPlay:Z

    return p1
.end method

.method static synthetic access$17600(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)Z
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result p0

    return p0
.end method

.method static synthetic access$17702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    return p1
.end method

.method static synthetic access$17800(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    return-void
.end method

.method static synthetic access$17900(Lorg/telegram/ui/PhotoViewer;IZZ)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return-void
.end method

.method static synthetic access$1800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    return p0
.end method

.method static synthetic access$18000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    return-void
.end method

.method static synthetic access$18100(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    return p0
.end method

.method static synthetic access$18200(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/TextView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    return-object p0
.end method

.method static synthetic access$18300(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/LinearLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    return-object p0
.end method

.method static synthetic access$18400(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$18500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/BlurringShader$BlurManager;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    return-object p0
.end method

.method static synthetic access$18600(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V
    .locals 0

    .line 315
    invoke-direct/range {p0 .. p7}, Lorg/telegram/ui/PhotoViewer;->drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V

    return-void
.end method

.method static synthetic access$18700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    return-void
.end method

.method static synthetic access$18800(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    return p0
.end method

.method static synthetic access$18802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    return p1
.end method

.method static synthetic access$18900(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    return-wide v0
.end method

.method static synthetic access$18902(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    return-wide p1
.end method

.method static synthetic access$1900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoTimelinePlayView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    return-object p0
.end method

.method static synthetic access$19000(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    return-wide v0
.end method

.method static synthetic access$19002(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    return-wide p1
.end method

.method static synthetic access$19100(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    return p0
.end method

.method static synthetic access$19102(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    return p1
.end method

.method static synthetic access$19200(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    return-wide v0
.end method

.method static synthetic access$19202(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    return-wide p1
.end method

.method static synthetic access$19302(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    return-wide p1
.end method

.method static synthetic access$19400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelFlashAnimations()V

    return-void
.end method

.method static synthetic access$19500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isVideoPlaying()Z

    move-result p0

    return p0
.end method

.method static synthetic access$19600(Lorg/telegram/ui/PhotoViewer;)Landroid/view/View;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    return-object p0
.end method

.method static synthetic access$19700(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->captureCurrentFrame()V

    return-void
.end method

.method static synthetic access$19800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Bulletin;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    return-object p0
.end method

.method static synthetic access$19900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method static synthetic access$200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/MessageObject;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    return-object p0
.end method

.method static synthetic access$2000(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v0

    return-wide v0
.end method

.method static synthetic access$20000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoCompressButton;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    return-object p0
.end method

.method static synthetic access$20100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    return p0
.end method

.method static synthetic access$20102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    return p1
.end method

.method static synthetic access$202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)Lorg/telegram/messenger/MessageObject;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    return-object p1
.end method

.method static synthetic access$20200(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$20202(Lorg/telegram/ui/PhotoViewer;Landroid/widget/ImageView;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    return-object p1
.end method

.method static synthetic access$20300(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Bitmap;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    return-object p0
.end method

.method static synthetic access$20302(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    return-object p1
.end method

.method static synthetic access$20400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->requestAdjust()V

    return-void
.end method

.method static synthetic access$20500(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$20502(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$20602(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$20700(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$20800(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$20802(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$20900(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$2100(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v0

    return-wide v0
.end method

.method static synthetic access$21002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    return p1
.end method

.method static synthetic access$21102(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    return p1
.end method

.method static synthetic access$21202(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    return p1
.end method

.method static synthetic access$21302(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    return p1
.end method

.method static synthetic access$21402(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    return p1
.end method

.method static synthetic access$21500(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$21600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$EditState;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    return-object p0
.end method

.method static synthetic access$21700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    return p0
.end method

.method static synthetic access$21802(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$21900(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showVideoSeekPreviewPosition(Z)V

    return-void
.end method

.method static synthetic access$2200(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    return p0
.end method

.method static synthetic access$22002(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    return p1
.end method

.method static synthetic access$22100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/VideoSeekPreviewImage;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    return-object p0
.end method

.method static synthetic access$22200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoSeekPreviewPosition()V

    return-void
.end method

.method static synthetic access$22300(Lorg/telegram/ui/PhotoViewer;)[I
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    return-object p0
.end method

.method static synthetic access$22400(Lorg/telegram/ui/PhotoViewer;)[I
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    return-object p0
.end method

.method static synthetic access$22600(Lorg/telegram/ui/PhotoViewer;)Landroid/view/OrientationEventListener;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    return-object p0
.end method

.method static synthetic access$22700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    return p0
.end method

.method static synthetic access$22702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    return p1
.end method

.method static synthetic access$22800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    return p0
.end method

.method static synthetic access$22802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    return p1
.end method

.method static synthetic access$22900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    return p0
.end method

.method static synthetic access$2300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    return p0
.end method

.method static synthetic access$23000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->playOrStopAnimatedStickers(Z)V

    return-void
.end method

.method static synthetic access$23100(Lorg/telegram/ui/PhotoViewer;J)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->seekAnimatedStickersTo(J)V

    return-void
.end method

.method static synthetic access$23202(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    return p1
.end method

.method static synthetic access$23300(Lorg/telegram/ui/PhotoViewer;)Ljava/util/ArrayList;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    return-object p0
.end method

.method static synthetic access$23400(Lorg/telegram/ui/PhotoViewer;ZI)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    return-void
.end method

.method static synthetic access$23500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    return-object p0
.end method

.method static synthetic access$23600(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    return-void
.end method

.method static synthetic access$23702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    return p1
.end method

.method static synthetic access$23800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    return p0
.end method

.method static synthetic access$23802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    return p1
.end method

.method static synthetic access$23900(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView$SurfaceTextureListener;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->surfaceTextureListener:Landroid/view/TextureView$SurfaceTextureListener;

    return-object p0
.end method

.method static synthetic access$2400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    return p0
.end method

.method static synthetic access$24000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateResetButtonVisibility(Z)V

    return-void
.end method

.method static synthetic access$24100(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    return-void
.end method

.method static synthetic access$24200(Lorg/telegram/ui/PhotoViewer;F)Z
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(F)Z

    move-result p0

    return p0
.end method

.method static synthetic access$24300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cropMirror()Z

    move-result p0

    return p0
.end method

.method static synthetic access$24500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PickerBottomLayoutViewer;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    return-object p0
.end method

.method static synthetic access$24600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PhotoFilterView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    return-object p0
.end method

.method static synthetic access$24602(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/PhotoFilterView;)Lorg/telegram/ui/Components/PhotoFilterView;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    return-object p1
.end method

.method static synthetic access$24700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    return-object p0
.end method

.method static synthetic access$24802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    return p1
.end method

.method static synthetic access$24902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->applying:Z

    return p1
.end method

.method static synthetic access$2500(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    return p0
.end method

.method static synthetic access$25002(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    return p1
.end method

.method static synthetic access$2502(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    return p1
.end method

.method static synthetic access$25102(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    return p1
.end method

.method static synthetic access$25200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$SavedState;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    return-object p0
.end method

.method static synthetic access$25202(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$SavedState;)Lorg/telegram/ui/PhotoViewer$SavedState;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    return-object p1
.end method

.method static synthetic access$25300(Lorg/telegram/ui/PhotoViewer;ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2, p3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    return-void
.end method

.method static synthetic access$25400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result p0

    return p0
.end method

.method static synthetic access$25500(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method static synthetic access$25600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    return p0
.end method

.method static synthetic access$25602(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    return p1
.end method

.method static synthetic access$25702(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$25802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    return p1
.end method

.method static synthetic access$25900(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$2600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$26000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p0

    return p0
.end method

.method static synthetic access$26100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p0

    return p0
.end method

.method static synthetic access$26200(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$26300(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result p0

    return p0
.end method

.method static synthetic access$26400(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result p0

    return p0
.end method

.method static synthetic access$26500(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result p0

    return p0
.end method

.method static synthetic access$26602(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    return-wide p1
.end method

.method static synthetic access$26702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    return p1
.end method

.method static synthetic access$26802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    return p1
.end method

.method static synthetic access$26900(Lorg/telegram/ui/PhotoViewer;Z)F
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result p0

    return p0
.end method

.method static synthetic access$27000(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->switchToPaintMode()V

    return-void
.end method

.method static synthetic access$2702(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    return p1
.end method

.method static synthetic access$27100(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    return-wide v0
.end method

.method static synthetic access$27200(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27202(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27300(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27302(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27400(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$27402(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$27500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    return p0
.end method

.method static synthetic access$27700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$27800(Lorg/telegram/ui/PhotoViewer;)[Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$27900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    return p0
.end method

.method static synthetic access$2800(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    return-void
.end method

.method static synthetic access$28000(Lorg/telegram/ui/PhotoViewer;)[[F
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    return-object p0
.end method

.method static synthetic access$28100(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$28102(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$28200(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    return p0
.end method

.method static synthetic access$28300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/AnimationNotificationsLocker;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->transitionNotificationLocker:Lorg/telegram/messenger/AnimationNotificationsLocker;

    return-object p0
.end method

.method static synthetic access$28400(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setCaptionHwLayerEnabled(Z)V

    return-void
.end method

.method static synthetic access$28502(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    return-wide p1
.end method

.method static synthetic access$28702(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MediaController$CropState;)Lorg/telegram/messenger/MediaController$CropState;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    return-object p1
.end method

.method static synthetic access$28800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$28902(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MediaController$CropState;)Lorg/telegram/messenger/MediaController$CropState;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    return-object p1
.end method

.method static synthetic access$2900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    return p0
.end method

.method static synthetic access$29000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/Crop/CropTransform;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    return-object p0
.end method

.method static synthetic access$29100(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    return-void
.end method

.method static synthetic access$29200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$29300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$29400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    return-void
.end method

.method static synthetic access$29500(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->initEmbedVideo(I)V

    return-void
.end method

.method static synthetic access$29600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    return p0
.end method

.method static synthetic access$29602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    return p1
.end method

.method static synthetic access$29700(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->didChangedCompressionLevel(Z)V

    return-void
.end method

.method static synthetic access$29800(Lorg/telegram/ui/PhotoViewer;I)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method static synthetic access$29902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    return p1
.end method

.method static synthetic access$300(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    return p0
.end method

.method static synthetic access$3000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    return p0
.end method

.method static synthetic access$30100(Lorg/telegram/ui/PhotoViewer;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    return-object p0
.end method

.method static synthetic access$30102(Lorg/telegram/ui/PhotoViewer;Landroid/animation/AnimatorSet;)Landroid/animation/AnimatorSet;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    return-object p1
.end method

.method static synthetic access$30200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$QualityChooseView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    return-object p0
.end method

.method static synthetic access$30300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PickerBottomLayoutViewer;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    return-object p0
.end method

.method static synthetic access$30400(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$30402(Lorg/telegram/ui/PhotoViewer;Ljava/lang/Runnable;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    return-object p1
.end method

.method static synthetic access$30502(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    return p1
.end method

.method static synthetic access$30600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    return p0
.end method

.method static synthetic access$30602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    return p1
.end method

.method static synthetic access$30700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    return p0
.end method

.method static synthetic access$30702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    return p1
.end method

.method static synthetic access$30800(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    return p0
.end method

.method static synthetic access$30802(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    return p1
.end method

.method static synthetic access$30900(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    return p0
.end method

.method static synthetic access$30902(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    return p1
.end method

.method static synthetic access$3100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    return p0
.end method

.method static synthetic access$31000(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    return p0
.end method

.method static synthetic access$31002(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    return p1
.end method

.method static synthetic access$3102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    return p1
.end method

.method static synthetic access$31100(Lorg/telegram/ui/PhotoViewer;II)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updateCompressionsCount(II)V

    return-void
.end method

.method static synthetic access$31200(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->selectCompression()I

    move-result p0

    return p0
.end method

.method static synthetic access$31300(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->prepareRealEncoderBitrate()V

    return-void
.end method

.method static synthetic access$31402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isH264Video:Z

    return p1
.end method

.method static synthetic access$31502(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    return-wide p1
.end method

.method static synthetic access$31602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    return p1
.end method

.method static synthetic access$31702(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    return-wide p1
.end method

.method static synthetic access$31800(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    return p0
.end method

.method static synthetic access$31802(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    return p1
.end method

.method static synthetic access$31900(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    return-void
.end method

.method static synthetic access$3200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    return-void
.end method

.method static synthetic access$32000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/VideoEditedInfo;
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object p0

    return-object p0
.end method

.method static synthetic access$32100(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$ListAdapter;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    return-object p0
.end method

.method static synthetic access$32200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    return-void
.end method

.method static synthetic access$3300(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    return-void
.end method

.method static synthetic access$3400(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method static synthetic access$3500(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    return p0
.end method

.method static synthetic access$3600(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    return-wide v0
.end method

.method static synthetic access$3602(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    return-wide p1
.end method

.method static synthetic access$3700(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    return p0
.end method

.method static synthetic access$3800(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    return p0
.end method

.method static synthetic access$3802(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    return p1
.end method

.method static synthetic access$3900(Lorg/telegram/ui/PhotoViewer;)[Ljava/lang/String;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    return-object p0
.end method

.method static synthetic access$400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    return p0
.end method

.method static synthetic access$4000(Lorg/telegram/ui/PhotoViewer;J)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebTo(J)V

    return-void
.end method

.method static synthetic access$4100(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/String;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    return-object p0
.end method

.method static synthetic access$4200(Lorg/telegram/ui/PhotoViewer;)J
    .locals 2

    .line 315
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    return-wide v0
.end method

.method static synthetic access$4202(Lorg/telegram/ui/PhotoViewer;J)J
    .locals 0

    .line 315
    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    return-wide p1
.end method

.method static synthetic access$4300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$FirstFrameView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    return-object p0
.end method

.method static synthetic access$4500(Lorg/telegram/ui/PhotoViewer;)Ljava/lang/Runnable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    return-object p0
.end method

.method static synthetic access$4600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    return p0
.end method

.method static synthetic access$4602(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    return p1
.end method

.method static synthetic access$4700(Lorg/telegram/ui/PhotoViewer;)Landroid/graphics/Bitmap;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    return-object p0
.end method

.method static synthetic access$4702(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    return-object p1
.end method

.method static synthetic access$4800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    return p0
.end method

.method static synthetic access$4802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    return p1
.end method

.method static synthetic access$4900(Lorg/telegram/ui/PhotoViewer;)Landroid/app/Activity;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    return-object p0
.end method

.method static synthetic access$500(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    return-object p0
.end method

.method static synthetic access$5000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    return p0
.end method

.method static synthetic access$5100(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$5200(Lorg/telegram/ui/PhotoViewer;)Landroid/view/SurfaceView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    return-object p0
.end method

.method static synthetic access$5300(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    return-object p0
.end method

.method static synthetic access$5400(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    return p0
.end method

.method static synthetic access$5402(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    return p1
.end method

.method static synthetic access$5500(Lorg/telegram/ui/PhotoViewer;)Landroid/view/TextureView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    return-object p0
.end method

.method static synthetic access$5502(Lorg/telegram/ui/PhotoViewer;Landroid/view/TextureView;)Landroid/view/TextureView;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    return-object p1
.end method

.method static synthetic access$5600(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoWidth:I

    return p0
.end method

.method static synthetic access$5602(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoWidth:I

    return p1
.end method

.method static synthetic access$5700(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->videoHeight:I

    return p0
.end method

.method static synthetic access$5702(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->videoHeight:I

    return p1
.end method

.method static synthetic access$5800(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    return p0
.end method

.method static synthetic access$5802(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    return p1
.end method

.method static synthetic access$5900(Lorg/telegram/ui/PhotoViewer;)Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    return-object p0
.end method

.method static synthetic access$600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CaptionScrollView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    return-object p0
.end method

.method static synthetic access$6000(Lorg/telegram/ui/PhotoViewer;Z)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->checkChangedTextureView(Z)V

    return-void
.end method

.method static synthetic access$6100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    return p0
.end method

.method static synthetic access$6102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    return p1
.end method

.method static synthetic access$6200(Lorg/telegram/ui/PhotoViewer;)V
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    return-void
.end method

.method static synthetic access$6302(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    return p1
.end method

.method static synthetic access$6400(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    return-object p0
.end method

.method static synthetic access$6402(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;
    .locals 0

    .line 315
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    return-object p1
.end method

.method static synthetic access$6500(Lorg/telegram/ui/PhotoViewer;)Landroid/view/WindowManager$LayoutParams;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    return-object p0
.end method

.method static synthetic access$6600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$6700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    return-object p0
.end method

.method static synthetic access$6800(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 0

    .line 315
    invoke-direct/range {p0 .. p9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    return-void
.end method

.method static synthetic access$6900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    return p0
.end method

.method static synthetic access$6902(Lorg/telegram/ui/PhotoViewer;Z)Z
    .locals 0

    .line 315
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    return p1
.end method

.method static synthetic access$700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/RadialProgressView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    return-object p0
.end method

.method static synthetic access$7000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/ChatAttachAlert;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    return-object p0
.end method

.method static synthetic access$7100(Lorg/telegram/ui/PhotoViewer;)I
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    return p0
.end method

.method static synthetic access$7102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    return p1
.end method

.method static synthetic access$7200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    return-object p0
.end method

.method static synthetic access$7300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/ClippingImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    return-object p0
.end method

.method static synthetic access$7400()Landroid/view/animation/DecelerateInterpolator;
    .locals 1

    .line 315
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

    return-object v0
.end method

.method static synthetic access$7402(Landroid/view/animation/DecelerateInterpolator;)Landroid/view/animation/DecelerateInterpolator;
    .locals 0

    .line 315
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->decelerateInterpolator:Landroid/view/animation/DecelerateInterpolator;

    return-object p0
.end method

.method static synthetic access$7500()Landroid/graphics/Paint;
    .locals 1

    .line 315
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressPaint:Landroid/graphics/Paint;

    return-object v0
.end method

.method static synthetic access$7502(Landroid/graphics/Paint;)Landroid/graphics/Paint;
    .locals 0

    .line 315
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->progressPaint:Landroid/graphics/Paint;

    return-object p0
.end method

.method static synthetic access$7600(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result p0

    return p0
.end method

.method static synthetic access$7700(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    return p0
.end method

.method static synthetic access$7800()[Landroid/graphics/drawable/Drawable;
    .locals 1

    .line 315
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    return-object v0
.end method

.method static synthetic access$7900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    return p0
.end method

.method static synthetic access$800()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 315
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method static synthetic access$8000(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    return-object p0
.end method

.method static synthetic access$802(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer;
    .locals 0

    .line 315
    sput-object p0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object p0
.end method

.method static synthetic access$8100(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$8200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/GroupedPhotosListView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    return-object p0
.end method

.method static synthetic access$8300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    return-object p0
.end method

.method static synthetic access$8600(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/PaintingOverlay;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    return-object p0
.end method

.method static synthetic access$8700(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/messenger/ImageReceiver;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    return-object p0
.end method

.method static synthetic access$8800(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/Components/CaptionPhotoViewer;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    return-object p0
.end method

.method static synthetic access$8900(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    return p0
.end method

.method static synthetic access$900(Lorg/telegram/ui/PhotoViewer;ZZ)V
    .locals 0

    .line 315
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method static synthetic access$9000(Lorg/telegram/ui/PhotoViewer;)Z
    .locals 0

    .line 315
    iget-boolean p0, p0, Lorg/telegram/ui/PhotoViewer;->dontChangeCaptionPosition:Z

    return p0
.end method

.method static synthetic access$9102(Lorg/telegram/ui/PhotoViewer;I)I
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->keyboardSize:I

    return p1
.end method

.method static synthetic access$9200(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    return-object p0
.end method

.method static synthetic access$9300(Lorg/telegram/ui/PhotoViewer;)Lorg/telegram/ui/ActionBar/ActionBar;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    return-object p0
.end method

.method static synthetic access$9400(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/ImageView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    return-object p0
.end method

.method static synthetic access$9500(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$9600(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/FrameLayout;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    return-object p0
.end method

.method static synthetic access$9700(Lorg/telegram/ui/PhotoViewer;)Landroid/widget/TextView;
    .locals 0

    .line 315
    iget-object p0, p0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    return-object p0
.end method

.method static synthetic access$9800(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Canvas;)V
    .locals 0

    .line 315
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onDraw(Landroid/graphics/Canvas;)V

    return-void
.end method

.method static synthetic access$9900(Lorg/telegram/ui/PhotoViewer;)F
    .locals 0

    .line 315
    iget p0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    return p0
.end method

.method static synthetic access$9902(Lorg/telegram/ui/PhotoViewer;F)F
    .locals 0

    .line 315
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    return p1
.end method

.method private animateTo(FFFZ)V
    .locals 6

    const/16 v5, 0xfa

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    .line 16362
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZI)V

    return-void
.end method

.method private animateTo(FFFZI)V
    .locals 1

    .line 16366
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v0, v0, p1

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    cmpl-float v0, v0, p2

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v0, v0, p3

    if-nez v0, :cond_0

    return-void

    .line 16369
    :cond_0
    iput-boolean p4, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16370
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 16371
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 16372
    iput p3, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 16373
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide p1

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16374
    new-instance p1, Landroid/animation/AnimatorSet;

    invoke-direct {p1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 p2, 0x1

    new-array p2, p2, [Landroid/animation/Animator;

    const/4 p3, 0x0

    .line 16375
    sget-object p4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v0, 0x2

    new-array v0, v0, [F

    fill-array-data v0, :array_0

    .line 16376
    invoke-static {p0, p4, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p4

    aput-object p4, p2, p3

    .line 16375
    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 16378
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->interpolator:Landroid/view/animation/DecelerateInterpolator;

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 16379
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    int-to-long p2, p5

    invoke-virtual {p1, p2, p3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 16380
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$72;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$72;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 16387
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private applyCaption()Ljava/lang/CharSequence;
    .locals 6

    .line 8484
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->isVisible()Z

    move-result v0

    if-eqz v0, :cond_6

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_6

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_6

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto/16 :goto_1

    .line 8487
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 8489
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getText()Ljava/lang/CharSequence;

    move-result-object v1

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/CharSequence;

    const/4 v3, 0x0

    aput-object v1, v2, v3

    .line 8492
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    invoke-static {v4, v1}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v4, v5}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPhotoIndex(I)I

    move-result v4

    if-eqz v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v4

    if-lez v4, :cond_1

    .line 8493
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 8496
    :cond_1
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->supportsSendingNewEntities()Z

    move-result v5

    invoke-virtual {v4, v2, v5}, Lorg/telegram/messenger/MediaDataController;->getEntities([Ljava/lang/CharSequence;Z)Ljava/util/ArrayList;

    move-result-object v4

    .line 8497
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    .line 8499
    instance-of v5, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v5, :cond_2

    .line 8500
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 8501
    aget-object v5, v2, v3

    iput-object v5, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    .line 8502
    iput-object v4, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->entities:Ljava/util/ArrayList;

    goto :goto_0

    .line 8503
    :cond_2
    instance-of v5, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v5, :cond_3

    .line 8504
    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 8505
    aget-object v5, v2, v3

    iput-object v5, v0, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    .line 8506
    iput-object v4, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->entities:Ljava/util/ArrayList;

    .line 8509
    :cond_3
    :goto_0
    invoke-interface {v1}, Ljava/lang/CharSequence;->length()I

    move-result v0

    if-eqz v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_4

    .line 8510
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    .line 8512
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_5

    .line 8513
    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onApplyCaption(Ljava/lang/CharSequence;)V

    .line 8515
    :cond_5
    aget-object v0, v2, v3

    return-object v0

    :cond_6
    :goto_1
    const/4 v0, 0x0

    return-object v0
.end method

.method private applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I
    .locals 22

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, p2

    move-object/from16 v3, p8

    int-to-float v2, v2

    move/from16 v4, p4

    int-to-float v5, v4

    div-float v6, v2, v5

    move/from16 v7, p3

    int-to-float v7, v7

    move/from16 v8, p5

    int-to-float v9, v8

    div-float v10, v7, v9

    .line 17316
    invoke-static {v6, v10}, Ljava/lang/Math;->min(FF)F

    move-result v11

    .line 17319
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v12

    const/16 v13, 0x5a

    if-eq v12, v13, :cond_1

    const/16 v13, 0x10e

    if-ne v12, v13, :cond_0

    goto :goto_0

    :cond_0
    move/from16 v21, v8

    move v8, v4

    move/from16 v4, v21

    .line 17330
    :cond_1
    :goto_0
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v14, 0x3

    const/4 v15, 0x1

    const/high16 v16, 0x3f800000    # 1.0f

    if-eq v13, v15, :cond_3

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v13, v14, :cond_2

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v13, v14, :cond_3

    :cond_2
    :goto_1
    move/from16 v13, v16

    goto :goto_2

    .line 17332
    :cond_3
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v13, :cond_7

    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v14, -0x1

    if-eq v13, v14, :cond_7

    .line 17333
    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v14, v15, :cond_2

    if-eq v13, v15, :cond_2

    const/4 v15, 0x2

    if-eq v14, v15, :cond_4

    const/4 v15, 0x3

    if-ne v14, v15, :cond_5

    :cond_4
    const/4 v14, -0x1

    if-ne v13, v14, :cond_5

    goto :goto_1

    :cond_5
    if-nez v13, :cond_6

    .line 17336
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_2

    .line 17338
    :cond_6
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    sub-float v13, v16, v13

    goto :goto_2

    .line 17341
    :cond_7
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x2

    if-eq v13, v14, :cond_8

    const/4 v14, 0x3

    if-ne v13, v14, :cond_2

    :cond_8
    const/4 v13, 0x0

    .line 17343
    :goto_2
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v14

    .line 17344
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v8, v8

    sub-float v17, v16, v14

    sub-float v18, v16, v13

    mul-float v17, v17, v18

    add-float v14, v14, v17

    mul-float/2addr v14, v8

    float-to-int v14, v14

    int-to-float v4, v4

    sub-float v17, v16, v15

    mul-float v17, v17, v18

    add-float v15, v15, v17

    mul-float/2addr v15, v4

    float-to-int v15, v15

    move/from16 p3, v10

    int-to-float v10, v14

    div-float v17, v2, v10

    move/from16 p4, v14

    int-to-float v14, v15

    mul-float v19, v17, v14

    cmpl-float v19, v19, v7

    if-lez v19, :cond_9

    div-float v17, v7, v14

    :cond_9
    move/from16 v19, v15

    .line 17351
    iget v15, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v20, v12

    const/4 v12, 0x1

    if-eq v15, v12, :cond_c

    iget v15, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v15, v12, :cond_a

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v12, :cond_c

    :cond_a
    if-eqz v3, :cond_c

    mul-float v10, v10, v17

    mul-float v14, v14, v17

    mul-float v12, v6, v9

    cmpl-float v12, v12, v7

    if-lez v12, :cond_b

    move/from16 v6, p3

    :cond_b
    mul-float/2addr v5, v6

    div-float v5, v5, p6

    mul-float/2addr v9, v6

    div-float v9, v9, p6

    sub-float/2addr v5, v10

    mul-float v5, v5, v18

    add-float/2addr v10, v5

    sub-float/2addr v9, v14

    mul-float v9, v9, v18

    add-float/2addr v14, v9

    neg-float v5, v10

    const/high16 v6, 0x40000000    # 2.0f

    div-float/2addr v5, v6

    neg-float v9, v14

    div-float/2addr v9, v6

    div-float/2addr v10, v6

    div-float/2addr v14, v6

    .line 17364
    invoke-virtual {v1, v5, v9, v10, v14}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 17366
    :cond_c
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, 0x1

    if-eq v5, v6, :cond_d

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v5

    if-eqz v5, :cond_18

    .line 17368
    :cond_d
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v5, v6, :cond_10

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v5, v6, :cond_e

    goto :goto_4

    :cond_e
    if-eqz v3, :cond_f

    .line 17384
    iget v2, v3, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    goto :goto_3

    :cond_f
    move/from16 v2, v16

    :goto_3
    sub-float v3, v2, v16

    mul-float v3, v3, v18

    add-float v3, v3, v16

    div-float v17, v17, v11

    div-float v17, v17, v3

    mul-float v2, v2, v17

    goto :goto_7

    .line 17369
    :cond_10
    :goto_4
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v3

    sub-float v3, v3, v16

    mul-float v3, v3, v18

    add-float v3, v3, v16

    .line 17370
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v5

    div-float/2addr v5, v3

    div-float/2addr v2, v8

    mul-float v3, v2, v4

    cmpl-float v3, v3, v7

    if-lez v3, :cond_11

    div-float v2, v7, v4

    :cond_11
    div-float/2addr v2, v11

    mul-float/2addr v5, v2

    .line 17376
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v2, v3, :cond_14

    .line 17377
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v2, v3, :cond_13

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v2, v3, :cond_12

    goto :goto_5

    :cond_12
    if-nez v2, :cond_14

    .line 17380
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v2

    goto :goto_6

    .line 17378
    :cond_13
    :goto_5
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v2

    sub-float v2, v2, v16

    mul-float v2, v2, v18

    add-float v2, v2, v16

    :goto_6
    div-float/2addr v5, v2

    :cond_14
    move v2, v5

    .line 17389
    :goto_7
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v3

    mul-float/2addr v3, v13

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v5

    mul-float/2addr v5, v13

    invoke-virtual {v1, v3, v5}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17390
    invoke-virtual {v1, v2, v2}, Landroid/graphics/Canvas;->scale(FF)V

    .line 17391
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v2

    mul-float/2addr v2, v8

    mul-float/2addr v2, v11

    mul-float/2addr v2, v13

    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float/2addr v3, v4

    mul-float/2addr v3, v11

    mul-float/2addr v3, v13

    invoke-virtual {v1, v2, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17392
    invoke-virtual/range {p7 .. p7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v2

    move/from16 v3, v20

    int-to-float v3, v3

    add-float/2addr v2, v3

    const/high16 v3, 0x43340000    # 180.0f

    cmpl-float v3, v2, v3

    if-lez v3, :cond_15

    const/high16 v3, 0x43b40000    # 360.0f

    sub-float/2addr v2, v3

    .line 17396
    :cond_15
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-ne v3, v4, :cond_17

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-eq v3, v4, :cond_16

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v3, v4, :cond_17

    .line 17397
    :cond_16
    invoke-virtual {v1, v2}, Landroid/graphics/Canvas;->rotate(F)V

    goto :goto_8

    :cond_17
    mul-float/2addr v2, v13

    .line 17399
    invoke-virtual {v1, v2}, Landroid/graphics/Canvas;->rotate(F)V

    .line 17402
    :cond_18
    :goto_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->tempInt:[I

    const/4 v2, 0x0

    aput p4, v1, v2

    const/4 v2, 0x1

    .line 17403
    aput v19, v1, v2

    return-object v1
.end method

.method private applyCurrentEditMode()V
    .locals 44

    move-object/from16 v7, p0

    .line 9737
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_49

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto/16 :goto_27

    .line 9740
    :cond_0
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 9741
    instance-of v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-nez v0, :cond_1

    return-void

    :cond_1
    const/4 v8, 0x1

    new-array v0, v8, [Landroid/graphics/Bitmap;

    .line 9751
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    move-object v9, v1

    check-cast v9, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 9752
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/high16 v2, 0x447a0000    # 1000.0f

    const/4 v10, 0x3

    const/high16 v3, 0x44000000    # 512.0f

    const/4 v11, 0x2

    const/4 v12, 0x0

    const/4 v13, 0x0

    if-eq v1, v8, :cond_7

    if-nez v1, :cond_2

    iget v4, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v8, :cond_2

    goto/16 :goto_1

    :cond_2
    if-ne v1, v11, :cond_3

    .line 9773
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoFilterView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v1

    .line 9774
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getSavedFilterState()Lorg/telegram/messenger/MediaController$SavedFilterState;

    move-result-object v4

    move-object v6, v1

    move-object v5, v4

    move-object v1, v12

    move-object v4, v1

    move-object v15, v4

    goto/16 :goto_5

    :cond_3
    if-ne v1, v10, :cond_6

    .line 9776
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x12

    if-lt v1, v4, :cond_5

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v1, :cond_4

    if-eq v1, v8, :cond_4

    if-ne v1, v11, :cond_5

    .line 9777
    :cond_4
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    goto :goto_0

    :cond_5
    move-object v1, v12

    .line 9779
    :goto_0
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->hasChanges()Z

    move-result v4

    .line 9780
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v5, v1, v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getBitmap(Ljava/util/ArrayList;[Landroid/graphics/Bitmap;)Landroid/graphics/Bitmap;

    move-result-object v5

    .line 9781
    iget-object v6, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getMasks()Ljava/util/List;

    move-result-object v6

    .line 9783
    iget-object v14, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v14}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onCleanupEntities()V

    move/from16 v22, v4

    move-object v15, v6

    move-object v4, v1

    move-object v6, v5

    move-object v1, v12

    move-object v5, v1

    goto/16 :goto_6

    :cond_6
    move-object v1, v12

    move-object v4, v1

    move-object v5, v4

    move-object v6, v5

    move-object v15, v6

    goto/16 :goto_5

    .line 9753
    :cond_7
    :goto_1
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v9}, Lorg/telegram/ui/Components/PhotoCropView;->makeCrop(Lorg/telegram/messenger/MediaController$MediaEditState;)V

    .line 9754
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v1, :cond_8

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v1, v8, :cond_8

    return-void

    .line 9757
    :cond_8
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_b

    .line 9758
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_9

    .line 9759
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-static {v1, v12, v3, v3, v8}, Lorg/telegram/messenger/ImageLoader;->loadBitmap(Ljava/lang/String;Landroid/net/Uri;FFZ)Landroid/graphics/Bitmap;

    move-result-object v1

    :goto_2
    move-object v6, v1

    move-object v1, v12

    move-object v4, v1

    goto :goto_4

    .line 9761
    :cond_9
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v8, :cond_a

    new-array v1, v8, [I

    .line 9763
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v4

    iget-wide v5, v7, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    const-wide/16 v14, 0x3e8

    div-long/2addr v5, v14

    invoke-static {v4, v5, v6, v1, v8}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J[IZ)Landroid/graphics/Bitmap;

    move-result-object v4

    move-object v6, v4

    goto :goto_3

    .line 9765
    :cond_a
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v1

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v4

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v5

    long-to-float v5, v5

    mul-float/2addr v4, v5

    mul-float/2addr v4, v2

    float-to-long v4, v4

    invoke-static {v1, v4, v5}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_2

    .line 9769
    :cond_b
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v1

    new-array v4, v11, [I

    .line 9770
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v5

    aput v5, v4, v13

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v5

    aput v5, v4, v8

    move-object v6, v1

    move-object v1, v4

    :goto_3
    move-object v4, v12

    :goto_4
    move-object v5, v4

    move-object v15, v5

    :goto_5
    move/from16 v22, v13

    :goto_6
    if-nez v6, :cond_c

    return-void

    .line 9789
    :cond_c
    iget-object v14, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    if-eqz v14, :cond_d

    .line 9790
    new-instance v14, Ljava/io/File;

    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    invoke-direct {v14, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v14}, Ljava/io/File;->delete()Z

    .line 9791
    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    .line 9793
    :cond_d
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    if-eqz v3, :cond_e

    .line 9794
    new-instance v3, Ljava/io/File;

    iget-object v14, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    invoke-direct {v3, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v3}, Ljava/io/File;->delete()Z

    .line 9795
    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    .line 9798
    :cond_e
    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const-string v14, "_temp.jpg"

    const/4 v10, 0x4

    if-eq v3, v8, :cond_35

    if-nez v3, :cond_f

    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v8, :cond_f

    goto/16 :goto_1d

    :cond_f
    if-ne v3, v11, :cond_1a

    .line 9840
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v0, :cond_10

    .line 9841
    new-instance v0, Ljava/io/File;

    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/io/File;->delete()Z

    .line 9843
    :cond_10
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object v4, v14

    move-object v14, v6

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9844
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    .line 9845
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_11

    invoke-direct {v7, v6, v0, v12, v8}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object/from16 v23, v0

    goto :goto_7

    :cond_11
    move-object/from16 v23, v6

    .line 9846
    :goto_7
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-nez v0, :cond_13

    .line 9847
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_12

    .line 9848
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9849
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    .line 9851
    :cond_12
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const/high16 v16, 0x44000000    # 512.0f

    const/high16 v17, 0x44000000    # 512.0f

    const/16 v18, 0x53

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9852
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    move-object/from16 v26, v5

    move-object v14, v6

    goto/16 :goto_d

    .line 9854
    :cond_13
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    .line 9855
    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_14

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PaintingOverlay;->getThumb()Landroid/graphics/Bitmap;

    move-result-object v0

    goto :goto_8

    :cond_14
    move-object v0, v12

    .line 9858
    :goto_8
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_16

    if-nez v0, :cond_15

    .line 9860
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 9861
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v7, v0, v1, v12, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    .line 9862
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    move-object v0, v1

    goto :goto_9

    .line 9864
    :cond_15
    invoke-direct {v7, v0, v1, v12, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    :goto_9
    move-object/from16 v24, v0

    move/from16 v25, v8

    goto :goto_a

    :cond_16
    move-object/from16 v24, v0

    move/from16 v25, v13

    .line 9871
    :goto_a
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_18

    .line 9872
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_17

    .line 9873
    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object/from16 v14, v23

    move/from16 v16, v0

    move/from16 v17, v1

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9874
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v0, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_b

    .line 9876
    :cond_17
    new-instance v0, Ljava/io/File;

    invoke-static {v10}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v1

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v14

    invoke-virtual {v2, v14}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9877
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v14, v0

    const/4 v15, 0x1

    move-object/from16 v0, p0

    move-object v2, v3

    move-object/from16 v16, v3

    move-object/from16 v3, v24

    move-object v11, v4

    move-object/from16 v4, v23

    move-object/from16 v26, v5

    move v5, v14

    move-object v14, v6

    move v6, v15

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    goto :goto_c

    :cond_18
    :goto_b
    move-object/from16 v16, v3

    move-object v11, v4

    move-object/from16 v26, v5

    move-object v14, v6

    .line 9880
    :goto_c
    new-instance v0, Ljava/io/File;

    invoke-static {v10}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v1

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v1, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9881
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object/from16 v2, v16

    move-object/from16 v3, v24

    move-object/from16 v4, v23

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v25, :cond_19

    .line 9883
    invoke-virtual/range {v24 .. v24}, Landroid/graphics/Bitmap;->recycle()V

    .line 9886
    :cond_19
    :goto_d
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_34

    .line 9887
    invoke-virtual/range {v23 .. v23}, Landroid/graphics/Bitmap;->recycle()V

    goto/16 :goto_1c

    :cond_1a
    move-object/from16 v26, v5

    move-object v11, v14

    const/4 v1, 0x3

    move-object v14, v6

    if-ne v3, v1, :cond_34

    .line 9890
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-eqz v1, :cond_1b

    .line 9891
    new-instance v1, Ljava/io/File;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1}, Ljava/io/File;->delete()Z

    .line 9892
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_1b

    .line 9893
    new-instance v1, Ljava/io/File;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v1}, Ljava/io/File;->delete()Z

    .line 9896
    :cond_1b
    sget-object v1, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    int-to-float v3, v3

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move-object v6, v14

    move-object v5, v15

    move-object v15, v1

    move/from16 v16, v2

    move/from16 v17, v3

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v5, :cond_1c

    .line 9898
    new-instance v2, Ljava/util/ArrayList;

    invoke-direct {v2, v5}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    goto :goto_e

    :cond_1c
    move-object v2, v12

    :goto_e
    iput-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->stickers:Ljava/util/ArrayList;

    .line 9899
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v3

    invoke-virtual {v3, v1, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v2, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 9900
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    if-eqz v4, :cond_1d

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_1e

    :cond_1d
    move-object v4, v12

    :cond_1e
    iput-object v4, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v4, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iget-boolean v2, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    invoke-virtual {v1, v4, v2, v8}, Lorg/telegram/ui/Components/PaintingOverlay;->setEntities(Ljava/util/ArrayList;ZZ)V

    .line 9901
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getLcm()J

    move-result-wide v2

    iput-wide v2, v1, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    iput-wide v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    .line 9902
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v1, :cond_1f

    aget-object v1, v0, v13

    if-eqz v1, :cond_1f

    .line 9903
    aget-object v14, v0, v13

    sget-object v15, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    const/16 v18, 0x57

    const/16 v19, 0x0

    const/16 v20, 0x65

    const/16 v21, 0x65

    move/from16 v16, v1

    move/from16 v17, v2

    invoke-static/range {v14 .. v21}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    .line 9904
    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual {v2, v1, v8}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    goto :goto_f

    .line 9906
    :cond_1f
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    .line 9908
    :goto_f
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/Components/PaintingOverlay;->setBitmap(Landroid/graphics/Bitmap;)V

    .line 9910
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_24

    iget-boolean v1, v1, Lorg/telegram/messenger/MediaController$CropState;->initied:Z

    if-eqz v1, :cond_24

    .line 9911
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    invoke-static {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getCopy(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 9912
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v2, :cond_20

    .line 9913
    new-instance v2, Ljava/io/File;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-virtual {v2}, Ljava/io/File;->delete()Z

    .line 9914
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9916
    :cond_20
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v1, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9917
    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v2, :cond_21

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_21

    .line 9918
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    new-instance v3, Ljava/util/ArrayList;

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    invoke-direct {v3, v4}, Ljava/util/ArrayList;-><init>(I)V

    iput-object v3, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9919
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    move v3, v13

    :goto_10
    if-ge v3, v2, :cond_22

    .line 9920
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    invoke-virtual {v4}, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->copy()Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    move-result-object v4

    invoke-virtual {v5, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    add-int/lit8 v3, v3, 0x1

    goto :goto_10

    .line 9923
    :cond_21
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v2, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9925
    :cond_22
    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->width:I

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->height:I

    sget-object v4, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v3, v2, v4}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 9926
    new-instance v3, Landroid/graphics/Canvas;

    invoke-direct {v3, v2}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9928
    iget-boolean v4, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_23

    .line 9929
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 9930
    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v5

    .line 9931
    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v4

    move/from16 v35, v4

    move/from16 v34, v5

    goto :goto_11

    .line 9933
    :cond_23
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v4

    .line 9934
    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v5}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v5

    move/from16 v34, v4

    move/from16 v35, v5

    .line 9936
    :goto_11
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/16 v29, 0x0

    sget-object v32, Landroid/graphics/Bitmap$CompressFormat;->PNG:Landroid/graphics/Bitmap$CompressFormat;

    iget-object v5, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget-object v14, v5, Lorg/telegram/messenger/MediaController$CropState;->matrix:Landroid/graphics/Matrix;

    iget v15, v5, Lorg/telegram/messenger/MediaController$CropState;->stateScale:F

    iget v10, v5, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iget v8, v5, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    int-to-float v8, v8

    iget v5, v5, Lorg/telegram/messenger/MediaController$CropState;->scale:F

    const/16 v40, 0x0

    iget-object v12, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v12, v12, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    const/16 v42, 0x0

    move-object/from16 v27, v4

    move-object/from16 v28, v1

    move-object/from16 v30, v3

    move-object/from16 v31, v2

    move-object/from16 v33, v14

    move/from16 v36, v15

    move/from16 v37, v10

    move/from16 v38, v8

    move/from16 v39, v5

    move-object/from16 v41, v12

    invoke-static/range {v27 .. v42}, Lorg/telegram/ui/Components/Crop/CropView;->editBitmap(Landroid/content/Context;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Canvas;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;Landroid/graphics/Matrix;IIFFFFZLjava/util/ArrayList;Z)V

    .line 9937
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    .line 9939
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    .line 9940
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 9944
    :cond_24
    aget-object v1, v0, v13

    if-eqz v1, :cond_25

    aget-object v0, v0, v13

    goto :goto_12

    :cond_25
    move-object v0, v6

    .line 9946
    :goto_12
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_26

    iget-boolean v2, v1, Lorg/telegram/messenger/MediaController$CropState;->initied:Z

    if-eqz v2, :cond_26

    const/4 v2, 0x0

    .line 9947
    invoke-direct {v7, v0, v1, v2, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object v8, v0

    const/4 v10, 0x1

    goto :goto_13

    :cond_26
    move-object v8, v0

    move v10, v13

    .line 9953
    :goto_13
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/high16 v12, 0x3f800000    # 1.0f

    if-eqz v0, :cond_29

    .line 9955
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-nez v0, :cond_27

    .line 9956
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v1

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    long-to-float v2, v2

    mul-float/2addr v1, v2

    const/high16 v2, 0x447a0000    # 1000.0f

    mul-float/2addr v1, v2

    float-to-long v1, v1

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/SendMessagesHelper;->createVideoThumbnailAtTime(Ljava/lang/String;J)Landroid/graphics/Bitmap;

    move-result-object v0

    const/4 v2, 0x0

    const/4 v3, 0x1

    goto :goto_14

    :cond_27
    const/high16 v1, 0x44000000    # 512.0f

    const/4 v2, 0x0

    const/4 v3, 0x1

    .line 9958
    invoke-static {v0, v2, v1, v1, v3}, Lorg/telegram/messenger/ImageLoader;->loadBitmap(Ljava/lang/String;Landroid/net/Uri;FFZ)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 9960
    :goto_14
    iget-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_28

    invoke-direct {v7, v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    goto :goto_15

    :cond_28
    move-object v1, v0

    .line 9961
    :goto_15
    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2d

    if-eqz v0, :cond_2d

    .line 9962
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V

    goto :goto_17

    :cond_29
    const/4 v0, 0x2

    new-array v1, v0, [I

    .line 9966
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v0

    aput v0, v1, v13

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v0

    const/4 v2, 0x1

    aput v0, v1, v2

    .line 9967
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_2a

    .line 9968
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v7, v0, v3, v1, v2}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v1

    move-object v14, v1

    move v15, v2

    goto :goto_18

    .line 9971
    :cond_2a
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v27

    .line 9972
    aget v0, v1, v13

    if-eqz v0, :cond_2e

    .line 9973
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    .line 9974
    aget v3, v1, v13

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/graphics/Matrix;->postRotate(F)Z

    .line 9975
    aget v3, v1, v2

    const/high16 v4, -0x40800000    # -1.0f

    if-ne v3, v2, :cond_2b

    .line 9976
    invoke-virtual {v0, v4, v12}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_16

    .line 9977
    :cond_2b
    aget v1, v1, v2

    const/4 v2, 0x2

    if-ne v1, v2, :cond_2c

    .line 9978
    invoke-virtual {v0, v12, v4}, Landroid/graphics/Matrix;->postScale(FF)Z

    :cond_2c
    :goto_16
    const/16 v28, 0x0

    const/16 v29, 0x0

    .line 9980
    invoke-virtual/range {v27 .. v27}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v30

    invoke-virtual/range {v27 .. v27}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v31

    const/16 v33, 0x1

    move-object/from16 v32, v0

    invoke-static/range {v27 .. v33}, Lorg/telegram/messenger/Bitmaps;->createBitmap(Landroid/graphics/Bitmap;IIIILandroid/graphics/Matrix;Z)Landroid/graphics/Bitmap;

    move-result-object v1

    :cond_2d
    :goto_17
    move-object v14, v1

    const/4 v15, 0x1

    goto :goto_18

    :cond_2e
    move v15, v13

    move-object/from16 v14, v27

    .line 9987
    :goto_18
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_30

    .line 9988
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_2f

    .line 9989
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v14

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9990
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_19

    .line 9992
    :cond_2f
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9993
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v5, v0

    const/16 v19, 0x0

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    move-object/from16 v43, v6

    move/from16 v6, v19

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    goto :goto_1a

    :cond_30
    :goto_19
    move-object/from16 v43, v6

    .line 9996
    :goto_1a
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9997
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/4 v2, 0x0

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x0

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v10, :cond_31

    if-eqz v8, :cond_31

    .line 10000
    invoke-virtual {v8}, Landroid/graphics/Bitmap;->recycle()V

    :cond_31
    if-eqz v15, :cond_32

    if-eqz v14, :cond_32

    .line 10003
    invoke-virtual {v14}, Landroid/graphics/Bitmap;->recycle()V

    .line 10005
    :cond_32
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_3c

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_3c

    invoke-direct {v7, v13}, Lorg/telegram/ui/PhotoViewer;->getAnimatedMediaEntitiesCount(Z)I

    move-result v0

    if-ne v0, v1, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    const/4 v1, 0x0

    cmpg-float v0, v0, v1

    if-gtz v0, :cond_3c

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    cmpl-float v0, v0, v12

    if-ltz v0, :cond_3c

    .line 10006
    iget-wide v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    .line 10007
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    :goto_1b
    const-wide/16 v4, 0xbb8

    cmp-long v4, v0, v4

    if-gez v4, :cond_33

    cmp-long v4, v0, v2

    if-gez v4, :cond_33

    .line 10009
    iget-wide v4, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    add-long/2addr v0, v4

    goto :goto_1b

    .line 10011
    :cond_33
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    long-to-float v0, v0

    long-to-float v1, v2

    div-float/2addr v0, v1

    invoke-static {v12, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setRightProgress(F)V

    goto/16 :goto_20

    :cond_34
    :goto_1c
    move-object v12, v14

    goto/16 :goto_21

    :cond_35
    :goto_1d
    move-object/from16 v26, v5

    move-object/from16 v43, v6

    move-object v11, v14

    .line 9799
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 9800
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 9801
    iget-object v3, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v2, :cond_3c

    move-object/from16 v12, v43

    const/4 v0, 0x1

    .line 9804
    invoke-direct {v7, v12, v2, v1, v0}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v8

    .line 9805
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    if-eqz v0, :cond_39

    .line 9806
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->fullPaintPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v10

    .line 9807
    iget-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    const/4 v1, 0x0

    invoke-direct {v7, v10, v0, v1, v13}, Lorg/telegram/ui/PhotoViewer;->createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;

    move-result-object v14

    .line 9809
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_37

    .line 9810
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v0

    if-eqz v0, :cond_36

    .line 9811
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v8

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9812
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    goto :goto_1e

    .line 9814
    :cond_36
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9815
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    const/4 v2, 0x0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v5, v0

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    .line 9818
    :cond_37
    :goto_1e
    new-instance v0, Ljava/io/File;

    const/4 v1, 0x4

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->getLastLocalId()I

    move-result v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v2, v1}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 9819
    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    const/4 v2, 0x0

    const/high16 v5, 0x44000000    # 512.0f

    const/4 v6, 0x1

    move-object/from16 v0, p0

    move-object v3, v14

    move-object v4, v8

    invoke-direct/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V

    if-eqz v14, :cond_38

    .line 9821
    invoke-virtual {v14}, Landroid/graphics/Bitmap;->recycle()V

    :cond_38
    if-eqz v10, :cond_3b

    .line 9824
    invoke-virtual {v10}, Landroid/graphics/Bitmap;->recycle()V

    goto :goto_1f

    .line 9827
    :cond_39
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_3a

    .line 9828
    sget-object v28, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    int-to-float v0, v0

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    int-to-float v1, v1

    const/16 v31, 0x57

    const/16 v32, 0x0

    const/16 v33, 0x65

    const/16 v34, 0x65

    move-object/from16 v27, v8

    move/from16 v29, v0

    move/from16 v30, v1

    invoke-static/range {v27 .. v34}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;Landroid/graphics/Bitmap$CompressFormat;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9829
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    :cond_3a
    const/high16 v28, 0x44000000    # 512.0f

    const/high16 v29, 0x44000000    # 512.0f

    const/16 v30, 0x46

    const/16 v31, 0x0

    const/16 v32, 0x65

    const/16 v33, 0x65

    move-object/from16 v27, v8

    .line 9831
    invoke-static/range {v27 .. v33}, Lorg/telegram/messenger/ImageLoader;->scaleAndSaveImage(Landroid/graphics/Bitmap;FFIZII)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v0

    .line 9832
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    invoke-virtual {v0}, Ljava/io/File;->toString()Ljava/lang/String;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    .line 9834
    :cond_3b
    :goto_1f
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_3d

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_3d

    .line 9835
    invoke-virtual {v12}, Landroid/graphics/Bitmap;->recycle()V

    move-object v6, v8

    goto :goto_22

    :cond_3c
    :goto_20
    move-object/from16 v12, v43

    :cond_3d
    :goto_21
    move-object v6, v12

    .line 10015
    :goto_22
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->saveConfig()V

    move-object/from16 v12, v26

    if-eqz v12, :cond_3e

    .line 10018
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iput-object v12, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 10020
    :cond_3e
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_3f

    .line 10021
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    .line 10023
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {v7, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_23

    :cond_3f
    const/4 v2, 0x2

    if-ne v0, v2, :cond_40

    .line 10028
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 10029
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {v7, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_23

    :cond_40
    const/4 v2, 0x3

    if-ne v0, v2, :cond_41

    if-eqz v22, :cond_41

    .line 10032
    iput-boolean v1, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 10033
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    new-instance v1, Landroid/graphics/PorterDuffColorFilter;

    sget v2, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {v7, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    sget-object v3, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v1, v2, v3}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 10037
    :cond_41
    :goto_23
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_42

    const/4 v1, 0x4

    if-ne v0, v1, :cond_43

    :cond_42
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_43

    .line 10038
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->updatePhotoAtIndex(I)V

    .line 10039
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_43

    .line 10040
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    .line 10043
    :cond_43
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_44

    .line 10044
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeX()F

    move-result v0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v0, v1

    .line 10045
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeY()F

    move-result v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v1, v2

    .line 10046
    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 10047
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectX()F

    move-result v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeX()F

    move-result v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    add-float/2addr v0, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    const/4 v3, 0x2

    div-int/2addr v1, v3

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 10048
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->getRectY()F

    move-result v0

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->getRectSizeY()F

    move-result v1

    div-float/2addr v1, v2

    add-float/2addr v0, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v1

    div-int/2addr v1, v3

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iput v0, v7, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v0, 0x1

    .line 10049
    iput-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 10052
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoCropView;->onDisappear()V

    goto :goto_24

    :cond_44
    move v0, v1

    .line 10054
    :goto_24
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 10055
    iput-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 10057
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_47

    .line 10058
    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v1, v0, :cond_46

    if-nez v1, :cond_45

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v0, :cond_45

    goto :goto_25

    :cond_45
    move v3, v13

    goto :goto_26

    :cond_46
    :goto_25
    const/4 v3, 0x1

    goto :goto_26

    .line 10060
    :cond_47
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x2

    if-ne v0, v1, :cond_45

    goto :goto_25

    :goto_26
    if-eqz v3, :cond_48

    .line 10063
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v6}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 10064
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v1, 0x1

    invoke-virtual {v0, v13, v1}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    .line 10065
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 10066
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->requestLayout()V

    .line 10068
    :cond_48
    iput-boolean v13, v7, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 10069
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    :cond_49
    :goto_27
    return-void
.end method

.method private calculateEstimatedVideoSize(ZZ)V
    .locals 6

    if-eqz p1, :cond_1

    if-eqz p2, :cond_0

    const-wide/16 p1, 0x0

    goto :goto_0

    .line 18043
    :cond_0
    iget-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    :goto_0
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    add-long/2addr p1, v0

    long-to-float p1, p1

    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float p2, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr p2, v0

    mul-float/2addr p1, p2

    float-to-long p1, p1

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    const-wide/32 v0, 0x8000

    .line 18044
    div-long v0, p1, v0

    const-wide/16 v2, 0x10

    mul-long/2addr v0, v2

    add-long/2addr p1, v0

    iput-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    goto :goto_1

    .line 18046
    :cond_1
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    long-to-float p1, v0

    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float v2, v0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr v2, v3

    mul-float/2addr p1, v2

    float-to-long v4, p1

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    if-eqz p2, :cond_2

    .line 18048
    iget-wide p1, p0, Lorg/telegram/ui/PhotoViewer;->audioFramesSize:J

    long-to-float p1, p1

    long-to-float p2, v0

    div-float/2addr p2, v3

    mul-float/2addr p1, p2

    float-to-long p1, p1

    sub-long/2addr v4, p1

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    :cond_2
    :goto_1
    return-void
.end method

.method private calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;
    .locals 6

    .line 18193
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    .line 18194
    new-instance v0, Lorg/telegram/messenger/camera/Size;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    invoke-direct {v0, v1, v2}, Lorg/telegram/messenger/camera/Size;-><init>(II)V

    return-object v0

    .line 18199
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    const/4 v2, 0x2

    if-eqz v0, :cond_3

    if-eq v0, v1, :cond_2

    if-eq v0, v2, :cond_1

    const/high16 v0, 0x44f00000    # 1920.0f

    goto :goto_0

    :cond_1
    const/high16 v0, 0x44a00000    # 1280.0f

    goto :goto_0

    :cond_2
    const v0, 0x44558000    # 854.0f

    goto :goto_0

    :cond_3
    const/high16 v0, 0x43f00000    # 480.0f

    .line 18214
    :goto_0
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-le v3, v4, :cond_4

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    goto :goto_1

    :cond_4
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    :goto_1
    int-to-float v3, v3

    div-float/2addr v0, v3

    .line 18215
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v4, v1

    if-ne v3, v4, :cond_5

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v1, v0, v1

    if-ltz v1, :cond_5

    .line 18216
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    .line 18217
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    goto :goto_2

    .line 18219
    :cond_5
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v1, v1

    mul-float/2addr v1, v0

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    mul-int/2addr v1, v2

    .line 18220
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v4, v4

    mul-float/2addr v4, v0

    div-float/2addr v4, v3

    invoke-static {v4}, Ljava/lang/Math;->round(F)I

    move-result v0

    mul-int/2addr v0, v2

    move v5, v1

    move v1, v0

    move v0, v5

    .line 18222
    :goto_2
    new-instance v2, Lorg/telegram/messenger/camera/Size;

    invoke-direct {v2, v0, v1}, Lorg/telegram/messenger/camera/Size;-><init>(II)V

    return-object v2
.end method

.method private canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z
    .locals 8

    .line 17744
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return v1

    .line 17747
    :cond_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    .line 17748
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result p1

    .line 17749
    div-int/lit8 v0, v0, 0x3

    mul-int/lit8 v0, v0, 0x2

    int-to-float v0, v0

    cmpl-float p1, p1, v0

    const/4 v0, 0x1

    if-ltz p1, :cond_2

    move p1, v0

    goto :goto_0

    :cond_2
    move p1, v1

    .line 17750
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v2

    .line 17751
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v4

    const-wide v6, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v6, v2, v6

    if-eqz v6, :cond_4

    const-wide/16 v6, 0x3a98

    cmp-long v6, v4, v6

    if-lez v6, :cond_4

    if-eqz p1, :cond_3

    sub-long/2addr v4, v2

    const-wide/16 v2, 0x2710

    cmp-long p1, v4, v2

    if-lez p1, :cond_4

    :cond_3
    move v1, v0

    :cond_4
    return v1
.end method

.method private canSendMediaToParentChatActivity()Z
    .locals 2

    .line 12269
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1

    iget-object v1, v0, Lorg/telegram/ui/ChatActivity;->currentUser:Lorg/telegram/tgnet/TLRPC$User;

    if-nez v1, :cond_0

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    if-eqz v0, :cond_1

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isNotInChat(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendPhoto(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendVideo(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private cancelFlashAnimations()V
    .locals 3

    .line 1540
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 1541
    invoke-virtual {v0}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 1542
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/view/View;->setAlpha(F)V

    .line 1544
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 1545
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 1546
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->flashAnimator:Landroid/animation/AnimatorSet;

    .line 1548
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v0, :cond_2

    .line 1549
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->cancelThumbAnimation()V

    :cond_2
    return-void
.end method

.method private cancelMoveZoomAnimation()V
    .locals 7

    .line 16338
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-nez v0, :cond_0

    return-void

    .line 16342
    :cond_0
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float/2addr v2, v1

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v2, v3

    add-float/2addr v1, v2

    .line 16343
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v4, v2

    mul-float/2addr v4, v3

    add-float/2addr v2, v4

    .line 16344
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sub-float/2addr v5, v4

    mul-float/2addr v5, v3

    add-float/2addr v4, v5

    .line 16345
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    sub-float/2addr v6, v5

    mul-float/2addr v6, v3

    add-float/2addr v5, v6

    .line 16346
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 16347
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16348
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16349
    iput v4, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const-wide/16 v2, 0x0

    .line 16350
    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16351
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 16352
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v0, 0x0

    .line 16353
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16354
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private cancelVideoPlayRunnable()V
    .locals 1

    .line 1554
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 1555
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    const/4 v0, 0x0

    .line 1556
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayRunnable:Ljava/lang/Runnable;

    :cond_0
    return-void
.end method

.method private captureCurrentFrame()V
    .locals 4

    .line 7364
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    const-wide/16 v2, -0x1

    cmp-long v0, v0, v2

    if-eqz v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-nez v0, :cond_0

    goto :goto_0

    .line 7367
    :cond_0
    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 7368
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 7369
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-virtual {v1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    sget-object v2, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_BOTH:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const-wide/16 v2, 0x55

    invoke-virtual {v1, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    new-instance v2, Lorg/telegram/ui/PhotoViewer$35;

    invoke-direct {v2, p0, v0}, Lorg/telegram/ui/PhotoViewer$35;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/graphics/Bitmap;)V

    invoke-virtual {v1, v2}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    .line 7399
    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    :cond_1
    :goto_0
    return-void
.end method

.method private checkAnimation()Z
    .locals 6

    .line 14610
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v1, 0x0

    if-eqz v0, :cond_1

    .line 14611
    iget-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    sub-long/2addr v2, v4

    invoke-static {v2, v3}, Ljava/lang/Math;->abs(J)J

    move-result-wide v2

    const-wide/16 v4, 0x1f4

    cmp-long v0, v2, v4

    if-ltz v0, :cond_1

    .line 14612
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 14613
    invoke-interface {v0}, Ljava/lang/Runnable;->run()V

    const/4 v0, 0x0

    .line 14614
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 14616
    :cond_0
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 14617
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 14620
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_2

    const/4 v1, 0x1

    :cond_2
    return v1
.end method

.method private checkBufferedProgress(F)V
    .locals 8

    .line 8603
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    if-eqz v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_8

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    if-nez v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_8

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    goto/16 :goto_2

    .line 8606
    :cond_0
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    if-nez v0, :cond_1

    return-void

    .line 8610
    :cond_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    const-wide/high16 v3, 0x4034000000000000L    # 20.0

    cmpg-double v1, v1, v3

    if-gez v1, :cond_2

    return-void

    .line 8614
    :cond_2
    iget-wide v1, v0, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    const-wide v3, 0x80000000L

    cmp-long v1, v1, v3

    const/4 v2, 0x0

    const/4 v3, 0x1

    if-ltz v1, :cond_3

    move v1, v3

    goto :goto_0

    :cond_3
    move v1, v2

    .line 8615
    :goto_0
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v4

    invoke-virtual {v4}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v4

    and-int/lit8 v4, v4, 0x4

    if-eqz v4, :cond_4

    move v2, v3

    :cond_4
    if-eqz v2, :cond_8

    const v2, 0x3f666666    # 0.9f

    cmpg-float v2, p1, v2

    if-gez v2, :cond_8

    .line 8616
    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    long-to-float v0, v4

    mul-float/2addr v0, p1

    const/high16 v2, 0x4aa00000    # 5242880.0f

    cmpl-float v0, v0, v2

    if-gez v0, :cond_5

    const/high16 v0, 0x3f000000    # 0.5f

    cmpl-float p1, p1, v0

    if-ltz p1, :cond_8

    const-wide/32 v6, 0x200000

    cmp-long p1, v4, v6

    if-ltz p1, :cond_8

    :cond_5
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iget-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->startedPlayTime:J

    sub-long/2addr v4, v6

    invoke-static {v4, v5}, Ljava/lang/Math;->abs(J)J

    move-result-wide v4

    if-eqz v1, :cond_6

    const/16 p1, 0x2710

    goto :goto_1

    :cond_6
    const/16 p1, 0xbb8

    :goto_1
    int-to-long v0, p1

    cmp-long p1, v4, v0

    if-ltz p1, :cond_8

    .line 8617
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    const-wide v4, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long p1, v0, v4

    if-nez p1, :cond_7

    .line 8619
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v0, Lorg/telegram/messenger/R$string;->VideoDoesNotSupportStreaming:I

    const-string v1, "VideoDoesNotSupportStreaming"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-static {p1, v0, v3}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object p1

    .line 8620
    invoke-virtual {p1}, Landroid/widget/Toast;->show()V

    .line 8622
    :cond_7
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    :cond_8
    :goto_2
    return-void
.end method

.method private checkChangedTextureView(Z)V
    .locals 13

    if-eqz p1, :cond_1

    .line 1831
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    if-nez p1, :cond_0

    return-void

    .line 1834
    :cond_0
    invoke-virtual {p1}, Landroid/view/TextureView;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object p1

    new-instance v0, Lorg/telegram/ui/PhotoViewer$9;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$9;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    .line 1866
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    invoke-virtual {p1}, Landroid/view/TextureView;->invalidate()V

    goto/16 :goto_6

    .line 1868
    :cond_1
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    const/4 v0, 0x2

    if-ne p1, v0, :cond_f

    .line 1869
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz p1, :cond_2

    const/4 v1, 0x4

    .line 1878
    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 1879
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 1880
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz p1, :cond_2

    .line 1881
    invoke-virtual {p1}, Landroid/graphics/Bitmap;->recycle()V

    .line 1882
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    :cond_2
    const/4 p1, 0x0

    .line 1887
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 1889
    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v2, 0x15

    const/4 v3, 0x1

    if-lt v1, v2, :cond_e

    .line 1890
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 1891
    :goto_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-nez v2, :cond_4

    return-void

    .line 1894
    :cond_4
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->getLocationInWindow([I)V

    .line 1896
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v4, v2, v3

    int-to-float v4, v4

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v5

    sub-float/2addr v4, v5

    float-to-int v4, v4

    aput v4, v2, v3

    .line 1897
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz v2, :cond_5

    .line 1898
    invoke-virtual {v2}, Landroid/widget/ImageView;->getTranslationX()F

    move-result v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v5

    int-to-float v5, v5

    add-float/2addr v4, v5

    invoke-virtual {v2, v4}, Landroid/widget/ImageView;->setTranslationX(F)V

    :cond_5
    if-eqz v1, :cond_6

    .line 1901
    invoke-virtual {v1}, Landroid/view/View;->getTranslationX()F

    move-result v2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v4

    int-to-float v4, v4

    add-float/2addr v2, v4

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getX()F

    move-result v4

    sub-float/2addr v2, v4

    invoke-virtual {v1, v2}, Landroid/view/View;->setTranslationX(F)V

    .line 1903
    :cond_6
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v2, :cond_7

    .line 1904
    invoke-virtual {v1}, Landroid/view/View;->getTranslationX()F

    move-result v4

    invoke-virtual {v2, v4}, Landroid/widget/ImageView;->setTranslationX(F)V

    :cond_7
    new-array v2, v0, [F

    .line 1907
    fill-array-data v2, :array_0

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 1908
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda7;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda7;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 1910
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    const/4 v5, 0x0

    if-eqz v4, :cond_8

    move v4, v5

    goto :goto_1

    :cond_8
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v4, v4, p1

    int-to-float v4, v4

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getX()F

    move-result v6

    sub-float/2addr v4, v6

    .line 1911
    :goto_1
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v6, :cond_9

    move v6, v5

    goto :goto_2

    :cond_9
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v6, v6, v3

    int-to-float v6, v6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getY()F

    move-result v7

    sub-float/2addr v6, v7

    .line 1912
    :goto_2
    new-instance v7, Landroid/animation/AnimatorSet;

    invoke-direct {v7}, Landroid/animation/AnimatorSet;-><init>()V

    .line 1913
    new-instance v8, Ljava/util/ArrayList;

    invoke-direct {v8}, Ljava/util/ArrayList;-><init>()V

    .line 1914
    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1915
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v10, v3, [F

    const/high16 v11, 0x3f800000    # 1.0f

    aput v11, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1916
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v10, v3, [F

    aput v11, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1917
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v10, v3, [F

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v12, :cond_a

    move v12, v5

    goto :goto_3

    :cond_a
    iget-object v12, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v12, v12, p1

    int-to-float v12, v12

    :goto_3
    aput v12, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1918
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v3, [F

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v12, :cond_b

    goto :goto_4

    :cond_b
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->pipPosition:[I

    aget v5, v5, v3

    int-to-float v5, v5

    :goto_4
    aput v5, v10, p1

    invoke-static {v2, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1919
    sget-object v2, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v5, v3, [F

    aput v11, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1920
    sget-object v2, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v11, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1921
    sget-object v2, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v5, v3, [F

    aput v4, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1922
    sget-object v2, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v6, v5, p1

    invoke-static {v1, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1923
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v9, v3, [I

    const/16 v10, 0xff

    aput v10, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1924
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v2, :cond_c

    .line 1925
    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v9, v3, [F

    aput v11, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1926
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v9, v3, [F

    aput v11, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1927
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v5, Landroid/view/View;->TRANSLATION_X:Landroid/util/Property;

    new-array v9, v3, [F

    aput v4, v9, p1

    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1928
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v5, v3, [F

    aput v6, v5, p1

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v8, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1931
    :cond_c
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v2}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v2

    invoke-static {p1, v2}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v2

    .line 1932
    iget v2, v2, Lorg/telegram/ui/Components/Rect;->width:F

    invoke-virtual {v1}, Landroid/view/View;->getWidth()I

    new-array v0, v0, [F

    .line 1933
    fill-array-data v0, :array_1

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v0

    .line 1934
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda17;

    invoke-direct {v2, p0, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda17;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v0, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 1944
    invoke-virtual {v8, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 1946
    invoke-virtual {v7, v8}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 1947
    new-instance v0, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v0}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    .line 1948
    invoke-virtual {v7, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v4, 0xfa

    .line 1949
    invoke-virtual {v7, v4, v5}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 1950
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v2, :cond_d

    .line 1951
    invoke-virtual {v2, p1}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 1953
    :cond_d
    new-instance v2, Lorg/telegram/ui/PhotoViewer$10;

    invoke-direct {v2, p0, v1}, Lorg/telegram/ui/PhotoViewer$10;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v7, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 1969
    invoke-virtual {v7}, Landroid/animation/AnimatorSet;->start()V

    .line 1970
    new-instance v1, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    invoke-virtual {v1, p1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    invoke-virtual {v1, p1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    const/16 v2, 0xfa

    invoke-virtual {v1, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration(I)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v1

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator(Landroid/view/animation/Interpolator;)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    invoke-direct {p0, v3, v3, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    goto :goto_5

    .line 1972
    :cond_e
    invoke-direct {p0, v3, p1}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 1976
    :goto_5
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    :cond_f
    :goto_6
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private checkInlinePermissions()Z
    .locals 4

    .line 7352
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v1, 0x0

    if-nez v0, :cond_0

    return v1

    .line 7355
    :cond_0
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v3, 0x17

    if-lt v2, v3, :cond_2

    invoke-static {v0}, Landroid/provider/Settings;->canDrawOverlays(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_1

    goto :goto_0

    .line 7358
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v2, 0x0

    invoke-static {v0, v2}, Lorg/telegram/ui/Components/AlertsCreator;->createDrawOverlayPermissionDialog(Landroid/app/Activity;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    return v1

    :cond_2
    :goto_0
    const/4 v0, 0x1

    return v0
.end method

.method private checkMinMax(Z)V
    .locals 5

    .line 16303
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16304
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16305
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16306
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v4, v2, v3

    if-gez v4, :cond_0

    :goto_0
    move v0, v3

    goto :goto_1

    .line 16308
    :cond_0
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v2, v2, v3

    if-lez v2, :cond_1

    goto :goto_0

    .line 16311
    :cond_1
    :goto_1
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v4, v2, v3

    if-gez v4, :cond_2

    :goto_2
    move v1, v3

    goto :goto_3

    .line 16313
    :cond_2
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v2, v2, v3

    if-lez v2, :cond_3

    goto :goto_2

    .line 16316
    :cond_3
    :goto_3
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {p0, v2, v0, v1, p1}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private checkProgress(IZZ)V
    .locals 16

    move-object/from16 v12, p0

    move/from16 v6, p1

    move/from16 v11, p3

    .line 13725
    iget v0, v12, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v1, 0x1

    if-ne v6, v1, :cond_0

    add-int/lit8 v2, v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v2, 0x2

    if-ne v6, v2, :cond_1

    add-int/lit8 v2, v0, -0x1

    goto :goto_0

    :cond_1
    move v2, v0

    .line 13731
    :goto_0
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v6

    const/4 v4, 0x3

    const/4 v5, -0x1

    const/4 v7, 0x0

    if-eqz v3, :cond_20

    if-nez v6, :cond_2

    if-nez v0, :cond_2

    .line 13740
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v0, :cond_2

    .line 13741
    invoke-virtual {v0}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->hasBitmap()Z

    move-result v0

    move v3, v0

    goto :goto_1

    :cond_2
    move v3, v7

    .line 13743
    :goto_1
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v8, 0x0

    if-eqz v0, :cond_a

    if-ltz v2, :cond_9

    .line 13744
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_3

    goto/16 :goto_6

    .line 13748
    :cond_3
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    .line 13749
    invoke-direct {v12, v0}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result v4

    .line 13750
    iget v9, v12, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v9, v1, :cond_4

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v9

    if-nez v9, :cond_4

    .line 13751
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13754
    :cond_4
    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_5

    .line 13755
    new-instance v5, Ljava/io/File;

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v5, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    goto :goto_2

    :cond_5
    move-object v5, v8

    .line 13757
    :goto_2
    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    instance-of v9, v9, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v9, :cond_6

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v9, :cond_6

    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v9}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v9

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$WebPage;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-nez v9, :cond_6

    .line 13758
    invoke-direct {v12, v2, v8}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object v2

    .line 13759
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda84;

    invoke-direct {v9, v12, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda84;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLObject;)V

    goto :goto_3

    .line 13761
    :cond_6
    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    .line 13762
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda85;

    invoke-direct {v9, v12, v2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda85;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/tgnet/TLRPC$Message;)V

    .line 13764
    :goto_3
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_8

    .line 13765
    sget-boolean v2, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz v2, :cond_7

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result v2

    if-eqz v2, :cond_7

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v13

    invoke-static {v13, v14}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v2

    if-nez v2, :cond_7

    move v2, v1

    goto :goto_4

    :cond_7
    move v2, v7

    :goto_4
    move v13, v1

    move v10, v2

    move v2, v4

    goto :goto_5

    :cond_8
    move v2, v4

    move v10, v7

    move v13, v10

    :goto_5
    move-object v4, v8

    move-object v8, v9

    move-object v9, v0

    goto/16 :goto_13

    .line 13745
    :cond_9
    :goto_6
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13768
    :cond_a
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    const/4 v9, 0x4

    if-eqz v0, :cond_13

    if-ltz v2, :cond_12

    .line 13769
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_b

    goto/16 :goto_b

    .line 13773
    :cond_b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 13774
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v5, "video"

    invoke-virtual {v2, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_f

    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v2

    if-eqz v2, :cond_c

    goto :goto_8

    .line 13781
    :cond_c
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_d

    .line 13782
    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    :goto_7
    move v2, v7

    goto :goto_a

    .line 13783
    :cond_d
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v0, :cond_e

    .line 13784
    new-instance v0, Ljava/io/File;

    invoke-static {v7}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    goto :goto_7

    :cond_e
    move v2, v7

    move-object v0, v8

    goto :goto_a

    .line 13775
    :cond_f
    :goto_8
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_10

    .line 13776
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v0

    goto :goto_9

    .line 13777
    :cond_10
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v2, :cond_11

    .line 13778
    new-instance v2, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v10, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v10}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v10, "."

    invoke-virtual {v5, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    const-string v10, "mp4"

    invoke-static {v0, v10}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-direct {v2, v4, v0}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v0, v2

    goto :goto_9

    :cond_11
    move-object v0, v8

    :goto_9
    move v2, v1

    .line 13786
    :goto_a
    new-instance v4, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v5

    iget-object v9, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v9, v6

    invoke-direct {v4, v5, v9}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v5, v0

    move v13, v2

    move v2, v7

    move v10, v2

    goto/16 :goto_10

    .line 13770
    :cond_12
    :goto_b
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13787
    :cond_13
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_16

    if-ltz v2, :cond_15

    .line 13788
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_14

    goto :goto_d

    .line 13792
    :cond_14
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/ImageLocation;

    .line 13793
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v4, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v4, v5, v7}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v2

    .line 13794
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v5, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v5, v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v0

    :goto_c
    move-object v4, v0

    move-object v5, v2

    goto :goto_f

    .line 13789
    :cond_15
    :goto_d
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13795
    :cond_16
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    if-eqz v0, :cond_19

    if-ltz v2, :cond_18

    .line 13796
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v2, v0, :cond_17

    goto :goto_e

    .line 13800
    :cond_17
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    .line 13801
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual {v2, v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v2

    .line 13802
    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    invoke-virtual {v4, v0, v7}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v0

    goto :goto_c

    .line 13797
    :cond_18
    :goto_e
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    .line 13803
    :cond_19
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    if-eqz v0, :cond_1a

    .line 13804
    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v2

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v6

    invoke-direct {v0, v2, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 13805
    new-instance v2, Ljava/io/File;

    invoke-static {v9}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v5, v5, v6

    invoke-direct {v2, v4, v5}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v5, v0

    move-object v4, v2

    :goto_f
    move v2, v7

    move v10, v2

    move v13, v10

    :goto_10
    move-object v9, v8

    goto :goto_13

    .line 13806
    :cond_1a
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1d

    .line 13807
    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v0

    .line 13808
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v4

    if-nez v4, :cond_1c

    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v4

    if-eqz v4, :cond_1b

    goto :goto_11

    :cond_1b
    move v4, v7

    goto :goto_12

    :cond_1c
    :goto_11
    move v4, v1

    .line 13809
    :goto_12
    invoke-direct {v12, v2}, Lorg/telegram/ui/PhotoViewer;->shouldIndexAutoPlayed(I)Z

    move-result v2

    move-object v5, v0

    move v13, v4

    move v10, v7

    move-object v4, v8

    move-object v9, v4

    goto :goto_13

    :cond_1d
    move v2, v7

    move v10, v2

    move v13, v10

    move-object v4, v8

    move-object v5, v4

    move-object v9, v5

    :goto_13
    if-nez v6, :cond_1e

    .line 13816
    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->dontAutoPlay:Z

    if-nez v0, :cond_1f

    :cond_1e
    if-eqz v2, :cond_1f

    move v14, v1

    goto :goto_14

    :cond_1f
    move v14, v7

    .line 13820
    :goto_14
    sget-object v15, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda83;

    move-object v0, v7

    move-object/from16 v1, p0

    move v2, v3

    move-object v3, v5

    move-object v5, v8

    move/from16 v6, p1

    move-object v8, v7

    move-object v7, v9

    move-object v9, v8

    move v8, v10

    move-object v10, v9

    move v9, v13

    move-object v13, v10

    move v10, v14

    move/from16 v11, p3

    invoke-direct/range {v0 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda83;-><init>(Lorg/telegram/ui/PhotoViewer;ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V

    invoke-virtual {v15, v13}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    goto :goto_15

    .line 13901
    :cond_20
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_21

    if-ltz v2, :cond_21

    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge v2, v0, :cond_21

    .line 13902
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 13903
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_21

    .line 13904
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13905
    iget-boolean v7, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    :cond_21
    if-eqz v7, :cond_22

    .line 13909
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v4, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_15

    .line 13911
    :cond_22
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v6

    invoke-virtual {v0, v5, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :goto_15
    return-void
.end method

.method private closeCaptionEnter(Z)V
    .locals 2

    .line 8463
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_3

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v0

    if-nez v0, :cond_0

    goto :goto_0

    .line 8466
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    if-eqz p1, :cond_1

    .line 8468
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCaption()Ljava/lang/CharSequence;

    .line 8474
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result p1

    if-eqz p1, :cond_2

    .line 8475
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/EditTextEmoji;->hidePopup(Z)V

    .line 8477
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->closeKeyboard()V

    :cond_3
    :goto_0
    return-void
.end method

.method private closePaintMode()V
    .locals 3

    .line 11039
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda69;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda69;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p0, v1, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->maybeShowDismissalAlert(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;Ljava/lang/Runnable;)V

    return-void
.end method

.method private createCropView()V
    .locals 11

    .line 10120
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v0, :cond_0

    return-void

    .line 10123
    :cond_0
    new-instance v0, Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/Components/PhotoCropView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/16 v1, 0x8

    .line 10124
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 10125
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onDisappear()V

    .line 10126
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->indexOfChild(Landroid/view/View;)I

    move-result v0

    .line 10127
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v3, 0x1

    sub-int/2addr v0, v3

    const/4 v4, -0x1

    const/4 v5, -0x1

    const/16 v6, 0x33

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/16 v10, 0x30

    invoke-static/range {v4 .. v10}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v0, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 10129
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_1

    .line 10130
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->bringToFront()V

    .line 10133
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$52;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$52;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->setDelegate(Lorg/telegram/ui/Components/PhotoCropView$PhotoCropViewDelegate;)V

    return-void
.end method

.method private createCroppedBitmap(Landroid/graphics/Bitmap;Lorg/telegram/messenger/MediaController$CropState;[IZ)Landroid/graphics/Bitmap;
    .locals 16

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    .line 9695
    :try_start_0
    iget v2, v0, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    const/4 v3, 0x0

    if-eqz v1, :cond_0

    aget v4, v1, v3

    goto :goto_0

    :cond_0
    move v4, v3

    :goto_0
    add-int/2addr v2, v4

    rem-int/lit16 v2, v2, 0x168

    const/4 v4, 0x1

    if-eqz v1, :cond_1

    .line 9696
    array-length v5, v1

    if-le v5, v4, :cond_1

    aget v3, v1, v4

    .line 9697
    :cond_1
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    .line 9698
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    const/16 v6, 0x10e

    const/16 v7, 0x5a

    if-eq v2, v7, :cond_3

    if-ne v2, v6, :cond_2

    goto :goto_1

    :cond_2
    move v8, v1

    move v9, v5

    goto :goto_2

    :cond_3
    :goto_1
    move v9, v1

    move v8, v5

    :goto_2
    int-to-float v8, v8

    .line 9706
    iget v10, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v10, v8

    float-to-int v10, v10

    int-to-float v9, v9

    .line 9707
    iget v11, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v11, v9

    float-to-int v11, v11

    .line 9708
    sget-object v12, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v10, v11, v12}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v12

    .line 9709
    new-instance v13, Landroid/graphics/Matrix;

    invoke-direct {v13}, Landroid/graphics/Matrix;-><init>()V

    neg-int v1, v1

    const/4 v14, 0x2

    .line 9710
    div-int/2addr v1, v14

    int-to-float v1, v1

    neg-int v5, v5

    div-int/2addr v5, v14

    int-to-float v5, v5

    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    const/high16 v1, 0x3f800000    # 1.0f

    const/high16 v5, -0x40800000    # -1.0f

    if-eqz p4, :cond_6

    .line 9711
    iget-boolean v15, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v15, :cond_6

    if-eq v2, v7, :cond_5

    if-ne v2, v6, :cond_4

    goto :goto_3

    .line 9715
    :cond_4
    invoke-virtual {v13, v5, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_4

    .line 9713
    :cond_5
    :goto_3
    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postScale(FF)Z

    :cond_6
    :goto_4
    if-ne v3, v4, :cond_7

    .line 9719
    invoke-virtual {v13, v5, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    goto :goto_5

    :cond_7
    if-ne v3, v14, :cond_8

    .line 9721
    invoke-virtual {v13, v1, v5}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 9723
    :cond_8
    :goto_5
    iget v1, v0, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    int-to-float v2, v2

    add-float/2addr v1, v2

    invoke-virtual {v13, v1}, Landroid/graphics/Matrix;->postRotate(F)Z

    .line 9724
    iget v1, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    mul-float/2addr v1, v8

    iget v2, v0, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    mul-float/2addr v2, v9

    invoke-virtual {v13, v1, v2}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 9725
    iget v0, v0, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    invoke-virtual {v13, v0, v0}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 9726
    div-int/2addr v10, v14

    int-to-float v0, v10

    div-int/2addr v11, v14

    int-to-float v1, v11

    invoke-virtual {v13, v0, v1}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 9727
    new-instance v0, Landroid/graphics/Canvas;

    invoke-direct {v0, v12}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9728
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v14}, Landroid/graphics/Paint;-><init>(I)V

    move-object/from16 v2, p1

    invoke-virtual {v0, v2, v13, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Matrix;Landroid/graphics/Paint;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    return-object v12

    :catchall_0
    move-exception v0

    .line 9731
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    const/4 v0, 0x0

    return-object v0
.end method

.method private createPaintView()V
    .locals 14

    .line 10894
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-nez v0, :cond_7

    .line 10897
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_1

    .line 10898
    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 10899
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v1

    .line 10900
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v0

    :goto_0
    const/16 v2, 0x500

    if-gt v1, v2, :cond_0

    if-le v0, v2, :cond_2

    .line 10902
    :cond_0
    div-int/lit8 v1, v1, 0x2

    .line 10903
    div-int/lit8 v0, v0, 0x2

    goto :goto_0

    .line 10906
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    .line 10907
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v0

    .line 10909
    :cond_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/PaintingOverlay;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-nez v2, :cond_3

    if-lez v1, :cond_3

    if-lez v0, :cond_3

    .line 10913
    sget-object v2, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v0, v2}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v0

    move-object v5, v0

    goto :goto_1

    :cond_3
    move-object v5, v2

    .line 10916
    :goto_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_4

    .line 10917
    new-instance v0, Lorg/telegram/messenger/MediaController$CropState;

    invoke-direct {v0}, Lorg/telegram/messenger/MediaController$CropState;-><init>()V

    .line 10918
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v2

    iput v2, v0, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    goto :goto_2

    .line 10920
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    :goto_2
    move-object v9, v0

    .line 10922
    new-instance v0, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda92;

    invoke-direct {v3, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda92;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;-><init>(Landroid/view/View;Lorg/telegram/messenger/Utilities$Callback;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    .line 10951
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    const/4 v12, 0x0

    if-eq v2, v3, :cond_5

    goto :goto_3

    :cond_5
    move v1, v12

    :goto_3
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 10952
    new-instance v13, Lorg/telegram/ui/PhotoViewer$57;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_6

    const/4 v0, 0x0

    goto :goto_4

    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    :goto_4
    move-object v6, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v7

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    new-instance v10, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda59;

    invoke-direct {v10, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda59;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iget-object v11, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object v0, v13

    move-object v1, p0

    move-object v2, v3

    invoke-direct/range {v0 .. v11}, Lorg/telegram/ui/PhotoViewer$57;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/app/Activity;ILandroid/graphics/Bitmap;Landroid/graphics/Bitmap;ILjava/util/ArrayList;Lorg/telegram/messenger/MediaController$CropState;Ljava/lang/Runnable;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    .line 11004
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v1

    const/4 v2, -0x1

    invoke-static {v2, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 11005
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda70;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda70;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOnDoneButtonClickedListener(Ljava/lang/Runnable;)V

    .line 11010
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getCancelView()Landroid/view/View;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda28;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda28;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 11011
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/16 v1, 0x7e

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2, v12, v12}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    .line 11012
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/16 v1, 0xc

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    :cond_7
    return-void
.end method

.method private createVideoControlsInterface()V
    .locals 13

    .line 8167
    new-instance v0, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, p0, v1}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    .line 8168
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, -0x1

    const/16 v3, 0x30

    const/16 v4, 0x53

    invoke-static {v2, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v0, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8170
    new-instance v0, Lorg/telegram/ui/PhotoViewer$43;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$43;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 8200
    new-instance v1, Lorg/telegram/ui/PhotoViewer$44;

    invoke-direct {v1, p0, v0}, Lorg/telegram/ui/PhotoViewer$44;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/VideoPlayerSeekBar$SeekBarDelegate;)V

    .line 8220
    new-instance v4, Lorg/telegram/ui/PhotoViewer$45;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v5

    invoke-direct {v4, p0, v5}, Lorg/telegram/ui/PhotoViewer$45;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    .line 8226
    invoke-virtual {v4, v1}, Landroid/view/View;->setAccessibilityDelegate(Landroid/view/View$AccessibilityDelegate;)V

    .line 8227
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    const/4 v4, 0x1

    invoke-virtual {v1, v4}, Landroid/view/View;->setImportantForAccessibility(I)V

    .line 8228
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-static {v2, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v1, v4, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8230
    new-instance v1, Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-direct {v1, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;-><init>(Landroid/view/View;)V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const/4 v4, 0x2

    .line 8231
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setHorizontalPadding(I)V

    .line 8232
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const v7, 0x33ffffff

    const v8, 0x33ffffff

    const/4 v9, -0x1

    const/4 v10, -0x1

    const/4 v11, -0x1

    const v12, 0x59ffffff

    invoke-virtual/range {v6 .. v12}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setColors(IIIIII)V

    .line 8233
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setDelegate(Lorg/telegram/ui/Components/VideoPlayerSeekBar$SeekBarDelegate;)V

    .line 8235
    new-instance v0, Lorg/telegram/ui/PhotoViewer$46;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda98;

    invoke-direct {v5, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda98;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, p0, v1, v5}, Lorg/telegram/ui/PhotoViewer$46;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/Components/VideoSeekPreviewImage$VideoSeekPreviewImageDelegate;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    const/4 v1, 0x0

    .line 8254
    invoke-virtual {v0, v1}, Landroid/view/View;->setAlpha(F)V

    .line 8255
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    const/4 v5, -0x2

    const/4 v6, -0x2

    const/16 v7, 0x53

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/16 v11, 0x3a

    invoke-static/range {v5 .. v11}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8257
    new-instance v0, Lorg/telegram/ui/ActionBar/SimpleTextView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Lorg/telegram/ui/ActionBar/SimpleTextView;-><init>(Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    .line 8258
    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setTextColor(I)V

    .line 8259
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/16 v1, 0x35

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setGravity(I)V

    .line 8260
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/16 v2, 0xe

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setTextSize(I)V

    .line 8261
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    invoke-virtual {v0, v4}, Landroid/view/View;->setImportantForAccessibility(I)V

    .line 8262
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    const/4 v4, -0x2

    const/4 v5, -0x2

    const/16 v6, 0x35

    const/4 v7, 0x0

    const/16 v8, 0xf

    const/16 v9, 0xc

    invoke-static/range {v4 .. v10}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v2, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8264
    new-instance v0, Landroid/widget/ImageView;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    .line 8265
    sget v2, Lorg/telegram/messenger/R$drawable;->msg_minvideo:I

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 8266
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccExitFullscreen:I

    const-string v4, "AccExitFullscreen"

    invoke-static {v4, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 8267
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 8268
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    const v2, 0x40ffffff    # 7.9999995f

    invoke-static {v2}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 8269
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8270
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    invoke-static {v3, v3, v1}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {v0, v2, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8271
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->exitFullscreenButton:Landroid/widget/ImageView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda43;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda43;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    return-void
.end method

.method private createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V
    .locals 7

    .line 9343
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_0

    return-void

    .line 9346
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$50;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, p0, v1}, Lorg/telegram/ui/PhotoViewer$50;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v1, 0x0

    .line 9378
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setWillNotDraw(Z)V

    .line 9379
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9380
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v3, -0x1

    const/16 v4, 0x11

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v2, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 9381
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 9383
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v2, 0x1

    if-eqz v0, :cond_2

    .line 9384
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ALLOW_USE_SURFACE:Z

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    if-nez p1, :cond_1

    .line 9385
    new-instance p1, Landroid/view/SurfaceView;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v0}, Landroid/view/SurfaceView;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    .line 9386
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    goto :goto_0

    .line 9388
    :cond_1
    new-instance p1, Landroid/view/TextureView;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v0}, Landroid/view/TextureView;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    goto :goto_0

    .line 9391
    :cond_2
    new-instance v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-direct {v0, v5, v6}, Lorg/telegram/ui/Components/VideoEditTextureView;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/VideoPlayer;)V

    .line 9392
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 9393
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoEditTextureView;->updateUiBlurManager(Lorg/telegram/ui/Components/BlurringShader$BlurManager;)V

    if-eqz p1, :cond_3

    .line 9395
    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda97;

    invoke-direct {v5, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda97;-><init>(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoEditTextureView;->setDelegate(Lorg/telegram/ui/Components/VideoEditTextureView$VideoEditTextureViewDelegate;)V

    .line 9397
    :cond_3
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 9399
    :goto_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    if-eqz p1, :cond_4

    .line 9400
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0, p1}, Landroid/view/TextureView;->setSurfaceTexture(Landroid/graphics/SurfaceTexture;)V

    .line 9401
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    .line 9402
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    const/4 p1, 0x0

    .line 9403
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    .line 9405
    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    const/4 v0, 0x0

    if-eqz p1, :cond_5

    .line 9406
    invoke-virtual {p1, v0}, Landroid/view/TextureView;->setPivotX(F)V

    .line 9407
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {p1, v0}, Landroid/view/TextureView;->setPivotY(F)V

    .line 9408
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {p1, v1}, Landroid/view/TextureView;->setOpaque(Z)V

    .line 9409
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_1

    .line 9411
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 9414
    :goto_1
    new-instance p1, Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, p0, v1}, Lorg/telegram/ui/PhotoViewer$FirstFrameView;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    .line 9415
    invoke-virtual {p1, v0}, Landroid/widget/ImageView;->setPivotX(F)V

    .line 9416
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p1, v0}, Landroid/widget/ImageView;->setPivotY(F)V

    .line 9417
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    sget-object v1, Landroid/widget/ImageView$ScaleType;->FIT_XY:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {p1, v1}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 9418
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {p1, v1, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 9420
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p1, v2, :cond_6

    .line 9421
    new-instance p1, Landroid/view/View;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {p1, v1}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    .line 9422
    invoke-virtual {p1, v3}, Landroid/view/View;->setBackgroundColor(I)V

    .line 9423
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-virtual {p1, v0}, Landroid/view/View;->setAlpha(F)V

    .line 9424
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {p1, v0, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    :cond_6
    return-void
.end method

.method private cropMirror()Z
    .locals 6

    .line 7844
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    .line 7847
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    const/high16 v0, 0x3f800000    # 1.0f

    .line 7848
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    .line 7849
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    iput-wide v2, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 7850
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v2, 0x1

    new-array v3, v2, [Landroid/animation/Animator;

    .line 7851
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v5, v5, [F

    fill-array-data v5, :array_0

    invoke-static {p0, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    aput-object v4, v3, v1

    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7852
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xfa

    invoke-virtual {v0, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7853
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 7854
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$39;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$39;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7870
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    .line 7871
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropView;->isMirrored()Z

    move-result v0

    xor-int/2addr v0, v2

    return v0

    :cond_1
    :goto_0
    return v1

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private cropRotate(F)Z
    .locals 2

    const/4 v0, 0x0

    const/4 v1, 0x0

    .line 7875
    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    move-result p1

    return p1
.end method

.method private cropRotate(FZLjava/lang/Runnable;)Z
    .locals 9

    .line 7879
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    return v1

    .line 7882
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_1

    return v1

    .line 7885
    :cond_1
    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    const/4 v2, 0x1

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/Crop/CropView;->maximize(Z)V

    const/4 v0, 0x0

    .line 7886
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->rotate:F

    add-float v3, v0, p1

    .line 7887
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz p2, :cond_2

    .line 7889
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 7890
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    .line 7892
    :cond_2
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 7893
    new-instance p2, Landroid/animation/AnimatorSet;

    invoke-direct {p2}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 7894
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v0, 0x2

    if-ne p2, v2, :cond_3

    .line 7895
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    goto :goto_1

    .line 7896
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz p2, :cond_7

    .line 7897
    invoke-virtual {p2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result p2

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    .line 7898
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v5, v5, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result v5

    float-to-int v5, v5

    div-int/lit8 v5, v5, 0x5a

    rem-int/2addr v5, v0

    invoke-static {v5}, Ljava/lang/Math;->abs(I)I

    move-result v5

    if-ne v5, v2, :cond_4

    move v8, v4

    move v4, p2

    move p2, v8

    .line 7903
    :cond_4
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v5, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v5, :cond_5

    int-to-float p2, p2

    .line 7904
    iget v6, v5, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr p2, v6

    float-to-int p2, p2

    int-to-float v4, v4

    .line 7905
    iget v5, v5, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v4, v5

    float-to-int v4, v4

    .line 7907
    :cond_5
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v5

    int-to-float v5, v5

    int-to-float p2, p2

    div-float/2addr v5, p2

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v6

    int-to-float v6, v6

    int-to-float v4, v4

    div-float/2addr v6, v4

    invoke-static {v5, v6}, Ljava/lang/Math;->min(FF)F

    move-result v5

    const/high16 v6, 0x42b40000    # 90.0f

    div-float v6, p1, v6

    const/high16 v7, 0x40000000    # 2.0f

    rem-float/2addr v6, v7

    .line 7909
    invoke-static {v6}, Ljava/lang/Math;->abs(F)F

    move-result v6

    cmpl-float v3, v6, v3

    if-nez v3, :cond_6

    .line 7910
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v4

    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, p2

    invoke-static {v3, v4}, Ljava/lang/Math;->min(FF)F

    move-result p2

    goto :goto_0

    :cond_6
    move p2, v5

    :goto_0
    div-float/2addr p2, v5

    .line 7912
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    :cond_7
    :goto_1
    new-array p2, v0, [F

    .line 7914
    fill-array-data p2, :array_0

    invoke-static {p2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p2

    .line 7915
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v3, v3, Lorg/telegram/ui/Components/PhotoCropView;->wheelView:Lorg/telegram/ui/Components/Crop/CropRotationWheel;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropRotationWheel;->getRotation()F

    move-result v3

    .line 7916
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda16;

    invoke-direct {v4, p0, p1, v3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda16;-><init>(Lorg/telegram/ui/PhotoViewer;FF)V

    invoke-virtual {p2, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7920
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v4, v0, [Landroid/animation/Animator;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    new-array v0, v0, [F

    fill-array-data v0, :array_1

    .line 7921
    invoke-static {p0, v5, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    aput-object v0, v4, v1

    aput-object p2, v4, v2

    .line 7920
    invoke-virtual {v3, v4}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 7924
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xfa

    invoke-virtual {p2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7925
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 7926
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$40;

    invoke-direct {v0, p0, p1, p3}, Lorg/telegram/ui/PhotoViewer$40;-><init>(Lorg/telegram/ui/PhotoViewer;FLjava/lang/Runnable;)V

    invoke-virtual {p2, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7952
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p2}, Landroid/animation/AnimatorSet;->start()V

    .line 7953
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p2, p2, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {p2}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result p2

    add-float/2addr p2, p1

    invoke-static {p2}, Ljava/lang/Math;->abs(F)F

    move-result p1

    const p2, 0x3c23d70a    # 0.01f

    cmpl-float p1, p1, p2

    if-lez p1, :cond_8

    move v1, v2

    :cond_8
    return v1

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private deleteVideoFromCache()V
    .locals 3

    .line 543
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesStorage;->getInstance(I)Lorg/telegram/messenger/MessagesStorage;

    move-result-object v0

    new-instance v1, Ljava/util/ArrayList;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-static {v2}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v2

    invoke-direct {v1, v2}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda54;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda54;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MessagesStorage;->getCachedFilesFromMessages(Ljava/util/ArrayList;Lcom/iMe/fork/utils/Callbacks$Callback1;)V

    return-void
.end method

.method private detectFaces()V
    .locals 3

    .line 10198
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v0

    if-nez v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_2

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    goto :goto_0

    .line 10201
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageKey()Ljava/lang/String;

    move-result-object v0

    .line 10202
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageFaceKey:Ljava/lang/String;

    if-eqz v1, :cond_1

    invoke-virtual {v1, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_1

    return-void

    :cond_1
    const/4 v1, 0x0

    .line 10205
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    .line 10206
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapSafe()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v1

    .line 10207
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->detectFaces(Ljava/lang/String;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;I)V

    :cond_2
    :goto_0
    return-void
.end method

.method private detectFaces(Ljava/lang/String;Lorg/telegram/messenger/ImageReceiver$BitmapHolder;I)V
    .locals 0

    return-void
.end method

.method private didChangedCompressionLevel(Z)V
    .locals 5

    .line 18030
    invoke-static {}, Lorg/telegram/messenger/MessagesController;->getGlobalMainSettings()Landroid/content/SharedPreferences;

    move-result-object v0

    .line 18031
    invoke-interface {v0}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    const/4 v1, 0x1

    new-array v2, v1, [Ljava/lang/Object;

    .line 18032
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    const/4 v4, 0x0

    aput-object v3, v2, v4

    const-string v3, "compress_video_%d"

    invoke-static {v3, v2}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v2

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    invoke-interface {v0, v2, v3}, Landroid/content/SharedPreferences$Editor;->putInt(Ljava/lang/String;I)Landroid/content/SharedPreferences$Editor;

    .line 18033
    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 18034
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    .line 18035
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    if-eqz p1, :cond_0

    .line 18037
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    :cond_0
    return-void
.end method

.method private dismissInternal()V
    .locals 2

    .line 7641
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object v0

    if-eqz v0, :cond_1

    .line 7642
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 7643
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    iget-object v0, v0, Lorg/telegram/ui/LaunchActivity;->drawerLayoutContainer:Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;->setAllowDrawContent(Z)V

    .line 7645
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 7646
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v0, v1}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 7647
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 7650
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    return-void
.end method

.method private drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V
    .locals 44

    move-object/from16 v9, p0

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move/from16 v0, p3

    move/from16 v12, p4

    .line 18727
    sget-boolean v1, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v13, 0x3

    const/4 v14, 0x0

    const/4 v15, 0x2

    const/4 v8, 0x1

    const/high16 v7, 0x3f800000    # 1.0f

    if-nez v1, :cond_0

    move v6, v7

    goto :goto_2

    :cond_0
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v2, :cond_2

    if-eq v2, v15, :cond_2

    if-ne v2, v13, :cond_1

    goto :goto_0

    :cond_1
    move v2, v14

    goto :goto_1

    :cond_2
    :goto_0
    move v2, v8

    :goto_1
    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v1

    move v6, v1

    .line 18729
    :goto_2
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v1, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    const v4, 0x3f333333    # 0.7f

    if-eqz v0, :cond_4

    .line 18731
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18732
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    if-eqz p6, :cond_3

    move v2, v6

    goto :goto_3

    :cond_3
    move v2, v7

    :goto_3
    invoke-static {v4, v7, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float/2addr v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18733
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    .line 18736
    :cond_4
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v3, 0x0

    if-eqz v0, :cond_71

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_5

    goto/16 :goto_39

    :cond_5
    if-eqz p7, :cond_b

    .line 18747
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    if-nez v0, :cond_6

    new-array v0, v13, [Lorg/telegram/ui/Components/AnimatedFloat;

    .line 18748
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    .line 18749
    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    sget-object v4, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    move/from16 v17, v6

    const-wide/16 v5, 0xb4

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v14

    .line 18750
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v8

    .line 18751
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v1, Lorg/telegram/ui/Components/AnimatedFloat;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda68;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v1, v2, v5, v6, v4}, Lorg/telegram/ui/Components/AnimatedFloat;-><init>(Ljava/lang/Runnable;JLandroid/animation/TimeInterpolator;)V

    aput-object v1, v0, v15

    goto :goto_4

    :cond_6
    move/from16 v17, v6

    .line 18754
    :goto_4
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v14

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    .line 18755
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v15

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    .line 18756
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    if-nez v0, :cond_7

    .line 18757
    new-instance v0, Landroid/graphics/RectF;

    invoke-direct {v0}, Landroid/graphics/RectF;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    .line 18759
    :cond_7
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    if-nez v0, :cond_8

    .line 18760
    new-instance v0, Landroid/graphics/RectF;

    invoke-direct {v0}, Landroid/graphics/RectF;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    .line 18762
    :cond_8
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    if-nez v0, :cond_9

    .line 18763
    new-instance v0, Landroid/graphics/Matrix;

    invoke-direct {v0}, Landroid/graphics/Matrix;-><init>()V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    .line 18765
    :cond_9
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    if-nez v0, :cond_a

    const/16 v0, 0x8

    new-array v0, v0, [F

    .line 18766
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    .line 18768
    :cond_a
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getBounds()Landroid/graphics/RectF;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/graphics/RectF;->set(Landroid/graphics/RectF;)V

    .line 18769
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getY()F

    move-result v2

    invoke-virtual {v0, v1, v2}, Landroid/graphics/RectF;->offset(FF)V

    .line 18770
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getY()F

    move-result v2

    invoke-virtual {v0, v1, v2}, Landroid/graphics/RectF;->offset(FF)V

    .line 18771
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    goto :goto_5

    :cond_b
    move/from16 v17, v6

    .line 18774
    :goto_5
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getSaveCount()I

    move-result v6

    .line 18775
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_c

    .line 18776
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18777
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v15

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v1

    div-int/2addr v1, v15

    sub-int/2addr v0, v1

    int-to-float v0, v0

    invoke-virtual {v10, v0, v3}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_c

    .line 18779
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v1

    div-int/2addr v1, v15

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v2

    div-int/2addr v2, v15

    sub-int/2addr v1, v2

    int-to-float v1, v1

    invoke-virtual {v0, v1, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18788
    :cond_c
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_d

    .line 18789
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->mirror:F

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v0

    .line 18790
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v1, v2, v4}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v1

    .line 18791
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v2, v4, v5}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    .line 18792
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v4, v5, v13}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v4

    .line 18793
    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    invoke-static {v5, v13, v3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v3

    move v14, v0

    move/from16 v22, v1

    goto :goto_6

    .line 18795
    :cond_d
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 18796
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 18797
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 18798
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 18799
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 18800
    iget-wide v14, v9, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    const-wide/16 v20, 0x0

    cmp-long v5, v14, v20

    if-eqz v5, :cond_e

    .line 18801
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 18802
    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 18803
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    :cond_e
    move/from16 v22, v0

    move v14, v1

    :goto_6
    move v15, v2

    move/from16 v20, v3

    move/from16 v21, v4

    .line 18807
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    .line 18808
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    .line 18810
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v23, 0x5

    if-nez v0, :cond_10

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v8, :cond_10

    .line 18811
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v0, v0, v7

    if-ltz v0, :cond_10

    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_10

    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-nez v0, :cond_10

    .line 18812
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-static/range {v23 .. v23}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    cmpl-float v0, v20, v0

    if-lez v0, :cond_f

    .line 18813
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    :goto_7
    move-object v3, v0

    goto :goto_8

    .line 18814
    :cond_f
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-static/range {v23 .. v23}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    sub-float/2addr v0, v1

    cmpg-float v0, v20, v0

    if-gez v0, :cond_10

    .line 18815
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_7

    :cond_10
    const/4 v3, 0x0

    .line 18819
    :goto_8
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    const v24, 0x3e99999a    # 0.3f

    const/16 v25, 0x1e

    const/high16 v26, 0x40400000    # 3.0f

    const/high16 v27, 0x437f0000    # 255.0f

    if-ne v3, v0, :cond_1a

    if-eqz p7, :cond_11

    .line 18820
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    move-result v0

    move/from16 v28, v0

    goto :goto_9

    :cond_11
    move/from16 v28, v7

    .line 18824
    :goto_9
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_12

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v20, v0

    if-gez v1, :cond_12

    sub-float v0, v0, v20

    int-to-float v1, v5

    div-float/2addr v0, v1

    .line 18825
    invoke-static {v7, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    sub-float v1, v7, v0

    mul-float v1, v1, v24

    neg-int v2, v5

    .line 18827
    invoke-static/range {v25 .. v25}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v29

    const/16 v19, 0x2

    div-int/lit8 v29, v29, 0x2

    sub-int v2, v2, v29

    int-to-float v2, v2

    move/from16 v29, v0

    goto :goto_a

    :cond_12
    move/from16 v29, v7

    move/from16 v2, v20

    const/4 v1, 0x0

    .line 18830
    :goto_a
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v0

    if-eqz v0, :cond_1a

    .line 18831
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18832
    div-int/lit8 v0, v5, 0x2

    int-to-float v0, v0

    div-int/lit8 v8, v4, 0x2

    int-to-float v8, v8

    invoke-virtual {v10, v0, v8}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18833
    invoke-static/range {v25 .. v25}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    const/4 v8, 0x2

    div-int/2addr v0, v8

    add-int/2addr v0, v5

    int-to-float v0, v0

    add-float/2addr v0, v2

    const/4 v8, 0x0

    invoke-virtual {v10, v0, v8}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v0, v7, v1

    .line 18834
    invoke-virtual {v10, v0, v0}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18835
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    .line 18836
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    .line 18837
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    if-nez v0, :cond_13

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_13

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_13

    const/high16 v31, 0x3f800000    # 1.0f

    .line 18838
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v32, v0

    move-object/from16 v0, p0

    move/from16 v33, v1

    move-object/from16 v1, p1

    move/from16 v34, v2

    const/high16 v13, -0x40800000    # -1.0f

    move v2, v5

    move-object/from16 v35, v3

    move v3, v4

    move v13, v4

    move/from16 v4, v34

    move v12, v5

    move/from16 v16, v14

    const/4 v14, 0x0

    move/from16 v5, v33

    move/from16 v37, v6

    move/from16 v36, v17

    move/from16 v6, v31

    move v14, v7

    move-object/from16 v7, v32

    const/4 v14, 0x1

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_b

    :cond_13
    move/from16 v33, v1

    move/from16 v34, v2

    move-object/from16 v35, v3

    move v13, v4

    move v12, v5

    move/from16 v37, v6

    move/from16 v16, v14

    move/from16 v36, v17

    const/4 v14, 0x1

    :goto_b
    int-to-float v0, v12

    move/from16 v1, v34

    int-to-float v1, v1

    div-float/2addr v0, v1

    int-to-float v2, v13

    move/from16 v3, v33

    int-to-float v3, v3

    div-float/2addr v2, v3

    .line 18842
    invoke-static {v0, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float/2addr v1, v0

    float-to-int v1, v1

    mul-float/2addr v3, v0

    float-to-int v0, v3

    .line 18846
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_16

    .line 18847
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v2, v14, :cond_15

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v14, :cond_14

    goto :goto_c

    .line 18850
    :cond_14
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_16

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_16

    move v8, v14

    goto :goto_d

    .line 18848
    :cond_15
    :goto_c
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v2

    move v8, v2

    goto :goto_d

    :cond_16
    const/4 v8, 0x0

    :goto_d
    if-eqz v8, :cond_17

    const/high16 v2, -0x40800000    # -1.0f

    const/high16 v3, 0x3f800000    # 1.0f

    .line 18854
    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18858
    :cond_17
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    move-object/from16 v8, v35

    invoke-virtual {v2, v8}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_19

    .line 18860
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18861
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v29, v29, v27

    move/from16 v7, v36

    mul-float v29, v29, v7

    mul-float v4, v29, v28

    float-to-int v4, v4

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18862
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v3, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v3, v1

    const/4 v4, 0x2

    .line 18863
    div-int/2addr v3, v4

    int-to-float v3, v3

    neg-int v5, v0

    div-int/2addr v5, v4

    int-to-float v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->translate(FF)V

    int-to-float v1, v1

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float/2addr v1, v3

    .line 18864
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v1, v4

    int-to-float v0, v0

    mul-float/2addr v0, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v0, v3

    invoke-virtual {v10, v1, v0}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v6, 0x0

    if-eqz p5, :cond_18

    float-to-int v0, v6

    .line 18867
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    sub-int/2addr v1, v0

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    sub-int/2addr v3, v0

    invoke-virtual {v10, v0, v0, v1, v3}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18869
    :cond_18
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v2, v6, v6, v0}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    goto :goto_e

    :cond_19
    move/from16 v7, v36

    const/4 v6, 0x0

    .line 18872
    :goto_e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_f

    :cond_1a
    move v13, v4

    move v12, v5

    move/from16 v37, v6

    move/from16 v16, v14

    move/from16 v7, v17

    const/4 v6, 0x0

    move v14, v8

    move-object v8, v3

    .line 18879
    :goto_f
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_1b

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v1, v20, v0

    if-lez v1, :cond_1b

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1b

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v14, :cond_1b

    sub-float v0, v20, v0

    int-to-float v1, v12

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18880
    invoke-static {v1, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float v3, v0, v24

    sub-float v0, v1, v0

    .line 18883
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->maxX:F

    goto :goto_10

    :cond_1b
    move v3, v6

    move/from16 v1, v20

    const/high16 v0, 0x3f800000    # 1.0f

    .line 18886
    :goto_10
    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v2, :cond_1c

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v2, :cond_1c

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v2

    if-nez v2, :cond_1c

    move v2, v14

    goto :goto_11

    :cond_1c
    const/4 v2, 0x0

    .line 18887
    :goto_11
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v4

    if-nez v4, :cond_1e

    if-eqz v2, :cond_1d

    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_1d

    goto :goto_12

    :cond_1d
    move/from16 v33, v7

    move-object/from16 v39, v8

    move/from16 v38, v12

    move/from16 v32, v13

    const/4 v8, 0x0

    goto/16 :goto_33

    .line 18888
    :cond_1e
    :goto_12
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18889
    div-int/lit8 v4, v12, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v24

    add-int v5, v4, v24

    int-to-float v5, v5

    div-int/lit8 v24, v13, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v29

    add-int v14, v24, v29

    int-to-float v14, v14

    invoke-virtual {v10, v5, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 18890
    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x3

    if-eq v5, v14, :cond_1f

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_13

    :cond_1f
    move v5, v6

    :goto_13
    add-float v5, v21, v5

    invoke-virtual {v10, v1, v5}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v3, v22, v3

    .line 18891
    invoke-virtual {v10, v3, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 18892
    invoke-virtual {v10, v15}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_21

    .line 18894
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v14

    add-int/2addr v4, v14

    int-to-float v4, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v14

    add-int v14, v24, v14

    int-to-float v14, v14

    invoke-virtual {v5, v4, v14}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18895
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v14, 0x3

    if-eq v5, v14, :cond_20

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_14

    :cond_20
    move v5, v6

    :goto_14
    add-float v5, v21, v5

    invoke-virtual {v4, v1, v5}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18896
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v3, v3, v6, v6}, Landroid/graphics/Matrix;->preScale(FFFF)Z

    .line 18897
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v15}, Landroid/graphics/Matrix;->preRotate(F)Z

    .line 18899
    :cond_21
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v1, v4, :cond_23

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v1, :cond_23

    const/4 v1, 0x0

    const/4 v4, 0x1

    .line 18900
    invoke-direct {v9, v4, v1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v5

    .line 18901
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    sget-object v14, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v14, v14, Landroid/graphics/Point;->y:I

    sget v15, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v14, v15

    sub-int/2addr v14, v5

    invoke-static {v14}, Ljava/lang/Math;->abs(I)I

    move-result v14

    const/16 v15, 0x14

    invoke-static {v15}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v15

    if-ge v14, v15, :cond_22

    const/4 v14, 0x1

    goto :goto_15

    :cond_22
    const/4 v14, 0x0

    :goto_15
    invoke-virtual {v4, v14}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v4

    sub-int/2addr v5, v4

    const/4 v1, 0x0

    .line 18902
    invoke-direct {v9, v1, v1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v4

    sub-int/2addr v5, v4

    int-to-float v4, v5

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    .line 18903
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v5

    const/high16 v14, 0x3f800000    # 1.0f

    sub-float v5, v14, v5

    mul-float/2addr v5, v4

    invoke-virtual {v10, v6, v5}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_23

    .line 18905
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v15, v9, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v15

    sub-float v15, v14, v15

    mul-float/2addr v4, v15

    invoke-virtual {v5, v6, v4}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    :cond_23
    if-eqz v2, :cond_25

    .line 18911
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_25

    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v4, :cond_25

    .line 18912
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_24

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_16

    :cond_24
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 18913
    :goto_16
    invoke-virtual {v4}, Landroid/view/View;->getMeasuredWidth()I

    move-result v5

    .line 18914
    invoke-virtual {v4}, Landroid/view/View;->getMeasuredHeight()I

    move-result v4

    goto :goto_17

    .line 18916
    :cond_25
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v5

    .line 18917
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    :goto_17
    int-to-float v14, v12

    int-to-float v15, v5

    div-float v1, v14, v15

    int-to-float v6, v13

    move/from16 v21, v5

    int-to-float v5, v4

    move/from16 v24, v4

    div-float v4, v6, v5

    .line 18920
    invoke-static {v1, v4}, Ljava/lang/Math;->min(FF)F

    move-result v29

    move/from16 v31, v4

    mul-float v4, v15, v29

    float-to-int v4, v4

    move/from16 v32, v13

    mul-float v13, v5, v29

    float-to-int v13, v13

    int-to-float v4, v4

    int-to-float v13, v13

    move/from16 v33, v4

    .line 18924
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    const/16 v34, 0x7

    const/16 v35, 0x6

    const/16 v36, 0x4

    if-nez v4, :cond_31

    if-eqz v2, :cond_27

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-nez v2, :cond_26

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v2, :cond_27

    :cond_26
    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v2, :cond_27

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v4, 0x3f800000    # 1.0f

    cmpl-float v2, v2, v4

    if-eqz v2, :cond_31

    .line 18925
    :cond_27
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_28

    iget-boolean v2, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v2, :cond_31

    .line 18926
    :cond_28
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    int-to-float v2, v2

    .line 18927
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v4

    int-to-float v4, v4

    .line 18929
    iget-boolean v13, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_29

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v13, :cond_29

    iget v13, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v38, v12

    const/4 v12, 0x1

    if-ne v13, v12, :cond_2a

    const/4 v12, 0x0

    .line 18930
    invoke-direct {v9, v12}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v13

    goto :goto_18

    :cond_29
    move/from16 v38, v12

    :cond_2a
    div-float v13, v14, v2

    div-float v12, v6, v4

    .line 18932
    invoke-static {v13, v12}, Ljava/lang/Math;->min(FF)F

    move-result v13

    :goto_18
    mul-float/2addr v2, v13

    mul-float/2addr v13, v4

    .line 18936
    iget-boolean v4, v9, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_30

    if-eqz p7, :cond_2b

    .line 18939
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    neg-float v12, v2

    const/high16 v28, 0x40000000    # 2.0f

    div-float v12, v12, v28

    move-object/from16 v39, v8

    neg-float v8, v13

    div-float v8, v8, v28

    invoke-virtual {v4, v12, v8}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 18940
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v8, 0x0

    const/4 v12, 0x0

    aput v12, v4, v8

    const/16 v30, 0x1

    .line 18941
    aput v12, v4, v30

    const/16 v19, 0x2

    .line 18942
    aput v2, v4, v19

    const/16 v18, 0x3

    .line 18943
    aput v12, v4, v18

    .line 18944
    aput v2, v4, v36

    .line 18945
    aput v13, v4, v23

    .line 18946
    aput v12, v4, v35

    .line 18947
    aput v13, v4, v34

    .line 18948
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v12, v4}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 18949
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 p6, v3

    const/4 v8, 0x0

    aget v3, v12, v8

    aget v12, v12, v19

    .line 18950
    invoke-static {v3, v12}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v8, v12, v36

    aget v12, v12, v35

    invoke-static {v8, v12}, Ljava/lang/Math;->min(FF)F

    move-result v8

    invoke-static {v3, v8}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v8, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v40, v15

    const/4 v12, 0x1

    aget v15, v8, v12

    const/4 v12, 0x3

    aget v8, v8, v12

    .line 18951
    invoke-static {v15, v8}, Ljava/lang/Math;->min(FF)F

    move-result v8

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v23

    aget v12, v12, v34

    invoke-static {v15, v12}, Ljava/lang/Math;->min(FF)F

    move-result v12

    invoke-static {v8, v12}, Ljava/lang/Math;->min(FF)F

    move-result v8

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v41, v1

    const/4 v15, 0x0

    aget v1, v12, v15

    const/16 v19, 0x2

    aget v12, v12, v19

    .line 18952
    invoke-static {v1, v12}, Ljava/lang/Math;->max(FF)F

    move-result v1

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v36

    aget v12, v12, v35

    invoke-static {v15, v12}, Ljava/lang/Math;->max(FF)F

    move-result v12

    invoke-static {v1, v12}, Ljava/lang/Math;->max(FF)F

    move-result v1

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    move/from16 v42, v5

    const/4 v15, 0x1

    aget v5, v12, v15

    const/16 v18, 0x3

    aget v12, v12, v18

    .line 18953
    invoke-static {v5, v12}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v15, v12, v23

    aget v12, v12, v34

    invoke-static {v15, v12}, Ljava/lang/Math;->max(FF)F

    move-result v12

    invoke-static {v5, v12}, Ljava/lang/Math;->max(FF)F

    move-result v5

    .line 18949
    invoke-virtual {v4, v3, v8, v1, v5}, Landroid/graphics/RectF;->set(FFFF)V

    .line 18955
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v3, 0x1

    aget-object v1, v1, v3

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    invoke-virtual {v3, v4}, Landroid/graphics/RectF;->intersect(Landroid/graphics/RectF;)Z

    move-result v3

    invoke-virtual {v1, v3}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v1

    goto :goto_19

    :cond_2b
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v40, v15

    const/high16 v1, 0x3f800000    # 1.0f

    .line 18960
    :goto_19
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v4, 0x3f800000    # 1.0f

    cmpg-float v3, v3, v4

    if-gez v3, :cond_2d

    .line 18961
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v3

    if-eqz v3, :cond_2d

    .line 18963
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18964
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18965
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v5, v1, v27

    mul-float/2addr v5, v0

    iget v8, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v12, 0x3f800000    # 1.0f

    sub-float v8, v12, v8

    mul-float/2addr v5, v8

    mul-float/2addr v5, v7

    float-to-int v5, v5

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18966
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    int-to-float v8, v8

    sub-float v8, v8, v26

    div-float/2addr v5, v8

    invoke-virtual {v10, v4, v5}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v4, v2

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    neg-float v8, v13

    div-float/2addr v8, v5

    .line 18967
    invoke-virtual {v10, v4, v8}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v4, 0x3f800000    # 1.0f

    mul-float v5, v2, v4

    .line 18968
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    int-to-float v8, v8

    div-float/2addr v5, v8

    mul-float v8, v13, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v8, v4

    invoke-virtual {v10, v5, v8}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v4, 0x0

    if-eqz p5, :cond_2c

    float-to-int v5, v4

    .line 18971
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    sub-int/2addr v8, v5

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v12

    sub-int/2addr v12, v5

    invoke-virtual {v10, v5, v5, v8, v12}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18973
    :cond_2c
    iget-object v5, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v3, v4, v4, v5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 18974
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_1a

    :cond_2d
    const/4 v4, 0x0

    .line 18977
    :goto_1a
    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_2f

    .line 18978
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v3

    if-eqz v3, :cond_2f

    .line 18980
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 18981
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v5, 0x0

    invoke-virtual {v4, v5}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 18982
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v1, v1, v27

    mul-float/2addr v1, v0

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    mul-float/2addr v1, v5

    mul-float/2addr v1, v7

    float-to-int v1, v1

    invoke-virtual {v4, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18983
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v1, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v10, v1, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v1, v2

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v1, v4

    neg-float v5, v13

    div-float/2addr v5, v4

    .line 18984
    invoke-virtual {v10, v1, v5}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v1, 0x3f800000    # 1.0f

    mul-float v4, v2, v1

    .line 18985
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    int-to-float v5, v5

    div-float/2addr v4, v5

    mul-float v5, v13, v1

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v5, v1

    invoke-virtual {v10, v4, v5}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v1, 0x0

    if-eqz p5, :cond_2e

    float-to-int v4, v1

    .line 18988
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    sub-int/2addr v5, v4

    invoke-virtual {v3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v8

    sub-int/2addr v8, v4

    invoke-virtual {v10, v4, v4, v5, v8}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 18990
    :cond_2e
    iget-object v4, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v3, v1, v1, v4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 18991
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_2f
    move v4, v2

    const/4 v8, 0x1

    goto :goto_1c

    :cond_30
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v40, v15

    move v4, v2

    goto :goto_1b

    :cond_31
    move/from16 v41, v1

    move/from16 p6, v3

    move/from16 v42, v5

    move-object/from16 v39, v8

    move/from16 v38, v12

    move/from16 v40, v15

    move/from16 v4, v33

    :goto_1b
    const/4 v8, 0x0

    .line 19001
    :goto_1c
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, -0x1

    if-nez v1, :cond_36

    .line 19002
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_35

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v5, v3, :cond_32

    goto :goto_1d

    .line 19004
    :cond_32
    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v15, 0x1

    if-ne v12, v15, :cond_33

    if-eqz v5, :cond_35

    if-eq v1, v3, :cond_36

    const/4 v3, 0x2

    if-eq v1, v3, :cond_36

    goto :goto_1d

    .line 19007
    :cond_33
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v3, :cond_34

    if-ne v5, v2, :cond_35

    :cond_34
    if-eqz v1, :cond_35

    const/4 v3, 0x1

    if-eq v1, v3, :cond_35

    if-eq v5, v2, :cond_36

    :cond_35
    :goto_1d
    const/4 v1, 0x1

    goto :goto_1e

    :cond_36
    const/4 v1, 0x0

    :goto_1e
    if-eqz v1, :cond_54

    .line 19015
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v1

    const/16 v3, 0x5a

    if-eq v1, v3, :cond_38

    const/16 v3, 0x10e

    if-ne v1, v3, :cond_37

    goto :goto_1f

    :cond_37
    move/from16 v3, v21

    move/from16 v5, v24

    goto :goto_20

    :cond_38
    :goto_1f
    move/from16 v5, v21

    move/from16 v3, v24

    .line 19026
    :goto_20
    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v15, 0x1

    if-eq v12, v15, :cond_3a

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v15, 0x3

    if-eq v12, v15, :cond_39

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v12, v15, :cond_3a

    :cond_39
    :goto_21
    const/high16 v2, 0x3f800000    # 1.0f

    goto :goto_22

    .line 19028
    :cond_3a
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v12, :cond_3e

    iget v12, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-eq v12, v2, :cond_3e

    .line 19029
    iget v15, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x1

    if-eq v15, v2, :cond_39

    if-eq v12, v2, :cond_39

    const/4 v2, 0x2

    if-eq v15, v2, :cond_3b

    const/4 v2, 0x3

    if-ne v15, v2, :cond_3c

    :cond_3b
    const/4 v2, -0x1

    if-ne v12, v2, :cond_3c

    goto :goto_21

    :cond_3c
    if-nez v12, :cond_3d

    .line 19032
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_22

    .line 19034
    :cond_3d
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    const/high16 v12, 0x3f800000    # 1.0f

    sub-float v2, v12, v2

    goto :goto_22

    .line 19037
    :cond_3e
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v12, 0x2

    if-eq v2, v12, :cond_3f

    const/4 v12, 0x3

    if-ne v2, v12, :cond_39

    :cond_3f
    const/4 v2, 0x0

    .line 19039
    :goto_22
    iget-object v12, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v12}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v12

    .line 19040
    iget-object v15, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v3, v3

    const/high16 v17, 0x3f800000    # 1.0f

    sub-float v21, v17, v12

    sub-float v24, v17, v2

    mul-float v21, v21, v24

    add-float v12, v12, v21

    mul-float/2addr v12, v3

    float-to-int v12, v12

    int-to-float v5, v5

    sub-float v21, v17, v15

    mul-float v21, v21, v24

    add-float v15, v15, v21

    mul-float/2addr v15, v5

    float-to-int v15, v15

    int-to-float v12, v12

    div-float v21, v14, v12

    int-to-float v15, v15

    mul-float v33, v21, v15

    cmpl-float v33, v33, v6

    if-lez v33, :cond_40

    div-float v21, v6, v15

    :cond_40
    move/from16 v33, v7

    .line 19047
    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v43, v0

    const/4 v0, 0x1

    if-eq v7, v0, :cond_43

    iget v7, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v7, v0, :cond_41

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v0, :cond_43

    :cond_41
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_43

    mul-float v12, v12, v21

    mul-float v15, v15, v21

    mul-float v0, v41, v42

    cmpl-float v0, v0, v6

    if-lez v0, :cond_42

    move/from16 v41, v31

    :cond_42
    mul-float v0, v40, v41

    div-float v0, v0, p6

    mul-float v7, v42, v41

    div-float v7, v7, p6

    sub-float/2addr v0, v12

    mul-float v0, v0, v24

    add-float/2addr v12, v0

    sub-float/2addr v7, v15

    mul-float v7, v7, v24

    add-float/2addr v15, v7

    neg-float v0, v12

    const/high16 v7, 0x40000000    # 2.0f

    div-float/2addr v0, v7

    neg-float v11, v15

    div-float/2addr v11, v7

    div-float/2addr v12, v7

    div-float/2addr v15, v7

    .line 19060
    invoke-virtual {v10, v0, v11, v12, v15}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 19062
    :cond_43
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, 0x1

    if-eq v0, v7, :cond_44

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_55

    .line 19064
    :cond_44
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v0, v7, :cond_49

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v7, :cond_45

    goto :goto_25

    .line 19086
    :cond_45
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_47

    .line 19087
    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v6, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v6, :cond_46

    iget-boolean v6, v6, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v6, :cond_46

    const/high16 v7, -0x40800000    # -1.0f

    goto :goto_23

    :cond_46
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_23
    invoke-virtual {v0, v7}, Landroid/view/TextureView;->setScaleX(F)V

    .line 19088
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_47

    .line 19089
    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v6}, Landroid/view/TextureView;->getScaleX()F

    move-result v6

    invoke-virtual {v0, v6}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 19092
    :cond_47
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_48

    iget v7, v0, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_24

    :cond_48
    const/high16 v0, 0x3f800000    # 1.0f

    const/high16 v7, 0x3f800000    # 1.0f

    :goto_24
    sub-float v6, v7, v0

    mul-float v6, v6, v24

    add-float/2addr v6, v0

    div-float v21, v21, v29

    div-float v21, v21, v6

    mul-float v7, v7, v21

    goto :goto_29

    .line 19065
    :cond_49
    :goto_25
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_4b

    .line 19066
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v7

    if-eqz v7, :cond_4a

    const/high16 v7, -0x40800000    # -1.0f

    goto :goto_26

    :cond_4a
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_26
    invoke-virtual {v0, v7}, Landroid/view/TextureView;->setScaleX(F)V

    .line 19067
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_4b

    .line 19068
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v7}, Landroid/view/TextureView;->getScaleX()F

    move-result v7

    invoke-virtual {v0, v7}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 19071
    :cond_4b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v0

    const/high16 v7, 0x3f800000    # 1.0f

    sub-float/2addr v0, v7

    mul-float v0, v0, v24

    add-float/2addr v0, v7

    .line 19072
    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v7

    div-float/2addr v7, v0

    div-float/2addr v14, v3

    mul-float v0, v14, v5

    cmpl-float v0, v0, v6

    if-lez v0, :cond_4c

    div-float v14, v6, v5

    :cond_4c
    div-float v14, v14, v29

    mul-float/2addr v7, v14

    .line 19078
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, 0x1

    if-ne v0, v6, :cond_4f

    .line 19079
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v6, 0x3

    if-eq v0, v6, :cond_4e

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v0, v6, :cond_4d

    goto :goto_27

    :cond_4d
    if-nez v0, :cond_4f

    .line 19082
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v0

    goto :goto_28

    .line 19080
    :cond_4e
    :goto_27
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v0

    const/high16 v6, 0x3f800000    # 1.0f

    sub-float/2addr v0, v6

    mul-float v0, v0, v24

    add-float/2addr v0, v6

    :goto_28
    div-float/2addr v7, v0

    .line 19097
    :cond_4f
    :goto_29
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v0

    mul-float/2addr v0, v2

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v6

    mul-float/2addr v6, v2

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19098
    invoke-virtual {v10, v7, v7}, Landroid/graphics/Canvas;->scale(FF)V

    .line 19099
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v0

    mul-float/2addr v0, v3

    mul-float v0, v0, v29

    mul-float/2addr v0, v2

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v6

    mul-float/2addr v6, v5

    mul-float v6, v6, v29

    mul-float/2addr v6, v2

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    if-eqz p7, :cond_50

    .line 19101
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v6

    mul-float/2addr v6, v2

    iget-object v11, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v11

    mul-float/2addr v11, v2

    invoke-virtual {v0, v6, v11}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 19102
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v7, v7}, Landroid/graphics/Matrix;->preScale(FF)Z

    .line 19103
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v6

    mul-float/2addr v6, v3

    mul-float v6, v6, v29

    mul-float/2addr v6, v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float/2addr v3, v5

    mul-float v3, v3, v29

    mul-float/2addr v3, v2

    invoke-virtual {v0, v6, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 19105
    :cond_50
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v0

    int-to-float v1, v1

    add-float/2addr v0, v1

    const/high16 v1, 0x43340000    # 180.0f

    cmpl-float v1, v0, v1

    if-lez v1, :cond_51

    const/high16 v1, 0x43b40000    # 360.0f

    sub-float/2addr v0, v1

    .line 19109
    :cond_51
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v1, v3, :cond_53

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_52

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v3, :cond_53

    .line 19110
    :cond_52
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_55

    .line 19112
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->preRotate(F)Z

    goto :goto_2a

    :cond_53
    mul-float/2addr v0, v2

    .line 19115
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->rotate(F)V

    if-eqz p7, :cond_55

    .line 19117
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v1, v0}, Landroid/graphics/Matrix;->preRotate(F)Z

    goto :goto_2a

    :cond_54
    move/from16 v43, v0

    move/from16 v33, v7

    :cond_55
    :goto_2a
    if-nez v8, :cond_62

    .line 19125
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_58

    .line 19126
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_57

    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v1, :cond_56

    goto :goto_2b

    .line 19129
    :cond_56
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_58

    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v0, :cond_58

    const/4 v8, 0x1

    goto :goto_2c

    .line 19127
    :cond_57
    :goto_2b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v0

    move v8, v0

    goto :goto_2c

    :cond_58
    const/4 v8, 0x0

    :goto_2c
    if-eqz v8, :cond_59

    .line 19134
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, -0x40800000    # -1.0f

    const/high16 v1, 0x3f800000    # 1.0f

    .line 19135
    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v0, 0x0

    const/4 v8, 0x1

    goto :goto_2d

    :cond_59
    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v0, 0x0

    const/4 v8, 0x0

    :goto_2d
    cmpl-float v2, v16, v0

    if-lez v2, :cond_5b

    if-nez v8, :cond_5a

    .line 19140
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, 0x40000000    # 2.0f

    const/4 v8, 0x1

    goto :goto_2e

    :cond_5a
    const/high16 v0, 0x40000000    # 2.0f

    :goto_2e
    mul-float v14, v16, v0

    sub-float v7, v1, v14

    .line 19143
    invoke-virtual {v10, v7, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/high16 v0, 0x40800000    # 4.0f

    mul-float v14, v16, v0

    sub-float v7, v1, v16

    mul-float/2addr v14, v7

    const/high16 v0, 0x3e800000    # 0.25f

    mul-float/2addr v14, v0

    const/4 v0, 0x0

    .line 19144
    invoke-virtual {v10, v0, v14}, Landroid/graphics/Canvas;->skew(FF)V

    .line 19146
    :cond_5b
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_5d

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isLoaded()Z

    move-result v0

    if-nez v0, :cond_5c

    goto :goto_2f

    :cond_5c
    move-object/from16 v11, p2

    goto/16 :goto_31

    :cond_5d
    :goto_2f
    if-eqz p7, :cond_5e

    .line 19149
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    neg-float v1, v4

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    neg-float v3, v13

    div-float/2addr v3, v2

    invoke-virtual {v0, v1, v3}, Landroid/graphics/Matrix;->preTranslate(FF)Z

    .line 19150
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    const/4 v2, 0x0

    aput v2, v0, v1

    const/4 v3, 0x1

    .line 19151
    aput v2, v0, v3

    const/4 v3, 0x2

    .line 19152
    aput v4, v0, v3

    const/4 v5, 0x3

    .line 19153
    aput v2, v0, v5

    .line 19154
    aput v4, v0, v36

    .line 19155
    aput v13, v0, v23

    .line 19156
    aput v2, v0, v35

    .line 19157
    aput v13, v0, v34

    .line 19158
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v2, v0}, Landroid/graphics/Matrix;->mapPoints([F)V

    .line 19159
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    aget v5, v2, v1

    aget v2, v2, v3

    .line 19160
    invoke-static {v5, v2}, Ljava/lang/Math;->min(FF)F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v5, v3, v36

    aget v3, v3, v35

    invoke-static {v5, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    invoke-static {v2, v3}, Ljava/lang/Math;->min(FF)F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v5, 0x1

    aget v6, v3, v5

    const/4 v5, 0x3

    aget v3, v3, v5

    .line 19161
    invoke-static {v6, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v6, v5, v23

    aget v5, v5, v34

    invoke-static {v6, v5}, Ljava/lang/Math;->min(FF)F

    move-result v5

    invoke-static {v3, v5}, Ljava/lang/Math;->min(FF)F

    move-result v3

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v1, 0x0

    aget v6, v5, v1

    const/4 v7, 0x2

    aget v5, v5, v7

    .line 19162
    invoke-static {v6, v5}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v7, v6, v36

    aget v6, v6, v35

    invoke-static {v7, v6}, Ljava/lang/Math;->max(FF)F

    move-result v6

    invoke-static {v5, v6}, Ljava/lang/Math;->max(FF)F

    move-result v5

    iget-object v6, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    const/4 v7, 0x1

    aget v11, v6, v7

    const/4 v12, 0x3

    aget v6, v6, v12

    .line 19163
    invoke-static {v11, v6}, Ljava/lang/Math;->max(FF)F

    move-result v6

    iget-object v11, v9, Lorg/telegram/ui/PhotoViewer;->imageBoundsPoints:[F

    aget v12, v11, v23

    aget v11, v11, v34

    invoke-static {v12, v11}, Ljava/lang/Math;->max(FF)F

    move-result v11

    invoke-static {v6, v11}, Ljava/lang/Math;->max(FF)F

    move-result v6

    .line 19159
    invoke-virtual {v0, v2, v3, v5, v6}, Landroid/graphics/RectF;->set(FFFF)V

    .line 19165
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    aget-object v0, v0, v7

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->blurBounds:Landroid/graphics/RectF;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->imageBounds:Landroid/graphics/RectF;

    invoke-virtual {v2, v3}, Landroid/graphics/RectF;->intersect(Landroid/graphics/RectF;)Z

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v7

    goto :goto_30

    :cond_5e
    const/high16 v7, 0x3f800000    # 1.0f

    .line 19169
    :goto_30
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-nez v0, :cond_5f

    .line 19171
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v0

    :cond_5f
    if-eqz v0, :cond_5c

    move-object/from16 v11, p2

    .line 19174
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19175
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v3, v43, v27

    mul-float/2addr v3, v7

    mul-float v3, v3, v33

    float-to-int v3, v3

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19176
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, v3, v26

    div-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v3, v5

    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    neg-float v2, v4

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v2, v3

    neg-float v5, v13

    div-float/2addr v5, v3

    .line 19177
    invoke-virtual {v10, v2, v5}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v2, 0x3f800000    # 1.0f

    mul-float/2addr v4, v2

    .line 19178
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v4, v3

    mul-float/2addr v13, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v13, v2

    invoke-virtual {v10, v4, v13}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v2, 0x0

    if-eqz p5, :cond_60

    float-to-int v3, v2

    .line 19181
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    sub-int/2addr v4, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    sub-int/2addr v5, v3

    invoke-virtual {v10, v3, v3, v4, v5}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19183
    :cond_60
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0, v2, v2, v3}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    :goto_31
    if-eqz v8, :cond_61

    .line 19187
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_61
    const/4 v8, 0x1

    goto :goto_32

    :cond_62
    move-object/from16 v11, p2

    .line 19191
    :goto_32
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :goto_33
    if-nez v8, :cond_66

    .line 19193
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-nez v0, :cond_66

    .line 19194
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19195
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_63

    .line 19196
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v0

    const/4 v2, 0x2

    div-int/2addr v0, v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    div-int/2addr v3, v2

    sub-int/2addr v0, v3

    int-to-float v0, v0

    const/4 v2, 0x0

    invoke-virtual {v10, v0, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19198
    :cond_63
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getX()F

    move-result v0

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    invoke-virtual {v10, v0, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19199
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v0

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v2

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v3}, Landroid/view/View;->getPivotX()F

    move-result v3

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getPivotY()F

    move-result v4

    invoke-virtual {v10, v0, v2, v3, v4}, Landroid/graphics/Canvas;->scale(FFFF)V

    .line 19202
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/ClippingImageView;->getBitmapHolder()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_65

    .line 19204
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19205
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19206
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v6, v33, v27

    float-to-int v3, v6

    invoke-virtual {v2, v3}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19207
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v2

    int-to-float v2, v2

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v2, v4

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getHeight()I

    move-result v4

    int-to-float v4, v4

    mul-float/2addr v4, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v4, v3

    invoke-virtual {v10, v2, v4}, Landroid/graphics/Canvas;->scale(FF)V

    .line 19208
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float v3, v3, v26

    div-float/2addr v2, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v3, v4

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    int-to-float v6, v6

    div-float/2addr v6, v5

    invoke-virtual {v10, v2, v3, v4, v6}, Landroid/graphics/Canvas;->scale(FFFF)V

    .line 19209
    iget-object v2, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v3, 0x0

    invoke-virtual {v10, v0, v3, v3, v2}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    if-eqz p5, :cond_64

    float-to-int v2, v3

    .line 19212
    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    sub-int/2addr v3, v2

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v0

    sub-int/2addr v0, v2

    invoke-virtual {v10, v2, v2, v3, v0}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19214
    :cond_64
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 19217
    :cond_65
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 19221
    :cond_66
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    move-object/from16 v8, v39

    if-ne v8, v0, :cond_6f

    if-eqz p7, :cond_67

    .line 19222
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v12, 0x0

    aget-object v0, v0, v12

    const/4 v1, 0x1

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2, v1}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    move-result v7

    move v13, v7

    goto :goto_34

    :cond_67
    const/4 v12, 0x0

    const/high16 v13, 0x3f800000    # 1.0f

    :goto_34
    if-eqz v8, :cond_6f

    .line 19223
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v0

    if-eqz v0, :cond_6f

    .line 19224
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 19225
    div-int/lit8 v5, v38, 0x2

    int-to-float v0, v5

    div-int/lit8 v4, v32, 0x2

    int-to-float v1, v4

    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v2, v38

    int-to-float v14, v2

    .line 19226
    iget v0, v9, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    add-float/2addr v0, v1

    mul-float/2addr v0, v14

    invoke-static/range {v25 .. v25}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    neg-float v0, v0

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    add-float v0, v0, v20

    const/4 v6, 0x0

    invoke-virtual {v10, v0, v6}, Landroid/graphics/Canvas;->translate(FF)V

    .line 19227
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v15

    .line 19228
    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v7

    .line 19229
    iget-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    if-nez v0, :cond_68

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_68

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v0

    if-eqz v0, :cond_68

    .line 19230
    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v3, v32

    move-object/from16 v16, v4

    move v4, v15

    move-object/from16 v18, v5

    move v5, v7

    move v12, v6

    move/from16 v6, v22

    move/from16 p7, v13

    move/from16 v12, v33

    move v13, v7

    move-object/from16 v7, v18

    move/from16 v36, v12

    move-object v12, v8

    move-object/from16 v8, v16

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_35

    :cond_68
    move-object v12, v8

    move/from16 p7, v13

    move/from16 v36, v33

    move v13, v7

    :goto_35
    int-to-float v0, v15

    div-float/2addr v14, v0

    move/from16 v1, v32

    int-to-float v1, v1

    int-to-float v2, v13

    div-float/2addr v1, v2

    .line 19234
    invoke-static {v14, v1}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float/2addr v0, v1

    float-to-int v0, v0

    mul-float/2addr v2, v1

    float-to-int v1, v2

    .line 19239
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_6b

    .line 19240
    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_6a

    iget v2, v9, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v3, :cond_69

    goto :goto_36

    .line 19243
    :cond_69
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_6b

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v2, :cond_6b

    const/4 v14, 0x1

    goto :goto_37

    .line 19241
    :cond_6a
    :goto_36
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v14

    goto :goto_37

    :cond_6b
    const/4 v14, 0x0

    :goto_37
    if-eqz v14, :cond_6c

    const/high16 v2, -0x40800000    # -1.0f

    const/high16 v3, 0x3f800000    # 1.0f

    .line 19247
    invoke-virtual {v10, v2, v3}, Landroid/graphics/Canvas;->scale(FF)V

    .line 19250
    :cond_6c
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v2, v12}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->getBitmap(Lorg/telegram/messenger/ImageReceiver;)Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_6e

    .line 19253
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 19254
    iget-object v3, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    mul-float v6, v36, v27

    mul-float v6, v6, p7

    float-to-int v4, v6

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19255
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    sub-float v4, v4, v26

    div-float/2addr v3, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v5

    int-to-float v5, v5

    sub-float v5, v5, v26

    div-float/2addr v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v3, v0

    const/4 v4, 0x2

    .line 19256
    div-int/2addr v3, v4

    int-to-float v3, v3

    neg-int v5, v1

    div-int/2addr v5, v4

    int-to-float v4, v5

    invoke-virtual {v10, v3, v4}, Landroid/graphics/Canvas;->translate(FF)V

    int-to-float v0, v0

    const/high16 v3, 0x3f800000    # 1.0f

    mul-float/2addr v0, v3

    .line 19257
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v0, v4

    int-to-float v1, v1

    mul-float/2addr v1, v3

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v1, v3

    invoke-virtual {v10, v0, v1}, Landroid/graphics/Canvas;->scale(FF)V

    const/4 v0, 0x0

    if-eqz p5, :cond_6d

    float-to-int v1, v0

    .line 19260
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v3

    sub-int/2addr v3, v1

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v4

    sub-int/2addr v4, v1

    invoke-virtual {v10, v1, v1, v3, v4}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 19262
    :cond_6d
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v2, v0, v0, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 19265
    :cond_6e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_38

    :cond_6f
    move/from16 v36, v33

    :goto_38
    move/from16 v0, v37

    .line 19269
    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->restoreToCount(I)V

    move/from16 v0, p4

    if-eqz v0, :cond_70

    .line 19272
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 19273
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    move/from16 v7, v36

    const v2, 0x3f333333    # 0.7f

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-static {v2, v3, v7}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float/2addr v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 19274
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    :cond_70
    return-void

    :cond_71
    :goto_39
    move v2, v4

    move v7, v6

    move v0, v12

    .line 18737
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v3, 0x0

    const/4 v4, 0x1

    invoke-virtual {v1, v3, v4}, Lorg/telegram/ui/Components/AnimatedFloat;->set(FZ)F

    if-eqz v0, :cond_73

    .line 18739
    iget-object v1, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v1, v0}, Landroid/graphics/Paint;->setColor(I)V

    .line 18740
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v0}, Landroid/graphics/Paint;->getAlpha()I

    move-result v1

    int-to-float v1, v1

    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz p6, :cond_72

    goto :goto_3a

    :cond_72
    const/high16 v7, 0x3f800000    # 1.0f

    :goto_3a
    invoke-static {v2, v3, v7}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    mul-float/2addr v1, v2

    float-to-int v1, v1

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    .line 18741
    iget-object v0, v11, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;->paint:Landroid/graphics/Paint;

    invoke-virtual {v10, v0}, Landroid/graphics/Canvas;->drawPaint(Landroid/graphics/Paint;)V

    :cond_73
    return-void
.end method

.method private drawCenterImageInternal(Landroid/graphics/Canvas;FF)V
    .locals 5

    .line 17241
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-nez v0, :cond_2

    .line 17242
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v0, v2, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_0

    goto :goto_0

    .line 17245
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v0, :cond_2

    iget-boolean v0, v0, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v0, :cond_2

    move v0, v2

    goto :goto_1

    .line 17243
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v0

    goto :goto_1

    :cond_2
    move v0, v1

    :goto_1
    const/high16 v3, 0x3f800000    # 1.0f

    if-eqz v0, :cond_3

    .line 17250
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v0, -0x40800000    # -1.0f

    .line 17251
    invoke-virtual {p1, v0, v3}, Landroid/graphics/Canvas;->scale(FF)V

    move v1, v2

    :cond_3
    const/4 v0, 0x0

    cmpl-float v4, p2, v0

    if-lez v4, :cond_5

    if-nez v1, :cond_4

    .line 17256
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    goto :goto_2

    :cond_4
    move v2, v1

    :goto_2
    const/high16 v1, 0x40000000    # 2.0f

    mul-float/2addr v1, p2

    sub-float v1, v3, v1

    .line 17259
    invoke-virtual {p1, v1, v3}, Landroid/graphics/Canvas;->scale(FF)V

    const/high16 v1, 0x40800000    # 4.0f

    mul-float/2addr v1, p2

    sub-float/2addr v3, p2

    mul-float/2addr v1, v3

    const/high16 p2, 0x3e800000    # 0.25f

    mul-float/2addr v1, p2

    .line 17260
    invoke-virtual {p1, v0, v1}, Landroid/graphics/Canvas;->skew(FF)V

    move v1, v2

    .line 17262
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p2, :cond_6

    invoke-virtual {p2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isLoaded()Z

    move-result p2

    if-nez p2, :cond_7

    .line 17263
    :cond_6
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 17264
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p2, p1}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    :cond_7
    if-eqz v1, :cond_8

    .line 17267
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_8
    return-void
.end method

.method private drawFancyShadows(Landroid/graphics/Canvas;)V
    .locals 29

    move-object/from16 v8, p0

    move-object/from16 v9, p1

    .line 17191
    iget-boolean v0, v8, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-nez v0, :cond_0

    return-void

    .line 17194
    :cond_0
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->photoViewerBlur:Z

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/high16 v10, 0x3f800000    # 1.0f

    const/4 v3, 0x2

    if-nez v0, :cond_1

    move v0, v10

    goto :goto_2

    :cond_1
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->blurAlpha:Lorg/telegram/ui/Components/AnimatedFloat;

    iget v4, v8, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v4, :cond_3

    if-eq v4, v3, :cond_3

    const/4 v5, 0x3

    if-ne v4, v5, :cond_2

    goto :goto_0

    :cond_2
    move v4, v1

    goto :goto_1

    :cond_3
    :goto_0
    move v4, v2

    :goto_1
    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/AnimatedFloat;->set(Z)F

    move-result v0

    :goto_2
    const/4 v11, 0x0

    cmpg-float v4, v0, v11

    if-gtz v4, :cond_4

    return-void

    .line 17199
    :cond_4
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    int-to-float v4, v4

    const/high16 v5, 0x3fc00000    # 1.5f

    mul-float/2addr v4, v5

    float-to-int v4, v4

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v5

    add-int v7, v4, v5

    .line 17200
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v5

    add-int/2addr v4, v5

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v5

    if-nez v5, :cond_5

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeightClosedKeyboard()I

    move-result v1

    div-int/2addr v1, v3

    const/16 v5, 0x14

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    add-int/2addr v1, v5

    :cond_5
    add-int v12, v4, v1

    .line 17202
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    if-nez v1, :cond_6

    .line 17203
    new-instance v1, Landroid/graphics/Path;

    invoke-direct {v1}, Landroid/graphics/Path;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    .line 17204
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v2}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    .line 17205
    new-instance v4, Landroid/graphics/PorterDuffXfermode;

    sget-object v5, Landroid/graphics/PorterDuff$Mode;->DST_IN:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v4, v5}, Landroid/graphics/PorterDuffXfermode;-><init>(Landroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v4}, Landroid/graphics/Paint;->setXfermode(Landroid/graphics/Xfermode;)Landroid/graphics/Xfermode;

    .line 17206
    new-instance v1, Landroid/graphics/Paint;

    invoke-direct {v1, v2}, Landroid/graphics/Paint;-><init>(I)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    .line 17207
    new-instance v2, Landroid/graphics/PorterDuffXfermode;

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->DST_IN:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v4}, Landroid/graphics/PorterDuffXfermode;-><init>(Landroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setXfermode(Landroid/graphics/Xfermode;)Landroid/graphics/Xfermode;

    .line 17208
    new-instance v1, Landroid/graphics/LinearGradient;

    const/4 v14, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x0

    const/high16 v17, 0x41800000    # 16.0f

    new-array v2, v3, [I

    fill-array-data v2, :array_0

    new-array v4, v3, [F

    fill-array-data v4, :array_1

    sget-object v20, Landroid/graphics/Shader$TileMode;->CLAMP:Landroid/graphics/Shader$TileMode;

    move-object v13, v1

    move-object/from16 v18, v2

    move-object/from16 v19, v4

    invoke-direct/range {v13 .. v20}, Landroid/graphics/LinearGradient;-><init>(FFFF[I[FLandroid/graphics/Shader$TileMode;)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    .line 17209
    new-instance v1, Landroid/graphics/LinearGradient;

    const/16 v22, 0x0

    const/16 v23, 0x0

    const/16 v24, 0x0

    const/high16 v25, 0x41800000    # 16.0f

    new-array v2, v3, [I

    fill-array-data v2, :array_2

    new-array v3, v3, [F

    fill-array-data v3, :array_3

    sget-object v28, Landroid/graphics/Shader$TileMode;->CLAMP:Landroid/graphics/Shader$TileMode;

    move-object/from16 v21, v1

    move-object/from16 v26, v2

    move-object/from16 v27, v3

    invoke-direct/range {v21 .. v28}, Landroid/graphics/LinearGradient;-><init>(FFFF[I[FLandroid/graphics/Shader$TileMode;)V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    .line 17210
    new-instance v1, Landroid/graphics/Matrix;

    invoke-direct {v1}, Landroid/graphics/Matrix;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    .line 17211
    new-instance v1, Landroid/graphics/Matrix;

    invoke-direct {v1}, Landroid/graphics/Matrix;-><init>()V

    iput-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    .line 17212
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    .line 17213
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    invoke-virtual {v1, v2}, Landroid/graphics/Paint;->setShader(Landroid/graphics/Shader;)Landroid/graphics/Shader;

    :cond_6
    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 17216
    iget-object v3, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v3

    int-to-float v3, v3

    iget-object v4, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v4

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v4, v5

    int-to-float v4, v4

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    invoke-virtual {v5}, Landroid/graphics/drawable/ColorDrawable;->getAlpha()I

    move-result v5

    add-int/lit8 v5, v5, -0x7f

    int-to-float v5, v5

    mul-float/2addr v0, v5

    const v5, 0x40008102

    mul-float/2addr v0, v5

    float-to-int v5, v0

    const/16 v6, 0x1f

    move-object/from16 v0, p1

    invoke-virtual/range {v0 .. v6}, Landroid/graphics/Canvas;->saveLayerAlpha(FFFFII)I

    .line 17217
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    invoke-virtual {v0}, Landroid/graphics/Path;->rewind()V

    .line 17218
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    const/4 v3, 0x0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v4, v0

    int-to-float v13, v7

    sget-object v6, Landroid/graphics/Path$Direction;->CW:Landroid/graphics/Path$Direction;

    move v5, v13

    invoke-virtual/range {v1 .. v6}, Landroid/graphics/Path;->addRect(FFFFLandroid/graphics/Path$Direction;)V

    .line 17219
    iget-object v14, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    const/4 v15, 0x0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v1, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v1

    sub-int/2addr v0, v12

    int-to-float v0, v0

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v1

    int-to-float v1, v1

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v2

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v2, v3

    int-to-float v2, v2

    sget-object v19, Landroid/graphics/Path$Direction;->CW:Landroid/graphics/Path$Direction;

    move/from16 v16, v0

    move/from16 v17, v1

    move/from16 v18, v2

    invoke-virtual/range {v14 .. v19}, Landroid/graphics/Path;->addRect(FFFFLandroid/graphics/Path$Direction;)V

    .line 17220
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->clipFancyShadows:Landroid/graphics/Path;

    invoke-virtual {v9, v0}, Landroid/graphics/Canvas;->clipPath(Landroid/graphics/Path;)Z

    const/high16 v0, -0x1000000

    .line 17221
    invoke-virtual {v9, v0}, Landroid/graphics/Canvas;->drawColor(I)V

    .line 17222
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer;->shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x1

    const/4 v6, 0x1

    const/4 v7, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->drawCaptionBlur(Landroid/graphics/Canvas;Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;IIZZZ)V

    .line 17223
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 17224
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    .line 17225
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    const/high16 v6, 0x41800000    # 16.0f

    div-float v1, v13, v6

    invoke-virtual {v0, v10, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 17226
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadow:Landroid/graphics/LinearGradient;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v1}, Landroid/graphics/LinearGradient;->setLocalMatrix(Landroid/graphics/Matrix;)V

    .line 17227
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    const/16 v1, 0xd0

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 17228
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v3, v0

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->topFancyShadowPaint:Landroid/graphics/Paint;

    move-object/from16 v0, p1

    move v4, v13

    invoke-virtual/range {v0 .. v5}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    .line 17229
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0}, Landroid/graphics/Matrix;->reset()V

    .line 17230
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    int-to-float v1, v12

    div-float/2addr v1, v6

    invoke-virtual {v0, v10, v1}, Landroid/graphics/Matrix;->postScale(FF)Z

    .line 17231
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v1

    sub-int/2addr v1, v12

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v1, v2

    int-to-float v1, v1

    invoke-virtual {v0, v11, v1}, Landroid/graphics/Matrix;->postTranslate(FF)Z

    .line 17232
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadow:Landroid/graphics/LinearGradient;

    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowMatrix:Landroid/graphics/Matrix;

    invoke-virtual {v0, v1}, Landroid/graphics/LinearGradient;->setLocalMatrix(Landroid/graphics/Matrix;)V

    .line 17233
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    const/16 v1, 0xbb

    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setAlpha(I)V

    const/4 v1, 0x0

    .line 17234
    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v2

    sub-int/2addr v0, v12

    int-to-float v2, v0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    int-to-float v3, v0

    iget-object v0, v8, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v0

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    add-int/2addr v0, v4

    int-to-float v4, v0

    iget-object v5, v8, Lorg/telegram/ui/PhotoViewer;->bottomFancyShadowPaint:Landroid/graphics/Paint;

    move-object/from16 v0, p1

    invoke-virtual/range {v0 .. v5}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    .line 17235
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 17236
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    return-void

    nop

    :array_0
    .array-data 4
        -0x1000000
        0x0
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        -0x1000000
    .end array-data

    :array_3
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private drawProgress(Landroid/graphics/Canvas;FFFF)V
    .locals 8

    .line 17273
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_3

    .line 17274
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->isDragging()Z

    move-result v0

    if-nez v0, :cond_2

    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v1, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    if-eqz v0, :cond_2

    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-nez v0, :cond_2

    goto :goto_0

    :cond_2
    move v0, v2

    goto :goto_1

    :cond_3
    :goto_0
    move v0, v1

    .line 17278
    :goto_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    if-eqz v3, :cond_5

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz v3, :cond_4

    goto :goto_2

    :cond_4
    move v1, v2

    :cond_5
    :goto_2
    if-eqz v0, :cond_c

    .line 17280
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v3, 0x0

    if-nez v0, :cond_6

    neg-float v0, p2

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v0, v0, v4

    if-lez v0, :cond_6

    add-float/2addr v4, p2

    goto :goto_3

    :cond_6
    move v4, v3

    :goto_3
    const/high16 v0, 0x3f800000    # 1.0f

    cmpl-float v5, p3, v0

    if-nez v5, :cond_7

    move v3, p4

    :cond_7
    if-eqz v1, :cond_8

    .line 17284
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v5}, Landroid/view/View;->getAlpha()F

    move-result v5

    sub-float v5, v0, v5

    mul-float/2addr v5, p5

    goto :goto_4

    :cond_8
    move v5, p5

    .line 17286
    :goto_4
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-eqz v6, :cond_9

    .line 17287
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v6

    mul-float/2addr v5, v6

    goto :goto_5

    .line 17288
    :cond_9
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v6, v6, v2

    invoke-static {v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v6

    const/4 v7, 0x4

    if-ne v6, v7, :cond_a

    const/high16 v6, 0x41000000    # 8.0f

    .line 17289
    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v7

    sub-float v7, v0, v7

    mul-float/2addr v6, v7

    add-float/2addr v3, v6

    .line 17291
    :cond_a
    :goto_5
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    .line 17292
    invoke-virtual {p1, v4, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17293
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v2

    invoke-virtual {v3, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 17294
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, v5}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 17295
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 17297
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_b

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v0, :cond_b

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v2

    invoke-virtual {v0}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_b

    .line 17298
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v0, v2

    aget-object v0, v0, v2

    invoke-virtual {v0}, Landroid/widget/ImageView;->getAlpha()F

    move-result v0

    invoke-static {v0, p5}, Ljava/lang/Math;->min(FF)F

    move-result p5

    invoke-virtual {v3, p5}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 17301
    :cond_b
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_c
    if-eqz v1, :cond_d

    .line 17303
    iget-boolean p5, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez p5, :cond_d

    .line 17304
    invoke-virtual {p1}, Landroid/graphics/Canvas;->save()I

    .line 17305
    iget-object p5, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p5}, Landroid/view/View;->getLeft()I

    move-result p5

    int-to-float p5, p5

    add-float/2addr p5, p2

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p2}, Landroid/view/View;->getTop()I

    move-result p2

    int-to-float p2, p2

    div-float/2addr p4, p3

    add-float/2addr p2, p4

    invoke-virtual {p1, p5, p2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17306
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {p2, p1}, Landroid/view/View;->draw(Landroid/graphics/Canvas;)V

    .line 17307
    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V

    :cond_d
    return-void
.end method

.method private enableSwipeToPiP()Z
    .locals 1

    const/4 v0, 0x0

    return v0
.end method

.method private fixVideoWidthHeight(II)[I
    .locals 7

    const-string v0, "video/avc"

    const/4 v1, 0x2

    new-array v1, v1, [I

    const/4 v2, 0x0

    aput p1, v1, v2

    const/4 v3, 0x1

    aput p2, v1, v3

    .line 8286
    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v5, 0x15

    if-lt v4, v5, :cond_1

    const/4 v4, 0x0

    .line 8289
    :try_start_0
    invoke-static {v0}, Landroid/media/MediaCodec;->createEncoderByType(Ljava/lang/String;)Landroid/media/MediaCodec;

    move-result-object v4

    .line 8290
    invoke-virtual {v4}, Landroid/media/MediaCodec;->getCodecInfo()Landroid/media/MediaCodecInfo;

    move-result-object v5

    invoke-virtual {v5, v0}, Landroid/media/MediaCodecInfo;->getCapabilitiesForType(Ljava/lang/String;)Landroid/media/MediaCodecInfo$CodecCapabilities;

    move-result-object v0

    .line 8291
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$CodecCapabilities;->getVideoCapabilities()Landroid/media/MediaCodecInfo$VideoCapabilities;

    move-result-object v0

    .line 8292
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$VideoCapabilities;->getSupportedWidths()Landroid/util/Range;

    move-result-object v5

    .line 8293
    invoke-virtual {v0}, Landroid/media/MediaCodecInfo$VideoCapabilities;->getSupportedHeights()Landroid/util/Range;

    move-result-object v0

    .line 8294
    invoke-virtual {v5}, Landroid/util/Range;->getLower()Ljava/lang/Comparable;

    move-result-object v5

    check-cast v5, Ljava/lang/Integer;

    invoke-virtual {v5}, Ljava/lang/Integer;->intValue()I

    move-result v5

    int-to-float p1, p1

    const/high16 v6, 0x41800000    # 16.0f

    div-float/2addr p1, v6

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result p1

    mul-int/lit8 p1, p1, 0x10

    invoke-static {v5, p1}, Ljava/lang/Math;->max(II)I

    move-result p1

    aput p1, v1, v2

    .line 8295
    invoke-virtual {v0}, Landroid/util/Range;->getLower()Ljava/lang/Comparable;

    move-result-object p1

    check-cast p1, Ljava/lang/Integer;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    int-to-float p2, p2

    div-float/2addr p2, v6

    invoke-static {p2}, Ljava/lang/Math;->round(F)I

    move-result p2

    mul-int/lit8 p2, p2, 0x10

    invoke-static {p1, p2}, Ljava/lang/Math;->max(II)I

    move-result p1

    aput p1, v1, v3
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 8301
    :goto_0
    :try_start_1
    invoke-virtual {v4}, Landroid/media/MediaCodec;->release()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_2

    goto :goto_1

    :catchall_0
    move-exception p1

    if-eqz v4, :cond_0

    :try_start_2
    invoke-virtual {v4}, Landroid/media/MediaCodec;->release()V
    :try_end_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_0

    .line 8306
    :catch_0
    :cond_0
    throw p1

    :catch_1
    if-eqz v4, :cond_1

    goto :goto_0

    :catch_2
    :cond_1
    :goto_1
    return-object v1
.end method

.method private format(II)Ljava/lang/String;
    .locals 5

    const/4 v0, 0x5

    new-array v0, v0, [C

    const/16 v1, 0x63

    const/16 v2, 0x64

    if-lt p1, v2, :cond_0

    move v3, v1

    goto :goto_0

    :cond_0
    move v3, p1

    .line 8594
    :goto_0
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    const/4 v4, 0x0

    aput-char v3, v0, v4

    const/4 v3, 0x1

    if-lt p1, v2, :cond_1

    move p1, v1

    .line 8595
    :cond_1
    rem-int/lit8 p1, p1, 0xa

    add-int/lit8 p1, p1, 0x30

    int-to-char p1, p1

    aput-char p1, v0, v3

    const/4 p1, 0x2

    const/16 v3, 0x3a

    aput-char v3, v0, p1

    const/4 p1, 0x3

    if-lt p2, v2, :cond_2

    move v3, v1

    goto :goto_1

    :cond_2
    move v3, p2

    .line 8597
    :goto_1
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    aput-char v3, v0, p1

    const/4 p1, 0x4

    if-lt p2, v2, :cond_3

    move p2, v1

    .line 8598
    :cond_3
    rem-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    .line 8599
    new-instance p1, Ljava/lang/String;

    invoke-direct {p1, v0}, Ljava/lang/String;-><init>([C)V

    return-object p1
.end method

.method private format(III)Ljava/lang/String;
    .locals 5

    const/16 v0, 0x8

    new-array v0, v0, [C

    const/16 v1, 0x63

    const/16 v2, 0x64

    if-lt p1, v2, :cond_0

    move v3, v1

    goto :goto_0

    :cond_0
    move v3, p1

    .line 8581
    :goto_0
    div-int/lit8 v3, v3, 0xa

    add-int/lit8 v3, v3, 0x30

    int-to-char v3, v3

    const/4 v4, 0x0

    aput-char v3, v0, v4

    const/4 v3, 0x1

    if-lt p1, v2, :cond_1

    move p1, v1

    .line 8582
    :cond_1
    rem-int/lit8 p1, p1, 0xa

    add-int/lit8 p1, p1, 0x30

    int-to-char p1, p1

    aput-char p1, v0, v3

    const/4 p1, 0x2

    const/16 v3, 0x3a

    aput-char v3, v0, p1

    const/4 p1, 0x3

    if-lt p2, v2, :cond_2

    move v4, v1

    goto :goto_1

    :cond_2
    move v4, p2

    .line 8584
    :goto_1
    div-int/lit8 v4, v4, 0xa

    add-int/lit8 v4, v4, 0x30

    int-to-char v4, v4

    aput-char v4, v0, p1

    const/4 p1, 0x4

    if-lt p2, v2, :cond_3

    move p2, v1

    .line 8585
    :cond_3
    rem-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    const/4 p1, 0x5

    aput-char v3, v0, p1

    const/4 p1, 0x6

    if-lt p3, v2, :cond_4

    move p2, v1

    goto :goto_2

    :cond_4
    move p2, p3

    .line 8587
    :goto_2
    div-int/lit8 p2, p2, 0xa

    add-int/lit8 p2, p2, 0x30

    int-to-char p2, p2

    aput-char p2, v0, p1

    const/4 p1, 0x7

    if-lt p3, v2, :cond_5

    move p3, v1

    .line 8588
    :cond_5
    rem-int/lit8 p3, p3, 0xa

    add-int/lit8 p3, p3, 0x30

    int-to-char p2, p3

    aput-char p2, v0, p1

    .line 8589
    new-instance p1, Ljava/lang/String;

    invoke-direct {p1, v0}, Ljava/lang/String;-><init>([C)V

    return-object p1
.end method

.method private forwardCloud()V
    .locals 4

    .line 517
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    return-void

    .line 520
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast v1, Lorg/telegram/ui/LaunchActivity;

    .line 521
    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    const/4 v2, 0x1

    invoke-virtual {v1, v0, v2}, Lorg/telegram/ui/LaunchActivity;->switchToAccount(IZ)V

    .line 523
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 524
    new-instance v1, Lorg/telegram/ui/PhotoViewer$1;

    invoke-direct {v1, p0, v0}, Lorg/telegram/ui/PhotoViewer$1;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/MessageObject;)V

    .line 535
    sget-boolean v0, Lorg/telegram/messenger/SharedConfig;->isCloudAlbumsEnabled:Z

    if-eqz v0, :cond_1

    .line 536
    new-instance v0, Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v2

    invoke-direct {v0, v2, v1}, Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet;-><init>(Lorg/telegram/ui/ActionBar/BaseFragment;Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet$Delegate;)V

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Landroid/app/Dialog;)V

    goto :goto_0

    .line 538
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/messenger/UserConfig;->getClientUserId()J

    move-result-wide v2

    invoke-interface {v1, v2, v3}, Lcom/iMe/fork/ui/dialog/ForwardCloudBottomSheet$Delegate;->didSelectCloudDialog(J)V

    :goto_0
    return-void
.end method

.method private getAdditionX()I
    .locals 3

    .line 15906
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2

    if-nez v0, :cond_0

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v1, :cond_0

    goto :goto_0

    :cond_0
    if-eqz v0, :cond_1

    const/4 v1, 0x3

    if-eq v0, v1, :cond_1

    const/16 v0, 0xe

    .line 15909
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    return v0

    :cond_1
    const/4 v0, 0x0

    return v0

    :cond_2
    :goto_0
    const/16 v0, 0x10

    .line 15907
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    return v0
.end method

.method private getAdditionY()I
    .locals 4

    .line 15915
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eq v0, v1, :cond_5

    if-nez v0, :cond_0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v1, :cond_0

    goto :goto_0

    :cond_0
    const/4 v1, 0x3

    if-ne v0, v1, :cond_2

    const/16 v0, 0x8

    .line 15918
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_1

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_1
    add-int/2addr v0, v2

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v1

    add-int/2addr v0, v1

    return v0

    :cond_2
    if-eqz v0, :cond_4

    const/16 v0, 0xe

    .line 15920
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_3

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_3
    add-int/2addr v0, v2

    return v0

    :cond_4
    return v2

    :cond_5
    :goto_0
    const/16 v0, 0x10

    .line 15916
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_6

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :cond_6
    add-int/2addr v0, v2

    return v0
.end method

.method private getAnimatedMediaEntitiesCount(Z)I
    .locals 6

    .line 9675
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    const/4 v1, 0x0

    if-eqz v0, :cond_4

    .line 9676
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    move v2, v1

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9677
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9678
    iget-byte v4, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v4, :cond_0

    iget-byte v4, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v5, v4, 0x1

    if-nez v5, :cond_1

    and-int/lit8 v4, v4, 0x4

    if-nez v4, :cond_1

    :cond_0
    iget-object v3, v3, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->entities:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_2

    :cond_1
    add-int/lit8 v2, v2, 0x1

    if-eqz p1, :cond_2

    goto :goto_1

    :cond_2
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    :goto_1
    move v1, v2

    :cond_4
    return v1
.end method

.method private getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;
    .locals 5

    .line 15681
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isTablet()Z

    move-result v0

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-nez v0, :cond_0

    if-eqz p1, :cond_0

    iget-object v0, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_0

    move v0, v2

    goto :goto_0

    :cond_0
    move v0, v1

    :goto_0
    add-int/lit8 v3, v0, 0x1

    .line 15682
    new-array v3, v3, [Lorg/telegram/ui/Components/ClippingImageView;

    .line 15683
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    aput-object v4, v3, v1

    if-eqz v0, :cond_1

    .line 15685
    iget-object v0, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    aput-object v0, v3, v2

    .line 15686
    iget p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageViewYOffset:I

    int-to-float p1, p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/ClippingImageView;->setAdditionalTranslationY(F)V

    :cond_1
    return-object v3
.end method

.method private getContainerViewHeight()I
    .locals 1

    .line 15940
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v0

    return v0
.end method

.method private getContainerViewHeight(I)I
    .locals 1

    const/4 v0, 0x0

    .line 15944
    invoke-direct {p0, v0, p1}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result p1

    return p1
.end method

.method private getContainerViewHeight(ZI)I
    .locals 2

    const/4 v0, 0x1

    if-nez p1, :cond_1

    .line 15949
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-eqz p1, :cond_0

    goto :goto_0

    .line 15952
    :cond_0
    sget-object p1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget p1, p1, Landroid/graphics/Point;->y:I

    if-nez p2, :cond_2

    .line 15953
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 15954
    sget v1, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr p1, v1

    goto :goto_1

    .line 15950
    :cond_1
    :goto_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result p1

    :cond_2
    :goto_1
    if-nez p2, :cond_3

    .line 15957
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v0, :cond_4

    :cond_3
    if-ne p2, v0, :cond_5

    :cond_4
    const/16 p2, 0x90

    .line 15958
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p2

    :goto_2
    sub-int/2addr p1, p2

    goto :goto_3

    :cond_5
    const/4 v0, 0x2

    if-ne p2, v0, :cond_6

    const/16 p2, 0xd6

    .line 15960
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p2

    goto :goto_2

    :cond_6
    const/4 v0, 0x3

    if-ne p2, v0, :cond_7

    const/16 p2, 0x30

    .line 15962
    invoke-static {p2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v0

    add-int/2addr p2, v0

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v0

    add-int/2addr p2, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v0

    add-int/2addr p2, v0

    goto :goto_2

    :cond_7
    :goto_3
    return p1
.end method

.method private getContainerViewWidth()I
    .locals 1

    .line 15926
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v0

    return v0
.end method

.method private getContainerViewWidth(I)I
    .locals 3

    .line 15930
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v0

    const/4 v1, 0x1

    if-eq p1, v1, :cond_1

    if-nez p1, :cond_0

    .line 15931
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v1, :cond_0

    goto :goto_0

    :cond_0
    if-eqz p1, :cond_2

    const/4 v1, 0x3

    if-eq p1, v1, :cond_2

    const/16 p1, 0x1c

    .line 15934
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p1

    goto :goto_1

    :cond_1
    :goto_0
    const/16 p1, 0x20

    .line 15932
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result p1

    :goto_1
    sub-int/2addr v0, p1

    :cond_2
    return v0
.end method

.method private getCropFillScale(Z)F
    .locals 4

    .line 16451
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz p1, :cond_0

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v0

    goto :goto_0

    :cond_0
    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    :goto_0
    if-eqz p1, :cond_1

    .line 16452
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result p1

    goto :goto_1

    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result p1

    .line 16453
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v1

    if-eqz v1, :cond_2

    sget v1, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_2

    :cond_2
    const/4 v1, 0x0

    :goto_2
    int-to-float v1, v1

    .line 16454
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    int-to-float v2, v2

    const/16 v3, 0x40

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v2, v3

    sub-float/2addr v2, v1

    .line 16455
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-static {v1, v2}, Ljava/lang/Math;->min(FF)F

    move-result v1

    const/16 v2, 0x10

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    mul-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    int-to-float v0, v0

    div-float v0, v1, v0

    int-to-float p1, p1

    div-float/2addr v1, p1

    .line 16456
    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result p1

    return p1
.end method

.method private getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;
    .locals 17

    move-object/from16 v0, p0

    .line 8317
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/16 v2, 0x10e

    const/16 v3, 0x5a

    const/high16 v4, 0x447a0000    # 1000.0f

    const/4 v5, -0x1

    const/4 v6, 0x0

    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x1

    if-nez v1, :cond_b

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    if-lez v1, :cond_b

    .line 8318
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v10, :cond_0

    const/high16 v1, 0x44480000    # 800.0f

    goto :goto_0

    :cond_0
    const v1, 0x44558000    # 854.0f

    .line 8319
    :goto_0
    new-instance v11, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v11}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    .line 8320
    iput-wide v7, v11, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    long-to-float v12, v7

    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    const-wide/16 v12, 0xbb8

    .line 8321
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-wide v14, v14, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    invoke-static {v12, v13, v14, v15}, Ljava/lang/Math;->min(JJ)J

    move-result-wide v12

    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 8322
    :goto_1
    iget-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    cmp-long v14, v12, v7

    if-lez v14, :cond_1

    const-wide/16 v14, 0x3e8

    cmp-long v14, v12, v14

    if-gez v14, :cond_1

    const-wide/16 v14, 0x2

    mul-long/2addr v12, v14

    .line 8323
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    goto :goto_1

    :cond_1
    long-to-float v12, v12

    .line 8325
    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 8326
    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    .line 8327
    iput v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8328
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 8329
    iget-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    long-to-float v6, v12

    div-float/2addr v6, v4

    const/high16 v4, 0x47e10000    # 115200.0f

    mul-float/2addr v6, v4

    float-to-int v4, v6

    int-to-long v14, v4

    iput-wide v14, v11, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    .line 8330
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->estimatedDuration:J

    const/16 v4, 0x1e

    .line 8331
    iput v4, v11, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 8332
    iput-wide v12, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 8333
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->filterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 8334
    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v6, :cond_3

    .line 8335
    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8336
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_2

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_2

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    :cond_2
    iput-object v9, v11, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_2

    .line 8338
    :cond_3
    iget-object v6, v4, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v6, v11, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8339
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v4, v11, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    .line 8341
    :goto_2
    iput-boolean v10, v11, Lorg/telegram/messenger/VideoEditedInfo;->isPhoto:Z

    .line 8342
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v4

    .line 8343
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v6}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v6

    .line 8344
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v9, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v9, :cond_6

    .line 8345
    iget v12, v9, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v12, v3, :cond_4

    if-ne v12, v2, :cond_5

    :cond_4
    move/from16 v16, v6

    move v6, v4

    move/from16 v4, v16

    :cond_5
    int-to-float v2, v4

    .line 8350
    iget v3, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v2, v3

    float-to-int v4, v2

    int-to-float v2, v6

    .line 8351
    iget v3, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v2, v3

    float-to-int v6, v2

    .line 8353
    :cond_6
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_7

    move v4, v6

    :cond_7
    int-to-float v2, v4

    div-float v3, v2, v1

    int-to-float v4, v6

    div-float v1, v4, v1

    .line 8356
    invoke-static {v3, v1}, Ljava/lang/Math;->max(FF)F

    move-result v1

    const/high16 v3, 0x3f800000    # 1.0f

    cmpg-float v6, v1, v3

    if-gez v6, :cond_8

    move v1, v3

    :cond_8
    div-float/2addr v2, v1

    float-to-int v2, v2

    div-float/2addr v4, v1

    float-to-int v1, v4

    .line 8362
    rem-int/lit8 v3, v2, 0x10

    const/high16 v4, 0x41800000    # 16.0f

    if-eqz v3, :cond_9

    int-to-float v2, v2

    div-float/2addr v2, v4

    .line 8363
    invoke-static {v2}, Ljava/lang/Math;->round(F)I

    move-result v2

    invoke-static {v10, v2}, Ljava/lang/Math;->max(II)I

    move-result v2

    mul-int/lit8 v2, v2, 0x10

    .line 8365
    :cond_9
    rem-int/lit8 v3, v1, 0x10

    if-eqz v3, :cond_a

    int-to-float v1, v1

    div-float/2addr v1, v4

    .line 8366
    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    invoke-static {v10, v1}, Ljava/lang/Math;->max(II)I

    move-result v1

    mul-int/lit8 v1, v1, 0x10

    .line 8368
    :cond_a
    iput v2, v11, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    iput v2, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 8369
    iput v1, v11, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    iput v1, v11, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 8370
    iput v5, v11, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8371
    iput-boolean v10, v11, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    .line 8372
    iput-wide v7, v11, Lorg/telegram/messenger/VideoEditedInfo;->avatarStartTime:J

    return-object v11

    .line 8375
    :cond_b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_23

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    if-eqz v1, :cond_23

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-nez v1, :cond_c

    goto/16 :goto_b

    .line 8378
    :cond_c
    new-instance v1, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v1}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    .line 8379
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    .line 8380
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 8381
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    .line 8382
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 8383
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    .line 8384
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8385
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 8386
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 8387
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    iput v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8388
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    iput-object v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 8389
    iget-wide v11, v0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    cmp-long v7, v11, v7

    if-eqz v7, :cond_d

    goto :goto_3

    :cond_d
    const-wide/16 v11, 0x1

    :goto_3
    iput-wide v11, v1, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    .line 8390
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    iput-wide v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->estimatedDuration:J

    .line 8391
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    iput v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 8392
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v7, v4

    float-to-long v7, v7

    iput-wide v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 8393
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->filterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 8394
    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v7, :cond_f

    .line 8395
    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8396
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_e

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_e

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    :cond_e
    iput-object v9, v1, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_4

    .line 8398
    :cond_f
    iget-object v7, v4, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    iput-object v7, v1, Lorg/telegram/messenger/VideoEditedInfo;->paintPath:Ljava/lang/String;

    .line 8399
    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v4, :cond_10

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_10

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v4, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    :cond_10
    iput-object v9, v1, Lorg/telegram/messenger/VideoEditedInfo;->mediaEntities:Ljava/util/ArrayList;

    .line 8402
    :goto_4
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v10, :cond_13

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_13

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v4}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v4

    if-eqz v4, :cond_11

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne v4, v7, :cond_13

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v4, v7, :cond_13

    .line 8403
    :cond_11
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 8404
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 8405
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v4, :cond_12

    goto :goto_5

    :cond_12
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    :goto_5
    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    goto :goto_7

    .line 8407
    :cond_13
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_14

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v10, :cond_15

    .line 8408
    :cond_14
    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 8409
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateWidthHeightBitrateForCompression()V

    .line 8411
    :cond_15
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 8412
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 8413
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v4, :cond_17

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v10, :cond_16

    goto :goto_6

    :cond_16
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    :cond_17
    :goto_6
    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 8415
    :goto_7
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v4, :cond_1f

    .line 8417
    iget v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    add-int/2addr v5, v4

    iput v5, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 8418
    :goto_8
    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    const/16 v5, 0x168

    if-lt v4, v5, :cond_18

    add-int/lit16 v4, v4, -0x168

    .line 8419
    iput v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    goto :goto_8

    :cond_18
    if-eq v4, v3, :cond_1a

    if-ne v4, v2, :cond_19

    goto :goto_9

    .line 8425
    :cond_19
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8426
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    goto :goto_a

    .line 8422
    :cond_1a
    :goto_9
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8423
    iget v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    int-to-float v3, v3

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v4

    float-to-int v3, v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8428
    :goto_a
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_1d

    .line 8429
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    const/16 v4, 0x320

    if-le v3, v4, :cond_1b

    .line 8430
    iput v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8432
    :cond_1b
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    if-le v3, v4, :cond_1c

    .line 8433
    iput v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8435
    :cond_1c
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-static {v3, v4}, Ljava/lang/Math;->min(II)I

    move-result v3

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    iput v3, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8437
    :cond_1d
    sget-boolean v2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    const-string v3, " h = "

    if-eqz v2, :cond_1e

    .line 8438
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "original transformed w = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v4, " r = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->d(Ljava/lang/String;)V

    .line 8440
    :cond_1e
    iget-object v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v2, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-direct {v0, v4, v2}, Lorg/telegram/ui/PhotoViewer;->fixVideoWidthHeight(II)[I

    move-result-object v2

    .line 8441
    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    aget v5, v2, v6

    iput v5, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    .line 8442
    aget v2, v2, v10

    iput v2, v4, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    .line 8443
    sget-boolean v2, Lorg/telegram/messenger/BuildVars;->LOGS_ENABLED:Z

    if-eqz v2, :cond_1f

    .line 8444
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "fixed transformed w = "

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v4, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->transformWidth:I

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v3, v1, Lorg/telegram/messenger/VideoEditedInfo;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iget v3, v3, Lorg/telegram/messenger/MediaController$CropState;->transformHeight:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->d(Ljava/lang/String;)V

    .line 8447
    :cond_1f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_20

    .line 8448
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    iput-wide v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->avatarStartTime:J

    .line 8449
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iput v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->originalBitrate:I

    .line 8451
    :cond_20
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v2, :cond_21

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_22

    :cond_21
    move v6, v10

    :cond_22
    iput-boolean v6, v1, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    return-object v1

    :cond_23
    :goto_b
    return-object v9
.end method

.method private getCurrentVideoPosition()J
    .locals 2

    .line 1561
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1562
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getCurrentPosition()I

    move-result v0

    int-to-long v0, v0

    return-wide v0

    .line 1564
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    const-wide/16 v0, 0x0

    return-wide v0

    .line 1567
    :cond_1
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    return-wide v0
.end method

.method private getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;
    .locals 8

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11662
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, 0x0

    if-nez v1, :cond_3

    .line 11663
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    :cond_1
    if-eqz p2, :cond_2

    .line 11667
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    iget-object v0, v0, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v0, v0, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    aput-wide v0, p2, v2

    .line 11669
    :cond_2
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLObject;

    return-object p1

    .line 11670
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_6

    .line 11671
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    :cond_4
    if-eqz p2, :cond_5

    .line 11675
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Long;

    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    aput-wide v0, p2, v2

    .line 11677
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    iget-object p1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    return-object p1

    .line 11678
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_13

    .line 11679
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_7

    return-object v0

    .line 11682
    :cond_7
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    .line 11683
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageService;

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    if-eqz v3, :cond_b

    .line 11684
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageActionUserUpdatedPhoto;

    if-eqz v3, :cond_8

    .line 11685
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$MessageAction;->newUserPhoto:Lorg/telegram/tgnet/TLRPC$UserProfilePhoto;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$UserProfilePhoto;->photo_big:Lorg/telegram/tgnet/TLRPC$FileLocation;

    return-object p1

    .line 11687
    :cond_8
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    invoke-static {p1, v1}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p1, :cond_a

    if-eqz p2, :cond_9

    .line 11690
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11691
    aget-wide v0, p2, v2

    cmp-long v0, v0, v4

    if-nez v0, :cond_9

    .line 11692
    aput-wide v6, p2, v2

    :cond_9
    return-object p1

    :cond_a
    if-eqz p2, :cond_13

    .line 11697
    aput-wide v6, p2, v2

    goto/16 :goto_0

    .line 11700
    :cond_b
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaPhoto;

    if-eqz v1, :cond_c

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-nez v1, :cond_d

    :cond_c
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v1, :cond_10

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_10

    .line 11702
    :cond_d
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v1

    const/4 v3, 0x1

    invoke-static {p1, v1, v2, v0, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;IZLorg/telegram/tgnet/TLRPC$PhotoSize;Z)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p1, :cond_f

    if-eqz p2, :cond_e

    .line 11705
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11706
    aget-wide v0, p2, v2

    cmp-long v0, v0, v4

    if-nez v0, :cond_e

    .line 11707
    aput-wide v6, p2, v2

    :cond_e
    return-object p1

    :cond_f
    if-eqz p2, :cond_13

    .line 11712
    aput-wide v6, p2, v2

    goto :goto_0

    .line 11714
    :cond_10
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-eqz v1, :cond_11

    .line 11715
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    return-object p1

    .line 11716
    :cond_11
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_13

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isDocumentHasThumb(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-eqz v1, :cond_13

    .line 11717
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v0, 0x5a

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p2, :cond_12

    .line 11719
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v0, v0

    aput-wide v0, p2, v2

    .line 11720
    aget-wide v0, p2, v2

    cmp-long v0, v0, v4

    if-nez v0, :cond_12

    .line 11721
    aput-wide v6, p2, v2

    :cond_12
    return-object p1

    :cond_13
    :goto_0
    return-object v0
.end method

.method public static getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;
    .locals 0

    if-nez p0, :cond_0

    const/4 p0, 0x0

    return-object p0

    .line 13040
    :cond_0
    iget-object p0, p0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    return-object p0
.end method

.method public static getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;
    .locals 1

    if-eqz p0, :cond_1

    .line 13044
    iget p0, p0, Lorg/telegram/messenger/ImageLocation;->imageType:I

    const/4 v0, 0x2

    if-eq p0, v0, :cond_0

    goto :goto_0

    :cond_0
    const-string p0, "mp4"

    return-object p0

    :cond_1
    :goto_0
    const/4 p0, 0x0

    return-object p0
.end method

.method private getFileName(I)Ljava/lang/String;
    .locals 6

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11525
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const-string v2, ".jpg"

    const-string v3, "_"

    if-nez v1, :cond_2

    .line 11526
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    .line 11529
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/SecureDocument;

    .line 11530
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget v1, v1, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->dc_id:I

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v3, p1, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->id:J

    invoke-virtual {v0, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11531
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-eqz v1, :cond_a

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_3

    goto/16 :goto_0

    .line 11552
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_8

    .line 11553
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    .line 11556
    :cond_4
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 11557
    instance-of v1, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_5

    .line 11558
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 11559
    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController$SearchImage;->getAttachName()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11560
    :cond_5
    instance-of v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_9

    .line 11561
    check-cast p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 11562
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_6

    .line 11563
    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getAttachFileName(Lorg/telegram/tgnet/TLObject;)Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11564
    :cond_6
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v1, :cond_7

    .line 11565
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v0

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    .line 11566
    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getAttachFileName(Lorg/telegram/tgnet/TLObject;)Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11567
    :cond_7
    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v1, :cond_9

    .line 11568
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v1}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v1, "."

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v1, p1, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$WebDocument;->mime_type:Ljava/lang/String;

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getMimeTypePart(Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11571
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_9

    .line 11572
    invoke-interface {v1, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFileName(I)Ljava/lang/String;

    move-result-object p1

    return-object p1

    :cond_9
    return-object v0

    .line 11532
    :cond_a
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_e

    .line 11533
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_b

    return-object v0

    .line 11536
    :cond_b
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    .line 11537
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    if-nez v1, :cond_c

    return-object v0

    :cond_c
    if-eq p1, v1, :cond_d

    .line 11542
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v1, v1, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object p1, p1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget p1, p1, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string p1, ".mp4"

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11544
    :cond_d
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v0, v1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    invoke-virtual {p1, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v0, v1, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v0, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    return-object p1

    .line 11547
    :cond_e
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_f

    return-object v0

    .line 11550
    :cond_f
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getMessageFileName(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/lang/String;

    move-result-object p1

    return-object p1
.end method

.method private getImageLocation(I[J)Lorg/telegram/messenger/ImageLocation;
    .locals 10

    const/4 v0, 0x0

    if-gez p1, :cond_0

    return-object v0

    .line 11581
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    const/4 v2, 0x0

    if-nez v1, :cond_3

    .line 11582
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_1

    return-object v0

    :cond_1
    if-eqz p2, :cond_2

    .line 11586
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/SecureDocument;

    iget-object v0, v0, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v0, v0, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    aput-wide v0, p2, v2

    .line 11588
    :cond_2
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/SecureDocument;

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForSecureDocument(Lorg/telegram/messenger/SecureDocument;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11589
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_6

    .line 11590
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_4

    return-object v0

    :cond_4
    if-eqz p2, :cond_5

    .line 11594
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Long;

    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    aput-wide v0, p2, v2

    .line 11596
    :cond_5
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/ImageLocation;

    return-object p1

    .line 11597
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_15

    .line 11598
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt p1, v1, :cond_7

    return-object v0

    .line 11601
    :cond_7
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Lorg/telegram/messenger/MessageObject;

    .line 11602
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    instance-of v3, v1, Lorg/telegram/tgnet/TLRPC$TL_messageService;

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    if-eqz v3, :cond_b

    .line 11603
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageActionUserUpdatedPhoto;

    if-eqz v1, :cond_8

    return-object v0

    .line 11606
    :cond_8
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    invoke-static {v1, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v1, :cond_a

    if-eqz p2, :cond_9

    .line 11609
    iget v0, v1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11610
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_9

    .line 11611
    aput-wide v6, p2, v2

    .line 11614
    :cond_9
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_a
    if-eqz p2, :cond_15

    .line 11616
    aput-wide v6, p2, v2

    goto/16 :goto_0

    .line 11619
    :cond_b
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaPhoto;

    if-eqz v1, :cond_c

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-nez v1, :cond_d

    :cond_c
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v1, :cond_11

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v1, :cond_11

    .line 11620
    :cond_d
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v1

    if-eqz v1, :cond_e

    .line 11621
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11624
    :cond_e
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    const/4 v8, 0x1

    invoke-static {v1, v3, v2, v0, v8}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;IZLorg/telegram/tgnet/TLRPC$PhotoSize;Z)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v1, :cond_10

    if-eqz p2, :cond_f

    .line 11627
    iget v0, v1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11628
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_f

    .line 11629
    aput-wide v6, p2, v2

    .line 11632
    :cond_f
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v1, p1}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_10
    if-eqz p2, :cond_15

    .line 11634
    aput-wide v6, p2, v2

    goto :goto_0

    .line 11637
    :cond_11
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-eqz v1, :cond_12

    .line 11638
    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object p1

    check-cast p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;->webPhoto:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {p1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11639
    :cond_12
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_15

    .line 11640
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    .line 11641
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    const/4 v8, 0x5

    if-ne v3, v8, :cond_13

    .line 11642
    invoke-static {v1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    .line 11643
    :cond_13
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object p1

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->isDocumentHasThumb(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result p1

    if-eqz p1, :cond_15

    .line 11644
    iget-object p1, v1, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v0, 0x5a

    invoke-static {p1, v0}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object p1

    if-eqz p2, :cond_14

    .line 11646
    iget v0, p1, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v8, v0

    aput-wide v8, p2, v2

    .line 11647
    aget-wide v8, p2, v2

    cmp-long v0, v8, v4

    if-nez v0, :cond_14

    .line 11648
    aput-wide v6, p2, v2

    .line 11651
    :cond_14
    invoke-static {p1, v1}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object p1

    return-object p1

    :cond_15
    :goto_0
    return-object v0
.end method

.method public static getInstance()Lorg/telegram/ui/PhotoViewer;
    .locals 2

    .line 3996
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-nez v0, :cond_1

    .line 3998
    const-class v1, Lorg/telegram/ui/PhotoViewer;

    monitor-enter v1

    .line 3999
    :try_start_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-nez v0, :cond_0

    .line 4001
    new-instance v0, Lorg/telegram/ui/PhotoViewer;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer;-><init>()V

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 4003
    :cond_0
    monitor-exit v1

    goto :goto_0

    :catchall_0
    move-exception v0

    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0

    :cond_1
    :goto_0
    return-object v0
.end method

.method private getLeftInset()I
    .locals 1

    .line 7632
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v0, v0, Landroid/graphics/Rect;->left:I

    return v0
.end method

.method public static getPipInstance()Lorg/telegram/ui/PhotoViewer;
    .locals 1

    .line 3992
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    return-object v0
.end method

.method private getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;
    .locals 1

    .line 446
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 447
    invoke-virtual {v0}, Lorg/telegram/ui/LaunchActivity;->getActionBarLayout()Lorg/telegram/ui/ActionBar/INavigationLayout;

    move-result-object v0

    invoke-interface {v0}, Lorg/telegram/ui/ActionBar/INavigationLayout;->getLastFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    return-object v0
.end method

.method private getRightInset()I
    .locals 1

    .line 7636
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v0, v0, Landroid/graphics/Rect;->right:I

    return v0
.end method

.method private getThemedColor(I)I
    .locals 1

    .line 18713
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    if-eqz v0, :cond_0

    .line 18714
    invoke-interface {v0, p1}, Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;->getColor(I)I

    move-result p1

    return p1

    .line 18716
    :cond_0
    invoke-static {p1}, Lorg/telegram/ui/ActionBar/Theme;->getColor(I)I

    move-result p1

    return p1
.end method

.method private getVideoDuration()J
    .locals 2

    .line 1572
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1573
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v0

    int-to-long v0, v0

    return-wide v0

    .line 1575
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    const-wide/16 v0, 0x0

    return-wide v0

    .line 1578
    :cond_1
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    return-wide v0
.end method

.method private goToNext()V
    .locals 4

    .line 16321
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-eqz v0, :cond_0

    .line 16322
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v1

    sub-float/2addr v0, v1

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v0, v1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    const/4 v1, 0x1

    .line 16324
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16325
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v2, v3

    sub-float/2addr v2, v0

    const/16 v0, 0x1e

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    div-int/lit8 v0, v0, 0x2

    int-to-float v0, v0

    sub-float/2addr v2, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v3, 0x0

    invoke-direct {p0, v1, v2, v0, v3}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private goToPrev()V
    .locals 5

    .line 16330
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-eqz v0, :cond_0

    .line 16331
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v0

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v1

    sub-float/2addr v0, v1

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v0, v1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    const/4 v1, 0x2

    .line 16333
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16334
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    int-to-float v4, v4

    add-float/2addr v3, v4

    add-float/2addr v3, v0

    const/16 v0, 0x1e

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    div-int/2addr v0, v1

    int-to-float v0, v0

    add-float/2addr v3, v0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/4 v1, 0x0

    invoke-direct {p0, v2, v3, v0, v1}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method

.method private hasAnimatedMediaEntities()Z
    .locals 2

    const/4 v0, 0x1

    .line 9690
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getAnimatedMediaEntitiesCount(Z)I

    move-result v1

    if-eqz v1, :cond_0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public static hasInstance()Z
    .locals 1

    .line 4013
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private hidePressedDrawables()V
    .locals 3

    .line 17558
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    aput-boolean v2, v0, v1

    aput-boolean v2, v0, v2

    .line 17559
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private initCropView()V
    .locals 9

    .line 14646
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-nez v0, :cond_0

    return-void

    :cond_0
    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    .line 14649
    invoke-virtual/range {v0 .. v8}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    .line 14650
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_1

    return-void

    .line 14653
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onAppear()V

    .line 14654
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14655
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 14656
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoCropView;->onAppeared()V

    .line 14657
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    return-void
.end method

.method private initEmbedVideo(I)V
    .locals 3

    .line 15162
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v0, :cond_0

    return-void

    .line 15165
    :cond_0
    new-instance v0, Lorg/telegram/ui/PhotoViewer$69;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, p0, p0, v1, v2}, Lorg/telegram/ui/PhotoViewer$69;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/view/View;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    .line 15188
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->init(ILorg/telegram/tgnet/TLRPC$WebPage;)V

    .line 15189
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->setPlaybackSpeed(F)V

    .line 15190
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v1, 0x0

    const/4 v2, -0x1

    invoke-static {v2, v2}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {p1, v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;ILandroid/view/ViewGroup$LayoutParams;)V

    .line 15192
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    .line 15193
    invoke-direct {p0, p1, p1}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 15195
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->clearTimestamps()V

    .line 15196
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    const/4 p1, 0x0

    .line 15198
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    .line 15199
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    const-wide/16 v0, 0x0

    .line 15200
    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    .line 15201
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 15202
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 15203
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 15204
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    return-void
.end method

.method private invalidateBlur()V
    .locals 1

    .line 19279
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_0

    return-void

    .line 19282
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    .line 19283
    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->invalidateBlur()V

    .line 19285
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_2

    .line 19286
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->invalidateBlur()V

    .line 19288
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_3

    .line 19289
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_3
    return-void
.end method

.method private isAccessibilityEnabled()Z
    .locals 3

    const/4 v0, 0x0

    .line 8710
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const-string v2, "accessibility"

    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/accessibility/AccessibilityManager;

    .line 8711
    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isEnabled()Z

    move-result v2

    if-eqz v2, :cond_0

    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isTouchExplorationEnabled()Z

    move-result v1
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    if-eqz v1, :cond_0

    const/4 v0, 0x1

    :cond_0
    return v0

    :catch_0
    move-exception v1

    .line 8713
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    return v0
.end method

.method private isCaptionOpen()Z
    .locals 1

    .line 7249
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    .line 7251
    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->keyboardVisible()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private isCurrentAvatarSet()Z
    .locals 9

    .line 11742
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    const/4 v1, 0x0

    if-eqz v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_4

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v0, v2, :cond_0

    goto :goto_1

    .line 11745
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Photo;

    .line 11746
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/ImageLocation;

    .line 11747
    instance-of v3, v0, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    if-eqz v3, :cond_1

    const/4 v0, 0x0

    :cond_1
    const/4 v3, 0x1

    if-eqz v0, :cond_3

    .line 11751
    iget-object v2, v0, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    move v4, v1

    :goto_0
    if-ge v4, v2, :cond_4

    .line 11752
    iget-object v5, v0, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v5, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 11753
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v5, :cond_2

    iget v6, v5, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v7, v7, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v8, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v6, v8, :cond_2

    iget-wide v5, v5, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v7, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v5, v5, v7

    if-nez v5, :cond_2

    return v3

    :cond_2
    add-int/lit8 v4, v4, 0x1

    goto :goto_0

    .line 11757
    :cond_3
    iget-object v0, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v4, v4, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v5, v4, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v2, v5, :cond_4

    iget-wide v5, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v7, v4, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v5, v7

    if-nez v0, :cond_4

    return v3

    :cond_4
    :goto_1
    return v1
.end method

.method public static isPlayingMessage(Lorg/telegram/messenger/MessageObject;)Z
    .locals 4

    .line 14317
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    if-ne v0, v1, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v2

    cmp-long p0, v0, v2

    if-nez p0, :cond_0

    const/4 p0, 0x1

    goto :goto_0

    :cond_0
    const/4 p0, 0x0

    :goto_0
    return p0
.end method

.method public static isPlayingMessageInPip(Lorg/telegram/messenger/MessageObject;)Z
    .locals 4

    .line 14313
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    if-ne v0, v1, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v2

    cmp-long p0, v0, v2

    if-nez p0, :cond_0

    const/4 p0, 0x1

    goto :goto_0

    :cond_0
    const/4 p0, 0x0

    :goto_0
    return p0
.end method

.method public static isShowingImage(Ljava/lang/String;)Z
    .locals 2

    .line 14340
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 14341
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    invoke-virtual {p0, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p0

    if-eqz p0, :cond_0

    const/4 p0, 0x1

    move v1, p0

    :cond_0
    return v1
.end method

.method public static isShowingImage(Lorg/telegram/messenger/MessageObject;)Z
    .locals 7

    .line 14297
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    .line 14298
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_1

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_1

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_1

    if-eqz p0, :cond_1

    .line 14299
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_0

    .line 14300
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_0

    .line 14301
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getEditingMessageObject()Lorg/telegram/messenger/MessageObject;

    move-result-object v0

    :cond_0
    if-eqz v0, :cond_1

    .line 14303
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v4

    if-ne v3, v4, :cond_1

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v5

    cmp-long v0, v3, v5

    if-nez v0, :cond_1

    move v0, v1

    goto :goto_0

    :cond_1
    move v0, v2

    :goto_0
    if-nez v0, :cond_3

    .line 14306
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v3, :cond_3

    .line 14307
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_2

    if-eqz p0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v0

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    if-ne v0, v3, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    invoke-virtual {p0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v5

    cmp-long p0, v3, v5

    if-nez p0, :cond_2

    goto :goto_1

    :cond_2
    move v1, v2

    :goto_1
    move v0, v1

    :cond_3
    return v0
.end method

.method public static isShowingImage(Lorg/telegram/tgnet/TLRPC$BotInlineResult;)Z
    .locals 2

    .line 14332
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 14333
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_0

    if-eqz p0, :cond_0

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_0

    iget-object p0, p0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->id:Ljava/lang/String;

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->id:Ljava/lang/String;

    if-ne p0, v0, :cond_0

    const/4 p0, 0x1

    move v1, p0

    :cond_0
    return v1
.end method

.method public static isShowingImage(Lorg/telegram/tgnet/TLRPC$FileLocation;)Z
    .locals 6

    .line 14322
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    .line 14323
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-boolean v0, v0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    if-nez v0, :cond_2

    if-eqz p0, :cond_2

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v2, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v0, v2, :cond_0

    iget-wide v2, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v0, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v2, v4

    if-nez v0, :cond_0

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget v2, v2, Lorg/telegram/messenger/ImageLocation;->dc_id:I

    if-eq v0, v2, :cond_1

    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_2

    iget v0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    sget-object v2, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-object v2, v2, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v2, v2, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v0, v2, :cond_2

    iget-wide v2, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-object v0, v0, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget-wide v4, v0, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v0, v2, v4

    if-nez v0, :cond_2

    iget p0, p0, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget v0, v0, Lorg/telegram/messenger/ImageLocation;->dc_id:I

    if-ne p0, v0, :cond_2

    :cond_1
    const/4 p0, 0x1

    move v1, p0

    :cond_2
    return v1
.end method

.method private isStatusBarVisible()Z
    .locals 2

    .line 16460
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-nez v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private isVideoPlaying()Z
    .locals 1

    .line 1592
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1593
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v0

    return v0

    .line 1595
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-eqz v0, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private synthetic lambda$checkChangedTextureView$5(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 1908
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/high16 v0, 0x3f800000    # 1.0f

    sub-float/2addr v0, p1

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$checkChangedTextureView$6(Landroid/view/View;Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 1935
    invoke-virtual {p2}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p2

    check-cast p2, Ljava/lang/Float;

    invoke-virtual {p2}, Ljava/lang/Float;->floatValue()F

    move-result p2

    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    .line 1936
    invoke-virtual {p1}, Landroid/view/View;->invalidateOutline()V

    .line 1937
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-eqz p1, :cond_0

    .line 1938
    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    .line 1940
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz p1, :cond_1

    .line 1941
    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_1
    return-void
.end method

.method private synthetic lambda$checkProgress$76(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;
    .locals 2

    .line 13759
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    const/4 v1, 0x1

    invoke-virtual {v0, p1, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$checkProgress$77(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;
    .locals 1

    .line 13762
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    invoke-virtual {v0, p1}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$checkProgress$78(ILjava/io/File;Ljava/io/File;ZZZZZ)V
    .locals 3

    .line 13854
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    const/4 v1, 0x3

    const/4 v2, 0x0

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v0, :cond_0

    .line 13855
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p2, p1

    invoke-virtual {p1, v1, v2, v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    return-void

    :cond_0
    const/4 v0, 0x1

    if-nez p2, :cond_1

    if-eqz p3, :cond_2

    :cond_1
    if-nez p4, :cond_6

    if-eqz p5, :cond_2

    goto :goto_1

    :cond_2
    if-eqz p6, :cond_4

    .line 13880
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p2

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p3, p3, p1

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p2

    if-nez p2, :cond_3

    .line 13881
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    const/4 p3, 0x2

    invoke-virtual {p2, p3, v2, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_0

    .line 13883
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v0, v2, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_0

    .line 13886
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v2, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 13888
    :goto_0
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p2

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p3, p3, p1

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/ImageLoader;->getFileProgress(Ljava/lang/String;)Ljava/lang/Float;

    move-result-object p2

    if-nez p2, :cond_5

    const/4 p2, 0x0

    .line 13890
    invoke-static {p2}, Ljava/lang/Float;->valueOf(F)Ljava/lang/Float;

    move-result-object p2

    .line 13892
    :cond_5
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p3, p3, p1

    invoke-virtual {p2}, Ljava/lang/Float;->floatValue()F

    move-result p2

    invoke-virtual {p3, p2, v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    goto/16 :goto_4

    :cond_6
    :goto_1
    if-nez p1, :cond_7

    .line 13859
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez p2, :cond_a

    :cond_7
    if-eqz p6, :cond_9

    if-eqz p7, :cond_8

    if-nez p1, :cond_9

    .line 13860
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz p2, :cond_9

    .line 13861
    :cond_8
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    invoke-virtual {p2, v1, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_2

    .line 13863
    :cond_9
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, p1

    const/4 p3, -0x1

    invoke-virtual {p2, p3, p8, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_a
    :goto_2
    if-nez p1, :cond_e

    .line 13866
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->isSubMenuShowing()Z

    move-result p2

    if-nez p2, :cond_e

    .line 13867
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget p3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_DELETE_FROM_CACHE:I

    if-eqz p4, :cond_b

    iget-boolean p5, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez p5, :cond_b

    sget-object p5, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object p6, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->CLEAR_CACHE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p5, p6}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p5

    if-eqz p5, :cond_b

    move p5, v0

    goto :goto_3

    :cond_b
    move p5, v2

    :goto_3
    invoke-virtual {p2, p3, p5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubItemVisible(IZ)V

    const/4 p2, 0x7

    if-nez p4, :cond_d

    .line 13869
    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p3

    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p4, p4, p1

    invoke-virtual {p3, p4}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p3

    if-nez p3, :cond_c

    .line 13870
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_4

    .line 13872
    :cond_c
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_4

    .line 13875
    :cond_d
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p3, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_e
    :goto_4
    if-nez p1, :cond_11

    .line 13895
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez p1, :cond_10

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p1

    if-eqz p1, :cond_f

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object p1, p1, v2

    if-eqz p1, :cond_10

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_10

    :cond_f
    move v2, v0

    :cond_10
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    :cond_11
    return-void
.end method

.method private synthetic lambda$checkProgress$79(ZLjava/io/File;Ljava/io/File;Lorg/telegram/messenger/FileLoader$FileResolver;ILorg/telegram/messenger/MessageObject;ZZZZ)V
    .locals 12

    move-object v10, p0

    move-object/from16 v0, p6

    if-nez p1, :cond_0

    if-eqz p2, :cond_0

    .line 13823
    invoke-virtual {p2}, Ljava/io/File;->exists()Z

    move-result v1

    goto :goto_0

    :cond_0
    move v1, p1

    :goto_0
    const/4 v2, 0x0

    if-nez p3, :cond_1

    if-eqz p4, :cond_1

    .line 13829
    invoke-interface/range {p4 .. p4}, Lorg/telegram/messenger/FileLoader$FileResolver;->getFile()Ljava/io/File;

    move-result-object v3

    move-object v4, v3

    goto :goto_1

    :cond_1
    if-eqz p4, :cond_2

    .line 13831
    invoke-interface/range {p4 .. p4}, Lorg/telegram/messenger/FileLoader$FileResolver;->getFile()Ljava/io/File;

    move-result-object v2

    :cond_2
    move-object v4, p3

    :goto_1
    if-nez v1, :cond_3

    if-eqz v4, :cond_3

    .line 13835
    invoke-virtual {v4}, Ljava/io/File;->exists()Z

    move-result v1

    :cond_3
    if-nez v1, :cond_4

    if-eqz v2, :cond_4

    .line 13839
    invoke-virtual {v2}, Ljava/io/File;->exists()Z

    move-result v1

    :cond_4
    move v5, v1

    if-nez v5, :cond_6

    if-eqz p5, :cond_6

    if-eqz v0, :cond_6

    if-eqz p7, :cond_6

    .line 13842
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/DownloadController;->canDownloadMedia(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v1

    if-eqz v1, :cond_6

    .line 13843
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_5

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentEncryptedChat()Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    move-result-object v1

    if-nez v1, :cond_6

    :cond_5
    invoke-virtual/range {p6 .. p6}, Lorg/telegram/messenger/MessageObject;->shouldEncryptPhotoOrVideo()Z

    move-result v1

    if-nez v1, :cond_6

    .line 13844
    invoke-virtual/range {p6 .. p6}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_6

    .line 13846
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    const/4 v3, 0x0

    const/16 v6, 0xa

    invoke-virtual {v2, v1, v0, v3, v6}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    .line 13853
    :cond_6
    new-instance v11, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda75;

    move-object v0, v11

    move-object v1, p0

    move/from16 v2, p5

    move-object v3, p2

    move/from16 v6, p7

    move/from16 v7, p8

    move/from16 v8, p9

    move/from16 v9, p10

    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda75;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/io/File;Ljava/io/File;ZZZZZ)V

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    return-void
.end method

.method private synthetic lambda$closePaintMode$69()V
    .locals 1

    const/4 v0, 0x0

    .line 11039
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$closePhoto$81(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15542
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 15543
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method private synthetic lambda$closePhoto$82(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15562
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$closePhoto$83(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 3

    const/4 v0, 0x0

    .line 15577
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 15578
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, 0x0

    invoke-virtual {v1, v2, v0}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15579
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15580
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 15581
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15582
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController;->tryResumePausedAudio()V

    return-void
.end method

.method private synthetic lambda$closePhoto$84(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 15603
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$closePhoto$85(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 3

    const/4 v0, 0x0

    .line 15617
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    .line 15618
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-nez v1, :cond_0

    return-void

    :cond_0
    const/4 v2, 0x0

    .line 15621
    invoke-virtual {v1, v2, v0}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15622
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15623
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15624
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v0, 0x3f800000    # 1.0f

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setScaleX(F)V

    .line 15625
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setScaleY(F)V

    .line 15626
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/messenger/MediaController;->tryResumePausedAudio()V

    return-void
.end method

.method private synthetic lambda$createPaintView$63(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 10933
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz p1, :cond_0

    .line 10934
    iget-object p1, p1, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->overlayLayout:Landroid/widget/FrameLayout;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$createPaintView$64(Ljava/lang/Integer;)V
    .locals 14

    .line 10923
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v1}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->keyboardVisible()Z

    move-result v1

    iput-boolean v1, v0, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->keyboardVisible:Z

    .line 10924
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 10925
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v0

    invoke-static {p1, v0}, Ljava/lang/Math;->max(II)I

    move-result p1

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object p1

    .line 10926
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->isCurrentText()Z

    move-result v0

    const/4 v2, 0x0

    if-eqz v0, :cond_0

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v0

    if-lez v0, :cond_0

    sget-object v0, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v0, v0, Landroid/graphics/Point;->y:I

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v3

    sub-int/2addr v0, v3

    const/16 v3, 0x50

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    sub-int/2addr v0, v3

    int-to-float v0, v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getSelectedEntityBottom()F

    move-result v3

    sub-float/2addr v0, v3

    goto :goto_0

    :cond_0
    move v0, v2

    :goto_0
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->translateY(F)V

    .line 10928
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 10929
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    :cond_1
    const/4 v0, 0x2

    new-array v3, v0, [F

    .line 10931
    fill-array-data v3, :array_0

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v3

    .line 10932
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda1;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda1;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10937
    new-instance v4, Landroid/animation/AnimatorSet;

    invoke-direct {v4}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v4, p0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardAnimator:Landroid/animation/AnimatorSet;

    const/4 v5, 0x6

    new-array v5, v5, [Landroid/animation/Animator;

    .line 10938
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->weightChooserView:Lorg/telegram/ui/Components/Paint/Views/PaintWeightChooserView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v8, 0x1

    new-array v9, v8, [F

    .line 10939
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    neg-int v10, v10

    int-to-float v10, v10

    const/high16 v11, 0x40200000    # 2.5f

    div-float/2addr v10, v11

    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v1

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->bottomLayout:Landroid/widget/FrameLayout;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10940
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    neg-int v10, v10

    const/16 v11, 0x28

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v11

    add-int/2addr v10, v11

    invoke-static {v1, v10}, Ljava/lang/Math;->min(II)I

    move-result v10

    int-to-float v10, v10

    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v8

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->tabsLayout:Landroid/widget/LinearLayout;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10941
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    const/16 v11, 0x14

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v12

    const/high16 v13, 0x3f800000    # 1.0f

    if-le v10, v12, :cond_2

    move v10, v2

    goto :goto_1

    :cond_2
    move v10, v13

    :goto_1
    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v0

    const/4 v0, 0x3

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->cancelButton:Lorg/telegram/ui/Components/Paint/Views/PaintCancelView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    .line 10942
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v10

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v12

    if-le v10, v12, :cond_3

    move v10, v2

    goto :goto_2

    :cond_3
    move v10, v13

    :goto_2
    aput v10, v9, v1

    invoke-static {v6, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    aput-object v6, v5, v0

    const/4 v0, 0x4

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget-object v6, v6, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->doneButton:Lorg/telegram/ui/Components/Paint/Views/PaintDoneView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v8, [F

    .line 10943
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    if-le p1, v9, :cond_4

    goto :goto_3

    :cond_4
    move v2, v13

    :goto_3
    aput v2, v8, v1

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p1

    aput-object p1, v5, v0

    const/4 p1, 0x5

    aput-object v3, v5, p1

    .line 10938
    invoke-virtual {v4, v5}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    const-wide/16 v0, 0x140

    .line 10946
    invoke-virtual {v4, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10947
    sget-object p1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT_QUINT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v4, p1}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 10948
    invoke-virtual {v4}, Landroid/animation/AnimatorSet;->start()V

    .line 10949
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updatePlusEmojiKeyboardButton()V

    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private synthetic lambda$createPaintView$65()V
    .locals 1

    .line 10952
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PaintingOverlay;->hideBitmap()V

    return-void
.end method

.method private synthetic lambda$createPaintView$66()V
    .locals 1

    const/4 v0, 0x0

    .line 11006
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 11007
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 v0, 0x0

    .line 11008
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$createPaintView$67(Landroid/view/View;)V
    .locals 0

    .line 11010
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->closePaintMode()V

    return-void
.end method

.method private synthetic lambda$createVideoControlsInterface$51()V
    .locals 1

    .line 8236
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    .line 8237
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showVideoSeekPreviewPosition(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$createVideoControlsInterface$52(Landroid/view/View;)V
    .locals 2

    .line 8272
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    .line 8275
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    const/4 v0, 0x2

    .line 8276
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 8277
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    const/16 v1, -0xa

    if-ne v0, v1, :cond_1

    .line 8278
    invoke-virtual {p1}, Landroid/app/Activity;->getRequestedOrientation()I

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 8280
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Landroid/app/Activity;->setRequestedOrientation(I)V

    return-void
.end method

.method private static synthetic lambda$createVideoTextureView$53(Lorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/FilterGLThread;)V
    .locals 0

    .line 9395
    invoke-static {p0}, Lorg/telegram/ui/Components/FilterShaders;->getFilterShadersDelegate(Lorg/telegram/messenger/MediaController$SavedFilterState;)Lorg/telegram/ui/Components/FilterShaders$FilterShadersDelegate;

    move-result-object p0

    invoke-virtual {p1, p0}, Lorg/telegram/ui/Components/FilterGLThread;->setFilterGLThreadDelegate(Lorg/telegram/ui/Components/FilterShaders$FilterShadersDelegate;)V

    return-void
.end method

.method private synthetic lambda$cropRotate$50(FFLandroid/animation/ValueAnimator;)V
    .locals 4

    .line 7917
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/Crop/CropView;->areaView:Lorg/telegram/ui/Components/Crop/CropAreaView;

    invoke-virtual {p3}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/Float;

    invoke-virtual {v1}, Ljava/lang/Float;->floatValue()F

    move-result v1

    mul-float/2addr v1, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float/2addr v2, p1

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v2, v3

    add-float/2addr p1, v2

    const/4 v2, 0x0

    invoke-virtual {v0, v1, p1, v2, v2}, Lorg/telegram/ui/Components/Crop/CropAreaView;->setRotationScaleTranslation(FFFF)V

    .line 7918
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->wheelView:Lorg/telegram/ui/Components/Crop/CropRotationWheel;

    invoke-virtual {p3}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p3

    check-cast p3, Ljava/lang/Float;

    invoke-virtual {p3}, Ljava/lang/Float;->floatValue()F

    move-result p3

    invoke-static {p2, v2, p3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result p2

    const/4 p3, 0x0

    invoke-virtual {p1, p2, p3}, Lorg/telegram/ui/Components/Crop/CropRotationWheel;->setRotation(FZ)V

    return-void
.end method

.method private synthetic lambda$deleteVideoFromCache$1(Ljava/util/ArrayList;)V
    .locals 4

    .line 544
    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_0

    .line 545
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    const/4 v1, 0x2

    invoke-virtual {v0, p1, v1}, Lorg/telegram/messenger/FileLoader;->deleteFiles(Ljava/util/ArrayList;I)V

    .line 546
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_0

    const/4 v0, 0x0

    .line 547
    iput-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    iput-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    .line 548
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 549
    sget p1, Lorg/telegram/messenger/R$string;->CacheWasCleared:I

    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/Object;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getSize()J

    move-result-wide v2

    invoke-static {v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v1, v0

    const-string v0, "CacheWasCleared"

    invoke-static {v0, p1, v1}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showToast(Ljava/lang/String;)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$new$2()V
    .locals 1

    const/4 v0, 0x1

    .line 580
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    return-void
.end method

.method private synthetic lambda$new$7()V
    .locals 1

    .line 2010
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v0, :cond_0

    .line 2011
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$onDraw$88()V
    .locals 2

    const/4 v0, 0x1

    const/4 v1, 0x0

    .line 16607
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return-void
.end method

.method private synthetic lambda$onDraw$89()V
    .locals 2

    const/4 v0, -0x1

    const/4 v1, 0x0

    .line 16609
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return-void
.end method

.method private synthetic lambda$onDraw$90()V
    .locals 1

    const/4 v0, 0x0

    .line 17160
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->checkChangedTextureView(Z)V

    const/4 v0, 0x1

    .line 17161
    invoke-static {v0, v0}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(ZZ)V

    return-void
.end method

.method private synthetic lambda$onLinkLongPress$3(Landroid/text/style/URLSpan;Landroid/widget/TextView;ILandroid/content/DialogInterface;I)V
    .locals 5

    if-nez p5, :cond_0

    .line 1462
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V

    goto/16 :goto_5

    :cond_0
    const/4 p2, 0x1

    if-ne p5, p2, :cond_d

    .line 1464
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object p1

    const-string p4, "mailto:"

    .line 1466
    invoke-virtual {p1, p4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p4

    const/4 p5, 0x0

    if-eqz p4, :cond_2

    const/4 p2, 0x7

    .line 1467
    invoke-virtual {p1, p2}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object p1

    :cond_1
    :goto_0
    move p2, p5

    goto/16 :goto_3

    :cond_2
    const-string p4, "tel:"

    .line 1468
    invoke-virtual {p1, p4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p4

    if-eqz p4, :cond_3

    const/4 p3, 0x4

    .line 1469
    invoke-virtual {p1, p3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_3

    :cond_3
    if-ltz p3, :cond_1

    .line 1472
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p4, :cond_1

    iget-boolean v0, p4, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v0, :cond_1

    .line 1474
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isRoundVideo()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVoice()Z

    move-result v0

    if-nez v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isMusic()Z

    move-result v0

    if-eqz v0, :cond_4

    goto :goto_1

    :cond_4
    move p2, p5

    :cond_5
    :goto_1
    if-nez p2, :cond_6

    .line 1475
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p2, p2, Lorg/telegram/messenger/MessageObject;->replyMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p2, :cond_6

    move-object p4, p2

    .line 1478
    :cond_6
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v0

    .line 1479
    invoke-virtual {p4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result p2

    .line 1481
    iget-object v2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    if-eqz v2, :cond_8

    .line 1482
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->saved_from_peer:Lorg/telegram/tgnet/TLRPC$Peer;

    if-eqz v3, :cond_7

    .line 1483
    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getPeerId(Lorg/telegram/tgnet/TLRPC$Peer;)J

    move-result-wide v0

    .line 1484
    iget-object p2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object p2, p2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    iget p2, p2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->saved_from_msg_id:I

    goto :goto_2

    .line 1485
    :cond_7
    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->from_id:Lorg/telegram/tgnet/TLRPC$Peer;

    if-eqz v2, :cond_8

    .line 1486
    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getPeerId(Lorg/telegram/tgnet/TLRPC$Peer;)J

    move-result-wide v0

    .line 1487
    iget-object p2, p4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object p2, p2, Lorg/telegram/tgnet/TLRPC$Message;->fwd_from:Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;

    iget p2, p2, Lorg/telegram/tgnet/TLRPC$MessageFwdHeader;->channel_post:I

    .line 1491
    :cond_8
    :goto_2
    invoke-static {v0, v1}, Lorg/telegram/messenger/DialogObject;->isChatDialog(J)Z

    move-result p4

    const-string v2, "?t="

    const-string v3, "/"

    const-string v4, "https://t.me/"

    if-eqz p4, :cond_9

    .line 1492
    iget p4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p4

    neg-long v0, v0

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {p4, v0}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object p4

    .line 1493
    invoke-static {p4}, Lorg/telegram/messenger/ChatObject;->getPublicUsername(Lorg/telegram/tgnet/TLRPC$Chat;)Ljava/lang/String;

    move-result-object p4

    if-eqz p4, :cond_1

    .line 1495
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_0

    .line 1498
    :cond_9
    iget p4, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p4

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    invoke-virtual {p4, v0}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object p4

    .line 1499
    invoke-static {p4}, Lorg/telegram/messenger/UserObject;->getPublicUsername(Lorg/telegram/tgnet/TLRPC$User;)Ljava/lang/String;

    move-result-object v0

    if-eqz p4, :cond_1

    if-eqz v0, :cond_1

    .line 1501
    new-instance p1, Ljava/lang/StringBuilder;

    invoke-direct {p1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {p1, p3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {p1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p1

    goto/16 :goto_0

    .line 1506
    :goto_3
    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->addToClipboard(Ljava/lang/CharSequence;)Z

    if-eqz p2, :cond_a

    .line 1509
    sget p1, Lorg/telegram/messenger/R$string;->PhoneCopied:I

    const-string p2, "PhoneCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    :cond_a
    const-string p2, "#"

    .line 1510
    invoke-virtual {p1, p2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p2

    if-eqz p2, :cond_b

    .line 1511
    sget p1, Lorg/telegram/messenger/R$string;->HashtagCopied:I

    const-string p2, "HashtagCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    :cond_b
    const-string p2, "@"

    .line 1512
    invoke-virtual {p1, p2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result p1

    if-eqz p1, :cond_c

    .line 1513
    sget p1, Lorg/telegram/messenger/R$string;->UsernameCopied:I

    const-string p2, "UsernameCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    goto :goto_4

    .line 1515
    :cond_c
    sget p1, Lorg/telegram/messenger/R$string;->LinkCopied:I

    const-string p2, "LinkCopied"

    invoke-static {p2, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    .line 1517
    :goto_4
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->shouldShowClipboardToast()Z

    move-result p2

    if-eqz p2, :cond_d

    .line 1518
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {p2, p3}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object p2

    sget p3, Lorg/telegram/messenger/R$raw;->voip_invite:I

    invoke-virtual {p2, p3, p1}, Lorg/telegram/ui/Components/BulletinFactory;->createSimpleBulletin(ILjava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    :cond_d
    :goto_5
    return-void
.end method

.method private static synthetic lambda$onLinkLongPress$4(Ljava/lang/Runnable;Landroid/content/DialogInterface;)V
    .locals 0

    .line 1522
    invoke-interface {p0}, Ljava/lang/Runnable;->run()V

    return-void
.end method

.method private synthetic lambda$onPhotoClosed$86(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 2

    .line 15792
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    if-eqz p1, :cond_0

    .line 15793
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isTablet()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz p1, :cond_0

    .line 15794
    invoke-virtual {p1, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    .line 15797
    :cond_0
    :try_start_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object p1

    if-eqz p1, :cond_1

    .line 15798
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v0, "window"

    invoke-virtual {p1, v0}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Landroid/view/WindowManager;

    .line 15799
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {p1, v0}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 15800
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception p1

    .line 15803
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$openCurrentPhotoInPaintModeForSelect$80(Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V
    .locals 23

    move-object/from16 v10, p0

    .line 14504
    invoke-static/range {p1 .. p1}, Lorg/telegram/messenger/AndroidUtilities;->getImageOrientation(Ljava/io/File;)Landroid/util/Pair;

    move-result-object v0

    .line 14505
    new-instance v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    add-int/lit8 v2, v13, -0x1

    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->lastImageId:I

    invoke-virtual/range {p1 .. p1}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v16

    const/4 v9, 0x0

    if-eqz p2, :cond_0

    move/from16 v17, v9

    goto :goto_0

    :cond_0
    iget-object v2, v0, Landroid/util/Pair;->first:Ljava/lang/Object;

    check-cast v2, Ljava/lang/Integer;

    invoke-virtual {v2}, Ljava/lang/Integer;->intValue()I

    move-result v2

    move/from16 v17, v2

    :goto_0
    const/16 v19, 0x0

    const/16 v20, 0x0

    const-wide/16 v21, 0x0

    const/4 v12, 0x0

    const-wide/16 v14, 0x0

    move-object v11, v1

    move/from16 v18, p2

    invoke-direct/range {v11 .. v22}, Lorg/telegram/messenger/MediaController$PhotoEntry;-><init>(IIJLjava/lang/String;IZIIJ)V

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/MediaController$PhotoEntry;->setOrientation(Landroid/util/Pair;)Lorg/telegram/messenger/MediaController$PhotoEntry;

    move-result-object v6

    const/4 v0, 0x2

    .line 14507
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 14508
    iput-boolean v9, v10, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14509
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 14510
    new-instance v7, Lorg/telegram/ui/PhotoViewer$66;

    move-object v0, v7

    move-object/from16 v1, p0

    move-object/from16 v3, p3

    move-object v4, v6

    move/from16 v5, p4

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer$66;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/MediaController$PhotoEntry;Z)V

    iput-object v7, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 14574
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 14576
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v0, :cond_1

    .line 14577
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    :cond_1
    const/4 v0, 0x3

    .line 14580
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    .line 14582
    invoke-direct {v10, v9, v9}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    const/4 v0, 0x1

    .line 14583
    invoke-direct {v10, v0, v9}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 14585
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    if-eqz v0, :cond_2

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->isKeyboardVisible()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 14586
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->closeKeyboard()V

    goto :goto_1

    .line 14588
    :cond_2
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14590
    :goto_1
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    .line 14591
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    .line 14593
    invoke-static {v6}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object v8

    const/4 v11, 0x0

    const/4 v12, 0x0

    move-object/from16 v0, p0

    move-object v6, v7

    move-object v7, v8

    move v8, v11

    move v11, v9

    move-object v9, v12

    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14595
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/16 v2, 0x9a

    const/16 v3, 0x60

    if-eqz v1, :cond_3

    move v1, v2

    goto :goto_2

    :cond_3
    move v1, v3

    :goto_2
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 14596
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_4

    move v1, v2

    goto :goto_3

    :cond_4
    move v1, v3

    :goto_3
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 14597
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 14598
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_5

    goto :goto_4

    :cond_5
    move v2, v3

    :goto_4
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setTranslationY(F)V

    .line 14600
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createPaintView()V

    .line 14601
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->switchToPaintMode()V

    .line 14602
    iput v11, v10, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    return-void
.end method

.method private synthetic lambda$redraw$87(I)V
    .locals 0

    add-int/lit8 p1, p1, 0x1

    .line 15836
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->redraw(I)V

    return-void
.end method

.method private static synthetic lambda$sendPressed$44(Landroid/content/DialogInterface;I)V
    .locals 0

    return-void
.end method

.method private synthetic lambda$sendPressed$45(ZIZZLandroid/content/DialogInterface;I)V
    .locals 6

    const/4 v5, 0x1

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    .line 7150
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private synthetic lambda$setIsAboutToSwitchToIndex$75(ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)V
    .locals 1

    .line 12357
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-eq p1, v0, :cond_0

    return-void

    .line 12360
    :cond_0
    iput-object p4, p0, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    .line 12361
    invoke-virtual {p2}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result p1

    const/16 p4, 0x16

    const/16 v0, 0x15

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    invoke-virtual {p2, p3, p1}, Lorg/telegram/messenger/TranslateController;->canTranslatePhoto(Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)Z

    move-result p1

    if-eqz p1, :cond_2

    .line 12362
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz p1, :cond_1

    .line 12363
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12364
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_0

    .line 12366
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12367
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_0

    .line 12370
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12371
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$setItemVisible$73(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 11782
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method private synthetic lambda$setItemVisible$74(ZLandroid/view/View;)V
    .locals 0

    if-nez p1, :cond_0

    const/16 p1, 0x8

    .line 11784
    invoke-virtual {p2, p1}, Landroid/view/View;->setVisibility(I)V

    .line 11786
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    return-void
.end method

.method private synthetic lambda$setParentActivity$10(Landroid/view/View;)V
    .locals 3

    .line 5921
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    .line 5924
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    const/4 v1, 0x1

    .line 5925
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 5926
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    const/16 v2, -0xa

    if-ne v1, v2, :cond_1

    .line 5927
    invoke-virtual {p1}, Landroid/app/Activity;->getRequestedOrientation()I

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    .line 5929
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {p1, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Landroid/view/WindowManager;

    .line 5930
    invoke-interface {p1}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object p1

    invoke-virtual {p1}, Landroid/view/Display;->getRotation()I

    move-result p1

    const/4 v1, 0x3

    if-ne p1, v1, :cond_2

    .line 5932
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/16 v1, 0x8

    invoke-virtual {p1, v1}, Landroid/app/Activity;->setRequestedOrientation(I)V

    goto :goto_0

    .line 5934
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {p1, v0}, Landroid/app/Activity;->setRequestedOrientation(I)V

    .line 5936
    :goto_0
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$11()Landroid/view/View;
    .locals 7

    .line 5948
    new-instance v6, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda87;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda87;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda88;

    invoke-direct {v5, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda88;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    move-object v0, v6

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextView;-><init>(Landroid/content/Context;Lorg/telegram/ui/PhotoViewer$CaptionScrollView;Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;Lorg/telegram/messenger/Utilities$Callback2;Lorg/telegram/messenger/Utilities$Callback3;)V

    return-object v6
.end method

.method private synthetic lambda$setParentActivity$12(Landroid/view/View;)V
    .locals 0

    .line 6012
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->previousCompression:I

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    const/4 p1, 0x0

    .line 6013
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->didChangedCompressionLevel(Z)V

    .line 6014
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    const/4 p1, 0x2

    .line 6015
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$13(Landroid/view/View;)V
    .locals 1

    .line 6018
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 6019
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_0

    .line 6020
    check-cast p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_0
    const/4 p1, 0x0

    .line 6022
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    const/4 p1, 0x2

    .line 6023
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$14(Landroid/view/View;)V
    .locals 0

    const/4 p1, 0x0

    .line 6157
    invoke-direct {p0, p1, p1}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$15(Ljava/lang/Integer;)V
    .locals 2

    .line 6402
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 6403
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v1, :cond_0

    .line 6404
    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    goto :goto_0

    .line 6405
    :cond_0
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_1

    .line 6406
    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 6408
    :cond_1
    :goto_0
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {p1, v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result p1

    if-nez p1, :cond_2

    .line 6409
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    :cond_2
    return-void
.end method

.method private synthetic lambda$setParentActivity$16(Ljava/lang/Integer;)V
    .locals 5

    .line 6414
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v1

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v2

    const/16 v3, 0x2e

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    sub-int/2addr v2, v4

    const/4 v4, 0x0

    invoke-static {v4, v2}, Ljava/lang/Math;->max(II)I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 6415
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    sub-int/2addr p1, v1

    invoke-static {v4, p1}, Ljava/lang/Math;->max(II)I

    move-result p1

    neg-int p1, p1

    int-to-float p1, p1

    invoke-virtual {v0, p1}, Landroid/widget/ImageView;->setTranslationY(F)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$17(Landroid/view/View;)V
    .locals 1

    .line 6418
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    goto :goto_0

    .line 6421
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->needAddMorePhotos()V

    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 6422
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$18(Landroid/view/View;)V
    .locals 1

    .line 6455
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->isCaptionOverLimit()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 6456
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->limitTextView:Lorg/telegram/ui/Components/AnimatedTextView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    neg-float v0, v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->shiftDp:F

    invoke-static {p1, v0}, Lorg/telegram/messenger/AndroidUtilities;->shakeViewSpring(Landroid/view/View;F)V

    .line 6457
    sget-object p1, Lorg/telegram/messenger/BotWebViewVibrationEffect;->APP_ERROR:Lorg/telegram/messenger/BotWebViewVibrationEffect;

    invoke-virtual {p1}, Lorg/telegram/messenger/BotWebViewVibrationEffect;->vibrate()V

    .line 6458
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    iget-boolean p1, p1, Lorg/telegram/messenger/MessagesController;->premiumLocked:Z

    if-nez p1, :cond_0

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    iget p1, p1, Lorg/telegram/messenger/MessagesController;->captionLengthLimitPremium:I

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getCodePointCount()I

    move-result v0

    if-le p1, v0, :cond_0

    .line 6459
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showCaptionLimitBulletin(Landroid/widget/FrameLayout;)Z

    :cond_0
    return-void

    .line 6463
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result p1

    if-eqz p1, :cond_2

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result p1

    if-eqz p1, :cond_3

    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v0, 0x1

    if-eqz p1, :cond_4

    invoke-virtual {p1, v0, v0}, Lorg/telegram/ui/ChatActivity;->isTemplatesChannel(ZZ)Z

    move-result p1

    if-eqz p1, :cond_4

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result p1

    if-nez p1, :cond_4

    .line 6464
    :cond_3
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showScheduleDatePickerDialog()V

    goto :goto_0

    :cond_4
    const/4 p1, 0x0

    .line 6466
    invoke-direct {p0, v0, p1}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$19(Landroid/view/View;Landroid/view/MotionEvent;)Z
    .locals 1

    .line 6486
    invoke-virtual {p2}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v0

    if-nez v0, :cond_0

    .line 6487
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6488
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {p1, v0}, Landroid/view/View;->getHitRect(Landroid/graphics/Rect;)V

    .line 6489
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    float-to-int v0, v0

    invoke-virtual {p2}, Landroid/view/MotionEvent;->getY()F

    move-result p2

    float-to-int p2, p2

    invoke-virtual {p1, v0, p2}, Landroid/graphics/Rect;->contains(II)Z

    move-result p1

    if-nez p1, :cond_0

    .line 6490
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    const/4 p1, 0x0

    return p1
.end method

.method private synthetic lambda$setParentActivity$20(Landroid/view/KeyEvent;)V
    .locals 2

    .line 6497
    invoke-virtual {p1}, Landroid/view/KeyEvent;->getKeyCode()I

    move-result v0

    const/4 v1, 0x4

    if-ne v0, v1, :cond_0

    invoke-virtual {p1}, Landroid/view/KeyEvent;->getRepeatCount()I

    move-result p1

    if-nez p1, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz p1, :cond_0

    invoke-virtual {p1}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result p1

    if-eqz p1, :cond_0

    .line 6498
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$21(Ljava/lang/String;)V
    .locals 1

    .line 6598
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_0

    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 6599
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;)V

    .line 6600
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    const/4 p1, 0x1

    .line 6601
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    :cond_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$22(Ljava/lang/String;)V
    .locals 2

    .line 6597
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda53;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda53;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ChatActivity;->createTranslateOutgoingDialog(Ljava/lang/String;Lcom/iMe/fork/utils/Callbacks$Callback1;)Lcom/iMe/fork/ui/dialog/TranslateAlert;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$23(ILjava/lang/String;Landroid/view/View;)V
    .locals 8

    .line 6589
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    if-eqz p3, :cond_0

    invoke-virtual {p3}, Landroid/widget/PopupWindow;->isShowing()Z

    move-result p3

    if-eqz p3, :cond_0

    .line 6590
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {p3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->dismiss()V

    .line 6593
    :cond_0
    sget p3, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    if-ne p1, p3, :cond_1

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x1

    move-object v0, p0

    .line 6594
    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZLjava/lang/String;Z)V

    goto :goto_0

    .line 6595
    :cond_1
    sget p3, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    if-ne p1, p3, :cond_2

    .line 6596
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda55;

    invoke-direct {p3, p0, p2}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda55;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;)V

    invoke-static {p1, p3}, Lcom/iMe/utils/helper/wallet/WalletHelper;->safeRunWithActivationCheck(Lorg/telegram/ui/ActionBar/BaseFragment;Lcom/iMe/fork/utils/Callbacks$Callback;)V

    goto :goto_0

    :cond_2
    if-nez p1, :cond_3

    .line 6607
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showScheduleDatePickerDialog()V

    goto :goto_0

    :cond_3
    const/4 p2, 0x1

    const/4 p3, 0x0

    if-ne p1, p2, :cond_4

    .line 6609
    invoke-direct {p0, p3, p3}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    goto :goto_0

    :cond_4
    const/4 v0, 0x2

    if-ne p1, v0, :cond_5

    .line 6611
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->replacePressed()V

    goto :goto_0

    :cond_5
    const/4 v0, 0x3

    if-ne p1, v0, :cond_6

    .line 6613
    invoke-direct {p0, p2, p3}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZI)V

    goto :goto_0

    :cond_6
    const/4 p2, 0x4

    if-ne p1, p2, :cond_7

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x1

    const/4 v5, 0x0

    move-object v0, p0

    .line 6615
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    :cond_7
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$24(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/view/View;)Z
    .locals 16

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    .line 6470
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v3, 0x0

    if-eqz v2, :cond_0

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->allowSendingSubmenu()Z

    move-result v2

    if-nez v2, :cond_0

    return v3

    .line 6473
    :cond_0
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/4 v4, 0x1

    if-eqz v2, :cond_1

    iget-object v2, v2, Lorg/telegram/ui/ActionBar/BaseFragment;->storyViewer:Lorg/telegram/ui/Stories/StoryViewer;

    if-eqz v2, :cond_1

    invoke-virtual {v2}, Lorg/telegram/ui/Stories/StoryViewer;->isShown()Z

    move-result v2

    if-eqz v2, :cond_1

    move v2, v4

    goto :goto_0

    :cond_1
    move v2, v3

    :goto_0
    if-nez v2, :cond_3

    .line 6474
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v2, :cond_2

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v2

    if-nez v2, :cond_2

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2, v4, v3}, Lorg/telegram/ui/ChatActivity;->isTemplatesChannel(ZZ)Z

    move-result v2

    if-eqz v2, :cond_3

    :cond_2
    return v3

    .line 6477
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v2}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->isCaptionOverLimit()Z

    move-result v2

    if-eqz v2, :cond_4

    return v3

    .line 6480
    :cond_4
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    .line 6481
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v2

    .line 6483
    new-instance v5, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;-><init>(Landroid/content/Context;)V

    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    .line 6484
    invoke-virtual {v5, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setAnimationEnabled(Z)V

    .line 6485
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda51;

    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda51;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 6496
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda94;

    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda94;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setDispatchKeyEventListener(Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$OnDispatchKeyEventListener;)V

    .line 6501
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v5, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setShownFromBottom(Z)V

    .line 6502
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const v6, -0x6ddddde

    invoke-virtual {v5, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setBackgroundColor(I)V

    .line 6504
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v5, :cond_5

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v5, v6}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canReplace(I)Z

    move-result v5

    if-eqz v5, :cond_5

    move v5, v4

    goto :goto_1

    :cond_5
    move v5, v3

    :goto_1
    const/4 v6, 0x7

    new-array v7, v6, [I

    .line 6505
    sget v8, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    aput v8, v7, v3

    sget v8, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    aput v8, v7, v4

    const/4 v8, 0x2

    const/4 v9, 0x4

    aput v9, v7, v8

    const/4 v10, 0x3

    aput v10, v7, v10

    aput v8, v7, v9

    const/4 v11, 0x5

    aput v3, v7, v11

    const/4 v11, 0x6

    aput v4, v7, v11

    .line 6506
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v11

    invoke-interface {v11}, Ljava/lang/CharSequence;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v11

    move v12, v3

    :goto_2
    if-ge v12, v6, :cond_1f

    .line 6508
    aget v13, v7, v12

    .line 6510
    sget v14, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    if-ne v13, v14, :cond_7

    .line 6511
    sget-boolean v14, Lorg/telegram/messenger/SharedConfig;->isReactionsInSendPopupEnabled:Z

    if-eqz v14, :cond_6

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v14, :cond_6

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    if-eqz v14, :cond_6

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    invoke-virtual {v14}, Ljava/util/HashMap;->size()I

    move-result v14

    if-eq v14, v4, :cond_8

    :cond_6
    :goto_3
    move-object/from16 v3, p1

    goto/16 :goto_b

    .line 6514
    :cond_7
    sget v14, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    if-ne v13, v14, :cond_8

    .line 6515
    sget-boolean v14, Lorg/telegram/messenger/SharedConfig;->isTranslateInSendPopupEnabled:Z

    if-eqz v14, :cond_6

    invoke-virtual {v11}, Ljava/lang/String;->isEmpty()Z

    move-result v14

    if-nez v14, :cond_6

    sget v14, Lorg/telegram/messenger/R$string;->AddCaption:I

    const-string v15, "AddCaption"

    invoke-static {v15, v14}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v11, v14}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v14

    if-eqz v14, :cond_8

    goto :goto_3

    :cond_8
    if-eq v13, v8, :cond_9

    if-eq v13, v10, :cond_9

    if-eqz v5, :cond_9

    goto :goto_3

    :cond_9
    if-nez v13, :cond_a

    .line 6523
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v14}, Lorg/telegram/ui/ChatActivity;->canScheduleMessage()Z

    move-result v14

    if-nez v14, :cond_a

    goto :goto_3

    :cond_a
    if-nez v13, :cond_e

    .line 6526
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v14, :cond_e

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    if-eqz v14, :cond_e

    .line 6527
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v14

    .line 6529
    invoke-virtual {v14}, Ljava/util/HashMap;->entrySet()Ljava/util/Set;

    move-result-object v14

    invoke-interface {v14}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v14

    :goto_4
    invoke-interface {v14}, Ljava/util/Iterator;->hasNext()Z

    move-result v15

    if-eqz v15, :cond_d

    invoke-interface {v14}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v15

    check-cast v15, Ljava/util/Map$Entry;

    .line 6530
    invoke-interface {v15}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;

    move-result-object v15

    .line 6531
    instance-of v6, v15, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v6, :cond_b

    .line 6532
    check-cast v15, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 6533
    iget v6, v15, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    if-eqz v6, :cond_c

    :goto_5
    move v6, v4

    goto :goto_6

    .line 6537
    :cond_b
    instance-of v6, v15, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v6, :cond_c

    .line 6538
    check-cast v15, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 6539
    iget v6, v15, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    if-eqz v6, :cond_c

    goto :goto_5

    :cond_c
    const/4 v6, 0x7

    goto :goto_4

    :cond_d
    move v6, v3

    :goto_6
    if-eqz v6, :cond_12

    goto :goto_3

    :cond_e
    if-ne v13, v4, :cond_f

    .line 6548
    invoke-static {v2}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v6

    if-eqz v6, :cond_f

    goto/16 :goto_3

    :cond_f
    if-eq v13, v8, :cond_10

    if-ne v13, v10, :cond_11

    :cond_10
    if-nez v5, :cond_11

    goto/16 :goto_3

    :cond_11
    if-ne v13, v9, :cond_12

    .line 6552
    iget-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v6, :cond_6

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->hasTimer()Z

    move-result v6

    if-eqz v6, :cond_12

    goto/16 :goto_3

    .line 6555
    :cond_12
    new-instance v6, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v13, :cond_13

    move v15, v4

    goto :goto_7

    :cond_13
    move v15, v3

    :goto_7
    if-ne v13, v10, :cond_14

    move-object/from16 v3, p1

    move v9, v4

    goto :goto_8

    :cond_14
    move v9, v3

    move-object/from16 v3, p1

    :goto_8
    invoke-direct {v6, v14, v15, v9, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;-><init>(Landroid/content/Context;ZZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 6557
    sget v9, Lcom/iMe/common/IdFabric$Menu;->REACTIONS:I

    if-ne v13, v9, :cond_15

    .line 6558
    sget v9, Lorg/telegram/messenger/R$string;->sending_settings_send_add_reactions:I

    invoke-static {v9}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->fork_ic_reactions:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    :goto_9
    const/4 v9, 0x4

    goto/16 :goto_a

    .line 6559
    :cond_15
    sget v9, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    if-ne v13, v9, :cond_16

    .line 6560
    sget v9, Lorg/telegram/messenger/R$string;->chat_long_action_translate:I

    invoke-static {v9}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_translate:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_16
    if-nez v13, :cond_18

    .line 6563
    invoke-static {v2}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v9

    if-eqz v9, :cond_17

    .line 6564
    sget v9, Lorg/telegram/messenger/R$string;->SetReminder:I

    const-string v14, "SetReminder"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_calendar2:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    .line 6566
    :cond_17
    sget v9, Lorg/telegram/messenger/R$string;->ScheduleMessage:I

    const-string v14, "ScheduleMessage"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_calendar2:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_18
    if-ne v13, v4, :cond_1a

    .line 6570
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v9}, Lcom/iMe/fork/controller/ToolsController;->getInstance(I)Lcom/iMe/fork/controller/ToolsController;

    move-result-object v9

    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v14}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v14

    invoke-virtual {v9, v14, v15}, Lcom/iMe/fork/controller/ToolsController;->isSilentSendingEnabledForDialog(J)Z

    move-result v9

    if-eqz v9, :cond_19

    .line 6571
    sget v9, Lorg/telegram/messenger/R$string;->send_with_sound:I

    invoke-static {v9}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->input_notify_on:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    .line 6573
    :cond_19
    sget v9, Lorg/telegram/messenger/R$string;->SendWithoutSound:I

    const-string v14, "SendWithoutSound"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->input_notify_off:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_1a
    if-ne v13, v8, :cond_1b

    .line 6575
    sget v9, Lorg/telegram/messenger/R$string;->ReplacePhoto:I

    const-string v14, "ReplacePhoto"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_replace:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_9

    :cond_1b
    if-ne v13, v10, :cond_1c

    .line 6577
    sget v9, Lorg/telegram/messenger/R$string;->SendAsNewPhoto:I

    const-string v14, "SendAsNewPhoto"

    invoke-static {v14, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    sget v14, Lorg/telegram/messenger/R$drawable;->msg_send:I

    invoke-virtual {v6, v9, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto/16 :goto_9

    :cond_1c
    const/4 v9, 0x4

    if-ne v13, v9, :cond_1e

    .line 6579
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v14, :cond_1d

    invoke-interface {v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v14

    if-le v14, v4, :cond_1d

    .line 6580
    sget v14, Lorg/telegram/messenger/R$string;->SendAsFiles:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v14

    sget v15, Lorg/telegram/messenger/R$drawable;->msg_sendfile:I

    invoke-virtual {v6, v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    goto :goto_a

    .line 6582
    :cond_1d
    sget v14, Lorg/telegram/messenger/R$string;->SendAsFile:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v14

    sget v15, Lorg/telegram/messenger/R$drawable;->msg_sendfile:I

    invoke-virtual {v6, v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setTextAndIcon(Ljava/lang/CharSequence;I)V

    :cond_1e
    :goto_a
    const/16 v14, 0xc4

    .line 6585
    invoke-static {v14}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v14

    invoke-virtual {v6, v14}, Landroid/widget/FrameLayout;->setMinimumWidth(I)V

    const/4 v14, -0x1

    .line 6586
    invoke-virtual {v6, v14, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 6587
    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/16 v9, 0x30

    invoke-static {v14, v9}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v9

    invoke-virtual {v15, v6, v9}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->addView(Landroid/view/View;Landroid/widget/LinearLayout$LayoutParams;)V

    .line 6588
    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda48;

    invoke-direct {v9, v0, v13, v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda48;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/lang/String;)V

    invoke-virtual {v6, v9}, Landroid/widget/FrameLayout;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    :goto_b
    add-int/lit8 v12, v12, 0x1

    const/4 v3, 0x0

    const/4 v6, 0x7

    const/4 v9, 0x4

    goto/16 :goto_2

    .line 6619
    :cond_1f
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getChildCount()I

    move-result v2

    if-nez v2, :cond_20

    const/4 v2, 0x0

    return v2

    :cond_20
    const/4 v2, 0x0

    .line 6622
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const v5, 0x24ffffff

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setupRadialSelectors(I)V

    .line 6624
    new-instance v3, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/4 v6, -0x2

    invoke-direct {v3, v5, v6, v6}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;-><init>(Landroid/view/View;II)V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    .line 6625
    invoke-virtual {v3, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->setAnimationEnabled(Z)V

    .line 6626
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    sget v5, Lorg/telegram/messenger/R$style;->PopupContextAnimation2:I

    invoke-virtual {v3, v5}, Landroid/widget/PopupWindow;->setAnimationStyle(I)V

    .line 6627
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v4}, Landroid/widget/PopupWindow;->setOutsideTouchable(Z)V

    .line 6628
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v4}, Landroid/widget/PopupWindow;->setClippingEnabled(Z)V

    .line 6629
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v8}, Landroid/widget/PopupWindow;->setInputMethodMode(I)V

    .line 6630
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v3, v2}, Landroid/widget/PopupWindow;->setSoftInputMode(I)V

    .line 6631
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v2}, Landroid/widget/PopupWindow;->getContentView()Landroid/view/View;

    move-result-object v2

    invoke-virtual {v2, v4}, Landroid/view/View;->setFocusableInTouchMode(Z)V

    .line 6633
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/16 v3, 0x3e8

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    const/high16 v6, -0x80000000

    invoke-static {v5, v6}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v5

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-static {v3, v6}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-virtual {v2, v5, v3}, Landroid/widget/FrameLayout;->measure(II)V

    .line 6634
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    invoke-virtual {v2, v4}, Landroid/widget/PopupWindow;->setFocusable(Z)V

    new-array v2, v8, [I

    .line 6637
    invoke-virtual {v1, v2}, Landroid/view/View;->getLocationInWindow([I)V

    .line 6638
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupWindow:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;

    const/16 v5, 0x33

    const/4 v6, 0x0

    aget v7, v2, v6

    invoke-virtual/range {p2 .. p2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v6

    add-int/2addr v7, v6

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    sub-int/2addr v7, v6

    const/16 v6, 0xe

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    add-int/2addr v7, v6

    aget v2, v2, v4

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPopupLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v4

    sub-int/2addr v2, v4

    const/16 v4, 0x12

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    sub-int/2addr v2, v4

    invoke-virtual {v3, v1, v5, v7, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow;->showAtLocation(Landroid/view/View;III)V

    .line 6639
    invoke-virtual {v1, v10, v8}, Landroid/view/View;->performHapticFeedback(II)Z

    const/4 v1, 0x0

    return v1
.end method

.method private synthetic lambda$setParentActivity$25(Landroid/view/View;)V
    .locals 1

    .line 6698
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6701
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6702
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6705
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6706
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6707
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x1

    .line 6714
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$26(Landroid/view/View;)V
    .locals 0

    const/high16 p1, -0x3d4c0000    # -90.0f

    .line 6723
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(F)Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$27(Landroid/view/View;)V
    .locals 0

    .line 6731
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cropMirror()Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$28(Landroid/view/View;)V
    .locals 1

    .line 6740
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6743
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6744
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6747
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6748
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6749
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x3

    .line 6756
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$29(Landroid/view/View;)V
    .locals 1

    .line 6765
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6768
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    xor-int/lit8 p1, p1, 0x1

    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 6769
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->updateMuteButton()V

    .line 6770
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    .line 6771
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/CheckBox;->isChecked()Z

    move-result p1

    if-nez p1, :cond_1

    .line 6772
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Landroid/view/View;->callOnClick()Z

    goto :goto_0

    .line 6774
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 6775
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_2

    .line 6776
    check-cast p1, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_2
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$30(Landroid/app/Activity;Landroid/view/View;)V
    .locals 3

    .line 6790
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p2

    if-nez p2, :cond_4

    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz p2, :cond_0

    goto :goto_0

    .line 6793
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {p2}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object p2

    if-nez p2, :cond_3

    .line 6794
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-eqz p2, :cond_2

    .line 6795
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    if-nez p2, :cond_1

    .line 6796
    new-instance p2, Lorg/telegram/ui/Components/Tooltip;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const v1, -0x33eeeeef    # -3.8028356E7f

    const/4 v2, -0x1

    invoke-direct {p2, p1, v0, v1, v2}, Lorg/telegram/ui/Components/Tooltip;-><init>(Landroid/content/Context;Landroid/view/ViewGroup;II)V

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    .line 6798
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    sget p2, Lorg/telegram/messenger/R$string;->VideoQualityIsTooLow:I

    const-string v0, "VideoQualityIsTooLow"

    invoke-static {v0, p2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p2

    invoke-virtual {p1, p2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6799
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/Components/Tooltip;->show(Landroid/view/View;)V

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x1

    .line 6803
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showQualityView(Z)V

    .line 6804
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    :cond_4
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$31(Landroid/view/View;)V
    .locals 1

    .line 6813
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6816
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_3

    .line 6817
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-nez p1, :cond_1

    return-void

    .line 6820
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v0, p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_2

    .line 6821
    check-cast p1, Lorg/telegram/ui/Components/VideoEditTextureView;

    .line 6822
    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v0

    if-lez v0, :cond_2

    invoke-virtual {p1}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result p1

    if-gtz p1, :cond_3

    :cond_2
    return-void

    :cond_3
    const/4 p1, 0x2

    .line 6829
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$32()V
    .locals 14

    .line 6843
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    iget v9, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v10, p0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    iget-boolean v13, p0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    const/high16 v7, 0x3f800000    # 1.0f

    const/high16 v8, 0x3f800000    # 1.0f

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v0 .. v13}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    const/4 v0, 0x0

    .line 6858
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$33(Landroid/view/View;)V
    .locals 3

    .line 6839
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_0

    return-void

    .line 6842
    :cond_0
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda72;

    invoke-direct {p1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda72;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6860
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    if-nez v0, :cond_3

    .line 6861
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    int-to-float v0, v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, v1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result v1

    sub-float/2addr v0, v1

    .line 6862
    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v1

    const/high16 v2, 0x43340000    # 180.0f

    cmpl-float v1, v1, v2

    if-lez v1, :cond_2

    const/4 v1, 0x0

    cmpg-float v1, v0, v1

    const/high16 v2, 0x43b40000    # 360.0f

    if-gez v1, :cond_1

    add-float/2addr v0, v2

    goto :goto_0

    :cond_1
    sub-float/2addr v2, v0

    neg-float v0, v2

    .line 6865
    :cond_2
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v1, v1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateMirror()Z

    move-result v1

    invoke-direct {p0, v0, v1, p1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    goto :goto_1

    .line 6867
    :cond_3
    invoke-interface {p1}, Ljava/lang/Runnable;->run()V

    :goto_1
    return-void
.end method

.method private synthetic lambda$setParentActivity$34(Landroid/view/View;)V
    .locals 1

    .line 6871
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v0, 0x1

    if-ne p1, v0, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoCropView;->isReady()Z

    move-result p1

    if-nez p1, :cond_0

    return-void

    .line 6874
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 p1, 0x0

    .line 6875
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$35()V
    .locals 2

    .line 6895
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->reset(Z)V

    return-void
.end method

.method private synthetic lambda$setParentActivity$36(Landroid/view/View;)V
    .locals 2

    .line 6890
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/Crop/CropView;->getStateOrientation()F

    move-result p1

    neg-float p1, p1

    .line 6891
    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result v0

    const/high16 v1, 0x43340000    # 180.0f

    cmpl-float v0, v0, v1

    if-lez v0, :cond_1

    const/4 v0, 0x0

    cmpg-float v0, p1, v0

    const/high16 v1, 0x43b40000    # 360.0f

    if-gez v0, :cond_0

    add-float/2addr p1, v1

    goto :goto_0

    :cond_0
    sub-float/2addr v1, p1

    neg-float p1, v1

    .line 6894
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object v0, v0, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropView;->getStateMirror()Z

    move-result v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda62;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->cropRotate(FZLjava/lang/Runnable;)Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$37(Lorg/telegram/messenger/ImageReceiver;ZZZ)V
    .locals 10

    .line 6904
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v0, 0x1

    if-ne p1, p4, :cond_4

    if-eqz p2, :cond_4

    if-nez p3, :cond_4

    .line 6905
    iget-boolean p3, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez p3, :cond_2

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq p3, v0, :cond_0

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p3, v0, :cond_2

    :cond_0
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz p3, :cond_2

    .line 6906
    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_2

    .line 6908
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v3

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq p3, v0, :cond_1

    move v4, v0

    goto :goto_0

    :cond_1
    const/4 p3, 0x0

    move v4, p3

    :goto_0
    const/4 v5, 0x1

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v1 .. v9}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    .line 6911
    :cond_2
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {p3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result p3

    if-nez p3, :cond_3

    .line 6912
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p3}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->requestLayout()V

    .line 6914
    :cond_3
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->detectFaces()V

    .line 6916
    :cond_4
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne p1, p3, :cond_6

    if-eqz p2, :cond_6

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_6

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->scaleToFill()Z

    move-result p1

    if-eqz p1, :cond_6

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    if-nez p1, :cond_6

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq p1, v0, :cond_6

    .line 6917
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->wasLayout:Z

    if-nez p1, :cond_5

    .line 6918
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->dontResetZoomOnFirstLayout:Z

    goto :goto_1

    .line 6920
    :cond_5
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setScaleToFill()V

    :cond_6
    :goto_1
    return-void
.end method

.method private synthetic lambda$setParentActivity$38(Landroid/view/View;)V
    .locals 0

    .line 6953
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_0

    return-void

    .line 6956
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setPhotoChecked()V

    return-void
.end method

.method private synthetic lambda$setParentActivity$39(Landroid/view/View;)V
    .locals 1

    .line 6965
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-nez p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz p1, :cond_1

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotosOrder()Ljava/util/ArrayList;

    move-result-object p1

    if-eqz p1, :cond_1

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotosOrder()Ljava/util/ArrayList;

    move-result-object p1

    invoke-virtual {p1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p1

    if-eqz p1, :cond_0

    goto :goto_0

    .line 6968
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    const/4 v0, 0x1

    xor-int/2addr p1, v0

    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    :cond_1
    :goto_0
    return-void
.end method

.method private synthetic lambda$setParentActivity$40(Landroid/view/View;I)V
    .locals 1

    .line 6990
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result p2

    if-nez p2, :cond_0

    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz p2, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge p2, v0, :cond_0

    .line 6991
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p2

    .line 6992
    instance-of v0, p2, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v0, :cond_0

    .line 6993
    check-cast p2, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v0

    iput-object v0, p2, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    :cond_0
    const/4 p2, 0x1

    .line 6996
    iput-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    .line 6997
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {p1}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object p1

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->indexOf(Ljava/lang/Object;)I

    move-result p1

    if-ltz p1, :cond_1

    const/4 p2, -0x1

    .line 6999
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 7000
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    :cond_1
    const/4 p1, 0x0

    .line 7002
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->ignoreDidSetImage:Z

    return-void
.end method

.method private synthetic lambda$setParentActivity$8(Landroid/view/View;Landroid/view/WindowInsets;)Landroid/view/WindowInsets;
    .locals 7

    .line 4855
    new-instance p1, Landroid/graphics/Rect;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    invoke-direct {p1, v0}, Landroid/graphics/Rect;-><init>(Landroid/graphics/Rect;)V

    .line 4856
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x1e

    if-lt v0, v1, :cond_0

    .line 4857
    invoke-static {}, Landroidx/core/view/WindowInsetsCompat$Type;->displayCutout()I

    move-result v2

    invoke-static {}, Landroidx/core/view/WindowInsetsCompat$Type;->systemBars()I

    move-result v3

    or-int/2addr v2, v3

    invoke-virtual {p2, v2}, Landroid/view/WindowInsets;->getInsets(I)Landroid/graphics/Insets;

    move-result-object v2

    .line 4858
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v4, v2, Landroid/graphics/Insets;->left:I

    iget v5, v2, Landroid/graphics/Insets;->top:I

    iget v6, v2, Landroid/graphics/Insets;->right:I

    iget v2, v2, Landroid/graphics/Insets;->bottom:I

    invoke-virtual {v3, v4, v5, v6, v2}, Landroid/graphics/Rect;->set(IIII)V

    goto :goto_0

    .line 4860
    :cond_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    .line 4861
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetLeft()I

    move-result v3

    .line 4862
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetTop()I

    move-result v4

    .line 4863
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetRight()I

    move-result v5

    .line 4864
    invoke-virtual {p2}, Landroid/view/WindowInsets;->getStableInsetBottom()I

    move-result v6

    .line 4860
    invoke-virtual {v2, v3, v4, v5, v6}, Landroid/graphics/Rect;->set(IIII)V

    .line 4867
    :goto_0
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v2, v2, Landroid/graphics/Rect;->top:I

    .line 4868
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v4, v3, Lorg/telegram/ui/LaunchActivity;

    if-eqz v4, :cond_2

    if-nez v2, :cond_1

    sget-boolean v4, Lorg/telegram/messenger/AndroidUtilities;->isInMultiwindow:Z

    if-eqz v4, :cond_2

    :cond_1
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    if-nez v4, :cond_2

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    if-eq v4, v2, :cond_2

    .line 4869
    sput v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    .line 4870
    check-cast v3, Lorg/telegram/ui/LaunchActivity;

    iget-object v2, v3, Lorg/telegram/ui/LaunchActivity;->drawerLayoutContainer:Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/DrawerLayoutContainer;->requestLayout()V

    .line 4872
    :cond_2
    invoke-virtual {p1, p2}, Landroid/graphics/Rect;->equals(Ljava/lang/Object;)Z

    move-result p1

    const/4 v2, 0x2

    const/4 v3, 0x0

    if-nez p1, :cond_5

    .line 4873
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v4, 0x1

    if-eq p1, v4, :cond_3

    const/4 v4, 0x3

    if-ne p1, v4, :cond_4

    .line 4874
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {p1}, Landroid/view/View;->getTranslationX()F

    move-result v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v5

    int-to-float v5, v5

    sub-float/2addr v4, v5

    invoke-virtual {p1, v4}, Landroid/view/View;->setTranslationX(F)V

    .line 4875
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object p1, p1, v3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v4}, Landroid/view/View;->getTranslationX()F

    move-result v4

    aput v4, p1, v2

    .line 4877
    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_5

    .line 4878
    invoke-virtual {p1}, Landroid/widget/FrameLayout;->requestLayout()V

    .line 4882
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz p1, :cond_6

    .line 4883
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    iget v4, v4, Landroid/graphics/Rect;->bottom:I

    iput v4, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    .line 4884
    invoke-virtual {p1}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object p1

    check-cast p1, Landroid/view/ViewGroup$MarginLayoutParams;

    .line 4885
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    iput v4, p1, Landroid/view/ViewGroup$MarginLayoutParams;->height:I

    neg-int v4, v4

    .line 4886
    div-int/2addr v4, v2

    iput v4, p1, Landroid/view/ViewGroup$MarginLayoutParams;->bottomMargin:I

    .line 4887
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, p1}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 4889
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p2}, Landroid/view/WindowInsets;->getSystemWindowInsetLeft()I

    move-result v2

    invoke-virtual {p2}, Landroid/view/WindowInsets;->getSystemWindowInsetRight()I

    move-result v4

    invoke-virtual {p1, v2, v3, v4, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 4890
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_7

    .line 4891
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    invoke-static {p1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 4892
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz p1, :cond_7

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez p1, :cond_7

    .line 4893
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0xc8

    invoke-static {p1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_7
    if-lt v0, v1, :cond_8

    .line 4897
    sget-object p1, Landroid/view/WindowInsets;->CONSUMED:Landroid/view/WindowInsets;

    return-object p1

    .line 4899
    :cond_8
    invoke-virtual {p2}, Landroid/view/WindowInsets;->consumeSystemWindowInsets()Landroid/view/WindowInsets;

    move-result-object p1

    return-object p1
.end method

.method private synthetic lambda$setParentActivity$9(Ljava/lang/Boolean;)V
    .locals 0

    const/4 p1, 0x0

    .line 5729
    invoke-direct {p0, p1, p1, p1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return-void
.end method

.method private synthetic lambda$setVideoPlayerControlVisible$54(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 9524
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    .line 9525
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v0, p1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    return-void
.end method

.method private synthetic lambda$showAlertDialog$55(Landroid/content/DialogInterface;)V
    .locals 0

    const/4 p1, 0x0

    .line 9589
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    return-void
.end method

.method private synthetic lambda$showCaptionLimitBulletin$41()V
    .locals 3

    const/4 v0, 0x0

    .line 7037
    invoke-virtual {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    .line 7038
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_0

    const/4 v1, 0x1

    .line 7039
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ChatAttachAlert;->dismiss(Z)V

    .line 7041
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_1

    .line 7042
    new-instance v1, Lorg/telegram/ui/PremiumPreviewFragment;

    const-string v2, "caption_limit"

    invoke-direct {v1, v2}, Lorg/telegram/ui/PremiumPreviewFragment;-><init>(Ljava/lang/String;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->presentFragment(Lorg/telegram/ui/ActionBar/BaseFragment;)Z

    :cond_1
    return-void
.end method

.method private synthetic lambda$showCaptionLimitBulletin$42()V
    .locals 1

    const/4 v0, 0x0

    .line 7045
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    return-void
.end method

.method private static synthetic lambda$showLoadingDialog$0(Lio/reactivex/disposables/Disposable;Landroid/content/DialogInterface;)V
    .locals 0

    if-eqz p0, :cond_0

    .line 393
    invoke-interface {p0}, Lio/reactivex/disposables/Disposable;->dispose()V

    :cond_0
    return-void
.end method

.method private synthetic lambda$showShareAlert$46(Lorg/telegram/ui/Components/ShareAlert;)V
    .locals 1

    if-eqz p1, :cond_0

    .line 7293
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v0

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    .line 7294
    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->setFocusable(Z)V

    .line 7295
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_0

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object p1

    if-eqz p1, :cond_0

    .line 7296
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {p1}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object p1

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->hidePopup(Z)Z

    :cond_0
    return-void
.end method

.method private synthetic lambda$switchToEditMode$57(Landroid/animation/ValueAnimator;)V
    .locals 5

    .line 10395
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/PhotoCropView;->cropView:Lorg/telegram/ui/Components/Crop/CropView;

    iget-object p1, p1, Lorg/telegram/ui/Components/Crop/CropView;->areaView:Lorg/telegram/ui/Components/Crop/CropAreaView;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10397
    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10398
    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 10399
    invoke-static {v2, v3, v4}, Lorg/telegram/messenger/AndroidUtilities;->lerp(FFF)F

    move-result v2

    const/4 v3, 0x0

    .line 10395
    invoke-virtual {p1, v3, v0, v1, v2}, Lorg/telegram/ui/Components/Crop/CropAreaView;->setRotationScaleTranslation(FFFF)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$58(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 10412
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-virtual {v0, p1, v1, v2, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$59(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 10413
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$60(Landroid/view/View;)V
    .locals 0

    .line 10719
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    const/4 p1, 0x0

    .line 10720
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$61(Landroid/content/DialogInterface;I)V
    .locals 0

    const/4 p1, 0x0

    .line 10730
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void
.end method

.method private synthetic lambda$switchToEditMode$62(Landroid/view/View;)V
    .locals 2

    .line 10723
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoFilterView;->hasChanges()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 10724
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez p1, :cond_0

    return-void

    .line 10727
    :cond_0
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 10728
    sget p1, Lorg/telegram/messenger/R$string;->DiscardChanges:I

    const-string v1, "DiscardChanges"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10729
    sget p1, Lorg/telegram/messenger/R$string;->AppName:I

    const-string v1, "AppName"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10730
    sget p1, Lorg/telegram/messenger/R$string;->OK:I

    const-string v1, "OK"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda20;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda20;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10731
    sget p1, Lorg/telegram/messenger/R$string;->Cancel:I

    const-string v1, "Cancel"

    invoke-static {v1, p1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object p1

    const/4 v1, 0x0

    invoke-virtual {v0, p1, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 10732
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    .line 10734
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    :goto_0
    return-void
.end method

.method private synthetic lambda$switchToPaintMode$70(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 11114
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-virtual {v0, p1, v1, v2, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationY(FFIZ)V

    return-void
.end method

.method private synthetic lambda$switchToPaintMode$71(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 11115
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setOffsetTranslationX(F)V

    return-void
.end method

.method private static synthetic lambda$switchToPip$47(Lorg/telegram/messenger/ImageReceiver;Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 7692
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    invoke-virtual {p0, p1}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    return-void
.end method

.method private synthetic lambda$switchToPip$48(Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFFLandroid/animation/ValueAnimator;)V
    .locals 3

    .line 7774
    invoke-virtual {p10}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p10

    check-cast p10, Ljava/lang/Float;

    invoke-virtual {p10}, Ljava/lang/Float;->floatValue()F

    move-result p10

    if-nez p1, :cond_0

    move p1, p10

    goto :goto_0

    .line 7775
    :cond_0
    invoke-virtual {p1, p10}, Lorg/telegram/ui/Components/CubicBezierInterpolator;->getInterpolation(F)F

    move-result p1

    .line 7776
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/high16 v1, 0x3f800000    # 1.0f

    if-eqz v0, :cond_1

    sub-float v2, v1, p10

    mul-float/2addr v2, p2

    mul-float/2addr p3, p10

    add-float/2addr v2, p3

    .line 7777
    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7778
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sub-float v0, v1, p1

    mul-float/2addr p4, v0

    mul-float/2addr p5, p1

    add-float/2addr p4, p5

    invoke-virtual {p3, p4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7779
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {p3}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_1
    sub-float p3, v1, p10

    mul-float/2addr p2, p3

    mul-float/2addr p7, p10

    add-float/2addr p2, p7

    .line 7782
    invoke-virtual {p6, p2}, Landroid/view/View;->setTranslationX(F)V

    sub-float/2addr v1, p1

    mul-float/2addr p8, v1

    mul-float/2addr p9, p1

    add-float/2addr p8, p9

    .line 7783
    invoke-virtual {p6, p8}, Landroid/view/View;->setTranslationY(F)V

    .line 7784
    invoke-virtual {p6}, Landroid/view/View;->invalidateOutline()V

    .line 7786
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz p1, :cond_2

    .line 7787
    invoke-virtual {p6}, Landroid/view/View;->getTranslationX()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 7788
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getTranslationY()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7789
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getScaleX()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 7790
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p6}, Landroid/view/View;->getScaleY()F

    move-result p2

    invoke-virtual {p1, p2}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 7791
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {p1}, Landroid/widget/ImageView;->invalidateOutline()V

    :cond_2
    return-void
.end method

.method private synthetic lambda$switchToPip$49(Landroid/animation/ValueAnimator;)V
    .locals 0

    .line 7797
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    return-void
.end method

.method private synthetic lambda$toggleActionBar$72(Landroid/animation/ValueAnimator;)V
    .locals 3

    .line 11387
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    const/4 v2, 0x1

    invoke-virtual {v0, v2, p1, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    return-void
.end method

.method private synthetic lambda$translateY$68(Landroid/animation/ValueAnimator;)V
    .locals 1

    .line 11027
    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->getAnimatedValue()Ljava/lang/Object;

    move-result-object p1

    check-cast p1, Ljava/lang/Float;

    invoke-virtual {p1}, Ljava/lang/Float;->floatValue()F

    move-result p1

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    .line 11028
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_0

    .line 11029
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->translateY(F)V

    .line 11031
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private synthetic lambda$updateResetButtonVisibility$56(Z)V
    .locals 1

    if-nez p1, :cond_0

    .line 10113
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v0, 0x8

    invoke-virtual {p1, v0}, Landroid/widget/TextView;->setVisibility(I)V

    :cond_0
    return-void
.end method

.method private makeFocusable()V
    .locals 3

    .line 15208
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_0

    .line 15209
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const v1, -0x7ffeff00

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_0

    .line 15214
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/4 v1, 0x0

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 15216
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x110

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 15217
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 15219
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    :catch_0
    move-exception v0

    .line 15221
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15223
    :goto_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 15224
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    return-void
.end method

.method private mergeImages(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/Bitmap;Landroid/graphics/Bitmap;FZ)V
    .locals 6

    const/4 v0, 0x0

    if-nez p3, :cond_0

    .line 9601
    :try_start_0
    invoke-static {p2}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object p3

    const/4 p2, 0x1

    goto :goto_0

    :cond_0
    move p2, v0

    .line 9604
    :goto_0
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    .line 9605
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    int-to-float v3, v1

    cmpl-float v4, v3, p5

    if-gtz v4, :cond_1

    int-to-float v4, v2

    cmpl-float v4, v4, p5

    if-lez v4, :cond_2

    .line 9607
    :cond_1
    invoke-static {v1, v2}, Ljava/lang/Math;->max(II)I

    move-result v1

    int-to-float v1, v1

    div-float/2addr v1, p5

    div-float/2addr v3, v1

    float-to-int v3, v3

    int-to-float v2, v2

    div-float/2addr v2, v1

    float-to-int v2, v2

    move v1, v3

    .line 9611
    :cond_2
    sget-object v3, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v2, v3}, Landroid/graphics/Bitmap;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v3

    .line 9612
    new-instance v4, Landroid/graphics/Canvas;

    invoke-direct {v4, v3}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 9613
    new-instance v5, Landroid/graphics/Rect;

    invoke-direct {v5, v0, v0, v1, v2}, Landroid/graphics/Rect;-><init>(IIII)V

    const/4 v0, 0x0

    if-eqz p6, :cond_3

    .line 9615
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p4, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9616
    iget-object p4, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p3, v0, v5, p4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    goto :goto_1

    .line 9618
    :cond_3
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p3, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9619
    iget-object p6, p0, Lorg/telegram/ui/PhotoViewer;->bitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v4, p4, v0, v5, p6}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Rect;Landroid/graphics/Rect;Landroid/graphics/Paint;)V

    .line 9621
    :goto_1
    new-instance p4, Ljava/io/FileOutputStream;

    new-instance p6, Ljava/io/File;

    invoke-direct {p6, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-direct {p4, p6}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V

    .line 9622
    sget-object p1, Landroid/graphics/Bitmap$CompressFormat;->JPEG:Landroid/graphics/Bitmap$CompressFormat;

    const/high16 p6, 0x44000000    # 512.0f

    cmpl-float p5, p5, p6

    if-nez p5, :cond_4

    const/16 p5, 0x53

    goto :goto_2

    :cond_4
    const/16 p5, 0x57

    :goto_2
    invoke-virtual {v3, p1, p5, p4}, Landroid/graphics/Bitmap;->compress(Landroid/graphics/Bitmap$CompressFormat;ILjava/io/OutputStream;)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 9624
    :try_start_1
    invoke-virtual {p4}, Ljava/io/FileOutputStream;->close()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_3

    :catch_0
    move-exception p1

    .line 9626
    :try_start_2
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_3
    if-eqz p2, :cond_5

    .line 9629
    invoke-virtual {p3}, Landroid/graphics/Bitmap;->recycle()V

    .line 9631
    :cond_5
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception p1

    .line 9633
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_4
    return-void
.end method

.method private needEncoding()Z
    .locals 5

    .line 18053
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    const/4 v2, 0x0

    if-eqz v1, :cond_0

    .line 18054
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    goto :goto_0

    .line 18055
    :cond_0
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 18056
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    if-eqz v1, :cond_2

    goto :goto_1

    :cond_2
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 18057
    :goto_1
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isH264Video:Z

    const/4 v3, 0x1

    if-eqz v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/4 v4, 0x0

    cmpl-float v0, v0, v4

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne v0, v4, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v0, v4, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v4, :cond_4

    if-nez v2, :cond_4

    if-nez v1, :cond_4

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    if-nez v0, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_3

    goto :goto_2

    :cond_3
    const/4 v3, 0x0

    :cond_4
    :goto_2
    return v3
.end method

.method private onActionClick(Z)V
    .locals 10

    const-string v0, "UTF-8"

    .line 17408
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v2, -0x1

    const/4 v3, 0x0

    if-nez v1, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-nez v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v4, :cond_0

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v3

    if-nez v4, :cond_1

    :cond_0
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v2, :cond_1

    return-void

    .line 17413
    :cond_1
    iput-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    const-string v4, "mp4"

    const/4 v5, 0x0

    const/4 v6, 0x1

    if-eqz v1, :cond_6

    .line 17415
    iget-object v1, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    if-eqz v1, :cond_2

    invoke-virtual {v1}, Ljava/lang/String;->length()I

    move-result v1

    if-eqz v1, :cond_2

    .line 17416
    new-instance v1, Ljava/io/File;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 17417
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_3

    :cond_2
    move-object v1, v5

    :cond_3
    if-nez v1, :cond_5

    .line 17422
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v1

    .line 17423
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_5

    .line 17425
    sget-boolean v1, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v1

    invoke-static {v1, v2}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v1

    if-nez v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result v1

    if-eqz v1, :cond_b

    .line 17427
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v1, v1, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/FileLoader;->getFileReference(Ljava/lang/Object;)I

    move-result v1

    .line 17428
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v7

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2, v7, v8, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    .line 17429
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    .line 17430
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "?account="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v8, v8, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, "&id="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->id:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&hash="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->access_hash:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&dc="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->dc_id:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, "&size="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-wide v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v8, "&mime="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v8, v2, Lorg/telegram/tgnet/TLRPC$Document;->mime_type:Ljava/lang/String;

    .line 17435
    invoke-static {v8, v0}, Ljava/net/URLEncoder;->encode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v8, "&rid="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v1, "&name="

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 17437
    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getDocumentFileName(Lorg/telegram/tgnet/TLRPC$Document;)Ljava/lang/String;

    move-result-object v1

    invoke-static {v1, v0}, Ljava/net/URLEncoder;->encode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v0, "&reference="

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 17438
    iget-object v0, v2, Lorg/telegram/tgnet/TLRPC$Document;->file_reference:[B

    if-eqz v0, :cond_4

    goto :goto_0

    :cond_4
    new-array v0, v3, [B

    :goto_0
    invoke-static {v0}, Lorg/telegram/messenger/Utilities;->bytesToHex([B)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v7, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 17439
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "tg://"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getFileName()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v0
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 17440
    :try_start_1
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    .line 17441
    invoke-direct {p0, v3, v3, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_1

    :catch_0
    move-object v0, v5

    :catch_1
    :goto_1
    move-object v1, v5

    goto/16 :goto_4

    :cond_5
    :goto_2
    move-object v0, v5

    goto/16 :goto_4

    .line 17448
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_8

    .line 17449
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_7

    .line 17450
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    .line 17451
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_5

    goto/16 :goto_3

    .line 17454
    :cond_7
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v0, v0, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v0, :cond_b

    .line 17455
    new-instance v1, Ljava/io/File;

    const/4 v0, 0x4

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v0

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v7}, Lorg/telegram/messenger/Utilities;->MD5(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v7, "."

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-static {v7, v4}, Lorg/telegram/messenger/ImageLoader;->getHttpUrlExtension(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v1, v0, v2}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    .line 17456
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_5

    goto :goto_3

    .line 17460
    :cond_8
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_a

    .line 17461
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    .line 17462
    instance-of v1, v0, Lorg/telegram/tgnet/TLRPC$Document;

    if-nez v1, :cond_9

    return-void

    .line 17465
    :cond_9
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v1

    if-eqz v1, :cond_5

    .line 17466
    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v2

    if-nez v2, :cond_5

    .line 17467
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v7

    invoke-static {v2, v0, v7}, Lorg/telegram/messenger/FileStreamLoadOperation;->prepareUri(ILorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;)Landroid/net/Uri;

    move-result-object v0

    .line 17468
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    goto :goto_4

    .line 17470
    :cond_a
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_b

    .line 17471
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_b

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_b

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_b

    .line 17472
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 17473
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v1, :cond_b

    .line 17474
    new-instance v1, Ljava/io/File;

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-object v0, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-direct {v1, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    goto/16 :goto_2

    :cond_b
    :goto_3
    move-object v0, v5

    move-object v1, v0

    :goto_4
    if-eqz v1, :cond_c

    if-nez v0, :cond_c

    .line 17479
    invoke-static {v1}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v0

    :cond_c
    if-nez v0, :cond_15

    if-eqz p1, :cond_17

    .line 17483
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_e

    .line 17484
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_d

    .line 17485
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto/16 :goto_5

    .line 17487
    :cond_d
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto/16 :goto_5

    .line 17489
    :cond_e
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz p1, :cond_12

    .line 17490
    iget-object v0, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v0, :cond_10

    .line 17491
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_f

    .line 17492
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v6, v3}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto/16 :goto_5

    .line 17494
    :cond_f
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto/16 :goto_5

    .line 17496
    :cond_10
    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of p1, p1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz p1, :cond_14

    .line 17497
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/ImageLoader;->isLoadingHttpFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_11

    .line 17498
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {p1, v0, v4, v1}, Lorg/telegram/messenger/ImageLoader;->loadHttpFile(Ljava/lang/String;Ljava/lang/String;I)V

    goto :goto_5

    .line 17500
    :cond_11
    invoke-static {}, Lorg/telegram/messenger/ImageLoader;->getInstance()Lorg/telegram/messenger/ImageLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/ImageLoader;->cancelLoadHttpFile(Ljava/lang/String;)V

    goto :goto_5

    .line 17503
    :cond_12
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz p1, :cond_14

    .line 17504
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v0, v0, v3

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result p1

    if-nez p1, :cond_13

    .line 17505
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v1

    invoke-virtual {p1, v0, v1, v6, v6}, Lorg/telegram/messenger/FileLoader;->loadFile(Lorg/telegram/tgnet/TLRPC$Document;Ljava/lang/Object;II)V

    goto :goto_5

    .line 17507
    :cond_13
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {p1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {p1, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    .line 17510
    :cond_14
    :goto_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->getStaticThumb()Landroid/graphics/drawable/Drawable;

    move-result-object p1

    .line 17511
    instance-of v0, p1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    if-eqz v0, :cond_17

    .line 17512
    check-cast p1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;->checkFileExist()V

    goto :goto_6

    .line 17516
    :cond_15
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne p1, v6, :cond_16

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result p1

    if-nez p1, :cond_16

    .line 17517
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {p1, v0, v5}, Lorg/telegram/messenger/AndroidUtilities;->openDocument(Lorg/telegram/messenger/MessageObject;Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;)V

    return-void

    .line 17520
    :cond_16
    invoke-direct {p0, v0, v6, v3}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZ)V

    .line 17521
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    :cond_17
    :goto_6
    return-void
.end method

.method private onDraw(Landroid/graphics/Canvas;)V
    .locals 44

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    .line 16465
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/high16 v12, 0x40000000    # 2.0f

    const/4 v13, 0x3

    const/4 v14, 0x0

    const/4 v15, 0x1

    .line 16652
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    const/4 v9, 0x2

    const/high16 v8, 0x3f800000    # 1.0f

    if-eqz v0, :cond_a

    .line 16465
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_a

    .line 16466
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_2

    .line 16467
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->computeScrollOffset()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 16468
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_0

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_0

    .line 16469
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrX()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16471
    :cond_0
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_1

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_1

    .line 16472
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrY()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16474
    :cond_1
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16475
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16478
    :cond_2
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v2, v12

    div-float/2addr v0, v2

    .line 16479
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    cmpl-float v3, v2, v14

    if-eqz v3, :cond_3

    sub-float v3, v8, v0

    mul-float/2addr v3, v2

    add-float/2addr v0, v3

    .line 16482
    :cond_3
    invoke-static {v0, v8, v14}, Lorg/telegram/messenger/Utilities;->clamp(FFF)F

    move-result v0

    sub-float v0, v8, v0

    const v2, 0x3dcccccd    # 0.1f

    mul-float/2addr v0, v2

    add-float/2addr v0, v8

    const v2, 0x8000

    .line 16483
    invoke-static {v2}, Lorg/telegram/messenger/LiteMode;->isEnabled(I)Z

    move-result v2

    if-nez v2, :cond_4

    move v0, v8

    .line 16486
    :cond_4
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v2

    .line 16487
    invoke-virtual {v2}, Landroid/view/View;->getScaleX()F

    move-result v3

    cmpl-float v3, v3, v0

    if-nez v3, :cond_5

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v3

    cmpl-float v3, v3, v0

    if-eqz v3, :cond_6

    .line 16488
    :cond_5
    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotX(F)V

    .line 16489
    invoke-virtual {v2}, Landroid/view/View;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotY(F)V

    .line 16490
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleX(F)V

    .line 16491
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleY(F)V

    .line 16494
    :cond_6
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v2, :cond_8

    .line 16495
    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v2

    .line 16496
    invoke-virtual {v2}, Landroid/view/View;->getScaleX()F

    move-result v3

    cmpl-float v3, v3, v0

    if-nez v3, :cond_7

    invoke-virtual {v2}, Landroid/view/View;->getScaleY()F

    move-result v3

    cmpl-float v3, v3, v0

    if-eqz v3, :cond_8

    .line 16497
    :cond_7
    invoke-virtual {v2}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotX(F)V

    .line 16498
    invoke-virtual {v2}, Landroid/view/View;->getHeight()I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v12

    invoke-virtual {v2, v3}, Landroid/view/View;->setPivotY(F)V

    .line 16499
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleX(F)V

    .line 16500
    invoke-virtual {v2, v0}, Landroid/view/View;->setScaleY(F)V

    .line 16504
    :cond_8
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eq v0, v15, :cond_9

    if-eq v0, v9, :cond_9

    if-eq v0, v13, :cond_9

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-eqz v0, :cond_a

    .line 16505
    :cond_9
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16508
    :cond_a
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-ne v0, v15, :cond_10

    .line 16510
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_b

    .line 16511
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16512
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v9

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v1

    div-int/2addr v1, v9

    sub-int/2addr v0, v1

    int-to-float v0, v0

    invoke-virtual {v11, v0, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16514
    :cond_b
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_d

    .line 16515
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16516
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 16517
    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getCenterX()F

    move-result v0

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getWidth()I

    move-result v1

    div-int/2addr v1, v9

    int-to-float v1, v1

    sub-float/2addr v0, v1

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 16518
    invoke-virtual {v1}, Lorg/telegram/ui/Components/ClippingImageView;->getCenterY()F

    move-result v1

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getHeight()I

    move-result v2

    div-int/2addr v2, v9

    int-to-float v2, v2

    sub-float/2addr v1, v2

    .line 16516
    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16520
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getAnimationProgress()F

    move-result v0

    .line 16521
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-ne v1, v15, :cond_c

    goto :goto_0

    :cond_c
    sub-float v0, v8, v0

    .line 16522
    :goto_0
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getWidth()I

    move-result v1

    div-int/2addr v1, v9

    int-to-float v1, v1

    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->getHeight()I

    move-result v2

    div-int/2addr v2, v9

    int-to-float v2, v2

    invoke-virtual {v11, v0, v0, v1, v2}, Landroid/graphics/Canvas;->scale(FFFF)V

    move v6, v0

    goto :goto_1

    :cond_d
    move v6, v8

    :goto_1
    const/4 v3, 0x0

    const/high16 v4, 0x3f800000    # 1.0f

    const/4 v5, 0x0

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    .line 16524
    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer;->drawProgress(Landroid/graphics/Canvas;FFFF)V

    .line 16525
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    if-eqz v0, :cond_e

    .line 16526
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16528
    :cond_e
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_f

    .line 16529
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 16531
    :cond_f
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->drawFancyShadows(Landroid/graphics/Canvas;)V

    return-void

    :cond_10
    if-eq v0, v13, :cond_ac

    .line 16534
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-nez v2, :cond_11

    if-eq v0, v9, :cond_11

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v0, :cond_11

    goto/16 :goto_4d

    .line 16538
    :cond_11
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_12

    .line 16539
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16540
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v9

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v2

    div-int/2addr v2, v9

    sub-int/2addr v0, v2

    int-to-float v0, v0

    invoke-virtual {v11, v0, v14}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16549
    :cond_12
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    .line 16550
    iget-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    sub-long v4, v2, v4

    const-wide/16 v6, 0x14

    cmp-long v0, v4, v6

    if-lez v0, :cond_13

    const-wide/16 v4, 0x11

    :cond_13
    move-wide v6, v4

    .line 16554
    iput-wide v2, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    .line 16556
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_16

    .line 16557
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_14

    .line 16558
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->abortAnimation()V

    .line 16561
    :cond_14
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    sub-float v3, v2, v0

    iget v5, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v3, v5

    add-float/2addr v3, v0

    .line 16562
    iget v12, v10, Lorg/telegram/ui/PhotoViewer;->rotate:F

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    sub-float/2addr v13, v12

    mul-float/2addr v13, v5

    add-float/2addr v12, v13

    .line 16563
    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v9, v13

    mul-float/2addr v9, v5

    add-float/2addr v9, v13

    .line 16564
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sub-float/2addr v4, v15

    mul-float/2addr v4, v5

    add-float/2addr v15, v4

    .line 16565
    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->mirror:F

    iget v14, v10, Lorg/telegram/ui/PhotoViewer;->animateToMirror:F

    sub-float/2addr v14, v4

    mul-float/2addr v14, v5

    add-float/2addr v4, v14

    cmpl-float v2, v2, v8

    if-nez v2, :cond_15

    cmpl-float v0, v0, v8

    if-nez v0, :cond_15

    const/4 v0, 0x0

    cmpl-float v2, v13, v0

    if-nez v2, :cond_15

    move v0, v15

    goto :goto_2

    :cond_15
    const/high16 v0, -0x40800000    # -1.0f

    .line 16575
    :goto_2
    invoke-direct {v10, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16576
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    move v13, v4

    move v14, v9

    move v2, v15

    :goto_3
    move v15, v12

    move v12, v3

    goto/16 :goto_5

    .line 16578
    :cond_16
    iget-wide v2, v10, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    const-wide/16 v4, 0x0

    cmp-long v0, v2, v4

    if-eqz v0, :cond_17

    .line 16579
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16580
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16581
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16582
    iput-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 16583
    invoke-direct {v10, v0}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v2, 0x0

    .line 16584
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 16586
    :cond_17
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->isFinished()Z

    move-result v0

    if-nez v0, :cond_1a

    .line 16587
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->computeScrollOffset()Z

    move-result v0

    if-eqz v0, :cond_1a

    .line 16588
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_18

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartX()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_18

    .line 16589
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrX()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16591
    :cond_18
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpg-float v0, v0, v2

    if-gez v0, :cond_19

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getStartY()I

    move-result v0

    int-to-float v0, v0

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v0, v0, v2

    if-lez v0, :cond_19

    .line 16592
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v0}, Landroid/widget/Scroller;->getCurrY()I

    move-result v0

    int-to-float v0, v0

    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16594
    :cond_19
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16595
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16598
    :cond_1a
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    if-eqz v0, :cond_1e

    const/4 v2, 0x0

    .line 16599
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 16600
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_1b

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_1b

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v0, v2, :cond_1b

    .line 16601
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 16602
    instance-of v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v2, :cond_1b

    .line 16603
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 16606
    :cond_1b
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    const/4 v2, 0x1

    if-ne v0, v2, :cond_1c

    .line 16607
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda58;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda58;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_4

    :cond_1c
    const/4 v2, 0x2

    if-ne v0, v2, :cond_1d

    .line 16609
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda61;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda61;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    :cond_1d
    :goto_4
    const/4 v2, 0x0

    .line 16611
    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 16613
    :cond_1e
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16614
    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->mirror:F

    .line 16615
    iget v12, v10, Lorg/telegram/ui/PhotoViewer;->rotate:F

    .line 16616
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16617
    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16618
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->moving:Z

    move v13, v4

    move v14, v9

    if-nez v0, :cond_1f

    move v0, v15

    move v2, v0

    goto/16 :goto_3

    :cond_1f
    move v2, v15

    const/high16 v0, -0x40800000    # -1.0f

    goto/16 :goto_3

    .line 16623
    :goto_5
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->translateY:F

    add-float/2addr v2, v3

    .line 16624
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v3, v4, :cond_20

    .line 16625
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v3

    int-to-float v3, v3

    const/high16 v4, 0x40000000    # 2.0f

    div-float/2addr v3, v4

    add-float/2addr v2, v3

    :cond_20
    move v9, v2

    .line 16628
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v2, :cond_21

    .line 16629
    invoke-virtual {v2, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 16632
    :cond_21
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v2, :cond_23

    const v2, 0x3f800347    # 1.0001f

    cmpg-float v2, v12, v2

    const-wide/16 v3, 0x78

    if-gtz v2, :cond_22

    .line 16634
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-nez v2, :cond_23

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    const/4 v5, 0x0

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-nez v2, :cond_24

    .line 16635
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v8}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v3, v4}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    new-instance v3, Lorg/telegram/ui/PhotoViewer$73;

    invoke-direct {v3, v10}, Lorg/telegram/ui/PhotoViewer$73;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    .line 16640
    invoke-virtual {v2}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 16641
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    const/4 v1, 0x1

    .line 16642
    iput-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    goto :goto_6

    :cond_22
    const/4 v5, 0x0

    .line 16645
    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v2, :cond_24

    .line 16646
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    const/4 v8, 0x0

    invoke-virtual {v2, v8}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    invoke-virtual {v2, v3, v4}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    new-instance v3, Lorg/telegram/ui/PhotoViewer$74;

    invoke-direct {v3, v10}, Lorg/telegram/ui/PhotoViewer$74;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object v2

    .line 16651
    invoke-virtual {v2}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 16652
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v5

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 16653
    iput-boolean v5, v10, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    goto :goto_6

    :cond_23
    const/4 v5, 0x0

    .line 16658
    :cond_24
    :goto_6
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v8

    .line 16659
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    .line 16660
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/high16 v25, 0x40800000    # 4.0f

    const/4 v2, 0x4

    const/high16 v26, 0x437f0000    # 255.0f

    const/4 v3, 0x2

    if-eq v1, v3, :cond_27

    if-eq v1, v2, :cond_27

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v3, :cond_27

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v3, :cond_27

    .line 16661
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_25

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v2, 0x1

    if-eq v1, v2, :cond_25

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-nez v1, :cond_25

    const/high16 v16, -0x40800000    # -1.0f

    cmpl-float v1, v0, v16

    if-eqz v1, :cond_26

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v1, :cond_26

    int-to-float v1, v8

    div-float v1, v1, v25

    .line 16663
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/high16 v3, 0x42fe0000    # 127.0f

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    invoke-static {v0, v1}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    sub-float v0, v1, v0

    mul-float v0, v0, v26

    invoke-static {v3, v0}, Ljava/lang/Math;->max(FF)F

    move-result v0

    float-to-int v0, v0

    invoke-virtual {v2, v0}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    goto :goto_7

    :cond_25
    const/high16 v16, -0x40800000    # -1.0f

    .line 16665
    :cond_26
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    goto :goto_7

    :cond_27
    const/high16 v16, -0x40800000    # -1.0f

    if-ne v1, v2, :cond_28

    const/high16 v0, -0x1000000

    .line 16668
    invoke-virtual {v11, v0}, Landroid/graphics/Canvas;->drawColor(I)V

    :cond_28
    :goto_7
    const/4 v3, 0x0

    .line 16671
    iput-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    .line 16672
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v27, 0x5

    if-nez v0, :cond_2d

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2d

    .line 16673
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-ltz v0, :cond_2b

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_2b

    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-nez v0, :cond_2b

    .line 16674
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    cmpl-float v0, v14, v0

    if-lez v0, :cond_29

    .line 16675
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_8

    .line 16676
    :cond_29
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-static/range {v27 .. v27}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    sub-float/2addr v0, v1

    cmpg-float v0, v14, v0

    if-gez v0, :cond_2a

    .line 16677
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    goto :goto_8

    .line 16679
    :cond_2a
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16682
    :cond_2b
    :goto_8
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    if-eqz v0, :cond_2c

    const/4 v0, 0x1

    goto :goto_9

    :cond_2c
    move v0, v5

    :goto_9
    iput-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    :cond_2d
    move v2, v5

    const/4 v0, 0x3

    :goto_a
    if-ge v2, v0, :cond_31

    const/4 v1, 0x1

    if-ne v2, v1, :cond_2f

    :cond_2e
    const/4 v0, 0x0

    goto :goto_b

    :cond_2f
    const/4 v1, 0x2

    if-ne v2, v1, :cond_30

    .line 16690
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    neg-int v0, v0

    const/16 v1, 0xf

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    sub-int/2addr v0, v1

    int-to-float v0, v0

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    sub-float v1, v14, v1

    add-float/2addr v0, v1

    goto :goto_b

    .line 16692
    :cond_30
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v14, v0

    if-gez v1, :cond_2e

    sub-float v0, v14, v0

    .line 16694
    :goto_b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    int-to-float v3, v3

    add-float/2addr v0, v3

    const/16 v3, 0x30

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v0, v3

    invoke-virtual {v1, v0}, Landroid/widget/ImageView;->setTranslationX(F)V

    add-int/lit8 v2, v2, 0x1

    const/4 v0, 0x3

    const/4 v3, 0x0

    goto :goto_a

    .line 16697
    :cond_31
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    const v20, 0x3e99999a    # 0.3f

    const/16 v28, 0x1e

    if-ne v0, v1, :cond_3d

    .line 16701
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v0, :cond_32

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v14, v0

    if-gez v1, :cond_32

    sub-float/2addr v0, v14

    int-to-float v1, v8

    div-float/2addr v0, v1

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16702
    invoke-static {v1, v0}, Ljava/lang/Math;->min(FF)F

    move-result v2

    sub-float v0, v1, v2

    mul-float v0, v0, v20

    neg-int v1, v8

    .line 16704
    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v21

    const/16 v17, 0x2

    div-int/lit8 v21, v21, 0x2

    sub-int v1, v1, v21

    int-to-float v1, v1

    move/from16 v21, v0

    move v0, v1

    goto :goto_c

    :cond_32
    move v0, v14

    const/high16 v2, 0x3f800000    # 1.0f

    const/16 v21, 0x0

    .line 16707
    :goto_c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-eqz v1, :cond_3b

    .line 16708
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16709
    div-int/lit8 v1, v8, 0x2

    int-to-float v1, v1

    div-int/lit8 v3, v4, 0x2

    int-to-float v3, v3

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16710
    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    const/16 v17, 0x2

    div-int/lit8 v1, v1, 0x2

    add-int/2addr v1, v8

    int-to-float v1, v1

    add-float/2addr v1, v0

    const/4 v3, 0x0

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    const/high16 v18, 0x3f800000    # 1.0f

    sub-float v1, v18, v21

    .line 16711
    invoke-virtual {v11, v1, v1}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16712
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v3

    .line 16713
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    .line 16714
    iget-boolean v5, v10, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    if-nez v5, :cond_33

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v5, :cond_33

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v5

    if-eqz v5, :cond_33

    const/high16 v24, 0x3f800000    # 1.0f

    .line 16715
    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    move-wide/from16 v29, v6

    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    move v6, v1

    move-object/from16 v1, p0

    move/from16 v31, v2

    move-object/from16 v2, p1

    move/from16 v32, v3

    move v3, v8

    move/from16 v33, v4

    move-object/from16 v16, v5

    move/from16 v5, v32

    move/from16 v19, v6

    move-wide/from16 v35, v29

    move-object/from16 v22, v7

    move/from16 v7, v24

    move/from16 v37, v8

    move-object/from16 v8, v16

    move/from16 v16, v13

    move v13, v9

    move/from16 v43, v17

    move/from16 v17, v15

    move/from16 v15, v43

    move-object/from16 v9, v22

    invoke-direct/range {v1 .. v9}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    move/from16 v9, v37

    goto :goto_d

    :cond_33
    move/from16 v19, v1

    move/from16 v31, v2

    move/from16 v32, v3

    move/from16 v33, v4

    move-wide/from16 v35, v6

    move/from16 v16, v13

    move v13, v9

    move/from16 v43, v17

    move/from16 v17, v15

    move/from16 v15, v43

    move v9, v8

    :goto_d
    int-to-float v1, v9

    move/from16 v2, v32

    int-to-float v3, v2

    div-float/2addr v1, v3

    move/from16 v8, v33

    int-to-float v4, v8

    move/from16 v5, v19

    int-to-float v6, v5

    div-float/2addr v4, v6

    .line 16720
    invoke-static {v1, v4}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float/2addr v3, v1

    float-to-int v3, v3

    mul-float/2addr v6, v1

    float-to-int v4, v6

    .line 16725
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v6}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v6

    if-nez v6, :cond_36

    .line 16726
    iget v6, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v7, 0x1

    if-eq v6, v7, :cond_35

    iget v6, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v6, v7, :cond_34

    goto :goto_e

    .line 16729
    :cond_34
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v6, :cond_36

    iget-boolean v6, v6, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v6, :cond_36

    const/4 v6, 0x1

    goto :goto_f

    .line 16727
    :cond_35
    :goto_e
    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v6

    goto :goto_f

    :cond_36
    const/4 v6, 0x0

    :goto_f
    if-eqz v6, :cond_37

    const/high16 v6, 0x3f800000    # 1.0f

    const/high16 v7, -0x40800000    # -1.0f

    .line 16733
    invoke-virtual {v11, v7, v6}, Landroid/graphics/Canvas;->scale(FF)V

    goto :goto_10

    :cond_37
    const/high16 v6, 0x3f800000    # 1.0f

    .line 16736
    :goto_10
    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    move/from16 v6, v31

    invoke-virtual {v7, v6}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16737
    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    move/from16 v33, v8

    neg-int v8, v3

    div-int/2addr v8, v15

    move/from16 v18, v14

    int-to-float v14, v8

    move/from16 v37, v9

    neg-int v9, v4

    div-int/2addr v9, v15

    int-to-float v15, v9

    move/from16 v19, v0

    int-to-float v0, v3

    move/from16 v30, v12

    int-to-float v12, v4

    invoke-virtual {v7, v14, v15, v0, v12}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16738
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    .line 16740
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v0, :cond_3a

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_3a

    const/4 v7, 0x2

    .line 16741
    div-int/2addr v3, v7

    div-int/2addr v4, v7

    invoke-virtual {v11, v8, v9, v3, v4}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 16742
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    if-ne v0, v2, :cond_39

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v0

    if-eq v0, v5, :cond_38

    goto :goto_11

    :cond_38
    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    goto :goto_12

    .line 16743
    :cond_39
    :goto_11
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v12, 0x40000000    # 2.0f

    invoke-static {v2, v12}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-static {v5, v12}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->measure(II)V

    .line 16744
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/4 v14, 0x0

    invoke-virtual {v0, v14, v14, v2, v5}, Landroid/widget/FrameLayout;->layout(IIII)V

    .line 16746
    :goto_12
    invoke-virtual {v11, v1, v1}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v0, v2

    const/4 v1, 0x2

    .line 16747
    div-int/2addr v0, v1

    int-to-float v0, v0

    neg-int v2, v5

    div-int/2addr v2, v1

    int-to-float v1, v2

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16748
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 16749
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    goto :goto_13

    :cond_3a
    const/high16 v12, 0x40000000    # 2.0f

    const/4 v14, 0x0

    .line 16752
    :goto_13
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_14

    :cond_3b
    move/from16 v19, v0

    move/from16 v33, v4

    move-wide/from16 v35, v6

    move/from16 v37, v8

    move/from16 v30, v12

    move/from16 v16, v13

    move/from16 v18, v14

    move/from16 v17, v15

    const/high16 v12, 0x40000000    # 2.0f

    move v6, v2

    move v14, v5

    move v13, v9

    .line 16754
    :goto_14
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    neg-float v1, v6

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 16756
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    div-float v9, v13, v30

    move/from16 v1, v19

    .line 16757
    invoke-virtual {v11, v1, v9}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v0, v37

    int-to-float v1, v0

    .line 16758
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v3, 0x3f800000    # 1.0f

    add-float/2addr v2, v3

    mul-float/2addr v1, v2

    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v1, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    neg-float v2, v13

    div-float v2, v2, v30

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16759
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v2, 0x1

    aget-object v1, v1, v2

    sub-float v8, v3, v21

    invoke-virtual {v1, v8}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 16760
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 16761
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 16763
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_3c

    .line 16764
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    invoke-virtual {v1, v6}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16767
    :cond_3c
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_15

    :cond_3d
    move/from16 v33, v4

    move-wide/from16 v35, v6

    move v0, v8

    move/from16 v30, v12

    move/from16 v16, v13

    move/from16 v18, v14

    move/from16 v17, v15

    const/4 v2, 0x1

    const/high16 v12, 0x40000000    # 2.0f

    move v14, v5

    move v13, v9

    .line 16769
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_3e

    .line 16770
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v1, v1, v2

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 16777
    :cond_3e
    :goto_15
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    if-nez v1, :cond_3f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v2, v18, v1

    if-lez v2, :cond_3f

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_3f

    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_3f

    sub-float v1, v18, v1

    int-to-float v2, v0

    div-float/2addr v1, v2

    const/high16 v2, 0x3f800000    # 1.0f

    .line 16778
    invoke-static {v2, v1}, Ljava/lang/Math;->min(FF)F

    move-result v1

    mul-float v3, v1, v20

    sub-float v8, v2, v1

    .line 16781
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->maxX:F

    move v15, v8

    move v8, v1

    goto :goto_16

    :cond_3f
    move/from16 v8, v18

    const/4 v3, 0x0

    const/high16 v15, 0x3f800000    # 1.0f

    .line 16783
    :goto_16
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_40

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v1, :cond_40

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_40

    const/4 v9, 0x1

    goto :goto_17

    :cond_40
    move v9, v14

    .line 16784
    :goto_17
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-nez v1, :cond_42

    if-eqz v9, :cond_41

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v1, :cond_41

    goto :goto_18

    :cond_41
    move/from16 v37, v0

    move/from16 v31, v8

    move/from16 v17, v13

    move v0, v15

    goto/16 :goto_41

    .line 16785
    :cond_42
    :goto_18
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 16786
    div-int/lit8 v1, v0, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v2

    add-int/2addr v1, v2

    int-to-float v1, v1

    div-int/lit8 v4, v33, 0x2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v2

    add-int/2addr v4, v2

    int-to-float v2, v4

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16787
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x3

    if-eq v1, v2, :cond_43

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    goto :goto_19

    :cond_43
    const/4 v1, 0x0

    :goto_19
    add-float/2addr v1, v13

    invoke-virtual {v11, v8, v1}, Landroid/graphics/Canvas;->translate(FF)V

    sub-float v7, v30, v3

    .line 16788
    invoke-virtual {v11, v7, v7}, Landroid/graphics/Canvas;->scale(FF)V

    move/from16 v1, v17

    .line 16789
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    .line 16790
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v1, v2, :cond_45

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v1, :cond_45

    const/4 v1, 0x1

    .line 16791
    invoke-direct {v10, v1, v14}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v2

    .line 16792
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    sget-object v3, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v3, v3, Landroid/graphics/Point;->y:I

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v4

    sub-int/2addr v3, v2

    invoke-static {v3}, Ljava/lang/Math;->abs(I)I

    move-result v3

    const/16 v4, 0x14

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    if-ge v3, v4, :cond_44

    const/4 v4, 0x1

    goto :goto_1a

    :cond_44
    move v4, v14

    :goto_1a
    invoke-virtual {v1, v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getEmojiPadding(Z)I

    move-result v1

    sub-int/2addr v2, v1

    .line 16793
    invoke-direct {v10, v14, v14}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(ZI)I

    move-result v1

    sub-int/2addr v2, v1

    int-to-float v1, v2

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    .line 16794
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->adjustPanLayoutHelperProgress()F

    move-result v2

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float v2, v3, v2

    mul-float/2addr v1, v2

    const/4 v2, 0x0

    invoke-virtual {v11, v2, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16798
    :cond_45
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v1, :cond_4d

    if-eqz v9, :cond_47

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-nez v1, :cond_46

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_47

    :cond_46
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v1, :cond_47

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-eqz v1, :cond_4d

    .line 16799
    :cond_47
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_4a

    iget-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v2, :cond_4a

    .line 16800
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v1

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v2}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    neg-int v3, v1

    const/4 v4, 0x2

    div-int/lit8 v6, v3, 0x2

    neg-int v3, v2

    div-int/lit8 v5, v3, 0x2

    const/high16 v17, 0x3f800000    # 1.0f

    cmpg-float v19, v15, v17

    if-gez v19, :cond_48

    int-to-float v3, v6

    int-to-float v4, v5

    add-int/2addr v1, v6

    int-to-float v1, v1

    add-int/2addr v2, v5

    int-to-float v2, v2

    mul-float v12, v15, v26

    float-to-int v12, v12

    const/16 v20, 0x1f

    move/from16 v21, v1

    move-object/from16 v1, p1

    move/from16 v22, v2

    move v2, v3

    move v3, v4

    move/from16 v4, v21

    move v14, v5

    move/from16 v5, v22

    move/from16 v31, v8

    move v8, v6

    move/from16 v43, v17

    move/from16 v17, v13

    move/from16 v13, v43

    move v6, v12

    move v12, v7

    move/from16 v7, v20

    .line 16802
    invoke-virtual/range {v1 .. v7}, Landroid/graphics/Canvas;->saveLayerAlpha(FFFFII)I

    goto :goto_1b

    :cond_48
    move v14, v5

    move v12, v7

    move/from16 v31, v8

    move v8, v6

    move/from16 v43, v17

    move/from16 v17, v13

    move/from16 v13, v43

    .line 16804
    :goto_1b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    int-to-float v2, v8

    int-to-float v3, v14

    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmapPaint:Landroid/graphics/Paint;

    invoke-virtual {v11, v1, v2, v3, v4}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    if-gez v19, :cond_49

    .line 16806
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    :cond_49
    move/from16 v8, v33

    goto :goto_1d

    :cond_4a
    move v12, v7

    move/from16 v31, v8

    move/from16 v17, v13

    const/high16 v13, 0x3f800000    # 1.0f

    .line 16809
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v15}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 16810
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v1

    .line 16811
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v2

    .line 16813
    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v3, :cond_4b

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v3, :cond_4b

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-ne v3, v4, :cond_4b

    const/4 v3, 0x0

    .line 16814
    invoke-direct {v10, v3}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v4

    move/from16 v8, v33

    goto :goto_1c

    :cond_4b
    int-to-float v3, v0

    int-to-float v4, v1

    div-float/2addr v3, v4

    move/from16 v8, v33

    int-to-float v4, v8

    int-to-float v5, v2

    div-float/2addr v4, v5

    .line 16816
    invoke-static {v3, v4}, Ljava/lang/Math;->min(FF)F

    move-result v4

    :goto_1c
    int-to-float v1, v1

    mul-float/2addr v1, v4

    float-to-int v1, v1

    int-to-float v2, v2

    mul-float/2addr v2, v4

    float-to-int v2, v2

    .line 16820
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    neg-int v4, v1

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v4, v4

    neg-int v6, v2

    div-int/2addr v6, v5

    int-to-float v5, v6

    int-to-float v1, v1

    int-to-float v2, v2

    invoke-virtual {v3, v4, v5, v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 16821
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_4c

    .line 16822
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    goto :goto_1d

    :cond_4c
    const/4 v7, 0x1

    goto :goto_1e

    :cond_4d
    move v12, v7

    move/from16 v31, v8

    move/from16 v17, v13

    move/from16 v8, v33

    const/high16 v13, 0x3f800000    # 1.0f

    :goto_1d
    const/4 v7, 0x0

    :goto_1e
    if-eqz v9, :cond_4f

    .line 16831
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v1, :cond_4f

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v1, :cond_4f

    .line 16832
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_4e

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_1f

    :cond_4e
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 16833
    :goto_1f
    invoke-virtual {v1}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    .line 16834
    invoke-virtual {v1}, Landroid/view/View;->getMeasuredHeight()I

    move-result v1

    goto :goto_20

    .line 16836
    :cond_4f
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v2

    .line 16837
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    :goto_20
    int-to-float v3, v0

    int-to-float v4, v2

    div-float v5, v3, v4

    int-to-float v6, v8

    int-to-float v14, v1

    div-float v13, v6, v14

    move/from16 v19, v2

    .line 16840
    invoke-static {v5, v13}, Ljava/lang/Math;->min(FF)F

    move-result v2

    move/from16 v20, v1

    mul-float v1, v4, v2

    float-to-int v1, v1

    move/from16 v21, v13

    mul-float v13, v14, v2

    float-to-int v13, v13

    move/from16 v33, v8

    .line 16846
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v8}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v8

    move/from16 v37, v0

    if-nez v8, :cond_55

    .line 16847
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v0, 0x3

    move/from16 v34, v9

    if-eq v8, v0, :cond_53

    iget v9, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v9, v0, :cond_50

    goto :goto_22

    .line 16849
    :cond_50
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v38, v13

    const/4 v13, 0x1

    if-ne v0, v13, :cond_51

    if-eqz v9, :cond_54

    const/4 v0, 0x3

    if-eq v8, v0, :cond_56

    const/4 v9, 0x2

    if-eq v8, v9, :cond_56

    goto :goto_23

    .line 16852
    :cond_51
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_52

    const/4 v0, -0x1

    if-ne v9, v0, :cond_54

    goto :goto_21

    :cond_52
    const/4 v0, -0x1

    :goto_21
    if-eqz v8, :cond_54

    const/4 v13, 0x1

    if-eq v8, v13, :cond_54

    if-eq v9, v0, :cond_56

    goto :goto_23

    :cond_53
    :goto_22
    move/from16 v38, v13

    :cond_54
    :goto_23
    const/4 v0, 0x1

    goto :goto_24

    :cond_55
    move/from16 v34, v9

    move/from16 v38, v13

    :cond_56
    const/4 v0, 0x0

    :goto_24
    if-eqz v0, :cond_76

    .line 16860
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v0

    const/16 v9, 0x5a

    if-eq v0, v9, :cond_58

    const/16 v9, 0x10e

    if-ne v0, v9, :cond_57

    goto :goto_25

    :cond_57
    move/from16 v9, v19

    move/from16 v13, v20

    goto :goto_26

    :cond_58
    :goto_25
    move/from16 v13, v19

    move/from16 v9, v20

    .line 16871
    :goto_26
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v39, v1

    const/4 v1, 0x1

    if-eq v8, v1, :cond_5b

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v8, 0x3

    if-eq v1, v8, :cond_59

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v8, :cond_5b

    :cond_59
    move/from16 v40, v15

    :cond_5a
    :goto_27
    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_28

    .line 16873
    :cond_5b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v1, :cond_5f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v8, -0x1

    if-eq v1, v8, :cond_5f

    .line 16874
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    move/from16 v40, v15

    const/4 v15, 0x1

    if-eq v8, v15, :cond_5a

    if-eq v1, v15, :cond_5a

    const/4 v15, 0x2

    if-eq v8, v15, :cond_5c

    const/4 v15, 0x3

    if-ne v8, v15, :cond_5d

    :cond_5c
    const/4 v8, -0x1

    if-ne v1, v8, :cond_5d

    goto :goto_27

    :cond_5d
    if-nez v1, :cond_5e

    .line 16877
    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    goto :goto_28

    .line 16879
    :cond_5e
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    const/high16 v8, 0x3f800000    # 1.0f

    sub-float v1, v8, v1

    move v8, v1

    goto :goto_28

    :cond_5f
    move/from16 v40, v15

    .line 16882
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v8, 0x2

    if-eq v1, v8, :cond_60

    const/4 v8, 0x3

    if-ne v1, v8, :cond_5a

    :cond_60
    const/4 v8, 0x0

    .line 16884
    :goto_28
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v1

    .line 16885
    iget-object v15, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v15}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v15

    int-to-float v9, v9

    const/high16 v19, 0x3f800000    # 1.0f

    sub-float v20, v19, v1

    sub-float v22, v19, v8

    mul-float v20, v20, v22

    add-float v1, v1, v20

    mul-float/2addr v1, v9

    float-to-int v1, v1

    int-to-float v13, v13

    sub-float v20, v19, v15

    mul-float v20, v20, v22

    add-float v15, v15, v20

    mul-float/2addr v15, v13

    float-to-int v15, v15

    move/from16 v41, v7

    int-to-float v7, v1

    div-float v19, v3, v7

    move/from16 v20, v1

    int-to-float v1, v15

    mul-float v23, v19, v1

    cmpl-float v23, v23, v6

    if-lez v23, :cond_61

    div-float v19, v6, v1

    :cond_61
    move/from16 v23, v15

    .line 16892
    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    move/from16 v24, v8

    const/4 v8, 0x1

    if-eq v15, v8, :cond_64

    iget v15, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v15, v8, :cond_62

    iget v8, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-nez v8, :cond_64

    :cond_62
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v8, v8, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v8, :cond_64

    mul-float v7, v7, v19

    mul-float v1, v1, v19

    mul-float v8, v5, v14

    cmpl-float v8, v8, v6

    if-lez v8, :cond_63

    move/from16 v5, v21

    :cond_63
    mul-float/2addr v4, v5

    div-float/2addr v4, v12

    mul-float/2addr v14, v5

    div-float/2addr v14, v12

    sub-float/2addr v4, v7

    mul-float v4, v4, v22

    add-float/2addr v7, v4

    sub-float/2addr v14, v1

    mul-float v14, v14, v22

    add-float/2addr v1, v14

    neg-float v4, v7

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    neg-float v8, v1

    div-float/2addr v8, v5

    div-float/2addr v7, v5

    div-float/2addr v1, v5

    .line 16905
    invoke-virtual {v11, v4, v8, v7, v1}, Landroid/graphics/Canvas;->clipRect(FFFF)Z

    .line 16907
    :cond_64
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_66

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v1

    if-eqz v1, :cond_65

    goto :goto_29

    .line 16955
    :cond_65
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_75

    const/high16 v1, 0x3f800000    # 1.0f

    .line 16956
    invoke-virtual {v0, v1}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16957
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0, v1}, Landroid/view/TextureView;->setScaleY(F)V

    .line 16958
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v0, :cond_75

    .line 16959
    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16960
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleY(F)V

    goto/16 :goto_31

    .line 16909
    :cond_66
    :goto_29
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x1

    if-eq v1, v4, :cond_6b

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v4, :cond_67

    goto :goto_2c

    .line 16931
    :cond_67
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_69

    .line 16932
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v3, :cond_68

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_68

    const/high16 v8, -0x40800000    # -1.0f

    goto :goto_2a

    :cond_68
    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2a
    invoke-virtual {v1, v8}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16933
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_69

    .line 16934
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v3}, Landroid/view/TextureView;->getScaleX()F

    move-result v3

    invoke-virtual {v1, v3}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16937
    :cond_69
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_6a

    iget v8, v1, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_2b

    :cond_6a
    const/high16 v1, 0x3f800000    # 1.0f

    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2b
    sub-float v3, v8, v1

    mul-float v3, v3, v22

    add-float/2addr v3, v1

    div-float v1, v19, v2

    div-float/2addr v1, v3

    mul-float/2addr v8, v1

    goto :goto_30

    .line 16910
    :cond_6b
    :goto_2c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_6d

    .line 16911
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v4

    if-eqz v4, :cond_6c

    const/high16 v8, -0x40800000    # -1.0f

    goto :goto_2d

    :cond_6c
    const/high16 v8, 0x3f800000    # 1.0f

    :goto_2d
    invoke-virtual {v1, v8}, Landroid/view/TextureView;->setScaleX(F)V

    .line 16912
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_6d

    .line 16913
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v4}, Landroid/view/TextureView;->getScaleX()F

    move-result v4

    invoke-virtual {v1, v4}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 16916
    :cond_6d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v1

    const/high16 v4, 0x3f800000    # 1.0f

    sub-float/2addr v1, v4

    mul-float v1, v1, v22

    add-float/2addr v1, v4

    .line 16917
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v4

    div-float/2addr v4, v1

    div-float/2addr v3, v9

    mul-float v1, v3, v13

    cmpl-float v1, v1, v6

    if-lez v1, :cond_6e

    div-float v3, v6, v13

    :cond_6e
    div-float/2addr v3, v2

    mul-float/2addr v4, v3

    .line 16923
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v1, v3, :cond_71

    .line 16924
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v1, v3, :cond_70

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v1, v3, :cond_6f

    goto :goto_2e

    :cond_6f
    if-nez v1, :cond_71

    .line 16927
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v1

    goto :goto_2f

    .line 16925
    :cond_70
    :goto_2e
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v1

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v1, v3

    mul-float v1, v1, v22

    add-float/2addr v1, v3

    :goto_2f
    div-float/2addr v4, v1

    :cond_71
    move v8, v4

    .line 16942
    :goto_30
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaX()F

    move-result v1

    mul-float v1, v1, v24

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropAreaY()F

    move-result v3

    mul-float v3, v3, v24

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16943
    invoke-virtual {v11, v8, v8}, Landroid/graphics/Canvas;->scale(FF)V

    .line 16944
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v1

    mul-float/2addr v1, v9

    mul-float/2addr v1, v2

    mul-float v1, v1, v24

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    mul-float/2addr v3, v13

    mul-float/2addr v3, v2

    mul-float v3, v3, v24

    invoke-virtual {v11, v1, v3}, Landroid/graphics/Canvas;->translate(FF)V

    .line 16945
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v1

    int-to-float v0, v0

    add-float/2addr v1, v0

    const/high16 v0, 0x43340000    # 180.0f

    cmpl-float v3, v1, v0

    if-lez v3, :cond_72

    const/high16 v0, 0x43b40000    # 360.0f

    sub-float/2addr v1, v0

    .line 16949
    :cond_72
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, 0x1

    if-ne v0, v3, :cond_74

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x3

    if-eq v0, v3, :cond_73

    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-ne v0, v3, :cond_74

    .line 16950
    :cond_73
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    goto :goto_31

    :cond_74
    mul-float v1, v1, v24

    .line 16952
    invoke-virtual {v11, v1}, Landroid/graphics/Canvas;->rotate(F)V

    :cond_75
    :goto_31
    move/from16 v8, v19

    move/from16 v0, v20

    move/from16 v1, v23

    goto :goto_32

    :cond_76
    move/from16 v39, v1

    move/from16 v41, v7

    move/from16 v40, v15

    move/from16 v0, v19

    move/from16 v1, v20

    const/high16 v8, 0x3f800000    # 1.0f

    .line 16965
    :goto_32
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x3

    if-ne v3, v4, :cond_78

    .line 16966
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    iget v4, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x1

    if-ne v4, v5, :cond_77

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    int-to-float v4, v4

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v4, v5

    goto :goto_33

    :cond_77
    const/4 v4, 0x0

    :goto_33
    invoke-virtual {v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getRenderView()Lorg/telegram/ui/Components/Paint/RenderView;

    move-result-object v5

    invoke-virtual {v5}, Landroid/view/TextureView;->getScaleX()F

    move-result v5

    mul-float/2addr v4, v5

    add-float v22, v17, v4

    int-to-float v0, v0

    mul-float v23, v0, v8

    int-to-float v0, v1

    mul-float v24, v0, v8

    move-object/from16 v19, v3

    move/from16 v20, v30

    move/from16 v21, v18

    invoke-virtual/range {v19 .. v24}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->setTransform(FFFFF)V

    :cond_78
    if-eqz v41, :cond_79

    .line 16969
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-nez v0, :cond_79

    move/from16 v7, v16

    move/from16 v0, v40

    .line 16970
    invoke-direct {v10, v11, v7, v0}, Lorg/telegram/ui/PhotoViewer;->drawCenterImageInternal(Landroid/graphics/Canvas;FF)V

    goto :goto_34

    :cond_79
    move/from16 v7, v16

    move/from16 v0, v40

    .line 16972
    :goto_34
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/4 v1, 0x0

    cmpl-float v3, v7, v1

    if-lez v3, :cond_7a

    .line 16975
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    const/high16 v3, 0x40000000    # 2.0f

    mul-float v13, v7, v3

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float v8, v3, v13

    .line 16976
    invoke-virtual {v11, v8, v3}, Landroid/graphics/Canvas;->scale(FF)V

    mul-float v13, v7, v25

    sub-float v8, v3, v7

    mul-float/2addr v13, v8

    const/high16 v3, 0x3e800000    # 0.25f

    mul-float/2addr v13, v3

    .line 16977
    invoke-virtual {v11, v1, v13}, Landroid/graphics/Canvas;->skew(FF)V

    move/from16 v1, v39

    const/4 v8, 0x1

    goto :goto_35

    :cond_7a
    move/from16 v1, v39

    const/4 v8, 0x0

    :goto_35
    neg-int v3, v1

    const/4 v4, 0x2

    .line 16980
    div-int/2addr v3, v4

    int-to-float v9, v3

    move/from16 v3, v38

    neg-int v5, v3

    div-int/2addr v5, v4

    int-to-float v12, v5

    invoke-virtual {v11, v9, v12}, Landroid/graphics/Canvas;->translate(FF)V

    if-nez v34, :cond_7b

    .line 16981
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-nez v4, :cond_7c

    .line 16982
    :cond_7b
    invoke-virtual {v11, v2, v2}, Landroid/graphics/Canvas;->scale(FF)V

    :cond_7c
    if-eqz v34, :cond_8a

    .line 16985
    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-nez v4, :cond_7f

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_7e

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    if-nez v4, :cond_7d

    goto :goto_37

    :cond_7d
    :goto_36
    const/4 v4, 0x1

    goto :goto_38

    :cond_7e
    :goto_37
    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v4, :cond_7f

    iget-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v4, :cond_7f

    goto :goto_36

    .line 16986
    :goto_38
    iput-boolean v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    const/4 v4, 0x0

    .line 16987
    iput v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 16988
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    iput-wide v4, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlphaLastTime:J

    .line 16989
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    .line 16991
    :cond_7f
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v4, :cond_80

    .line 16992
    iget v5, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    mul-float v15, v0, v5

    invoke-virtual {v4, v15}, Landroid/view/TextureView;->setAlpha(F)V

    .line 16994
    :cond_80
    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    instance-of v5, v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v5, :cond_81

    .line 16995
    check-cast v4, Lorg/telegram/ui/Components/VideoEditTextureView;

    sub-int v5, v37, v1

    const/4 v6, 0x2

    .line 16996
    div-int/2addr v5, v6

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionX()I

    move-result v13

    add-int/2addr v5, v13

    int-to-float v5, v5

    add-float v5, v5, v31

    sub-int v13, v33, v3

    div-int/2addr v13, v6

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getAdditionY()I

    move-result v6

    add-int/2addr v13, v6

    int-to-float v6, v13

    add-float v6, v6, v17

    iget v13, v10, Lorg/telegram/ui/PhotoViewer;->currentPanTranslationY:F

    add-float/2addr v6, v13

    int-to-float v1, v1

    int-to-float v3, v3

    invoke-virtual {v4, v5, v6, v1, v3}, Lorg/telegram/ui/Components/VideoEditTextureView;->setViewRect(FFFF)V

    .line 16998
    :cond_81
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v1, :cond_82

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    if-nez v3, :cond_82

    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    if-nez v3, :cond_82

    invoke-virtual {v1}, Landroid/view/SurfaceView;->getVisibility()I

    move-result v1

    if-eqz v1, :cond_82

    .line 16999
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    const/4 v3, 0x0

    invoke-virtual {v1, v3}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 17001
    :cond_82
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_83

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    if-eqz v1, :cond_84

    .line 17002
    :cond_83
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    .line 17004
    :cond_84
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_86

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v3, v0, v1

    if-eqz v3, :cond_86

    .line 17005
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    if-nez v3, :cond_85

    .line 17006
    new-instance v3, Landroid/graphics/Paint;

    invoke-direct {v3}, Landroid/graphics/Paint;-><init>()V

    iput-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    .line 17008
    :cond_85
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    sub-float v4, v1, v0

    mul-float v4, v4, v26

    float-to-int v4, v4

    invoke-virtual {v3, v4}, Landroid/graphics/Paint;->setAlpha(I)V

    const/high16 v3, -0x40800000    # -1.0f

    const/high16 v4, -0x40800000    # -1.0f

    .line 17009
    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getWidth()I

    move-result v5

    int-to-float v5, v5

    add-float/2addr v5, v1

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v6, v1

    iget-object v13, v10, Lorg/telegram/ui/PhotoViewer;->surfaceBlackoutPaint:Landroid/graphics/Paint;

    move-object/from16 v1, p1

    move v14, v2

    move v2, v3

    move v3, v4

    move v4, v5

    move v5, v6

    move-object v6, v13

    invoke-virtual/range {v1 .. v6}, Landroid/graphics/Canvas;->drawRect(FFFFLandroid/graphics/Paint;)V

    goto :goto_39

    :cond_86
    move v14, v2

    .line 17012
    :goto_39
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    if-eqz v1, :cond_88

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpg-float v3, v1, v2

    if-gez v3, :cond_88

    move-wide/from16 v4, v35

    long-to-float v2, v4

    .line 17013
    iget-boolean v3, v10, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    if-eqz v3, :cond_87

    const/high16 v3, 0x42c80000    # 100.0f

    goto :goto_3a

    :cond_87
    const/high16 v3, 0x43480000    # 200.0f

    :goto_3a
    div-float/2addr v2, v3

    add-float/2addr v1, v2

    iput v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 17014
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17015
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 17016
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v2

    if-lez v1, :cond_89

    .line 17017
    iput v2, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    goto :goto_3b

    :cond_88
    move-wide/from16 v4, v35

    .line 17020
    :cond_89
    :goto_3b
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    goto :goto_3c

    :cond_8a
    move v14, v2

    move-wide/from16 v4, v35

    :goto_3c
    if-eqz v8, :cond_8c

    .line 17023
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 17024
    invoke-virtual {v11, v9, v12}, Landroid/graphics/Canvas;->translate(FF)V

    if-nez v34, :cond_8b

    .line 17025
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_8c

    .line 17026
    :cond_8b
    invoke-virtual {v11, v14, v14}, Landroid/graphics/Canvas;->scale(FF)V

    .line 17029
    :cond_8c
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_8e

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v1, :cond_8d

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v2, 0x2

    if-ne v1, v2, :cond_8d

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    const/4 v2, -0x1

    if-eq v1, v2, :cond_8e

    .line 17030
    :cond_8d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v2

    const/4 v3, 0x0

    invoke-virtual {v11, v3, v3, v1, v2}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 17031
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    .line 17033
    :cond_8e
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    if-eqz v41, :cond_8f

    .line 17035
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_8f

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    const/high16 v2, 0x3f800000    # 1.0f

    cmpl-float v3, v1, v2

    if-eqz v3, :cond_8f

    sub-float v8, v2, v1

    mul-float/2addr v8, v0

    .line 17036
    invoke-direct {v10, v11, v7, v8}, Lorg/telegram/ui/PhotoViewer;->drawCenterImageInternal(Landroid/graphics/Canvas;FF)V

    .line 17038
    :cond_8f
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    const/4 v1, 0x0

    .line 17039
    :goto_3d
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    array-length v3, v2

    if-ge v1, v3, :cond_97

    .line 17040
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v3, v3, v1

    if-nez v3, :cond_90

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v3, v1

    const/4 v6, 0x0

    cmpl-float v3, v3, v6

    if-eqz v3, :cond_92

    .line 17041
    :cond_90
    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v3, v1

    mul-float v3, v3, v26

    float-to-int v3, v3

    invoke-virtual {v2, v3}, Landroid/graphics/drawable/GradientDrawable;->setAlpha(I)V

    if-nez v1, :cond_91

    .line 17043
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x5

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v6

    const/4 v7, 0x0

    invoke-virtual {v2, v7, v7, v3, v6}, Landroid/graphics/drawable/GradientDrawable;->setBounds(IIII)V

    goto :goto_3e

    .line 17045
    :cond_91
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    div-int/lit8 v6, v6, 0x5

    sub-int/2addr v3, v6

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v6

    iget-object v7, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v7

    const/4 v8, 0x0

    invoke-virtual {v2, v3, v8, v6, v7}, Landroid/graphics/drawable/GradientDrawable;->setBounds(IIII)V

    .line 17047
    :goto_3e
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v2, v2, v1

    invoke-virtual {v2, v11}, Landroid/graphics/drawable/GradientDrawable;->draw(Landroid/graphics/Canvas;)V

    .line 17049
    :cond_92
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v2, v2, v1

    if-eqz v2, :cond_94

    .line 17050
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v2, v1

    const/high16 v6, 0x3f800000    # 1.0f

    cmpg-float v3, v3, v6

    if-gez v3, :cond_96

    .line 17051
    aget v3, v2, v1

    long-to-float v7, v4

    const/high16 v8, 0x43340000    # 180.0f

    div-float/2addr v7, v8

    add-float/2addr v3, v7

    aput v3, v2, v1

    .line 17052
    aget v3, v2, v1

    cmpl-float v3, v3, v6

    if-lez v3, :cond_93

    .line 17053
    aput v6, v2, v1

    .line 17055
    :cond_93
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_3f

    .line 17058
    :cond_94
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->pressedDrawableAlpha:[F

    aget v3, v2, v1

    const/4 v6, 0x0

    cmpl-float v3, v3, v6

    if-lez v3, :cond_96

    .line 17059
    aget v3, v2, v1

    long-to-float v7, v4

    const/high16 v8, 0x43340000    # 180.0f

    div-float/2addr v7, v8

    sub-float/2addr v3, v7

    aput v3, v2, v1

    .line 17060
    aget v3, v2, v1

    cmpg-float v3, v3, v6

    if-gez v3, :cond_95

    .line 17061
    aput v6, v2, v1

    .line 17063
    :cond_95
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_40

    :cond_96
    :goto_3f
    const/high16 v8, 0x43340000    # 180.0f

    :goto_40
    add-int/lit8 v1, v1, 0x1

    goto/16 :goto_3d

    :cond_97
    :goto_41
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move/from16 v3, v31

    move/from16 v4, v30

    move/from16 v5, v17

    move v6, v0

    .line 17068
    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer;->drawProgress(Landroid/graphics/Canvas;FFFF)V

    .line 17070
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v2, :cond_a2

    .line 17071
    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasBitmapImage()Z

    move-result v1

    if-eqz v1, :cond_a0

    .line 17072
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    .line 17073
    div-int/lit8 v8, v37, 0x2

    int-to-float v1, v8

    div-int/lit8 v4, v33, 0x2

    int-to-float v2, v4

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v9, v37

    int-to-float v12, v9

    .line 17074
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v2, 0x3f800000    # 1.0f

    add-float/2addr v1, v2

    mul-float/2addr v1, v12

    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    add-float/2addr v1, v2

    neg-float v1, v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    add-float v1, v1, v18

    const/4 v2, 0x0

    invoke-virtual {v11, v1, v2}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17075
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v13

    .line 17076
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v14

    .line 17077
    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    if-nez v1, :cond_98

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v1, :cond_98

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v1

    if-eqz v1, :cond_98

    .line 17078
    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-object v15, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move v3, v9

    move/from16 v4, v33

    move v5, v13

    move v6, v14

    move/from16 v7, v30

    move/from16 v40, v0

    move/from16 v0, v33

    move/from16 v42, v9

    move-object v9, v15

    invoke-direct/range {v1 .. v9}, Lorg/telegram/ui/PhotoViewer;->applyCrop(Landroid/graphics/Canvas;IIIIFLorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/messenger/MediaController$CropState;)[I

    goto :goto_42

    :cond_98
    move/from16 v40, v0

    move/from16 v42, v9

    move/from16 v0, v33

    :goto_42
    int-to-float v1, v13

    div-float/2addr v12, v1

    int-to-float v0, v0

    int-to-float v2, v14

    div-float/2addr v0, v2

    .line 17082
    invoke-static {v12, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float/2addr v1, v0

    float-to-int v1, v1

    mul-float/2addr v2, v0

    float-to-int v2, v2

    .line 17087
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_9b

    .line 17088
    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v4, 0x1

    if-eq v3, v4, :cond_9a

    iget v3, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v4, :cond_99

    goto :goto_43

    .line 17091
    :cond_99
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v3, :cond_9b

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v3, :cond_9b

    const/4 v4, 0x1

    goto :goto_44

    .line 17089
    :cond_9a
    :goto_43
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v4

    goto :goto_44

    :cond_9b
    const/4 v4, 0x0

    :goto_44
    if-eqz v4, :cond_9c

    const/high16 v3, -0x40800000    # -1.0f

    const/high16 v4, 0x3f800000    # 1.0f

    .line 17095
    invoke-virtual {v11, v3, v4}, Landroid/graphics/Canvas;->scale(FF)V

    goto :goto_45

    :cond_9c
    const/high16 v4, 0x3f800000    # 1.0f

    .line 17098
    :goto_45
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 17099
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    neg-int v4, v1

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v6, v4

    neg-int v7, v2

    div-int/2addr v7, v5

    int-to-float v8, v7

    int-to-float v9, v1

    int-to-float v12, v2

    invoke-virtual {v3, v6, v8, v9, v12}, Lorg/telegram/messenger/ImageReceiver;->setImageCoords(FFFF)V

    .line 17100
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v11}, Lorg/telegram/messenger/ImageReceiver;->draw(Landroid/graphics/Canvas;)Z

    .line 17102
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v3, :cond_9f

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v3

    if-nez v3, :cond_9f

    .line 17103
    div-int/2addr v1, v5

    div-int/2addr v2, v5

    invoke-virtual {v11, v4, v7, v1, v2}, Landroid/graphics/Canvas;->clipRect(IIII)Z

    .line 17104
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v1

    if-ne v1, v13, :cond_9d

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v1

    if-eq v1, v14, :cond_9e

    .line 17105
    :cond_9d
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v2, 0x40000000    # 2.0f

    invoke-static {v13, v2}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v3

    invoke-static {v14, v2}, Landroid/view/View$MeasureSpec;->makeMeasureSpec(II)I

    move-result v2

    invoke-virtual {v1, v3, v2}, Landroid/widget/FrameLayout;->measure(II)V

    .line 17106
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/4 v2, 0x0

    invoke-virtual {v1, v2, v2, v13, v14}, Landroid/widget/FrameLayout;->layout(IIII)V

    .line 17108
    :cond_9e
    invoke-virtual {v11, v0, v0}, Landroid/graphics/Canvas;->scale(FF)V

    neg-int v0, v13

    const/4 v1, 0x2

    .line 17109
    div-int/2addr v0, v1

    int-to-float v0, v0

    neg-int v2, v14

    div-int/2addr v2, v1

    int-to-float v1, v2

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17110
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 17111
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v0, v11}, Landroid/widget/FrameLayout;->draw(Landroid/graphics/Canvas;)V

    goto :goto_46

    :cond_9f
    const/high16 v1, 0x3f800000    # 1.0f

    .line 17114
    :goto_46
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_47

    :cond_a0
    move/from16 v40, v0

    move/from16 v42, v37

    const/high16 v1, 0x3f800000    # 1.0f

    .line 17116
    :goto_47
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sub-float v8, v1, v40

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setMoveProgress(F)V

    .line 17118
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->save()I

    div-float v9, v17, v30

    move/from16 v0, v18

    .line 17119
    invoke-virtual {v11, v0, v9}, Landroid/graphics/Canvas;->translate(FF)V

    move/from16 v0, v42

    int-to-float v0, v0

    .line 17120
    iget v2, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    add-float/2addr v2, v1

    mul-float/2addr v0, v2

    invoke-static/range {v28 .. v28}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    add-float/2addr v0, v1

    neg-float v0, v0

    const/high16 v1, 0x40000000    # 2.0f

    div-float/2addr v0, v1

    move/from16 v2, v17

    neg-float v1, v2

    div-float v1, v1, v30

    invoke-virtual {v11, v0, v1}, Landroid/graphics/Canvas;->translate(FF)V

    .line 17121
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x2

    aget-object v0, v0, v1

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setScale(F)V

    .line 17122
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setAlpha(F)V

    .line 17123
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->onDraw(Landroid/graphics/Canvas;)V

    .line 17125
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_a1

    .line 17126
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v1

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 17128
    :cond_a1
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    goto :goto_48

    :cond_a2
    move/from16 v2, v17

    const/4 v1, 0x2

    .line 17130
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_a3

    .line 17131
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v1

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 17135
    :cond_a3
    :goto_48
    iget v0, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-eqz v0, :cond_a9

    const/4 v1, 0x1

    sub-int/2addr v0, v1

    .line 17136
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    if-nez v0, :cond_a8

    .line 17138
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->changedTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_a6

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-nez v1, :cond_a6

    .line 17140
    :try_start_0
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    const/4 v1, 0x0

    goto :goto_4a

    :catchall_0
    move-exception v0

    .line 17142
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_a4

    .line 17143
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->recycle()V

    const/4 v1, 0x0

    .line 17144
    iput-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    goto :goto_49

    :cond_a4
    const/4 v1, 0x0

    .line 17146
    :goto_49
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 17148
    :goto_4a
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v0, :cond_a5

    .line 17149
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 17150
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto :goto_4b

    .line 17152
    :cond_a5
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 17155
    :cond_a6
    :goto_4b
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v0, :cond_a7

    .line 17159
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda63;

    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda63;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_4c

    :cond_a7
    const/4 v1, 0x1

    .line 17165
    invoke-static {v1}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(Z)V

    goto :goto_4c

    .line 17168
    :cond_a8
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17172
    :cond_a9
    :goto_4c
    iget-boolean v0, v10, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    if-eqz v0, :cond_aa

    .line 17173
    invoke-virtual/range {p1 .. p1}, Landroid/graphics/Canvas;->restore()V

    .line 17176
    :cond_aa
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v0, :cond_ab

    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoForwardDrawable;->isAnimating()Z

    move-result v0

    if-eqz v0, :cond_ab

    .line 17177
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v0

    int-to-float v0, v0

    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v1, v3

    mul-float/2addr v0, v1

    float-to-int v0, v0

    const/4 v1, 0x2

    div-int/2addr v0, v1

    .line 17178
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLeft()I

    move-result v3

    iget-object v4, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getTop()I

    move-result v4

    sub-int/2addr v4, v0

    div-float v9, v2, v30

    float-to-int v2, v9

    add-int/2addr v4, v2

    iget-object v5, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getRight()I

    move-result v5

    iget-object v6, v10, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getBottom()I

    move-result v6

    add-int/2addr v6, v0

    add-int/2addr v6, v2

    invoke-virtual {v1, v3, v4, v5, v6}, Landroid/graphics/drawable/Drawable;->setBounds(IIII)V

    .line 17179
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v0, v11}, Lorg/telegram/ui/Components/VideoForwardDrawable;->draw(Landroid/graphics/Canvas;)V

    .line 17182
    :cond_ab
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->drawFancyShadows(Landroid/graphics/Canvas;)V

    :cond_ac
    :goto_4d
    return-void
.end method

.method private onHideView()V
    .locals 2

    .line 8083
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 8084
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 8085
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/LaunchActivity;->removeOnUserLeaveHintListener(Ljava/lang/Runnable;)V

    .line 8087
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1

    const/high16 v0, 0x3f800000    # 1.0f

    .line 8088
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 8089
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    .line 8090
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleX(F)V

    .line 8091
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleY(F)V

    .line 8093
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v1, :cond_1

    .line 8094
    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v1

    .line 8095
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleX(F)V

    .line 8096
    invoke-virtual {v1, v0}, Landroid/view/View;->setScaleY(F)V

    :cond_1
    return-void
.end method

.method private onLinkClick(Landroid/text/style/ClickableSpan;Landroid/widget/TextView;)V
    .locals 5

    if-eqz p2, :cond_5

    .line 1413
    instance-of v0, p1, Landroid/text/style/URLSpan;

    if-eqz v0, :cond_5

    .line 1414
    move-object v0, p1

    check-cast v0, Landroid/text/style/URLSpan;

    invoke-virtual {v0}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v0

    const-string v1, "video"

    .line 1415
    invoke-virtual {v0, v1}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    const/4 v2, 0x1

    if-eqz v1, :cond_1

    .line 1416
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz p1, :cond_6

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz p1, :cond_6

    .line 1417
    invoke-static {v0}, Lorg/telegram/messenger/Utilities;->parseInt(Ljava/lang/CharSequence;)Ljava/lang/Integer;

    move-result-object p1

    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result p1

    .line 1418
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {p2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    const-wide v3, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long p2, v0, v3

    if-nez p2, :cond_0

    int-to-float p1, p1

    .line 1419
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p2}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v0

    double-to-float p2, v0

    div-float/2addr p1, p2

    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    goto :goto_0

    .line 1421
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    int-to-long v0, p1

    const-wide/16 v3, 0x3e8

    mul-long/2addr v0, v3

    invoke-virtual {p2, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 1422
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    long-to-float p2, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v0

    long-to-float v0, v0

    div-float/2addr p2, v0

    invoke-virtual {p1, p2, v2}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(FZ)V

    .line 1423
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {p1}, Landroid/view/View;->invalidate()V

    goto :goto_0

    :cond_1
    const-string v1, "#"

    .line 1426
    invoke-virtual {v0, v1}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 1427
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of p1, p1, Lorg/telegram/ui/LaunchActivity;

    if-eqz p1, :cond_6

    .line 1428
    new-instance p1, Lorg/telegram/ui/DialogsActivity;

    const/4 p2, 0x0

    invoke-direct {p1, p2}, Lorg/telegram/ui/DialogsActivity;-><init>(Landroid/os/Bundle;)V

    .line 1429
    invoke-virtual {p1, v0}, Lorg/telegram/ui/DialogsActivity;->setSearchString(Ljava/lang/String;)V

    .line 1430
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    check-cast p2, Lorg/telegram/ui/LaunchActivity;

    const/4 v0, 0x0

    invoke-virtual {p2, p1, v0, v2}, Lorg/telegram/ui/LaunchActivity;->presentFragment(Lorg/telegram/ui/ActionBar/BaseFragment;ZZ)Z

    .line 1431
    invoke-virtual {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    goto :goto_0

    .line 1433
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_4

    instance-of v1, p1, Lorg/telegram/ui/Components/URLSpanReplacement;

    if-nez v1, :cond_3

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->shouldShowUrlInAlert(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_4

    .line 1434
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-static {p1, v0, v2, v2}, Lorg/telegram/ui/Components/AlertsCreator;->showOpenUrlAlert(Lorg/telegram/ui/ActionBar/BaseFragment;Ljava/lang/String;ZZ)V

    goto :goto_0

    .line 1436
    :cond_4
    invoke-virtual {p1, p2}, Landroid/text/style/ClickableSpan;->onClick(Landroid/view/View;)V

    goto :goto_0

    .line 1439
    :cond_5
    invoke-virtual {p1, p2}, Landroid/text/style/ClickableSpan;->onClick(Landroid/view/View;)V

    :cond_6
    :goto_0
    return-void
.end method

.method private onLinkLongPress(Landroid/text/style/URLSpan;Landroid/widget/TextView;Ljava/lang/Runnable;)V
    .locals 10

    .line 1445
    new-instance v0, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    const/4 v3, 0x0

    const v4, -0xe3ddd7

    invoke-direct {v0, v1, v3, v2, v4}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;-><init>(Landroid/content/Context;ZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;I)V

    .line 1446
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v1

    const-string v2, "video?"

    invoke-virtual {v1, v2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v1

    const/4 v2, -0x1

    const/4 v5, 0x1

    if-eqz v1, :cond_0

    .line 1448
    :try_start_0
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v6

    const/16 v7, 0x3f

    invoke-virtual {v6, v7}, Ljava/lang/String;->indexOf(I)I

    move-result v6

    add-int/2addr v6, v5

    invoke-virtual {v1, v6}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v1

    .line 1449
    invoke-static {v1}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    :cond_0
    move v1, v2

    :goto_0
    if-ltz v1, :cond_1

    .line 1455
    invoke-static {v1, v3}, Lorg/telegram/messenger/AndroidUtilities;->formatDuration(IZ)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    goto :goto_1

    .line 1457
    :cond_1
    invoke-virtual {p1}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    :goto_1
    const/4 v6, 0x2

    new-array v7, v6, [Ljava/lang/CharSequence;

    .line 1460
    sget v8, Lorg/telegram/messenger/R$string;->Open:I

    const-string v9, "Open"

    invoke-static {v9, v8}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v7, v3

    sget v8, Lorg/telegram/messenger/R$string;->Copy:I

    const-string v9, "Copy"

    invoke-static {v9, v8}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v7, v5

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda21;

    invoke-direct {v8, p0, p1, p2, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda21;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/text/style/URLSpan;Landroid/widget/TextView;I)V

    invoke-virtual {v0, v7, v8}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setItems([Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    .line 1522
    new-instance p1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda24;

    invoke-direct {p1, p3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda24;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v0, p1}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->setOnPreDismissListener(Landroid/content/DialogInterface$OnDismissListener;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    .line 1523
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet$Builder;->create()Lorg/telegram/ui/ActionBar/BottomSheet;

    move-result-object p1

    .line 1524
    iput-boolean v5, p1, Lorg/telegram/ui/ActionBar/BottomSheet;->scrollNavBar:Z

    .line 1525
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    .line 1527
    :try_start_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p2, v3, v6}, Landroid/widget/FrameLayout;->performHapticFeedback(II)Z
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    .line 1529
    :catch_0
    invoke-virtual {p1, v3, v2, v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setItemColor(III)V

    .line 1530
    invoke-virtual {p1, v5, v2, v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setItemColor(III)V

    .line 1531
    invoke-virtual {p1, v4}, Lorg/telegram/ui/ActionBar/BottomSheet;->setBackgroundColor(I)V

    const p2, -0x757576

    .line 1532
    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/BottomSheet;->setTitleColor(I)V

    .line 1533
    invoke-virtual {p1, v5}, Lorg/telegram/ui/ActionBar/BottomSheet;->setCalcMandatoryInsets(Z)V

    .line 1534
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object p2

    invoke-static {p2, v4, v3}, Lorg/telegram/messenger/AndroidUtilities;->setNavigationBarColor(Landroid/view/Window;IZ)V

    .line 1535
    invoke-virtual {p1}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object p2

    invoke-static {p2, v3}, Lorg/telegram/messenger/AndroidUtilities;->setLightNavigationBar(Landroid/view/Window;Z)V

    .line 1536
    iput-boolean v5, p1, Lorg/telegram/ui/ActionBar/BottomSheet;->scrollNavBar:Z

    return-void
.end method

.method private onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 6

    .line 15741
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    const/4 v1, 0x1

    if-eqz v0, :cond_0

    .line 15742
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 15744
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_1

    iget-boolean v0, v0, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    if-nez v0, :cond_1

    .line 15745
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    :cond_1
    const/4 v0, 0x0

    .line 15747
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 15748
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 15749
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    .line 15750
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    const/4 v2, 0x0

    .line 15751
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 15752
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 15753
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 15754
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    .line 15755
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    .line 15756
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 15757
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 15758
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz v3, :cond_2

    .line 15759
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 15761
    :cond_2
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v3, :cond_3

    .line 15762
    invoke-virtual {v3}, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->reset()V

    .line 15764
    :cond_3
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 15765
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    .line 15766
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v3, :cond_4

    .line 15767
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 15768
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 15770
    :cond_4
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    .line 15771
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v3, :cond_5

    .line 15772
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->removeSecondParentView(Landroid/view/View;)V

    .line 15773
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    :cond_5
    move v3, v0

    :goto_0
    const/4 v4, 0x3

    if-ge v3, v4, :cond_7

    .line 15776
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v5, v4, v3

    if-eqz v5, :cond_6

    .line 15777
    aget-object v4, v4, v3

    const/4 v5, -0x1

    invoke-virtual {v4, v5, v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_6
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 15780
    :cond_7
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->requestVideoPreview(I)V

    .line 15781
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v3, :cond_8

    .line 15782
    invoke-virtual {v3}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->destroy()V

    .line 15784
    :cond_8
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/Components/UndoView;->hide(ZI)V

    .line 15785
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15786
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15787
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15788
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15789
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 15790
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15791
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda78;

    invoke-direct {v4, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda78;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->post(Ljava/lang/Runnable;)Z

    .line 15806
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_9

    .line 15807
    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->willHidePhotoViewer()V

    .line 15809
    :cond_9
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/GroupedPhotosListView;->clear()V

    .line 15810
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_a

    .line 15811
    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onClose()V

    .line 15813
    :cond_a
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    .line 15814
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v3}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 15815
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 15816
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    .line 15817
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    const/4 v0, 0x0

    .line 15818
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/high16 v0, 0x3f800000    # 1.0f

    .line 15819
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    if-eqz p1, :cond_b

    .line 15821
    iget-object p1, p1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15823
    :cond_b
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz p1, :cond_c

    .line 15824
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object p1

    invoke-virtual {p1}, Landroid/view/View;->invalidate()V

    .line 15826
    :cond_c
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz p1, :cond_d

    .line 15827
    invoke-virtual {p1}, Landroid/graphics/Bitmap;->recycle()V

    .line 15828
    iput-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    :cond_d
    return-void
.end method

.method private onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V
    .locals 30
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/messenger/MessageObject;",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;",
            "Ljava/util/List<",
            "Ljava/lang/Object;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;",
            ")V"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p5

    move-object/from16 v3, p6

    move-object/from16 v4, p7

    move/from16 v5, p8

    move-object/from16 v6, p9

    .line 11797
    invoke-static {}, Lorg/telegram/tgnet/ConnectionsManager;->generateClassGuid()I

    move-result v7

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/4 v7, 0x0

    .line 11798
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    .line 11799
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 11800
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11801
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    .line 11802
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    .line 11803
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 11804
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    const/4 v8, 0x0

    .line 11805
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    .line 11806
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    const/4 v9, 0x0

    .line 11807
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartProgress:F

    const-wide/16 v10, 0x0

    .line 11808
    iput-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarStartTime:J

    const/4 v12, -0x1

    .line 11809
    iput v12, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 11810
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aput-object v7, v13, v8

    const/4 v14, 0x1

    .line 11830
    invoke-static {v14}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v15

    .line 11811
    aput-object v7, v13, v14

    const/4 v12, 0x2

    .line 11812
    aput-object v7, v13, v12

    .line 11813
    iput-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    .line 11814
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    .line 11815
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 11816
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 11817
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    .line 11818
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v13, v13, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v13, v8}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 11819
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    const/4 v7, 0x3

    if-eqz v13, :cond_1

    .line 11820
    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v12, v7, :cond_0

    move v12, v14

    goto :goto_0

    :cond_0
    move v12, v8

    :goto_0
    invoke-virtual {v13, v12}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 11822
    :cond_1
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    .line 11823
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11824
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 11825
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aput-boolean v8, v12, v8

    .line 11826
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v7, v7, v10

    if-nez v7, :cond_2

    move v7, v14

    goto :goto_1

    :cond_2
    const/4 v7, 0x0

    :goto_1
    aput-boolean v7, v12, v14

    const/4 v7, 0x0

    .line 11827
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    .line 11828
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    .line 11829
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    .line 11830
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11831
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 11832
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    .line 11833
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    .line 11834
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11835
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11836
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11837
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11838
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11839
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11840
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11841
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    .line 11842
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    if-eqz v7, :cond_3

    .line 11843
    invoke-virtual {v7}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 11845
    :cond_3
    sget v7, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v8, 0x15

    if-le v7, v8, :cond_4

    .line 11846
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setElevation(F)V

    :cond_4
    const/4 v7, 0x0

    :goto_2
    const/4 v8, 0x2

    if-ge v7, v8, :cond_5

    .line 11849
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v8, v8, v7

    invoke-virtual {v8}, Landroid/util/SparseArray;->clear()V

    .line 11850
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v8, v8, v7

    invoke-virtual {v8}, Landroid/util/SparseArray;->clear()V

    add-int/lit8 v7, v7, 0x1

    goto :goto_2

    .line 11852
    :cond_5
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->clear()V

    const/4 v7, 0x0

    .line 11853
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 11854
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v8, 0x0

    invoke-virtual {v7, v8, v8, v8, v8}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 11855
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_6

    .line 11856
    invoke-virtual {v7}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    :cond_6
    if-eqz v6, :cond_7

    .line 11858
    iget-object v7, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    goto :goto_3

    :cond_7
    const/4 v7, 0x0

    :goto_3
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v6, :cond_8

    .line 11859
    iget-boolean v7, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->isEvent:Z

    if-eqz v7, :cond_8

    move v7, v14

    goto :goto_4

    :cond_8
    const/4 v7, 0x0

    :goto_4
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    const/4 v7, 0x0

    .line 11860
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 11861
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v12, Lorg/telegram/messenger/R$string;->ShowAllMedia:I

    const-string v13, "ShowAllMedia"

    invoke-static {v13, v12}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v8, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    .line 11862
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v8, v7, v7}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11863
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v8, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11864
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v7, :cond_9

    const/4 v8, 0x0

    .line 11865
    invoke-virtual {v7, v8}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    .line 11867
    :cond_9
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v8, 0x7f000000

    invoke-virtual {v7, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 11868
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v8, 0x8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11869
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v12, 0x0

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v13

    invoke-virtual {v7, v13}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 11870
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v7, :cond_a

    .line 11871
    invoke-virtual {v7, v12, v12}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 11873
    :cond_a
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11874
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v7, v9}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setTranslationY(F)V

    .line 11875
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v7, v12, v12}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11876
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v12, 0x4

    if-eqz v7, :cond_b

    .line 11877
    invoke-virtual {v7, v12}, Landroid/view/View;->setVisibility(I)V

    .line 11878
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v7, v12}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11879
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v13, 0x0

    invoke-virtual {v7, v13}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    goto :goto_5

    :cond_b
    const/4 v13, 0x0

    .line 11881
    :goto_5
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    if-eqz v7, :cond_c

    .line 11882
    invoke-virtual {v7}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11883
    iput-object v13, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    .line 11885
    :cond_c
    invoke-direct {v0, v14}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    const/4 v7, 0x0

    .line 11886
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 11887
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    .line 11890
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x2

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11891
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v7, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11892
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xa

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11893
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xb

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11894
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xe

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11895
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xf

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11896
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0x11

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11897
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0x10

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11898
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x6

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 11899
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11900
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11901
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v7, v9}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 11903
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/high16 v13, 0x3f800000    # 1.0f

    invoke-virtual {v7, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11904
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v7, v9}, Landroid/view/View;->setTranslationY(F)V

    .line 11905
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v7, v8}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 11906
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/4 v13, 0x0

    invoke-virtual {v7, v13}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleRightMargin(I)V

    const/high16 v13, 0x3f800000    # 1.0f

    .line 11907
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v13}, Landroid/view/View;->setAlpha(F)V

    .line 11908
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v9}, Landroid/view/View;->setTranslationY(F)V

    .line 11909
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v7, v8}, Landroid/view/View;->setVisibility(I)V

    .line 11910
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 11912
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11913
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11914
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11915
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11916
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v13}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11917
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v7, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11918
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11920
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11921
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v9, 0x0

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 11922
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11923
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11924
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 11925
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/4 v9, 0x0

    invoke-virtual {v7, v9, v9}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimerVisible(ZZ)V

    .line 11926
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11927
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11929
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v9

    const/4 v7, -0x2

    iput v7, v9, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 11930
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11931
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setVisibility(I)V

    const/4 v7, 0x0

    .line 11932
    invoke-direct {v0, v7, v7}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 11933
    invoke-direct {v0, v7, v7}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 11934
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v9, v8}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11935
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v9, v8}, Landroid/view/View;->setVisibility(I)V

    .line 11938
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v9, v7, v13, v7}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 11940
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v10, 0x0

    invoke-virtual {v9, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 11941
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v9, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11942
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 11943
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v11, Lorg/telegram/messenger/R$drawable;->video_send_unmute:I

    invoke-virtual {v9, v11}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 11944
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11945
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9, v10}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 11946
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9, v12}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11947
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    if-eqz v9, :cond_d

    .line 11948
    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11950
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-eqz v9, :cond_e

    .line 11951
    invoke-virtual {v9, v8}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_e
    const/4 v9, 0x0

    :goto_6
    const/4 v10, 0x3

    if-ge v9, v10, :cond_10

    .line 11954
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v17, v11, v9

    if-eqz v17, :cond_f

    .line 11955
    aget-object v11, v11, v9

    const/4 v7, -0x1

    const/4 v10, 0x0

    invoke-virtual {v11, v7, v10, v14}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    :cond_f
    add-int/lit8 v9, v9, 0x1

    goto :goto_6

    .line 11958
    :cond_10
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz v9, :cond_11

    .line 11959
    invoke-virtual {v9}, Lorg/telegram/ui/Components/GroupedPhotosListView;->reset()V

    .line 11960
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-static {}, Lorg/telegram/messenger/ApplicationLoader;->isNetworkOnline()Z

    move-result v10

    xor-int/2addr v10, v14

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setAnimateBackground(Z)V

    .line 11963
    :cond_11
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v9, :cond_12

    invoke-interface {v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getTotalImageCount()I

    move-result v9

    if-lez v9, :cond_12

    .line 11964
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getTotalImageCount()I

    move-result v9

    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    :cond_12
    if-eqz v1, :cond_13

    .line 11968
    sget-object v9, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v10, "playback_speed"

    const/4 v7, 0x0

    invoke-virtual {v9, v10, v7}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v9

    .line 11969
    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "speed"

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v7

    invoke-virtual {v10, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    const-string v7, "_"

    invoke-virtual {v10, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v10, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-interface {v9, v7, v13}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v7

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    goto :goto_7

    .line 11971
    :cond_13
    iput v13, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    :goto_7
    const/4 v7, 0x0

    .line 11973
    invoke-direct {v0, v7, v14}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    if-eqz v1, :cond_16

    .line 11975
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v8}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v8

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v9

    invoke-virtual {v8, v9, v10}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v8

    if-nez v8, :cond_15

    iget-object v8, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v8, :cond_14

    iget-boolean v8, v8, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v8, :cond_15

    :cond_14
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v8

    if-eqz v8, :cond_16

    :cond_15
    move v8, v14

    goto :goto_8

    :cond_16
    const/4 v8, 0x0

    :goto_8
    const-string v9, "ShowAllGIFs"

    const-string v10, "ShowAllFiles"

    const/4 v7, 0x5

    if-eqz v1, :cond_28

    if-nez v2, :cond_28

    .line 11977
    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v2, :cond_1b

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v2, :cond_1b

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v2, :cond_1b

    .line 11978
    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    .line 11979
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->site_name:Ljava/lang/String;

    if-eqz v3, :cond_1b

    .line 11981
    invoke-virtual {v3}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;

    move-result-object v3

    const-string v4, "instagram"

    .line 11982
    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_17

    const-string v4, "twitter"

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_17

    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->type:Ljava/lang/String;

    const-string v4, "telegram_album"

    invoke-virtual {v4, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_1b

    .line 11983
    :cond_17
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->author:Ljava/lang/String;

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    .line 11986
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    instance-of v3, v3, Lorg/telegram/tgnet/TLRPC$TL_page;

    if-eqz v3, :cond_19

    const/4 v13, 0x0

    .line 11987
    :goto_9
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Page;->blocks:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-ge v13, v3, :cond_19

    .line 11988
    iget-object v3, v2, Lorg/telegram/tgnet/TLRPC$WebPage;->cached_page:Lorg/telegram/tgnet/TLRPC$Page;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Page;->blocks:Ljava/util/ArrayList;

    invoke-virtual {v3, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 11989
    instance-of v4, v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;

    if-eqz v4, :cond_18

    .line 11990
    check-cast v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;

    iget v2, v3, Lorg/telegram/tgnet/TLRPC$TL_pageBlockAuthorDate;->published_date:I

    goto :goto_a

    :cond_18
    add-int/lit8 v13, v13, 0x1

    goto :goto_9

    :cond_19
    :goto_a
    const/4 v2, 0x0

    .line 11995
    invoke-virtual {v1, v2, v2}, Lorg/telegram/messenger/MessageObject;->getWebPagePhotos(Ljava/util/ArrayList;Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v3

    .line 11996
    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_1b

    .line 11997
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    const/4 v2, 0x0

    .line 11998
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 11999
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 12000
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 12001
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->indexOf(Ljava/lang/Object;)I

    move-result v2

    if-gez v2, :cond_1a

    const/4 v2, 0x0

    .line 12005
    :cond_1a
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 12010
    :cond_1b
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v2

    if-eqz v2, :cond_1c

    .line 12011
    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12012
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllFiles:I

    invoke-static {v10, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_b

    .line 12013
    :cond_1c
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v2

    if-eqz v2, :cond_1d

    .line 12014
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12015
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v3, Lorg/telegram/messenger/R$string;->ShowAllGIFs:I

    invoke-static {v9, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    .line 12017
    :cond_1d
    :goto_b
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_1f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v2, :cond_1e

    invoke-virtual {v2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v2

    if-nez v2, :cond_1f

    .line 12018
    :cond_1e
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12019
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12021
    :cond_1f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v2, :cond_5a

    .line 12022
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12023
    iget-wide v2, v1, Lorg/telegram/messenger/MessageObject;->eventId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_21

    const/4 v2, 0x0

    .line 12024
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    :cond_20
    :goto_c
    move v4, v2

    goto/16 :goto_d

    :cond_21
    const/4 v2, 0x0

    .line 12025
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v3, :cond_22

    .line 12026
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 12027
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->canForwardMessage()Z

    move-result v3

    if-eqz v3, :cond_20

    if-nez v8, :cond_20

    .line 12028
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v3, v14, v2}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_c

    .line 12030
    :cond_22
    iget-boolean v2, v1, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v2, :cond_26

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaInvoice;

    if-nez v2, :cond_26

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v2

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-nez v2, :cond_26

    iget-object v2, v1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    if-eqz v2, :cond_23

    instance-of v2, v2, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;

    if-eqz v2, :cond_26

    .line 12031
    :cond_23
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 12032
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v3, 0x0

    aget-object v2, v2, v3

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v3

    invoke-virtual {v2, v3, v1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 12033
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v2, :cond_24

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->isThreadChat()Z

    move-result v2

    if-nez v2, :cond_25

    .line 12034
    :cond_24
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12035
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x2

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12037
    :cond_25
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    xor-int/lit8 v3, v8, 0x1

    const/4 v4, 0x0

    invoke-direct {v0, v2, v3, v4}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_d

    :cond_26
    const/4 v4, 0x0

    .line 12038
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v2, :cond_27

    iget-wide v2, v1, Lorg/telegram/messenger/MessageObject;->eventId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-nez v2, :cond_27

    .line 12039
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v0, v2, v14, v4}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12041
    :cond_27
    :goto_d
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_26

    :cond_28
    if-eqz v3, :cond_29

    .line 12044
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 12045
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_26

    :cond_29
    if-eqz p2, :cond_33

    if-eqz v6, :cond_2a

    .line 12047
    iget-wide v2, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->dialogId:J

    goto :goto_e

    :cond_2a
    const-wide/16 v2, 0x0

    :goto_e
    iput-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    if-eqz v6, :cond_2b

    .line 12048
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->canEdit:Z

    if-eqz v4, :cond_2b

    move v4, v14

    goto :goto_f

    :cond_2b
    const/4 v4, 0x0

    :goto_f
    iput-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    if-nez p3, :cond_2d

    const-wide/16 v7, 0x0

    cmp-long v4, v2, v7

    if-eqz v4, :cond_2d

    cmp-long v2, v2, v7

    if-lez v2, :cond_2c

    .line 12051
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v2

    const/4 v3, 0x0

    .line 12052
    invoke-static {v2, v3}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_10

    :cond_2c
    const/4 v3, 0x0

    .line 12054
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v7, v7

    invoke-static {v7, v8}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v2, v4}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v2

    .line 12055
    invoke-static {v2, v3}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_10

    :cond_2d
    move-object/from16 v2, p3

    :goto_10
    if-nez v2, :cond_2e

    return-void

    .line 12061
    :cond_2e
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12062
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    if-eqz p4, :cond_2f

    move-object/from16 v7, p4

    goto :goto_11

    :cond_2f
    move-object v7, v2

    :goto_11
    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12063
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAvatarLocation:Lorg/telegram/messenger/ImageLocation;

    .line 12064
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    if-eqz v6, :cond_30

    iget-wide v6, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->size:J

    goto :goto_12

    :cond_30
    const-wide/16 v6, 0x0

    :goto_12
    invoke-static {v6, v7}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12065
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    const/4 v4, 0x0

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12066
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    new-instance v4, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    invoke-direct {v4}, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;-><init>()V

    invoke-virtual {v2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 12068
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12069
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v4, 0x2

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12070
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v4, 0xa

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    const/4 v2, 0x0

    .line 12071
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 12073
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v14, :cond_5a

    .line 12074
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v3

    if-eqz v3, :cond_31

    .line 12075
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    goto :goto_13

    .line 12077
    :cond_31
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12079
    :goto_13
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 12080
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 12081
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v3, :cond_32

    .line 12082
    invoke-virtual {v3, v2}, Landroid/view/View;->setVisibility(I)V

    .line 12083
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, v13}, Landroid/view/View;->setAlpha(F)V

    .line 12085
    :cond_32
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12086
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v4, 0x0

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12087
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto/16 :goto_26

    :cond_33
    if-eqz v2, :cond_3e

    .line 12090
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v2}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    const/4 v13, 0x0

    .line 12091
    :goto_14
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v13, v2, :cond_35

    .line 12092
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 12093
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v16

    move/from16 v23, v8

    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v7, v16, v7

    if-nez v7, :cond_34

    const/4 v7, 0x0

    goto :goto_15

    :cond_34
    move v7, v14

    :goto_15
    aget-object v4, v4, v7

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v4, v7, v2}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    add-int/lit8 v13, v13, 0x1

    move/from16 v8, v23

    const/4 v7, 0x5

    goto :goto_14

    :cond_35
    move/from16 v23, v8

    .line 12095
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 12096
    iget-boolean v4, v2, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v4, :cond_3c

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v4, :cond_36

    invoke-virtual {v4}, Lorg/telegram/ui/ChatActivity;->isThreadChat()Z

    move-result v4

    if-nez v4, :cond_3c

    .line 12097
    :cond_36
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-nez v4, :cond_37

    move v13, v14

    goto :goto_16

    :cond_37
    const/4 v13, 0x0

    :goto_16
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    .line 12098
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    instance-of v4, v4, Lorg/telegram/ui/ProfileActivity;

    if-eqz v4, :cond_38

    .line 12099
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    :cond_38
    if-eqz v6, :cond_39

    .line 12102
    iget v4, v6, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->starOffset:I

    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    .line 12104
    :cond_39
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v12}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12105
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->canForwardMessage()Z

    move-result v4

    if-eqz v4, :cond_3a

    if-nez v23, :cond_3a

    .line 12106
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x0

    invoke-direct {v0, v4, v14, v3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12108
    :cond_3a
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v4

    if-eqz v4, :cond_3b

    .line 12109
    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12110
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllFiles:I

    invoke-static {v10, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_17

    .line 12111
    :cond_3b
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v2

    if-eqz v2, :cond_3d

    const/4 v2, 0x5

    .line 12112
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    .line 12113
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllGIFs:I

    invoke-static {v9, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setText(Ljava/lang/CharSequence;)V

    goto :goto_17

    .line 12116
    :cond_3c
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    .line 12118
    :cond_3d
    :goto_17
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_26

    :cond_3e
    if-eqz v4, :cond_59

    .line 12120
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v6, -0x1

    if-eq v2, v6, :cond_41

    if-eqz v2, :cond_40

    if-eq v2, v12, :cond_40

    const/4 v6, 0x2

    if-eq v2, v6, :cond_3f

    const/4 v6, 0x5

    if-ne v2, v6, :cond_41

    :cond_3f
    invoke-interface/range {p7 .. p7}, Ljava/util/List;->size()I

    move-result v2

    if-le v2, v14, :cond_41

    .line 12121
    :cond_40
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 12122
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v2, v3}, Landroid/view/View;->setVisibility(I)V

    .line 12123
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 12125
    :cond_41
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, -0x1

    if-eq v6, v7, :cond_43

    const/4 v7, 0x2

    if-eq v6, v7, :cond_42

    const/4 v7, 0x5

    if-ne v6, v7, :cond_43

    :cond_42
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v6}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canCaptureMorePhotos()Z

    move-result v6

    if-eqz v6, :cond_43

    move v2, v14

    goto :goto_18

    :cond_43
    const/4 v2, 0x0

    :goto_18
    const/4 v6, 0x0

    invoke-virtual {v3, v2, v6}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setAddPhotoVisible(ZZ)V

    .line 12126
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v6, 0x8

    invoke-virtual {v3, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12127
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    .line 12128
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    .line 12130
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, -0x1

    if-eq v4, v7, :cond_4a

    instance-of v7, v3, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v7, :cond_4a

    const/16 v7, 0xa

    if-ne v4, v7, :cond_44

    .line 12132
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12133
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12134
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_1c

    .line 12135
    :cond_44
    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v7, :cond_45

    .line 12136
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12137
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12138
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12139
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12140
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12141
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v3

    const/16 v4, 0x54

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    iput v4, v3, Landroid/view/ViewGroup$LayoutParams;->height:I

    goto :goto_1c

    .line 12142
    :cond_45
    check-cast v3, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-boolean v3, v3, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v3, :cond_46

    .line 12143
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12144
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12145
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12146
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12147
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v3, v15}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12148
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x30

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    neg-int v4, v4

    int-to-float v4, v4

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    goto :goto_1c

    .line 12150
    :cond_46
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eq v4, v14, :cond_47

    const/4 v4, 0x0

    goto :goto_19

    :cond_47
    const/16 v4, 0x8

    :goto_19
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12151
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v14, :cond_48

    const/16 v4, 0x8

    goto :goto_1a

    :cond_48
    const/4 v4, 0x0

    :goto_1a
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12152
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v14, :cond_49

    const/16 v4, 0x8

    goto :goto_1b

    :cond_49
    const/4 v4, 0x0

    :goto_1b
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12154
    :goto_1c
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    xor-int/2addr v3, v14

    goto :goto_1e

    .line 12155
    :cond_4a
    instance-of v4, v3, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v4, :cond_4c

    .line 12156
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12157
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12158
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    :cond_4b
    const/4 v3, 0x0

    goto :goto_1e

    .line 12161
    :cond_4c
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    instance-of v6, v3, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v6, :cond_4d

    check-cast v3, Lorg/telegram/messenger/MediaController$SearchImage;

    iget v3, v3, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    if-nez v3, :cond_4d

    const/4 v3, 0x0

    goto :goto_1d

    :cond_4d
    const/16 v3, 0x8

    :goto_1d
    invoke-virtual {v4, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12162
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12163
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12164
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v3}, Landroid/widget/ImageView;->getVisibility()I

    move-result v3

    if-nez v3, :cond_4b

    move v3, v14

    :goto_1e
    if-eqz v3, :cond_4f

    .line 12166
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v3, :cond_4e

    invoke-interface {v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->allowCaption()Z

    move-result v3

    if-eqz v3, :cond_4f

    :cond_4e
    move v3, v14

    goto :goto_1f

    :cond_4f
    const/4 v3, 0x0

    :goto_1f
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    .line 12167
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_51

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    if-eqz v3, :cond_51

    .line 12168
    invoke-virtual {v3}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v4, v4, Lorg/telegram/ui/ChatActivity;->chatInfo:Lorg/telegram/tgnet/TLRPC$ChatFull;

    invoke-virtual {v3, v4}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setChatInfo(Lorg/telegram/tgnet/TLRPC$ChatFull;)V

    .line 12169
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    iget-object v4, v4, Lorg/telegram/ui/ChatActivity;->currentChat:Lorg/telegram/tgnet/TLRPC$Chat;

    if-eqz v4, :cond_50

    move v4, v14

    goto :goto_20

    :cond_50
    const/4 v4, 0x0

    :goto_20
    invoke-virtual {v3, v4}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setNeedUsernames(Z)V

    .line 12170
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v3, v3, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->mentionContainer:Lorg/telegram/ui/Components/MentionsContainerView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/MentionsContainerView;->getAdapter()Lorg/telegram/ui/Adapters/MentionsAdapter;

    move-result-object v3

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Lorg/telegram/ui/Adapters/MentionsAdapter;->setNeedBotContext(Z)V

    goto :goto_21

    :cond_51
    const/4 v2, 0x0

    .line 12188
    :goto_21
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, -0x1

    if-eq v3, v4, :cond_54

    .line 12189
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v3, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12190
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v3

    if-eqz v3, :cond_52

    .line 12191
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v3, v2}, Landroid/widget/TextView;->setVisibility(I)V

    goto :goto_22

    .line 12193
    :cond_52
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12194
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 12195
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v13}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 12197
    :goto_22
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v3, :cond_53

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-nez v4, :cond_53

    .line 12198
    invoke-virtual {v3, v2}, Landroid/view/View;->setVisibility(I)V

    .line 12199
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v3, v13}, Landroid/view/View;->setAlpha(F)V

    .line 12201
    :cond_53
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12202
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12203
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12206
    :cond_54
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 12207
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v14, :cond_55

    .line 12208
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v2, 0x0

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12209
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_25

    :cond_55
    if-eq v3, v12, :cond_58

    const/4 v2, 0x5

    if-eq v3, v2, :cond_58

    .line 12211
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v3

    if-eqz v3, :cond_56

    const/4 v7, 0x0

    goto :goto_23

    :cond_56
    const/16 v7, 0x8

    :goto_23
    invoke-virtual {v2, v7}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12212
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v3

    if-eqz v3, :cond_57

    const/4 v7, 0x0

    goto :goto_24

    :cond_57
    const/16 v7, 0x8

    :goto_24
    invoke-virtual {v2, v7}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_25

    .line 12214
    :cond_58
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12215
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12217
    :goto_25
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    goto :goto_26

    .line 12219
    :cond_59
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    .line 12222
    :cond_5a
    :goto_26
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-nez v2, :cond_5c

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-nez v2, :cond_5c

    .line 12223
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_5b

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    if-nez v2, :cond_5b

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_5b

    iget-boolean v3, v2, Lorg/telegram/messenger/MessageObject;->scheduled:Z

    if-nez v3, :cond_5b

    .line 12224
    iget-object v2, v2, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v2

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v2, v3, :cond_5c

    .line 12225
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->topicId:I

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v29, 0x1

    move-wide/from16 v24, v2

    move/from16 v26, v4

    move/from16 v27, v6

    move/from16 v28, v7

    invoke-virtual/range {v23 .. v29}, Lorg/telegram/messenger/MediaDataController;->getMediaCount(JIIIZ)V

    .line 12226
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_5c

    .line 12227
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v16

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->topicId:I

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v22, 0x1

    move-wide/from16 v17, v2

    move/from16 v19, v4

    move/from16 v20, v6

    move/from16 v21, v7

    invoke-virtual/range {v16 .. v22}, Lorg/telegram/messenger/MediaDataController;->getMediaCount(JIIIZ)V

    goto :goto_27

    .line 12230
    :cond_5b
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v2, v2, v6

    if-eqz v2, :cond_5c

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canLoadMoreAvatars()Z

    move-result v2

    if-eqz v2, :cond_5c

    .line 12231
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v16

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const/16 v19, 0x50

    const/16 v20, 0x0

    const/16 v21, 0x1

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    move-wide/from16 v17, v2

    move/from16 v22, v4

    invoke-virtual/range {v16 .. v22}, Lorg/telegram/messenger/MessagesController;->loadDialogPhotos(JIIZI)V

    .line 12234
    :cond_5c
    :goto_27
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_5d

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-nez v2, :cond_60

    :cond_5d
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v2, :cond_5e

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_60

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v2}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v2

    if-nez v2, :cond_60

    :cond_5e
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v2, :cond_5f

    invoke-interface {v2, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v2

    if-nez v2, :cond_60

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v2, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v2

    if-nez v2, :cond_60

    :cond_5f
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v3, -0x1

    if-ne v2, v3, :cond_61

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v2, :cond_61

    .line 12235
    :cond_60
    iput-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    const/4 v7, 0x0

    .line 12236
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    goto/16 :goto_2c

    :cond_61
    const/4 v7, 0x0

    .line 12237
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_69

    .line 12238
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    .line 12240
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_62

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v3

    goto :goto_28

    :cond_62
    const/4 v3, 0x0

    .line 12241
    :goto_28
    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-nez v4, :cond_63

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v4, :cond_63

    invoke-virtual {v4}, Lorg/telegram/ui/ChatActivity;->isSecretChat()Z

    move-result v4

    if-nez v4, :cond_63

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v4}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v4

    if-nez v4, :cond_63

    if-eqz v3, :cond_63

    iget-boolean v4, v3, Lorg/telegram/tgnet/TLRPC$User;->bot:Z

    if-nez v4, :cond_63

    invoke-static {v3}, Lorg/telegram/messenger/UserObject;->isUserSelf(Lorg/telegram/tgnet/TLRPC$User;)Z

    move-result v3

    if-nez v3, :cond_63

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->isEditingMessageMedia()Z

    move-result v3

    if-nez v3, :cond_63

    move v3, v14

    goto :goto_29

    :cond_63
    move v3, v7

    .line 12242
    :goto_29
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v4, :cond_64

    invoke-interface {v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getEditingMessageObject()Lorg/telegram/messenger/MessageObject;

    move-result-object v4

    if-eqz v4, :cond_64

    move v3, v7

    .line 12245
    :cond_64
    instance-of v4, v2, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v4, :cond_66

    :cond_65
    move v2, v7

    goto :goto_2b

    .line 12247
    :cond_66
    instance-of v4, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v4, :cond_67

    goto :goto_2a

    :cond_67
    if-eqz v3, :cond_68

    .line 12249
    instance-of v4, v2, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v4, :cond_68

    .line 12250
    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    iget v2, v2, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    if-nez v2, :cond_65

    move v2, v14

    goto :goto_2b

    :cond_68
    :goto_2a
    move v2, v3

    .line 12252
    :goto_2b
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v3, v2, v14}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimerVisible(ZZ)V

    .line 12254
    :cond_69
    :goto_2c
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    .line 12256
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updateForwardCloudItem(Lorg/telegram/messenger/MessageObject;)V

    .line 12257
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updatePhotoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12258
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12259
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12260
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/ActionBar;->createMenu()Lorg/telegram/ui/ActionBar/ActionBarMenu;

    move-result-object v2

    if-eqz v1, :cond_6a

    iget-boolean v3, v1, Lorg/telegram/messenger/MessageObject;->isForwardingEditor:Z

    if-eqz v3, :cond_6a

    const/16 v8, 0x8

    goto :goto_2d

    :cond_6a
    move v8, v7

    :goto_2d
    invoke-virtual {v2, v8}, Landroid/widget/LinearLayout;->setVisibility(I)V

    if-eqz v1, :cond_6b

    .line 12261
    iget-boolean v1, v1, Lorg/telegram/messenger/MessageObject;->isForwardingEditor:Z

    if-eqz v1, :cond_6b

    .line 12262
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12263
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_6b
    return-void
.end method

.method private onSharePressed()V
    .locals 1

    const/4 v0, 0x0

    .line 432
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->onSharePressed(Ljava/lang/String;)V

    return-void
.end method

.method private onSharePressed(Ljava/lang/String;)V
    .locals 9

    .line 4446
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_e

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-nez v0, :cond_0

    goto/16 :goto_6

    .line 4453
    :cond_0
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz v0, :cond_3

    .line 4454
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    .line 4459
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_2

    .line 4460
    new-instance v0, Ljava/io/File;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v4, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v0, v4}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 4461
    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v4

    if-nez v4, :cond_1

    goto :goto_0

    :cond_1
    move-object v3, v0

    :cond_2
    :goto_0
    if-nez v3, :cond_7

    .line 4466
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v3

    goto :goto_3

    .line 4468
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    if-eqz v0, :cond_6

    .line 4469
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v3}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v4}, Lorg/telegram/ui/PhotoViewer;->getFileLocationExt(Lorg/telegram/messenger/ImageLocation;)Ljava/lang/String;

    move-result-object v4

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v7, 0x0

    cmp-long v5, v5, v7

    if-nez v5, :cond_5

    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v5, :cond_4

    goto :goto_1

    :cond_4
    move v5, v2

    goto :goto_2

    :cond_5
    :goto_1
    move v5, v1

    :goto_2
    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Ljava/lang/String;Z)Ljava/io/File;

    move-result-object v3

    goto :goto_3

    .line 4470
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_7

    .line 4471
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object v3

    :cond_7
    :goto_3
    if-eqz v3, :cond_8

    .line 4473
    invoke-virtual {v3}, Ljava/io/File;->exists()Z

    move-result v0

    if-nez v0, :cond_8

    .line 4474
    new-instance v0, Ljava/io/File;

    const/4 v4, 0x4

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v4

    invoke-virtual {v3}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v0, v4, v3}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    move-object v3, v0

    :cond_8
    if-eqz v3, :cond_d

    .line 4477
    invoke-virtual {v3}, Ljava/io/File;->exists()Z

    move-result v0

    if-eqz v0, :cond_d

    .line 4478
    new-instance v0, Landroid/content/Intent;

    const-string v4, "android.intent.action.SEND"

    invoke-direct {v0, v4}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    if-eqz v2, :cond_9

    const-string v2, "video/mp4"

    .line 4480
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_4

    .line 4482
    :cond_9
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_a

    .line 4483
    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getMimeType()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto :goto_4

    :cond_a
    const-string v2, "image/jpeg"

    .line 4485
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 4488
    :goto_4
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1

    const/16 v4, 0x18

    const-string v5, "android.intent.extra.STREAM"

    if-lt v2, v4, :cond_b

    .line 4490
    :try_start_1
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Lorg/telegram/messenger/ApplicationLoader;->getApplicationId()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v6, ".provider"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4, v3}, Landroidx/core/content/FileProvider;->getUriForFile(Landroid/content/Context;Ljava/lang/String;Ljava/io/File;)Landroid/net/Uri;

    move-result-object v2

    invoke-virtual {v0, v5, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 4491
    invoke-virtual {v0, v1}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_5

    .line 4493
    :catch_0
    :try_start_2
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v5, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    goto :goto_5

    .line 4496
    :cond_b
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v5, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    :goto_5
    if-eqz p1, :cond_c

    .line 4501
    invoke-virtual {v0, p1}, Landroid/content/Intent;->setPackage(Ljava/lang/String;)Landroid/content/Intent;

    .line 4502
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {p1, v0}, Landroid/app/Activity;->startActivity(Landroid/content/Intent;)V

    goto :goto_6

    .line 4504
    :cond_c
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "ShareFile"

    sget v2, Lorg/telegram/messenger/R$string;->ShareFile:I

    invoke-static {v1, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/content/Intent;->createChooser(Landroid/content/Intent;Ljava/lang/CharSequence;)Landroid/content/Intent;

    move-result-object v0

    const/16 v1, 0x1f4

    invoke-virtual {p1, v0, v1}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V

    goto :goto_6

    .line 4506
    :cond_d
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V
    :try_end_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_1

    goto :goto_6

    :catch_1
    move-exception p1

    .line 4509
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_e
    :goto_6
    return-void
.end method

.method private onShowView()V
    .locals 2

    .line 8076
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v1, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v1, :cond_0

    .line 8077
    check-cast v0, Lorg/telegram/ui/LaunchActivity;

    .line 8078
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->onUserLeaveHintListener:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/LaunchActivity;->addOnUserLeaveHintListener(Ljava/lang/Runnable;)V

    :cond_0
    return-void
.end method

.method private onTouchEvent(Landroid/view/MotionEvent;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    .line 15971
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v3, 0x5

    const-wide/16 v4, 0x0

    const/4 v6, 0x3

    const/4 v7, 0x2

    const/4 v8, 0x1

    if-ne v2, v6, :cond_2

    iget-wide v9, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v9, v4

    if-eqz v2, :cond_2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eqz v2, :cond_0

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-ne v2, v3, :cond_2

    .line 15972
    :cond_0
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-lt v2, v7, :cond_1

    .line 15973
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->cancelMoveZoomAnimation()V

    goto :goto_0

    :cond_1
    return v8

    .line 15978
    :cond_2
    :goto_0
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    const/4 v9, 0x0

    if-nez v2, :cond_51

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v10, v4

    if-eqz v2, :cond_3

    goto/16 :goto_18

    .line 15982
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    iget v2, v2, Lorg/telegram/messenger/video/VideoPlayerRewinder;->rewindCount:I

    if-lez v2, :cond_6

    .line 15983
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v2

    if-eq v2, v8, :cond_5

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v1

    if-ne v1, v6, :cond_4

    goto :goto_1

    :cond_4
    return v8

    .line 15984
    :cond_5
    :goto_1
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    invoke-virtual {v1}, Lorg/telegram/messenger/video/VideoPlayerRewinder;->cancelRewind()V

    return v9

    .line 15990
    :cond_6
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v7, :cond_7

    .line 15991
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/PhotoFilterView;->onTouch(Landroid/view/MotionEvent;)Z

    return v8

    :cond_7
    if-eq v2, v8, :cond_50

    if-eq v2, v6, :cond_8

    .line 15993
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v8, :cond_8

    goto/16 :goto_17

    .line 15997
    :cond_8
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result v2

    if-nez v2, :cond_4f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v2, v2, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/EditTextEmoji;->isKeyboardVisible()Z

    move-result v2

    if-eqz v2, :cond_9

    goto/16 :goto_16

    .line 16004
    :cond_9
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v2, :cond_a

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v2, v8, :cond_a

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_a

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/GestureDetector2;->onTouchEvent(Landroid/view/MotionEvent;)Z

    move-result v2

    if-eqz v2, :cond_a

    .line 16005
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    if-eqz v2, :cond_a

    .line 16006
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 16007
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16008
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 16009
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->checkMinMax(Z)V

    return v8

    .line 16014
    :cond_a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->tooltip:Lorg/telegram/ui/Components/Tooltip;

    if-eqz v2, :cond_b

    .line 16015
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Tooltip;->hide()V

    .line 16018
    :cond_b
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/high16 v10, 0x40000000    # 2.0f

    if-eqz v2, :cond_45

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-ne v2, v3, :cond_c

    goto/16 :goto_13

    .line 16081
    :cond_c
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/high16 v3, 0x40400000    # 3.0f

    const/high16 v11, 0x3f800000    # 1.0f

    const/4 v12, 0x0

    if-ne v2, v7, :cond_28

    .line 16083
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v2, :cond_12

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v7, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v2, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-eqz v2, :cond_12

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    if-nez v2, :cond_12

    .line 16084
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 16085
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v6, :cond_11

    .line 16086
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v4

    add-float/2addr v2, v4

    div-float/2addr v2, v10

    .line 16087
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v5

    add-float/2addr v4, v5

    div-float/2addr v4, v10

    .line 16088
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    sub-float/2addr v5, v2

    .line 16089
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    sub-float/2addr v6, v4

    .line 16090
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16091
    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 16092
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v11, v10, v11

    if-ltz v11, :cond_d

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v10, v10, v11

    if-lez v10, :cond_e

    :cond_d
    div-float/2addr v5, v3

    .line 16095
    :cond_e
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v11, v10, v11

    if-ltz v11, :cond_f

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v10, v10, v11

    if-lez v10, :cond_10

    :cond_f
    div-float/2addr v6, v3

    .line 16098
    :cond_10
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v10

    div-int/2addr v10, v7

    int-to-float v10, v10

    sub-float/2addr v3, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v11

    div-int/2addr v11, v7

    int-to-float v11, v11

    sub-float/2addr v10, v11

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v10, v11

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v11, v12

    div-float/2addr v10, v11

    sub-float/2addr v3, v10

    sub-float/2addr v3, v5

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 16099
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    div-int/2addr v5, v7

    int-to-float v5, v5

    sub-float/2addr v3, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v10

    div-int/2addr v10, v7

    int-to-float v10, v10

    sub-float/2addr v5, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v5, v10

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v10, v11

    div-float/2addr v5, v10

    sub-float/2addr v3, v5

    sub-float/2addr v3, v6

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 16100
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 16101
    iput v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 16103
    :cond_11
    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    sub-float/2addr v2, v3

    float-to-double v2, v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v1

    sub-float/2addr v4, v1

    float-to-double v4, v4

    invoke-static {v2, v3, v4, v5}, Ljava/lang/Math;->hypot(DD)D

    move-result-wide v1

    double-to-float v1, v1

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    div-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    mul-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 16104
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    div-int/2addr v3, v7

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float/2addr v3, v4

    mul-float/2addr v2, v3

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16105
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    div-int/2addr v3, v7

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v4, v3, v4

    mul-float/2addr v2, v4

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16106
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16107
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16108
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 16109
    :cond_12
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_4e

    .line 16110
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_13

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_13

    .line 16111
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 16112
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v1

    .line 16113
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v3

    neg-float v3, v3

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v1, v3, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 16114
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16115
    invoke-virtual {v1}, Landroid/view/MotionEvent;->recycle()V

    return v8

    .line 16118
    :cond_13
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_14

    .line 16119
    invoke-virtual {v2, v1}, Landroid/view/VelocityTracker;->addMovement(Landroid/view/MotionEvent;)V

    .line 16121
    :cond_14
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    sub-float/2addr v2, v6

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    .line 16122
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v6

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    sub-float/2addr v6, v7

    invoke-static {v6}, Ljava/lang/Math;->abs(F)F

    move-result v6

    .line 16123
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->touchSlop:I

    int-to-float v13, v7

    cmpl-float v13, v2, v13

    if-gtz v13, :cond_15

    int-to-float v7, v7

    cmpl-float v7, v6, v7

    if-lez v7, :cond_16

    .line 16124
    :cond_15
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 16125
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16126
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 16127
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    if-eqz v7, :cond_16

    invoke-virtual {v7}, Landroid/view/View;->getVisibility()I

    move-result v7

    if-nez v7, :cond_16

    return v8

    .line 16131
    :cond_16
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canScrollAway()Z

    move-result v7

    if-eqz v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v7, v8, :cond_19

    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    if-eqz v7, :cond_19

    iget-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v7, :cond_19

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v7, v7, v11

    if-nez v7, :cond_19

    const/16 v7, 0x1e

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v7

    int-to-float v7, v7

    cmpl-float v7, v6, v7

    if-ltz v7, :cond_19

    div-float/2addr v6, v10

    cmpl-float v2, v6, v2

    if-lez v2, :cond_19

    .line 16132
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 16133
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16134
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16135
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    .line 16136
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v1, :cond_17

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_17

    .line 16137
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_2

    .line 16138
    :cond_17
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_18

    .line 16139
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 16140
    invoke-direct {v0, v9, v8}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    .line 16141
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->toggleCheckImageView(Z)V

    :cond_18
    :goto_2
    return v8

    .line 16144
    :cond_19
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-eqz v2, :cond_1a

    .line 16145
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16146
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 16147
    :cond_1a
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    if-nez v2, :cond_27

    iget-wide v6, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v2, v6, v4

    if-nez v2, :cond_27

    .line 16148
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v4

    sub-float/2addr v2, v4

    .line 16149
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v5

    sub-float/2addr v4, v5

    .line 16150
    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-nez v5, :cond_1c

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v5, :cond_1c

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v5, v5, v11

    if-nez v5, :cond_1b

    invoke-static {v4}, Ljava/lang/Math;->abs(F)F

    move-result v5

    const/16 v6, 0xc

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v6

    cmpg-float v5, v5, v6

    if-ltz v5, :cond_1c

    :cond_1b
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v5, v5, v11

    if-eqz v5, :cond_4e

    .line 16151
    :cond_1c
    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-nez v5, :cond_1d

    .line 16154
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16155
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16156
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    move v2, v12

    move v4, v2

    .line 16159
    :cond_1d
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v5

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16160
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 16161
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16162
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v1, v1, v5

    if-gez v1, :cond_1e

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1f

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v1

    if-eqz v1, :cond_1f

    :cond_1e
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v1, v1, v5

    if-lez v1, :cond_20

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v1, :cond_1f

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v1

    if-nez v1, :cond_20

    :cond_1f
    div-float/2addr v2, v3

    .line 16165
    :cond_20
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v5, v1, v12

    if-nez v5, :cond_22

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpl-float v6, v5, v12

    if-nez v6, :cond_22

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v6, :cond_22

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v6, v8, :cond_22

    .line 16166
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float v6, v3, v4

    cmpg-float v6, v6, v5

    if-gez v6, :cond_21

    .line 16167
    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_4

    :cond_21
    sub-float/2addr v3, v4

    cmpl-float v3, v3, v1

    if-lez v3, :cond_23

    .line 16170
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_4

    .line 16174
    :cond_22
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v6, v5, v6

    if-ltz v6, :cond_24

    cmpl-float v1, v5, v1

    if-lez v1, :cond_23

    goto :goto_3

    :cond_23
    move v12, v4

    goto :goto_4

    :cond_24
    :goto_3
    div-float v12, v4, v3

    .line 16179
    :goto_4
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16180
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v1, v1, v11

    if-nez v1, :cond_25

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v1, :cond_26

    .line 16181
    :cond_25
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v1, v12

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16183
    :cond_26
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    .line 16184
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    goto/16 :goto_15

    .line 16187
    :cond_27
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    .line 16188
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16189
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    goto/16 :goto_15

    .line 16192
    :cond_28
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eq v2, v6, :cond_29

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-eq v2, v8, :cond_29

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    const/4 v4, 0x6

    if-ne v2, v4, :cond_4e

    .line 16193
    :cond_29
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16194
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 16195
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_2b

    .line 16196
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_2a

    .line 16197
    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 16198
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v1

    .line 16199
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v3

    neg-float v3, v3

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v1, v3, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 16200
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16201
    invoke-virtual {v1}, Landroid/view/MotionEvent;->recycle()V

    .line 16203
    :cond_2a
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    return v8

    .line 16206
    :cond_2b
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 16207
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    if-eqz v2, :cond_37

    .line 16208
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    .line 16209
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpg-float v2, v1, v11

    if-gez v2, :cond_2c

    .line 16210
    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16211
    invoke-direct {v0, v11, v12, v12, v8}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto/16 :goto_d

    :cond_2c
    cmpl-float v1, v1, v3

    if-lez v1, :cond_31

    .line 16213
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/2addr v2, v7

    int-to-float v2, v2

    sub-float/2addr v1, v2

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    div-int/2addr v4, v7

    int-to-float v4, v4

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v4, v3, v4

    mul-float/2addr v2, v4

    sub-float/2addr v1, v2

    .line 16214
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    div-int/2addr v4, v7

    int-to-float v4, v4

    sub-float/2addr v2, v4

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    div-int/2addr v5, v7

    int-to-float v5, v5

    sub-float/2addr v4, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    sub-float/2addr v4, v5

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    div-float v5, v3, v5

    mul-float/2addr v4, v5

    sub-float/2addr v2, v4

    .line 16215
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16216
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v1, v4

    if-gez v5, :cond_2d

    :goto_5
    move v1, v4

    goto :goto_6

    .line 16218
    :cond_2d
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v5, v1, v4

    if-lez v5, :cond_2e

    goto :goto_5

    .line 16221
    :cond_2e
    :goto_6
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v2, v4

    if-gez v5, :cond_2f

    :goto_7
    move v2, v4

    goto :goto_8

    .line 16223
    :cond_2f
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v5, v2, v4

    if-lez v5, :cond_30

    goto :goto_7

    .line 16226
    :cond_30
    :goto_8
    invoke-direct {v0, v3, v1, v2, v8}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto :goto_d

    .line 16228
    :cond_31
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->checkMinMax(Z)V

    .line 16229
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v1, v6, :cond_36

    .line 16230
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16231
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16232
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16233
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_32

    :goto_9
    move v1, v4

    goto :goto_a

    .line 16235
    :cond_32
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_33

    goto :goto_9

    .line 16238
    :cond_33
    :goto_a
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_34

    :goto_b
    move v2, v4

    goto :goto_c

    .line 16240
    :cond_34
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_35

    goto :goto_b

    .line 16243
    :cond_35
    :goto_c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3, v1, v2, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 16246
    :cond_36
    :goto_d
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 16247
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    goto/16 :goto_15

    .line 16248
    :cond_37
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-eqz v2, :cond_3b

    .line 16249
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v3

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    int-to-float v3, v3

    const/high16 v4, 0x40c00000    # 6.0f

    div-float/2addr v3, v4

    cmpl-float v2, v2, v3

    if-lez v2, :cond_39

    .line 16250
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->enableSwipeToPiP()Z

    move-result v2

    if-eqz v2, :cond_38

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v1

    sub-float/2addr v2, v1

    cmpl-float v1, v2, v12

    if-lez v1, :cond_38

    .line 16251
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    goto :goto_e

    .line 16253
    :cond_38
    invoke-virtual {v0, v8, v9}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    goto :goto_e

    .line 16256
    :cond_39
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v1

    if-nez v1, :cond_3a

    .line 16257
    invoke-direct {v0, v8, v8}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 16258
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->toggleCheckImageView(Z)V

    .line 16260
    :cond_3a
    invoke-direct {v0, v11, v12, v12, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 16262
    :goto_e
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    goto/16 :goto_15

    .line 16263
    :cond_3b
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    if-eqz v1, :cond_4e

    .line 16264
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 16265
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 16266
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 16267
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16268
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16270
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v3, :cond_3c

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v4, v4, v11

    if-nez v4, :cond_3c

    const/16 v4, 0x3e8

    .line 16271
    invoke-virtual {v3, v4}, Landroid/view/VelocityTracker;->computeCurrentVelocity(I)V

    .line 16272
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    invoke-virtual {v3}, Landroid/view/VelocityTracker;->getXVelocity()F

    move-result v12

    .line 16275
    :cond_3c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v3, :cond_40

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v3, v8, :cond_40

    .line 16276
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    div-int/2addr v5, v6

    int-to-float v5, v5

    sub-float/2addr v4, v5

    cmpg-float v3, v3, v4

    const/16 v4, 0x28a

    if-ltz v3, :cond_3d

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    cmpg-float v3, v12, v3

    if-gez v3, :cond_3e

    :cond_3d
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_3e

    .line 16277
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->goToNext()V

    return v8

    .line 16280
    :cond_3e
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v7

    div-int/2addr v7, v6

    int-to-float v6, v7

    add-float/2addr v5, v6

    cmpl-float v3, v3, v5

    if-gtz v3, :cond_3f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    cmpl-float v3, v12, v3

    if-lez v3, :cond_40

    :cond_3f
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_40

    .line 16281
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->goToPrev()V

    return v8

    .line 16286
    :cond_40
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_41

    :goto_f
    move v1, v4

    goto :goto_10

    .line 16288
    :cond_41
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_42

    goto :goto_f

    .line 16291
    :cond_42
    :goto_10
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v5, v3, v4

    if-gez v5, :cond_43

    :goto_11
    move v2, v4

    goto :goto_12

    .line 16293
    :cond_43
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v3, v3, v4

    if-lez v3, :cond_44

    goto :goto_11

    .line 16296
    :cond_44
    :goto_12
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v3, v1, v2, v9}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto/16 :goto_15

    .line 16019
    :cond_45
    :goto_13
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    .line 16020
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v2}, Landroid/widget/Scroller;->isFinished()Z

    move-result v2

    if-nez v2, :cond_46

    .line 16021
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {v2}, Landroid/widget/Scroller;->abortAnimation()V

    .line 16023
    :cond_46
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    if-nez v2, :cond_4c

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    if-nez v2, :cond_4c

    .line 16024
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v2, :cond_4a

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v7, :cond_4a

    .line 16025
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-ne v2, v8, :cond_48

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x3

    const/16 v16, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 16026
    invoke-static/range {v11 .. v18}, Landroid/view/MotionEvent;->obtain(JJIFFI)Landroid/view/MotionEvent;

    move-result-object v2

    .line 16028
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v3, :cond_47

    .line 16029
    invoke-virtual {v3, v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16030
    :cond_47
    invoke-virtual {v2}, Landroid/view/MotionEvent;->recycle()V

    .line 16031
    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 16033
    :cond_48
    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    sub-float/2addr v2, v3

    float-to-double v2, v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v4

    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v5

    sub-float/2addr v4, v5

    float-to-double v4, v4

    invoke-static {v2, v3, v4, v5}, Ljava/lang/Math;->hypot(DD)D

    move-result-wide v2

    double-to-float v2, v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    .line 16034
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 16035
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getX(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getX(I)F

    move-result v3

    add-float/2addr v2, v3

    div-float/2addr v2, v10

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 16036
    invoke-virtual {v1, v9}, Landroid/view/MotionEvent;->getY(I)F

    move-result v2

    invoke-virtual {v1, v8}, Landroid/view/MotionEvent;->getY(I)F

    move-result v3

    add-float/2addr v2, v3

    div-float/2addr v2, v10

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 16037
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 16038
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 16039
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 16040
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 16041
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v6, :cond_49

    .line 16042
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16043
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    .line 16044
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 16045
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16047
    :cond_49
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    .line 16048
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_4c

    .line 16049
    invoke-virtual {v2}, Landroid/view/VelocityTracker;->clear()V

    goto :goto_14

    .line 16051
    :cond_4a
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getPointerCount()I

    move-result v2

    if-ne v2, v8, :cond_4c

    .line 16052
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v2, v6, :cond_4b

    .line 16053
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    if-nez v2, :cond_4c

    .line 16054
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v2

    .line 16055
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual {v2, v3}, Landroid/view/View;->getHitRect(Landroid/graphics/Rect;)V

    .line 16056
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->hitRect:Landroid/graphics/Rect;

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v4

    float-to-int v4, v4

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v5

    float-to-int v5, v5

    invoke-virtual {v3, v4, v5}, Landroid/graphics/Rect;->contains(II)Z

    move-result v3

    if-eqz v3, :cond_4c

    .line 16057
    invoke-static/range {p1 .. p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object v3

    .line 16058
    invoke-virtual {v2}, Landroid/view/View;->getX()F

    move-result v4

    neg-float v4, v4

    invoke-virtual {v2}, Landroid/view/View;->getY()F

    move-result v2

    neg-float v2, v2

    invoke-virtual {v3, v4, v2}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 16059
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onTouch(Landroid/view/MotionEvent;)Z

    .line 16060
    invoke-virtual {v3}, Landroid/view/MotionEvent;->recycle()V

    .line 16061
    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    goto :goto_14

    .line 16065
    :cond_4b
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 16066
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->dragY:F

    .line 16067
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    .line 16068
    iput-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 16069
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v2, :cond_4c

    .line 16070
    invoke-virtual {v2}, Landroid/view/VelocityTracker;->clear()V

    .line 16075
    :cond_4c
    :goto_14
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getActionMasked()I

    move-result v2

    if-nez v2, :cond_4d

    .line 16076
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressX:F

    .line 16077
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0x12c

    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_15

    .line 16079
    :cond_4d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->longPressRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :cond_4e
    :goto_15
    return v9

    .line 15998
    :cond_4f
    :goto_16
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getAction()I

    move-result v1

    if-ne v1, v8, :cond_50

    .line 15999
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    :cond_50
    :goto_17
    return v8

    :cond_51
    :goto_18
    return v9
.end method

.method private onUserLeaveHint()V
    .locals 4

    .line 8102
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    const/high16 v1, 0x3f800000    # 1.0f

    cmpl-float v0, v0, v1

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->checkInlinePermissions(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_4

    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->isVisible()Z

    move-result v0

    if-nez v0, :cond_4

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v0, :cond_0

    goto :goto_0

    .line 8105
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    const/4 v2, 0x0

    if-eqz v0, :cond_3

    .line 8106
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_4

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isInAppOnly()Z

    move-result v0

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->openInPip()Z

    move-result v0

    if-eqz v0, :cond_4

    .line 8107
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 8109
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_1

    .line 8110
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    :cond_1
    const/4 v0, 0x1

    .line 8112
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 8113
    sget-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    sput-object v3, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    const/4 v3, 0x0

    .line 8114
    sput-object v3, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 8115
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 8116
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v2, :cond_2

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getVisible()Z

    move-result v2

    if-nez v2, :cond_2

    .line 8117
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v0, v0}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 8119
    :cond_2
    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 8120
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 8121
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    goto :goto_0

    .line 8124
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipVideoOverlayAnimateFlag:Z

    .line 8126
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->switchToPip(Z)V

    :cond_4
    :goto_0
    return-void
.end method

.method private openCurrentPhotoInPaintModeForSelect()V
    .locals 12

    .line 14469
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->canSendMediaToParentChatActivity()Z

    move-result v0

    if-nez v0, :cond_0

    return-void

    .line 14478
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x1

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz v0, :cond_5

    .line 14480
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canEditMedia()Z

    move-result v4

    if-eqz v4, :cond_1

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isDocument()Z

    move-result v4

    if-nez v4, :cond_1

    move v4, v1

    goto :goto_0

    :cond_1
    move v4, v3

    .line 14481
    :goto_0
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    .line 14482
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v6, v6, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v6, v6, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v6

    if-nez v6, :cond_3

    .line 14483
    new-instance v6, Ljava/io/File;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v7, v7, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    invoke-direct {v6, v7}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 14484
    invoke-virtual {v6}, Ljava/io/File;->exists()Z

    move-result v7

    if-nez v7, :cond_2

    goto :goto_1

    :cond_2
    move-object v2, v6

    :cond_3
    :goto_1
    if-nez v2, :cond_4

    .line 14489
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v6, v6, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v2, v6}, Lorg/telegram/messenger/FileLoader;->getPathToMessage(Lorg/telegram/tgnet/TLRPC$Message;)Ljava/io/File;

    move-result-object v2

    :cond_4
    move-object v10, v0

    move-object v8, v2

    move v11, v4

    move v9, v5

    goto :goto_2

    :cond_5
    move-object v8, v2

    move-object v10, v8

    move v9, v3

    move v11, v9

    :goto_2
    if-eqz v8, :cond_6

    .line 14493
    invoke-virtual {v8}, Ljava/io/File;->exists()Z

    move-result v0

    if-eqz v0, :cond_6

    .line 14494
    new-instance v0, Lorg/telegram/ui/PhotoViewer$SavedState;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    new-instance v4, Ljava/util/ArrayList;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-direct {v4, v5}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-direct {v0, p0, v2, v4, v5}, Lorg/telegram/ui/PhotoViewer$SavedState;-><init>(Lorg/telegram/ui/PhotoViewer;ILjava/util/ArrayList;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 14496
    new-instance v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    .line 14497
    invoke-direct {p0, v3, v1, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    .line 14503
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda76;

    move-object v6, v1

    move-object v7, p0

    invoke-direct/range {v6 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda76;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/io/File;ZLorg/telegram/messenger/MessageObject;Z)V

    iget v0, v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration:I

    int-to-long v2, v0

    invoke-static {v1, v2, v3}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_3

    .line 14605
    :cond_6
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->showDownloadAlert()V

    :goto_3
    return-void
.end method

.method private pauseVideoOrWeb()V
    .locals 1

    .line 8905
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8906
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->pause()V

    goto :goto_0

    .line 8909
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8910
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->pauseVideo()V

    :cond_1
    :goto_0
    return-void
.end method

.method private playOrStopAnimatedStickers(Z)V
    .locals 4

    .line 9654
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_3

    const/4 v1, 0x0

    .line 9655
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9656
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9657
    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v3, :cond_2

    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v3, v3, 0x1

    if-eqz v3, :cond_2

    iget-object v2, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->view:Landroid/view/View;

    instance-of v3, v2, Lorg/telegram/ui/Components/BackupImageView;

    if-eqz v3, :cond_2

    .line 9658
    check-cast v2, Lorg/telegram/ui/Components/BackupImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/BackupImageView;->getImageReceiver()Lorg/telegram/messenger/ImageReceiver;

    move-result-object v2

    .line 9659
    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getLottieAnimation()Lorg/telegram/ui/Components/RLottieDrawable;

    move-result-object v2

    if-nez v2, :cond_0

    goto :goto_1

    :cond_0
    if-eqz p1, :cond_1

    .line 9664
    invoke-virtual {v2}, Lorg/telegram/ui/Components/RLottieDrawable;->start()V

    goto :goto_1

    .line 9666
    :cond_1
    invoke-virtual {v2}, Lorg/telegram/ui/Components/RLottieDrawable;->stop()V

    :cond_2
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    return-void
.end method

.method private playVideoOrWeb()V
    .locals 1

    .line 8895
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8896
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->play()V

    goto :goto_0

    .line 8899
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8900
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->playVideo()V

    :cond_1
    :goto_0
    return-void
.end method

.method private postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;
    .locals 10

    if-eqz p1, :cond_5

    .line 12935
    iget-object v0, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-nez v0, :cond_0

    goto/16 :goto_2

    .line 12938
    :cond_0
    new-instance v0, Landroid/text/SpannableStringBuilder;

    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->text:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/text/SpannableStringBuilder;-><init>(Ljava/lang/CharSequence;)V

    .line 12939
    sget-object v1, Lorg/telegram/ui/ActionBar/Theme;->chat_msgTextPaint:Landroid/text/TextPaint;

    invoke-virtual {v1}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v1

    const/16 v2, 0x14

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    const/4 v3, 0x0

    invoke-static {v0, v1, v2, v3}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v0

    .line 12940
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->entities:Ljava/util/ArrayList;

    sget-object v2, Lorg/telegram/ui/ActionBar/Theme;->chat_msgTextPaint:Landroid/text/TextPaint;

    invoke-virtual {v2}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v2

    invoke-static {v0, v1, v2, v3}, Lorg/telegram/messenger/MessageObject;->replaceAnimatedEmoji(Ljava/lang/CharSequence;Ljava/util/ArrayList;Landroid/graphics/Paint$FontMetricsInt;Z)Landroid/text/Spannable;

    move-result-object v0

    .line 12941
    invoke-static {v0}, Lorg/telegram/messenger/MessageObject;->containsUrls(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_1

    const/4 v1, 0x5

    .line 12943
    :try_start_0
    invoke-static {v0, v1}, Lorg/telegram/messenger/AndroidUtilities;->addLinks(Landroid/text/Spannable;I)Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v1

    .line 12945
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 12948
    :cond_1
    :goto_0
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x1

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    .line 12949
    iget-object v1, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;->entities:Ljava/util/ArrayList;

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v6

    const/4 v7, 0x1

    const/4 v8, 0x1

    move-object v4, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addEntitiesToText(Ljava/lang/CharSequence;Ljava/util/ArrayList;ZZZZ)Z

    .line 12950
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 12951
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x3

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    double-to-int v8, v1

    const/4 v9, 0x0

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    goto :goto_1

    .line 12952
    :cond_2
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isMusic()Z

    move-result v1

    if-nez v1, :cond_3

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVoice()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 12953
    :cond_3
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v4

    const/4 v6, 0x1

    const/4 v7, 0x4

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v1

    double-to-int v8, v1

    const/4 v9, 0x0

    move-object v5, v0

    invoke-static/range {v4 .. v9}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    :cond_4
    :goto_1
    return-object v0

    :cond_5
    :goto_2
    const-string p1, ""

    return-object p1
.end method

.method private preparePlayer(Landroid/net/Uri;ZZ)V
    .locals 1

    const/4 v0, 0x0

    .line 8925
    invoke-direct {p0, p1, p2, p3, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    return-void
.end method

.method private preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V
    .locals 18

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, p3

    if-nez v2, :cond_0

    .line 8930
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    .line 8932
    :cond_0
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v3, :cond_1

    return-void

    :cond_1
    const/4 v3, 0x0

    .line 8935
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->streamingAlertShown:Z

    .line 8936
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->startedPlayTime:J

    .line 8937
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    const-wide/16 v4, 0x0

    .line 8938
    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    const/4 v6, 0x1

    .line 8939
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    .line 8940
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    .line 8941
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 8942
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v7

    const/4 v8, 0x0

    if-eqz v7, :cond_2

    .line 8943
    invoke-direct {v0, v8}, Lorg/telegram/ui/PhotoViewer;->createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 8945
    :cond_2
    sget v7, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v9, 0x15

    const/4 v10, 0x4

    const/4 v11, 0x0

    if-lt v7, v9, :cond_3

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    if-nez v7, :cond_3

    .line 8946
    new-instance v7, Landroid/widget/ImageView;

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v7, v9}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    const/high16 v9, -0x10000

    .line 8947
    invoke-virtual {v7, v9}, Landroid/widget/ImageView;->setBackgroundColor(I)V

    .line 8948
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v11}, Landroid/widget/ImageView;->setPivotX(F)V

    .line 8949
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v11}, Landroid/widget/ImageView;->setPivotY(F)V

    .line 8950
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v10}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 8951
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v7, v9}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 8953
    :cond_3
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    .line 8955
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    if-nez v7, :cond_5

    .line 8956
    new-instance v7, Lorg/telegram/ui/PhotoViewer$47;

    sget-object v9, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    invoke-direct {v7, v0, v9}, Lorg/telegram/ui/PhotoViewer$47;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 8984
    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->canDetectOrientation()Z

    move-result v7

    if-eqz v7, :cond_4

    .line 8985
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->enable()V

    goto :goto_0

    .line 8987
    :cond_4
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    invoke-virtual {v7}, Landroid/view/OrientationEventListener;->disable()V

    .line 8988
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 8992
    :cond_5
    :goto_0
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    .line 8993
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    .line 8994
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeStarted:Z

    .line 8996
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    .line 8997
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    const-wide/16 v12, -0x1

    .line 8998
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->captureFrameReadyAtTime:J

    .line 8999
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->captureFrameAtTime:J

    .line 9000
    iput-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->needCaptureFrameReadyAtTime:J

    .line 9001
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->firstFrameRendered:Z

    .line 9002
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v7, :cond_a

    .line 9003
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v7, :cond_6

    .line 9004
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    .line 9005
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    .line 9006
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 9007
    invoke-virtual {v7}, Lorg/telegram/ui/Components/VideoPlayer;->getPlayWhenReady()Z

    move-result v7

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoPlayer;->getPlaybackState()I

    move-result v9

    invoke-direct {v0, v7, v9}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    move v7, v3

    goto :goto_1

    .line 9009
    :cond_6
    new-instance v7, Lorg/telegram/ui/PhotoViewer$48;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$48;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    move v7, v6

    .line 9043
    :goto_1
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v9, :cond_7

    .line 9044
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v12, v9}, Lorg/telegram/ui/Components/VideoPlayer;->setTextureView(Landroid/view/TextureView;)V

    goto :goto_2

    .line 9045
    :cond_7
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v9, :cond_8

    .line 9046
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v12, v9}, Lorg/telegram/ui/Components/VideoPlayer;->setSurfaceView(Landroid/view/SurfaceView;)V

    .line 9049
    :cond_8
    :goto_2
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v9, :cond_9

    .line 9050
    invoke-virtual {v9}, Lorg/telegram/ui/PhotoViewer$FirstFrameView;->clear()V

    .line 9052
    :cond_9
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    new-instance v12, Lorg/telegram/ui/PhotoViewer$49;

    invoke-direct {v12, v0}, Lorg/telegram/ui/PhotoViewer$49;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v9, v12}, Lorg/telegram/ui/Components/VideoPlayer;->setDelegate(Lorg/telegram/ui/Components/VideoPlayer$VideoPlayerDelegate;)V

    goto :goto_3

    :cond_a
    move v7, v3

    .line 9172
    :goto_3
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_b

    move-object/from16 v9, p4

    .line 9173
    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->createVideoTextureView(Lorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 9175
    :cond_b
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    .line 9176
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v9, :cond_c

    .line 9177
    invoke-virtual {v9, v11}, Landroid/view/TextureView;->setAlpha(F)V

    .line 9179
    :cond_c
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v9, :cond_d

    .line 9180
    invoke-virtual {v9, v10}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 9182
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    if-eqz v9, :cond_e

    .line 9183
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->videoCrossfadeAlpha:F

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/PaintingOverlay;->setAlpha(F)V

    .line 9186
    :cond_e
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    .line 9187
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 9188
    iput-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->lastSaveTime:J

    const/high16 v4, -0x40800000    # -1.0f

    if-eqz v7, :cond_16

    .line 9190
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 9191
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 9192
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v7

    invoke-virtual {v5, v7}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 9193
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    .line 9195
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v5, :cond_15

    .line 9196
    invoke-virtual {v5}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v9

    double-to-int v5, v9

    .line 9197
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getFileName()Ljava/lang/String;

    move-result-object v7

    .line 9198
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    if-nez v9, :cond_15

    const/16 v9, 0x258

    const v10, 0x3f7fbe77    # 0.999f

    if-lt v5, v9, :cond_10

    .line 9200
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v5, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v5, v5, v11

    if-gez v5, :cond_f

    .line 9201
    sget-object v5, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v8, "media_saved_pos"

    invoke-virtual {v5, v8, v3}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v5

    .line 9202
    invoke-interface {v5, v7, v4}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v5

    cmpl-float v8, v5, v11

    if-lez v8, :cond_f

    cmpg-float v8, v5, v10

    if-gez v8, :cond_f

    .line 9204
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v5, v8, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 9205
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v8, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 9208
    :cond_f
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    goto :goto_6

    :cond_10
    const/16 v9, 0xa

    if-lt v5, v9, :cond_15

    .line 9211
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v5}, Landroidx/collection/SimpleArrayMap;->size()I

    move-result v5

    sub-int/2addr v5, v6

    :goto_4
    if-ltz v5, :cond_13

    .line 9212
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v9, v5}, Landroidx/collection/SimpleArrayMap;->valueAt(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    .line 9213
    iget-wide v12, v9, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->timestamp:J

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v14

    const-wide/16 v16, 0x1388

    sub-long v14, v14, v16

    cmp-long v12, v12, v14

    if-gez v12, :cond_11

    .line 9214
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v9, v5}, Landroidx/collection/SimpleArrayMap;->removeAt(I)Ljava/lang/Object;

    goto :goto_5

    :cond_11
    if-nez v8, :cond_12

    .line 9215
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v12, v5}, Landroidx/collection/SimpleArrayMap;->keyAt(I)Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Ljava/lang/String;

    invoke-virtual {v12, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v12

    if-eqz v12, :cond_12

    move-object v8, v9

    :cond_12
    :goto_5
    add-int/lit8 v5, v5, -0x1

    goto :goto_4

    .line 9219
    :cond_13
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v5, :cond_14

    iget v9, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v9, v9, v11

    if-gez v9, :cond_14

    if-eqz v8, :cond_14

    .line 9220
    iget v8, v8, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->position:F

    cmpl-float v9, v8, v11

    if-lez v9, :cond_14

    cmpg-float v9, v8, v10

    if-gez v9, :cond_14

    .line 9222
    iput v8, v5, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 9223
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v5, v8}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 9226
    :cond_14
    iput-object v7, v0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 9231
    :cond_15
    :goto_6
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-string v7, "other"

    invoke-virtual {v5, v1, v7}, Lorg/telegram/ui/Components/VideoPlayer;->preparePlayer(Landroid/net/Uri;Ljava/lang/String;)V

    .line 9232
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    move/from16 v5, p2

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayer;->setPlayWhenReady(Z)V

    .line 9235
    :cond_16
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_17

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v7

    const-wide/high16 v9, 0x403e000000000000L    # 30.0

    cmpg-double v1, v7, v9

    if-lez v1, :cond_18

    :cond_17
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_19

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_19

    :cond_18
    move v1, v6

    goto :goto_7

    :cond_19
    move v1, v3

    :goto_7
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    .line 9236
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v5, v1}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setSeekBarTransitionEnabled(Z)V

    .line 9237
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    invoke-virtual {v1, v5}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 9239
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_1a

    iget v5, v1, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpl-float v7, v5, v11

    if-ltz v7, :cond_1a

    .line 9240
    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 9241
    iput v4, v1, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 9244
    :cond_1a
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_1c

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v4, "video"

    invoke-virtual {v1, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_1b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-eqz v1, :cond_1c

    .line 9245
    :cond_1b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9246
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v4, 0x54

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    invoke-virtual {v1, v3, v3, v4, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 9247
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    const/16 v4, 0x8

    invoke-virtual {v1, v4}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_8

    .line 9249
    :cond_1c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3, v3, v3, v3}, Landroid/widget/FrameLayout;->setPadding(IIII)V

    .line 9252
    :goto_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_1d

    .line 9253
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9255
    :cond_1d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_1e

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_1e

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_1e

    .line 9256
    invoke-direct {v0, v3, v6}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    goto :goto_9

    .line 9258
    :cond_1e
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    xor-int/2addr v1, v6

    invoke-direct {v0, v1, v6}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 9260
    :goto_9
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v1, :cond_20

    .line 9261
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    if-eqz v1, :cond_1f

    const/16 v1, 0xbb8

    goto :goto_a

    :cond_1f
    const/16 v1, 0x3e8

    :goto_a
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide(I)V

    .line 9263
    :cond_20
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_21

    .line 9264
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {v1, v3}, Lorg/telegram/ui/Components/VideoPlayer;->setPlaybackSpeed(F)V

    .line 9267
    :cond_21
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    return-void
.end method

.method private prepareRealEncoderBitrate()V
    .locals 7

    .line 18226
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    if-eqz v0, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_1

    .line 18227
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;

    move-result-object v0

    .line 18228
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    const/4 v3, 0x0

    if-ne v1, v2, :cond_0

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v1

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v1, v2, :cond_0

    .line 18229
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    invoke-static {v1, v0, v2, v3}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    goto :goto_0

    .line 18231
    :cond_0
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v5

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v6

    invoke-static {v1, v2, v4, v5, v6}, Lorg/telegram/messenger/MediaController;->makeVideoBitrate(IIIII)I

    move-result v1

    .line 18232
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v2

    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    invoke-static {v2, v0, v1, v3}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    :cond_1
    :goto_0
    return-void
.end method

.method private processOpenVideo(Ljava/lang/String;ZFFI)V
    .locals 3

    .line 18382
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 18383
    sget-object v0, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/DispatchQueue;->cancelRunnable(Ljava/lang/Runnable;)V

    .line 18384
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    .line 18386
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, p1, p3, p4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setVideoPath(Ljava/lang/String;FF)V

    .line 18387
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 p3, 0x0

    const/4 p4, 0x1

    if-nez p2, :cond_2

    .line 18388
    iget p2, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne p2, p4, :cond_1

    goto :goto_0

    :cond_1
    move p4, p3

    :cond_2
    :goto_0
    iput-boolean p4, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    const/4 p2, -0x1

    .line 18390
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    .line 18391
    iput p3, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    const/16 p2, 0x19

    .line 18392
    iput p2, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    .line 18393
    new-instance p2, Ljava/io/File;

    invoke-direct {p2, p1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 18394
    invoke-virtual {p2}, Ljava/io/File;->length()J

    move-result-wide p2

    iput-wide p2, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    .line 18396
    sget-object p2, Lorg/telegram/messenger/Utilities;->globalQueue:Lorg/telegram/messenger/DispatchQueue;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$76;

    invoke-direct {p3, p0, p1, p5}, Lorg/telegram/ui/PhotoViewer$76;-><init>(Lorg/telegram/ui/PhotoViewer;Ljava/lang/String;I)V

    iput-object p3, p0, Lorg/telegram/ui/PhotoViewer;->currentLoadingVideoRunnable:Ljava/lang/Runnable;

    invoke-virtual {p2, p3}, Lorg/telegram/messenger/DispatchQueue;->postRunnable(Ljava/lang/Runnable;)Z

    return-void
.end method

.method private redraw(I)V
    .locals 3

    const/4 v0, 0x6

    if-ge p1, v0, :cond_0

    .line 15834
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_0

    .line 15835
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 15836
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda74;

    invoke-direct {v0, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda74;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    const-wide/16 v1, 0x64

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_0
    return-void
.end method

.method private releasePlayer(Z)V
    .locals 9

    const/4 v0, 0x0

    .line 9429
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 9430
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-eqz v1, :cond_1

    .line 9431
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 9432
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9433
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9434
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-eqz v1, :cond_0

    .line 9435
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v4

    long-to-float v1, v4

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v4

    long-to-float v4, v4

    div-float/2addr v1, v4

    .line 9436
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v7

    invoke-direct {v6, v1, v7, v8}, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;-><init>(FJ)V

    invoke-virtual {v4, v5, v6}, Landroidx/collection/SimpleArrayMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9438
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->releasePlayer(Z)V

    .line 9439
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    goto :goto_0

    .line 9441
    :cond_1
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    .line 9443
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_2

    .line 9444
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 9445
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-eqz v1, :cond_2

    .line 9446
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v4

    long-to-float v1, v4

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v4

    long-to-float v4, v4

    div-float/2addr v1, v4

    .line 9447
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    new-instance v6, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v7

    invoke-direct {v6, v1, v7, v8}, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;-><init>(FJ)V

    invoke-virtual {v4, v5, v6}, Landroidx/collection/SimpleArrayMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9451
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    if-eqz v1, :cond_3

    .line 9452
    invoke-virtual {v1}, Landroid/view/OrientationEventListener;->disable()V

    .line 9453
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->orientationEventListener:Landroid/view/OrientationEventListener;

    .line 9456
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->close()V

    .line 9457
    invoke-direct {p0, v0, v0}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgress(ZZ)V

    .line 9458
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    .line 9459
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 9460
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->isEnabled()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 9461
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 9462
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const/high16 v4, 0x3f000000    # 0.5f

    invoke-virtual {v1, v4}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    const-wide/16 v4, 0xaf

    invoke-virtual {v1, v4, v5}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1, v3}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 9464
    :cond_4
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z

    if-eqz v1, :cond_5

    .line 9466
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/16 v4, 0x80

    invoke-virtual {v1, v4}, Landroid/view/Window;->clearFlags(I)V

    .line 9467
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    :catch_0
    move-exception v1

    .line 9469
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 9472
    :cond_5
    :goto_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v1, :cond_6

    .line 9474
    :try_start_1
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v1}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 9478
    :catchall_0
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    .line 9480
    :cond_6
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelFlashAnimations()V

    .line 9481
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->flashView:Landroid/view/View;

    .line 9482
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v1, :cond_8

    .line 9483
    instance-of v4, v1, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v4, :cond_7

    .line 9484
    check-cast v1, Lorg/telegram/ui/Components/VideoEditTextureView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoEditTextureView;->release()V

    .line 9486
    :cond_7
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 9488
    :cond_8
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->resetBitmap()V

    .line 9489
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    if-eqz v1, :cond_9

    .line 9490
    iput-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    .line 9492
    :cond_9
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_a

    .line 9493
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 9494
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :cond_a
    if-nez p1, :cond_b

    .line 9496
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez p1, :cond_b

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    if-nez p1, :cond_b

    .line 9497
    invoke-direct {p0, v0, v2}, Lorg/telegram/ui/PhotoViewer;->setVideoPlayerControlVisible(ZZ)V

    .line 9499
    :cond_b
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v0

    invoke-virtual {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->resetAlphas()V

    return-void
.end method

.method private removeObservers()V
    .locals 2

    .line 15692
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15693
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15694
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15695
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15696
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15697
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15698
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15699
    invoke-static {}, Lorg/telegram/messenger/NotificationCenter;->getGlobalInstance()Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15700
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15701
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    invoke-virtual {v0, p0, v1}, Lorg/telegram/messenger/NotificationCenter;->removeObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 15702
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/tgnet/ConnectionsManager;->getInstance(I)Lorg/telegram/tgnet/ConnectionsManager;

    move-result-object v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-virtual {v0, v1}, Lorg/telegram/tgnet/ConnectionsManager;->cancelRequestsForGuid(I)V

    return-void
.end method

.method private replacePressed()V
    .locals 6

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x1

    const/4 v4, 0x0

    const/4 v5, 0x0

    move-object v0, p0

    .line 7105
    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZ)V

    return-void
.end method

.method private requestAdjust()V
    .locals 3

    .line 15238
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x110

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 15239
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 15241
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 15243
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_0
    return-void
.end method

.method private requestAdjustToNothing()V
    .locals 3

    .line 15228
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v1, 0x30

    iput v1, v0, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 15229
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v1, "window"

    invoke-virtual {v0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/WindowManager;

    .line 15231
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v0, v1, v2}, Landroid/view/WindowManager;->updateViewLayout(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 15233
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_0
    return-void
.end method

.method private requestVideoPreview(I)V
    .locals 11

    .line 18120
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_0

    .line 18121
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/MediaController;->cancelVideoConvert(Lorg/telegram/messenger/MessageObject;)V

    .line 18123
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    const/4 v1, 0x1

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    if-nez v0, :cond_1

    move v0, v1

    goto :goto_0

    :cond_1
    move v0, v2

    .line 18124
    :goto_0
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 18125
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    .line 18126
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x4

    invoke-virtual {v3, v4}, Landroid/view/View;->setVisibility(I)V

    const/4 v3, 0x3

    if-ne p1, v1, :cond_d

    .line 18128
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    const/4 v6, 0x0

    if-ne p1, v5, :cond_5

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    if-ne p1, v5, :cond_5

    .line 18129
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 18130
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, p1, v2

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_3

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$30000(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-nez p1, :cond_2

    goto :goto_1

    :cond_2
    move p1, v2

    goto :goto_2

    :cond_3
    :goto_1
    move p1, v1

    :goto_2
    invoke-virtual {v4, v6, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 18131
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-virtual {p1, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    if-nez v0, :cond_4

    .line 18133
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {p0, p1, v2, v2, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 18134
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    float-to-long v0, v0

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    goto/16 :goto_5

    .line 18136
    :cond_4
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    goto/16 :goto_5

    .line 18139
    :cond_5
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 18140
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-nez p1, :cond_6

    .line 18141
    new-instance p1, Lorg/telegram/tgnet/TLRPC$TL_message;

    invoke-direct {p1}, Lorg/telegram/tgnet/TLRPC$TL_message;-><init>()V

    .line 18142
    iput v2, p1, Lorg/telegram/tgnet/TLRPC$Message;->id:I

    const-string v0, ""

    .line 18143
    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->message:Ljava/lang/String;

    .line 18144
    new-instance v0, Lorg/telegram/tgnet/TLRPC$TL_messageMediaEmpty;

    invoke-direct {v0}, Lorg/telegram/tgnet/TLRPC$TL_messageMediaEmpty;-><init>()V

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    .line 18145
    new-instance v0, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;

    invoke-direct {v0}, Lorg/telegram/tgnet/TLRPC$TL_messageActionEmpty;-><init>()V

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->action:Lorg/telegram/tgnet/TLRPC$MessageAction;

    .line 18146
    iget-wide v7, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    iput-wide v7, p1, Lorg/telegram/tgnet/TLRPC$Message;->dialog_id:J

    .line 18147
    new-instance v0, Lorg/telegram/messenger/MessageObject;

    sget v3, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    invoke-direct {v0, v3, p1, v2, v2}, Lorg/telegram/messenger/MessageObject;-><init>(ILorg/telegram/tgnet/TLRPC$Message;ZZ)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 18148
    iget-object p1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    new-instance v0, Ljava/io/File;

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getDirectory(I)Ljava/io/File;

    move-result-object v3

    const-string v4, "video_preview.mp4"

    invoke-direct {v0, v3, v4}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/tgnet/TLRPC$Message;->attachPath:Ljava/lang/String;

    .line 18149
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    new-instance v0, Lorg/telegram/messenger/VideoEditedInfo;

    invoke-direct {v0}, Lorg/telegram/messenger/VideoEditedInfo;-><init>()V

    iput-object v0, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 18150
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->rotationValue:I

    .line 18151
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalWidth:I

    .line 18152
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalHeight:I

    .line 18153
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramerate:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->framerate:I

    .line 18154
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    invoke-virtual {v0}, Landroid/net/Uri;->getPath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalPath:Ljava/lang/String;

    .line 18156
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget-wide v3, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->startTime:J

    .line 18157
    iget-wide v7, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    iput-wide v7, p1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    const-wide/16 v9, -0x1

    cmp-long v0, v3, v9

    if-nez v0, :cond_7

    const-wide/16 v3, 0x0

    :cond_7
    cmp-long v0, v7, v9

    const/high16 v5, 0x447a0000    # 1000.0f

    if-nez v0, :cond_8

    .line 18162
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v5

    float-to-long v7, v0

    :cond_8
    sub-long/2addr v7, v3

    const-wide/32 v9, 0x4c4b40

    cmp-long v0, v7, v9

    if-lez v0, :cond_9

    add-long/2addr v3, v9

    .line 18165
    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->endTime:J

    .line 18167
    :cond_9
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->bitrate:I

    .line 18168
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->resultWidth:I

    .line 18169
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iput v0, p1, Lorg/telegram/messenger/VideoEditedInfo;->resultHeight:I

    .line 18170
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object p1, p1, Lorg/telegram/messenger/MessageObject;->videoEditedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    iput-boolean v1, p1, Lorg/telegram/messenger/VideoEditedInfo;->needUpdateProgress:Z

    .line 18171
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v5

    float-to-long v3, v0

    iput-wide v3, p1, Lorg/telegram/messenger/VideoEditedInfo;->originalDuration:J

    .line 18173
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object p1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {p1, v0, v1, v1}, Lorg/telegram/messenger/MediaController;->scheduleVideoConvert(Lorg/telegram/messenger/MessageObject;ZZ)Z

    move-result p1

    if-nez p1, :cond_a

    .line 18174
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 18176
    :cond_a
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 18178
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, p1, v2

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-eqz p1, :cond_c

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$30000(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-nez p1, :cond_b

    goto :goto_3

    :cond_b
    move p1, v2

    goto :goto_4

    :cond_c
    :goto_3
    move p1, v1

    :goto_4
    invoke-virtual {v0, v6, p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 18179
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v2

    invoke-virtual {p1, v2, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    goto :goto_5

    .line 18182
    :cond_d
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    .line 18183
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v2

    invoke-virtual {v0, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    const/4 v0, 0x2

    if-ne p1, v0, :cond_e

    .line 18185
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {p0, p1, v2, v2, v0}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 18186
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    float-to-long v0, v0

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 18189
    :cond_e
    :goto_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private resetIndexForDeferredImageLoading()V
    .locals 3

    .line 13417
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getMark()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_0

    const/4 v1, 0x1

    .line 13418
    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/Object;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 13419
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    :cond_0
    return-void
.end method

.method private scheduleActionBarHide()V
    .locals 1

    const/16 v0, 0xbb8

    .line 8698
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide(I)V

    return-void
.end method

.method private scheduleActionBarHide(I)V
    .locals 3

    .line 8702
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isAccessibilityEnabled()Z

    move-result v0

    if-nez v0, :cond_0

    .line 8703
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 8704
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    int-to-long v1, p1

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    :cond_0
    return-void
.end method

.method private seekAnimatedStickersTo(J)V
    .locals 8

    .line 9638
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    if-eqz v0, :cond_3

    const/4 v1, 0x0

    .line 9639
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    :goto_0
    if-ge v1, v0, :cond_3

    .line 9640
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;

    .line 9641
    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->type:B

    if-nez v3, :cond_2

    iget-byte v3, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->subType:B

    and-int/lit8 v3, v3, 0x1

    if-eqz v3, :cond_2

    iget-object v2, v2, Lorg/telegram/messenger/VideoEditedInfo$MediaEntity;->view:Landroid/view/View;

    instance-of v3, v2, Lorg/telegram/ui/Components/BackupImageView;

    if-eqz v3, :cond_2

    .line 9642
    check-cast v2, Lorg/telegram/ui/Components/BackupImageView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/BackupImageView;->getImageReceiver()Lorg/telegram/messenger/ImageReceiver;

    move-result-object v2

    .line 9643
    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getLottieAnimation()Lorg/telegram/ui/Components/RLottieDrawable;

    move-result-object v2

    if-nez v2, :cond_0

    goto :goto_1

    .line 9647
    :cond_0
    iget-wide v3, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    const-wide/16 v5, 0x0

    cmp-long v7, v3, v5

    if-lez v7, :cond_1

    const-wide/16 v5, 0x3e8

    div-long v5, v3, v5

    :cond_1
    sub-long v3, p1, v5

    invoke-virtual {v2, v3, v4}, Lorg/telegram/ui/Components/RLottieDrawable;->setProgressMs(J)V

    :cond_2
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_3
    return-void
.end method

.method private seekVideoOrWebTo(J)V
    .locals 1

    .line 1583
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 1584
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0, p1, p2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->seekTo(J)V

    goto :goto_0

    .line 1585
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    .line 1586
    invoke-virtual {v0, p1, p2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 1588
    :cond_1
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method private seekVideoOrWebToProgress(F)V
    .locals 3

    .line 8915
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 8916
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v1

    long-to-float v1, v1

    mul-float/2addr p1, v1

    float-to-long v1, p1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    goto :goto_0

    .line 8919
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1

    .line 8920
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v1

    int-to-float v1, v1

    mul-float/2addr p1, v1

    float-to-long v1, p1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/PhotoViewerWebView;->seekTo(J)V

    :cond_1
    :goto_0
    return-void
.end method

.method private selectCompression()I
    .locals 8

    .line 18460
    iget-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->originalSize:J

    const-wide/32 v2, 0x3e800000

    cmp-long v0, v0, v2

    const/4 v1, 0x1

    if-lez v0, :cond_0

    .line 18461
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v0, v1

    return v0

    .line 18463
    :cond_0
    invoke-static {}, Lorg/telegram/messenger/MessagesController;->getGlobalMainSettings()Landroid/content/SharedPreferences;

    move-result-object v0

    .line 18464
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v3, 0x2

    :goto_0
    const/4 v4, 0x5

    if-ge v2, v4, :cond_2

    .line 18467
    sget-object v4, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v5, v1, [Ljava/lang/Object;

    const/4 v6, 0x0

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v5, v6

    const-string v6, "compress_video_%d"

    invoke-static {v4, v6, v5}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v4

    const/4 v5, -0x1

    invoke-interface {v0, v4, v5}, Landroid/content/SharedPreferences;->getInt(Ljava/lang/String;I)I

    move-result v4

    if-ltz v4, :cond_1

    .line 18469
    invoke-static {v4, v3}, Ljava/lang/Math;->min(II)I

    move-result v0

    return v0

    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 18473
    :cond_2
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/messenger/DownloadController;->getMaxVideoBitrate()I

    move-result v0

    int-to-float v0, v0

    const/high16 v4, 0x42c80000    # 100.0f

    int-to-float v2, v2

    div-float/2addr v4, v2

    div-float/2addr v0, v4

    invoke-static {v0}, Ljava/lang/Math;->round(F)I

    move-result v0

    sub-int/2addr v0, v1

    invoke-static {v3, v0}, Ljava/lang/Math;->min(II)I

    move-result v0

    return v0
.end method

.method private sendPressed(ZI)V
    .locals 1

    const/4 v0, 0x0

    .line 437
    invoke-direct {p0, p1, p2, v0}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZILjava/lang/String;)V

    return-void
.end method

.method private sendPressed(ZILjava/lang/String;)V
    .locals 8

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    move-object v0, p0

    move v1, p1

    move v2, p2

    move-object v6, p3

    .line 7101
    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZLjava/lang/String;Z)V

    return-void
.end method

.method private sendPressed(ZIZZZ)V
    .locals 8

    const/4 v6, 0x0

    const/4 v7, 0x0

    move-object v0, p0

    move v1, p1

    move v2, p2

    move v3, p3

    move v4, p4

    move v5, p5

    .line 442
    invoke-direct/range {v0 .. v7}, Lorg/telegram/ui/PhotoViewer;->sendPressed(ZIZZZLjava/lang/String;Z)V

    return-void
.end method

.method private sendPressed(ZIZZZLjava/lang/String;Z)V
    .locals 18

    move-object/from16 v7, p0

    .line 7109
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v0

    if-eqz v0, :cond_0

    return-void

    .line 7112
    :cond_0
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_18

    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_18

    .line 7113
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v8, 0x0

    const/4 v9, 0x1

    if-ne v0, v9, :cond_a

    if-nez p5, :cond_9

    .line 7114
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v0, :cond_9

    const-wide/16 v1, 0x0

    .line 7117
    iget-object v0, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->object:Lorg/telegram/tgnet/TLObject;

    instance-of v3, v0, Lorg/telegram/tgnet/TLRPC$User;

    if-eqz v3, :cond_1

    .line 7118
    move-object v1, v0

    check-cast v1, Lorg/telegram/tgnet/TLRPC$User;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    .line 7119
    check-cast v0, Lorg/telegram/tgnet/TLRPC$User;

    iget-wide v2, v0, Lorg/telegram/tgnet/TLRPC$User;->id:J

    move-object v0, v1

    move-wide v1, v2

    goto :goto_0

    :cond_1
    const-string v0, ""

    .line 7121
    :goto_0
    new-instance v10, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const/16 v3, 0x8

    .line 7122
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-virtual {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setAdditionalHorizontalPadding(I)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7123
    new-instance v3, Lorg/telegram/ui/SuggestUserPhotoView;

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v4

    invoke-direct {v3, v4}, Lorg/telegram/ui/SuggestUserPhotoView;-><init>(Landroid/content/Context;)V

    .line 7124
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget-object v4, v4, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->object:Lorg/telegram/tgnet/TLObject;

    iget-object v5, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v6, v7, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3, v4, v5, v6}, Lorg/telegram/ui/SuggestUserPhotoView;->setImages(Lorg/telegram/tgnet/TLObject;Landroid/view/View;Lorg/telegram/ui/Components/PhotoCropView;)V

    .line 7125
    invoke-virtual {v10, v3}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTopView(Landroid/view/View;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7127
    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget v3, v3, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    if-ne v3, v9, :cond_4

    .line 7128
    iget v3, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v3

    iget-wide v3, v3, Lorg/telegram/messenger/UserConfig;->clientUserId:J

    cmp-long v1, v3, v1

    if-nez v1, :cond_2

    .line 7129
    sget v0, Lorg/telegram/messenger/R$string;->SetUserPhotoSelfAlertMessage:I

    const-string v1, "SetUserPhotoSelfAlertMessage"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_1

    .line 7131
    :cond_2
    sget v1, Lorg/telegram/messenger/R$string;->SetUserPhotoAlertMessage:I

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/Object;

    aput-object v0, v2, v8

    aput-object v0, v2, v9

    const-string v0, "SetUserPhotoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7133
    :goto_1
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    if-eqz v0, :cond_3

    .line 7134
    sget v0, Lorg/telegram/messenger/R$string;->SetVideo:I

    const-string v1, "SetVideo"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_3

    .line 7136
    :cond_3
    sget v0, Lorg/telegram/messenger/R$string;->SetPhoto:I

    const-string v1, "SetPhoto"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_3

    .line 7139
    :cond_4
    iget-boolean v1, v7, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    if-eqz v1, :cond_5

    .line 7140
    sget v1, Lorg/telegram/messenger/R$string;->SuggestVideoAlertMessage:I

    new-array v2, v9, [Ljava/lang/Object;

    aput-object v0, v2, v8

    const-string v0, "SuggestVideoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_2

    .line 7142
    :cond_5
    sget v1, Lorg/telegram/messenger/R$string;->SuggestPhotoAlertMessage:I

    new-array v2, v9, [Ljava/lang/Object;

    aput-object v0, v2, v8

    const-string v0, "SuggestPhotoAlertMessage"

    invoke-static {v0, v1, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->replaceTags(Ljava/lang/String;)Landroid/text/SpannableStringBuilder;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7144
    :goto_2
    sget v0, Lorg/telegram/messenger/R$string;->SuggestPhotoShort:I

    const-string v1, "SuggestPhotoShort"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    .line 7146
    :goto_3
    sget v1, Lorg/telegram/messenger/R$string;->Cancel:I

    const-string v2, "Cancel"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    sget-object v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda23;->INSTANCE:Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda23;

    invoke-virtual {v10, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7149
    new-instance v11, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda22;

    move-object v1, v11

    move-object/from16 v2, p0

    move/from16 v3, p1

    move/from16 v4, p2

    move/from16 v5, p3

    move/from16 v6, p4

    invoke-direct/range {v1 .. v6}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda22;-><init>(Lorg/telegram/ui/PhotoViewer;ZIZZ)V

    invoke-virtual {v10, v0, v11}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7152
    sget v0, Lorg/telegram/ui/ActionBar/Theme;->key_voipgroup_listeningText:I

    invoke-virtual {v10, v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setDialogButtonColorKey(I)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 7153
    invoke-virtual {v10}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->create()Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object v0

    const v1, 0x3f4ccccd    # 0.8f

    .line 7154
    invoke-virtual {v0, v1, v8, v9}, Lorg/telegram/ui/ActionBar/AlertDialog;->setBlurParams(FZZ)V

    const v1, -0xebebec    # -1.9683E38f

    const/16 v2, 0xcc

    .line 7155
    invoke-static {v1, v2}, Landroidx/core/graphics/ColorUtils;->setAlphaComponent(II)I

    move-result v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog;->setBackgroundColor(I)V

    .line 7156
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->show()V

    .line 7157
    sget v1, Lorg/telegram/ui/ActionBar/Theme;->key_voipgroup_nameText:I

    invoke-static {v1}, Lorg/telegram/ui/ActionBar/Theme;->getColor(I)I

    move-result v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog;->setTextColor(I)V

    .line 7158
    new-instance v1, Lorg/telegram/ui/PhotoViewer$33;

    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer$33;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V

    .line 7179
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_8

    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_8

    const/4 v1, 0x0

    .line 7181
    :try_start_0
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    .line 7182
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    if-eqz v0, :cond_6

    .line 7183
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v2, v0}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 7184
    iput-object v1, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    .line 7186
    :cond_6
    new-instance v0, Landroid/widget/ImageView;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v2}, Landroid/view/TextureView;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    .line 7187
    new-instance v2, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameBitmap:Landroid/graphics/Bitmap;

    invoke-direct {v2, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 7188
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->lastFrameImageView:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_4

    :catchall_0
    move-exception v0

    .line 7190
    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v2, :cond_7

    .line 7191
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V

    .line 7192
    iput-object v1, v7, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    .line 7194
    :cond_7
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_8
    :goto_4
    return-void

    .line 7199
    :cond_9
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->applyCurrentEditMode()V

    :cond_a
    if-nez p3, :cond_d

    .line 7201
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_d

    .line 7202
    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    .line 7203
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v1

    if-nez v1, :cond_c

    .line 7204
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannel(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-eqz v1, :cond_b

    iget-boolean v1, v0, Lorg/telegram/tgnet/TLRPC$Chat;->megagroup:Z

    if-nez v1, :cond_c

    :cond_b
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannel(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_d

    .line 7205
    :cond_c
    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getNotificationsSettings(I)Landroid/content/SharedPreferences;

    move-result-object v0

    invoke-interface {v0}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "silent_"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v2

    invoke-virtual {v1, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    xor-int/lit8 v2, p1, 0x1

    invoke-interface {v0, v1, v2}, Landroid/content/SharedPreferences$Editor;->putBoolean(Ljava/lang/String;Z)Landroid/content/SharedPreferences$Editor;

    move-result-object v0

    invoke-interface {v0}, Landroid/content/SharedPreferences$Editor;->commit()Z

    .line 7208
    :cond_d
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v12

    .line 7209
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_e

    iget v0, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_e

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ge v0, v1, :cond_e

    .line 7210
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 7211
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v1, :cond_e

    .line 7212
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    iput-object v12, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 7215
    :cond_e
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_12

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 7216
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_10

    if-eqz v12, :cond_f

    goto :goto_5

    :cond_f
    move v0, v8

    goto :goto_6

    :cond_10
    :goto_5
    move v0, v9

    :goto_6
    if-eqz v0, :cond_11

    .line 7217
    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v1

    invoke-static {v1}, Lorg/telegram/messenger/ChatObject;->canSendVideo(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-nez v1, :cond_11

    .line 7218
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/R$string;->GlobalAttachVideoRestricted:I

    invoke-static {v1}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createErrorBulletin(Ljava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    return-void

    :cond_11
    if-nez v0, :cond_12

    .line 7221
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->canSendPhoto(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_12

    .line 7222
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object v0

    sget v1, Lorg/telegram/messenger/R$string;->GlobalAttachPhotoRestricted:I

    invoke-static {v1}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createErrorBulletin(Ljava/lang/CharSequence;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    return-void

    .line 7226
    :cond_12
    iput-boolean v9, v7, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-eqz v12, :cond_16

    .line 7228
    iget-wide v0, v12, Lorg/telegram/messenger/VideoEditedInfo;->estimatedSize:J

    long-to-float v0, v0

    const v1, 0x3f666666    # 0.9f

    mul-float/2addr v0, v1

    float-to-long v0, v0

    const-wide/32 v2, 0x7d000000

    cmp-long v2, v0, v2

    if-lez v2, :cond_13

    .line 7229
    iget v2, v7, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/UserConfig;->getInstance(I)Lorg/telegram/messenger/UserConfig;

    move-result-object v2

    invoke-virtual {v2}, Lorg/telegram/messenger/UserConfig;->isPremium()Z

    move-result v2

    if-eqz v2, :cond_14

    :cond_13
    const-wide v2, 0xfa000000L

    cmp-long v0, v0, v2

    if-lez v0, :cond_16

    .line 7230
    :cond_14
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_15

    .line 7231
    new-instance v0, Lorg/telegram/ui/Components/Premium/LimitReachedBottomSheet;

    iget-object v1, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/ChatAttachAlert;->getBaseFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v1

    iget-object v2, v7, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    invoke-virtual {v2}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    const/4 v3, 0x6

    sget v4, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    const/4 v5, 0x0

    move-object/from16 p1, v0

    move-object/from16 p2, v1

    move-object/from16 p3, v2

    move/from16 p4, v3

    move/from16 p5, v4

    move-object/from16 p6, v5

    invoke-direct/range {p1 .. p6}, Lorg/telegram/ui/Components/Premium/LimitReachedBottomSheet;-><init>(Lorg/telegram/ui/ActionBar/BaseFragment;Landroid/content/Context;IILorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 7232
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    :cond_15
    return-void

    :cond_16
    if-nez p3, :cond_17

    .line 7238
    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v11, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    move/from16 v13, p1

    move/from16 v14, p2

    move/from16 v15, p4

    move-object/from16 v16, p6

    move/from16 v17, p7

    invoke-interface/range {v10 .. v17}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->sendButtonPressed(ILorg/telegram/messenger/VideoEditedInfo;ZIZLjava/lang/String;Z)V

    goto :goto_7

    .line 7240
    :cond_17
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, v7, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1, v12}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->replaceButtonPressed(ILorg/telegram/messenger/VideoEditedInfo;)V

    .line 7242
    :goto_7
    iget-boolean v0, v7, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    if-eqz v0, :cond_18

    .line 7243
    invoke-virtual {v7, v8, v8}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_18
    return-void
.end method

.method private setCaptionHwLayerEnabled(Z)V
    .locals 2

    .line 13716
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->captionHwLayerEnabled:Z

    if-eq v0, p1, :cond_0

    .line 13717
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->captionHwLayerEnabled:Z

    .line 13718
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v0, 0x2

    const/4 v1, 0x0

    invoke-virtual {p1, v0, v1}, Landroid/widget/ViewSwitcher;->setLayerType(ILandroid/graphics/Paint;)V

    .line 13719
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object p1

    invoke-virtual {p1, v0, v1}, Landroid/widget/TextView;->setLayerType(ILandroid/graphics/Paint;)V

    .line 13720
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object p1

    invoke-virtual {p1, v0, v1}, Landroid/widget/TextView;->setLayerType(ILandroid/graphics/Paint;)V

    :cond_0
    return-void
.end method

.method private setCropBitmap()V
    .locals 11

    .line 14624
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    if-nez v0, :cond_6

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_0

    goto :goto_1

    .line 14627
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2

    .line 14628
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    if-eqz v0, :cond_1

    .line 14629
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoWidth()I

    move-result v2

    if-lez v2, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoEditTextureView;->getVideoHeight()I

    move-result v0

    if-gtz v0, :cond_2

    :cond_1
    return-void

    .line 14633
    :cond_2
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->cropInitied:Z

    .line 14634
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 14635
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v1

    if-nez v0, :cond_3

    .line 14637
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ClippingImageView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    .line 14638
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/ClippingImageView;->getOrientation()I

    move-result v1

    :cond_3
    move-object v3, v0

    move v4, v1

    if-nez v3, :cond_4

    .line 14640
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_6

    .line 14641
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v5, 0x0

    const/4 v6, 0x0

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    check-cast v0, Lorg/telegram/ui/Components/VideoEditTextureView;

    goto :goto_0

    :cond_5
    const/4 v0, 0x0

    :goto_0
    move-object v9, v0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    invoke-virtual/range {v2 .. v10}, Lorg/telegram/ui/Components/PhotoCropView;->setBitmap(Landroid/graphics/Bitmap;IZZLorg/telegram/ui/Components/PaintingOverlay;Lorg/telegram/ui/Components/Crop/CropTransform;Lorg/telegram/ui/Components/VideoEditTextureView;Lorg/telegram/messenger/MediaController$CropState;)V

    :cond_6
    :goto_1
    return-void
.end method

.method private setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V
    .locals 18

    move-object/from16 v1, p0

    move-object/from16 v0, p1

    move/from16 v2, p3

    move/from16 v3, p4

    const/4 v4, 0x3

    move-object/from16 v5, p2

    .line 13424
    invoke-static {v5, v4}, Lorg/telegram/ui/Components/AnimatedEmojiSpan;->cloneSpans(Ljava/lang/CharSequence;I)Ljava/lang/CharSequence;

    move-result-object v4

    .line 13425
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->editing:Z

    invoke-direct {v1, v5, v3}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 13426
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->editing:Z

    const/16 v6, 0x8

    if-nez v5, :cond_22

    iget v5, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v7, 0x1

    if-ne v5, v7, :cond_0

    goto/16 :goto_f

    .line 13431
    :cond_0
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13433
    iget-boolean v5, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    const/4 v6, -0x1

    const/4 v8, 0x0

    if-eqz v5, :cond_2

    .line 13434
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5}, Landroid/widget/ViewSwitcher;->getParent()Landroid/view/ViewParent;

    move-result-object v5

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    if-eq v5, v9, :cond_4

    .line 13435
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    if-eqz v5, :cond_1

    .line 13436
    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 13438
    :cond_1
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v8}, Landroid/widget/ViewSwitcher;->setMeasureAllChildren(Z)V

    .line 13439
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v10, -0x1

    const/4 v11, -0x2

    const/16 v12, 0x53

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/16 v15, 0x4c

    const/16 v16, 0x30

    invoke-static/range {v10 .. v16}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v10

    invoke-virtual {v5, v9, v10}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_0

    .line 13442
    :cond_2
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    const/4 v9, -0x2

    if-nez v5, :cond_3

    .line 13443
    new-instance v5, Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v10

    invoke-direct {v5, v10}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;)V

    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    .line 13444
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setContainer(Landroid/widget/FrameLayout;)V

    .line 13445
    new-instance v5, Lorg/telegram/ui/PhotoViewer$62;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v10

    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    invoke-direct {v5, v1, v10, v11, v12}, Lorg/telegram/ui/PhotoViewer$62;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;Landroid/widget/FrameLayout;)V

    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    .line 13488
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setScrollView(Landroidx/core/widget/NestedScrollView;)V

    .line 13489
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v5, v8}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 13490
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    new-instance v11, Landroid/view/ViewGroup$LayoutParams;

    invoke-direct {v11, v6, v9}, Landroid/view/ViewGroup$LayoutParams;-><init>(II)V

    invoke-virtual {v5, v10, v11}, Landroidx/core/widget/NestedScrollView;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 13491
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    const/16 v11, 0x50

    invoke-static {v6, v6, v11}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v11

    invoke-virtual {v5, v10, v11}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 13493
    :cond_3
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5}, Landroid/widget/ViewSwitcher;->getParent()Landroid/view/ViewParent;

    move-result-object v5

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    if-eq v5, v10, :cond_4

    .line 13494
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v10}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 13495
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v7}, Landroid/widget/ViewSwitcher;->setMeasureAllChildren(Z)V

    .line 13496
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->captionContainer:Landroid/widget/FrameLayout;

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v5, v10, v6, v9}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;II)V

    .line 13497
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v5}, Landroid/view/View;->bringToFront()V

    .line 13501
    :cond_4
    :goto_0
    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    .line 13502
    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v9

    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    .line 13504
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v3, :cond_5

    invoke-virtual {v10}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v10

    goto :goto_1

    :cond_5
    invoke-virtual {v10}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v10

    .line 13506
    :goto_1
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v12, 0x0

    if-eqz v11, :cond_6

    .line 13507
    invoke-virtual {v10}, Landroid/widget/TextView;->getMaxLines()I

    move-result v11

    if-eq v11, v7, :cond_a

    .line 13508
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13509
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13510
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13511
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v7}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13512
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    sget-object v13, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13513
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    sget-object v13, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    goto :goto_3

    .line 13516
    :cond_6
    invoke-virtual {v10}, Landroid/widget/TextView;->getMaxLines()I

    move-result v11

    if-ne v11, v7, :cond_7

    .line 13518
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v13

    invoke-virtual {v13, v8}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13519
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v13

    invoke-virtual {v13, v8}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 13522
    :cond_7
    iget-boolean v13, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v13, :cond_9

    .line 13523
    sget-object v13, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v14, v13, Landroid/graphics/Point;->x:I

    iget v13, v13, Landroid/graphics/Point;->y:I

    if-le v14, v13, :cond_8

    const/4 v13, 0x5

    goto :goto_2

    :cond_8
    const/16 v13, 0xa

    goto :goto_2

    :cond_9
    const v13, 0x7fffffff

    :goto_2
    if-eq v11, v13, :cond_a

    .line 13528
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13529
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v13}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 13530
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v12}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13531
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/TextViewSwitcher;->getNextView()Landroid/widget/TextView;

    move-result-object v11

    invoke-virtual {v11, v12}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 13535
    :cond_a
    :goto_3
    invoke-virtual {v10, v8}, Landroid/widget/TextView;->setScrollX(I)V

    .line 13536
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez v11, :cond_b

    if-eqz v3, :cond_b

    if-eqz v5, :cond_b

    move v13, v7

    goto :goto_4

    :cond_b
    move v13, v8

    :goto_4
    iput-boolean v13, v1, Lorg/telegram/ui/PhotoViewer;->dontChangeCaptionPosition:Z

    if-nez v11, :cond_c

    .line 13540
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iput-boolean v8, v13, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->dontChangeTopMargin:Z

    :cond_c
    if-eqz v3, :cond_12

    .line 13543
    sget v13, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v14, 0x13

    if-lt v13, v14, :cond_12

    const/16 v14, 0x17

    if-lt v13, v14, :cond_e

    if-eqz v11, :cond_d

    .line 13546
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    goto :goto_5

    :cond_d
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    :goto_5
    invoke-static {v11}, Landroid/transition/TransitionManager;->endTransitions(Landroid/view/ViewGroup;)V

    .line 13548
    :cond_e
    iget-boolean v11, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    const-wide/16 v13, 0xc8

    const/4 v15, 0x2

    if-eqz v11, :cond_f

    .line 13549
    new-instance v11, Landroid/transition/TransitionSet;

    invoke-direct {v11}, Landroid/transition/TransitionSet;-><init>()V

    .line 13550
    invoke-virtual {v11, v8}, Landroid/transition/TransitionSet;->setOrdering(I)Landroid/transition/TransitionSet;

    .line 13551
    new-instance v6, Landroid/transition/ChangeBounds;

    invoke-direct {v6}, Landroid/transition/ChangeBounds;-><init>()V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13552
    new-instance v6, Landroid/transition/Fade;

    invoke-direct {v6, v15}, Landroid/transition/Fade;-><init>(I)V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13553
    new-instance v6, Landroid/transition/Fade;

    invoke-direct {v6, v7}, Landroid/transition/Fade;-><init>(I)V

    invoke-virtual {v11, v6}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 13554
    invoke-virtual {v11, v13, v14}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    .line 13555
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-static {v6, v11}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    goto :goto_6

    .line 13557
    :cond_f
    new-instance v6, Landroid/transition/TransitionSet;

    invoke-direct {v6}, Landroid/transition/TransitionSet;-><init>()V

    new-instance v11, Lorg/telegram/ui/PhotoViewer$64;

    invoke-direct {v11, v1, v15, v9, v5}, Lorg/telegram/ui/PhotoViewer$64;-><init>(Lorg/telegram/ui/PhotoViewer;IZZ)V

    .line 13558
    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    move-result-object v6

    new-instance v11, Lorg/telegram/ui/PhotoViewer$63;

    invoke-direct {v11, v1, v7, v9, v5}, Lorg/telegram/ui/PhotoViewer$63;-><init>(Lorg/telegram/ui/PhotoViewer;IZZ)V

    .line 13580
    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    move-result-object v6

    .line 13599
    invoke-virtual {v6, v13, v14}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    move-result-object v6

    if-nez v9, :cond_10

    .line 13602
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    iput-boolean v7, v11, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->dontChangeTopMargin:Z

    .line 13603
    new-instance v11, Lorg/telegram/ui/PhotoViewer$65;

    invoke-direct {v11, v1}, Lorg/telegram/ui/PhotoViewer$65;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    :cond_10
    if-eqz v9, :cond_11

    if-nez v5, :cond_11

    .line 13655
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v6, v11}, Landroid/transition/TransitionSet;->addTarget(Landroid/view/View;)Landroid/transition/TransitionSet;

    .line 13658
    :cond_11
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    invoke-static {v11, v6}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    :goto_6
    move v6, v7

    goto :goto_7

    .line 13661
    :cond_12
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v6}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v6

    invoke-virtual {v6, v12}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13662
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v6, :cond_13

    .line 13663
    invoke-virtual {v6, v8, v8}, Landroidx/core/widget/NestedScrollView;->scrollTo(II)V

    :cond_13
    move v6, v8

    :goto_7
    const/4 v11, 0x4

    if-nez v5, :cond_1c

    .line 13669
    invoke-static {v12, v7}, Lorg/telegram/ui/ActionBar/Theme;->createChatResources(Landroid/content/Context;Z)V

    if-eqz v0, :cond_14

    .line 13671
    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v6, :cond_14

    iget-object v6, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v6, :cond_14

    iget-object v9, v6, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v9, :cond_14

    iget-object v6, v6, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v9

    invoke-static {v6, v9}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v6

    if-eqz v6, :cond_14

    goto :goto_8

    :cond_14
    const/16 v6, 0x14

    if-eqz v0, :cond_16

    .line 13673
    iget-object v9, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Message;->entities:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_16

    .line 13674
    new-instance v9, Landroid/text/SpannableString;

    invoke-direct {v9, v4}, Landroid/text/SpannableString;-><init>(Ljava/lang/CharSequence;)V

    .line 13675
    invoke-virtual {v0, v9, v7, v8}, Lorg/telegram/messenger/MessageObject;->addEntitiesToText(Ljava/lang/CharSequence;ZZ)Z

    .line 13676
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_15

    .line 13677
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isOutOwner()Z

    move-result v12

    const/4 v14, 0x0

    const/4 v15, 0x3

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDuration()D

    move-result-wide v7

    double-to-int v0, v7

    const/16 v17, 0x0

    move-object v13, v9

    move/from16 v16, v0

    invoke-static/range {v12 .. v17}, Lorg/telegram/messenger/MessageObject;->addUrlsByPattern(ZLjava/lang/CharSequence;ZIIZ)V

    .line 13679
    :cond_15
    invoke-virtual {v10}, Landroid/widget/TextView;->getPaint()Landroid/text/TextPaint;

    move-result-object v0

    invoke-virtual {v0}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    const/4 v7, 0x0

    invoke-static {v9, v0, v4, v7}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v4

    goto :goto_8

    :cond_16
    move v7, v8

    .line 13681
    new-instance v0, Landroid/text/SpannableStringBuilder;

    invoke-direct {v0, v4}, Landroid/text/SpannableStringBuilder;-><init>(Ljava/lang/CharSequence;)V

    invoke-virtual {v10}, Landroid/widget/TextView;->getPaint()Landroid/text/TextPaint;

    move-result-object v4

    invoke-virtual {v4}, Landroid/text/TextPaint;->getFontMetricsInt()Landroid/graphics/Paint$FontMetricsInt;

    move-result-object v4

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    invoke-static {v0, v4, v6, v7}, Lorg/telegram/messenger/Emoji;->replaceEmoji(Ljava/lang/CharSequence;Landroid/graphics/Paint$FontMetricsInt;IZ)Ljava/lang/CharSequence;

    move-result-object v4

    .line 13683
    :goto_8
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v4}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13685
    :try_start_0
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->lastCaptionTranslating:Z

    if-eq v6, v2, :cond_17

    const/4 v6, 0x1

    goto :goto_9

    :cond_17
    const/4 v6, 0x0

    :goto_9
    invoke-virtual {v0, v4, v3, v6}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;ZZ)Z

    .line 13686
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v0, :cond_18

    .line 13687
    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$CaptionScrollView;->updateTopMargin()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_a

    :catch_0
    move-exception v0

    .line 13690
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_18
    :goto_a
    const/4 v3, 0x0

    .line 13692
    invoke-virtual {v10, v3}, Landroid/widget/TextView;->setScrollY(I)V

    const/4 v3, -0x1

    .line 13693
    invoke-virtual {v10, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13694
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v0, :cond_1a

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_19

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-eqz v0, :cond_19

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1a

    :cond_19
    const/4 v7, 0x1

    goto :goto_b

    :cond_1a
    const/4 v7, 0x0

    .line 13695
    :goto_b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v7, :cond_1b

    const/4 v11, 0x0

    :cond_1b
    invoke-virtual {v0, v11}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    const/4 v7, 0x0

    goto :goto_e

    .line 13697
    :cond_1c
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_1d

    .line 13698
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget v4, Lorg/telegram/messenger/R$string;->AddCaption:I

    const-string v6, "AddCaption"

    invoke-static {v6, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v4, v3}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;Z)V

    .line 13699
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    const v3, -0x4d000001

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13700
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const-string v3, "empty"

    invoke-virtual {v0, v3}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13701
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v7, 0x0

    invoke-virtual {v0, v7}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    goto :goto_e

    :cond_1d
    const/4 v7, 0x0

    .line 13703
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v12, v3}, Lorg/telegram/ui/Components/TextViewSwitcher;->setText(Ljava/lang/CharSequence;Z)V

    .line 13704
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    const/4 v3, -0x1

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 13705
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v6, :cond_1f

    if-eqz v9, :cond_1e

    goto :goto_c

    :cond_1e
    move v3, v7

    goto :goto_d

    :cond_1f
    :goto_c
    const/4 v3, 0x1

    :goto_d
    invoke-virtual {v0, v11, v3}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(IZ)V

    .line 13706
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v12}, Landroid/widget/ViewSwitcher;->setTag(Ljava/lang/Object;)V

    .line 13709
    :goto_e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    instance-of v0, v0, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    if-eqz v0, :cond_20

    .line 13710
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/TextViewSwitcher;->getCurrentView()Landroid/widget/TextView;

    move-result-object v0

    check-cast v0, Lorg/telegram/ui/PhotoViewer$CaptionTextView;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextView;->setLoading(Z)V

    :cond_20
    if-nez v5, :cond_21

    if-eqz v2, :cond_21

    const/4 v7, 0x1

    .line 13712
    :cond_21
    iput-boolean v7, v1, Lorg/telegram/ui/PhotoViewer;->lastCaptionTranslating:Z

    return-void

    .line 13427
    :cond_22
    :goto_f
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    .line 13428
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    return-void
.end method

.method private setDoubleTapEnabled(Z)V
    .locals 1

    .line 12273
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->doubleTapEnabled:Z

    .line 12274
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    if-eqz p1, :cond_0

    move-object p1, p0

    goto :goto_0

    :cond_0
    const/4 p1, 0x0

    :goto_0
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/GestureDetector2;->setOnDoubleTapListener(Lorg/telegram/ui/Components/GestureDetector2$OnDoubleTapListener;)V

    return-void
.end method

.method private setImageIndex(I)V
    .locals 2

    const/4 v0, 0x1

    const/4 v1, 0x0

    .line 13051
    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(IZZ)V

    return-void
.end method

.method private setImageIndex(IZZ)V
    .locals 33

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 13055
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v2, v1, :cond_45

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v2, :cond_0

    goto/16 :goto_25

    :cond_0
    const/4 v2, 0x0

    if-nez p2, :cond_1

    .line 13059
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v3, :cond_1

    .line 13060
    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 13061
    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 13064
    :cond_1
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x0

    aput-object v4, v3, v5

    .line 13065
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    add-int/lit8 v4, v1, 0x1

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v6, 0x1

    aput-object v4, v3, v6

    .line 13066
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    add-int/lit8 v4, v1, -0x1

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    move-result-object v4

    const/4 v7, 0x2

    aput-object v4, v3, v7

    .line 13067
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v8}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v8

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v3, v4, v8, v9}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->willSwitchFromPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)V

    .line 13068
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    iput-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->lastPhotoSetTime:J

    .line 13070
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 13071
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 13072
    invoke-direct/range {p0 .. p3}, Lorg/telegram/ui/PhotoViewer;->setIsAboutToSwitchToIndex(IZZ)V

    .line 13078
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->clone()Lorg/telegram/ui/Components/Crop/CropTransform;

    move-result-object v4

    .line 13079
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    if-eqz v8, :cond_3

    iget-object v8, v8, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-nez v8, :cond_2

    goto :goto_0

    :cond_2
    invoke-virtual {v8}, Lorg/telegram/messenger/MediaController$CropState;->clone()Lorg/telegram/messenger/MediaController$CropState;

    move-result-object v8

    goto :goto_1

    :cond_3
    :goto_0
    move-object v8, v2

    .line 13080
    :goto_1
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    .line 13082
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-virtual {v10}, Lorg/telegram/ui/PhotoViewer$EditState;->reset()V

    .line 13084
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_e

    .line 13085
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v1, :cond_d

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_4

    goto/16 :goto_7

    .line 13089
    :cond_4
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v1, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    if-eqz p2, :cond_5

    .line 13090
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v10, :cond_5

    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v13

    if-ne v10, v13, :cond_5

    move v10, v6

    goto :goto_2

    :cond_5
    move v10, v5

    :goto_2
    if-eqz v10, :cond_6

    .line 13092
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-boolean v13, v13, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    iput-boolean v13, v1, Lorg/telegram/messenger/MessageObject;->putInDownloadsStore:Z

    .line 13094
    :cond_6
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    .line 13095
    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v13

    .line 13096
    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v14, v6, :cond_9

    .line 13097
    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v1

    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v1, :cond_8

    .line 13098
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v1, :cond_7

    .line 13099
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_3

    .line 13101
    :cond_7
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 13103
    :goto_3
    invoke-direct {v0, v6}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    goto :goto_4

    .line 13105
    :cond_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 13106
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    .line 13109
    :cond_9
    :goto_4
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    const/16 v1, 0x8

    if-nez v13, :cond_b

    .line 13110
    iget-boolean v14, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v14, :cond_a

    goto :goto_5

    .line 13115
    :cond_a
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13116
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13117
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto :goto_6

    .line 13111
    :cond_b
    :goto_5
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v14, v5}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13112
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v15, 0x13

    invoke-virtual {v14, v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 13113
    iget-object v14, v0, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v15}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getVisibleSubItemsCount()I

    move-result v15

    if-le v15, v6, :cond_c

    move v1, v5

    :cond_c
    invoke-virtual {v14, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :goto_6
    move/from16 v16, v3

    move v1, v5

    move v3, v6

    goto/16 :goto_1a

    .line 13086
    :cond_d
    :goto_7
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13119
    :cond_e
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_11

    if-ltz v1, :cond_10

    .line 13120
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_f

    goto :goto_8

    .line 13124
    :cond_f
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v10, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/SecureDocument;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentSecureDocument:Lorg/telegram/messenger/SecureDocument;

    move/from16 v16, v3

    move v1, v5

    goto/16 :goto_17

    .line 13121
    :cond_10
    :goto_8
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13125
    :cond_11
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_16

    if-ltz v1, :cond_15

    .line 13126
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    if-lt v1, v10, :cond_12

    goto :goto_a

    .line 13130
    :cond_12
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 13131
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v13, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lorg/telegram/messenger/ImageLocation;

    if-eqz p2, :cond_13

    if-eqz v10, :cond_13

    if-eqz v13, :cond_13

    .line 13132
    iget-object v10, v10, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v14, v10, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v13, v13, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v15, v13, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v14, v15, :cond_13

    iget-wide v14, v10, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    move/from16 v16, v3

    iget-wide v2, v13, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v2, v14, v2

    if-nez v2, :cond_14

    move v2, v6

    goto :goto_9

    :cond_13
    move/from16 v16, v3

    :cond_14
    move v2, v5

    .line 13135
    :goto_9
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/ImageLocation;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    .line 13136
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/ImageLocation;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    move v10, v2

    move v1, v5

    move v13, v1

    move v3, v6

    const/4 v2, 0x0

    goto/16 :goto_1a

    .line 13127
    :cond_15
    :goto_a
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    :cond_16
    move/from16 v16, v3

    .line 13137
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_2c

    if-ltz v1, :cond_2b

    .line 13138
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v1, v2, :cond_17

    goto/16 :goto_12

    .line 13142
    :cond_17
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    .line 13143
    instance-of v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v2, :cond_1b

    .line 13144
    check-cast v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 13145
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_18

    .line 13146
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v2

    invoke-virtual {v2}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v2

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 13147
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    goto :goto_c

    .line 13148
    :cond_18
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v2, :cond_19

    .line 13149
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v3

    invoke-static {v1, v3}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-virtual {v2, v1}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->getAbsolutePath()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    goto :goto_b

    .line 13150
    :cond_19
    iget-object v2, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v3, v2, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v3, :cond_1a

    .line 13151
    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$WebDocument;->url:Ljava/lang/String;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 13152
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v2, "video"

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    goto :goto_c

    :cond_1a
    :goto_b
    move v1, v5

    :goto_c
    move v13, v1

    move v10, v5

    const/4 v1, 0x0

    goto/16 :goto_10

    .line 13156
    :cond_1b
    instance-of v2, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v2, :cond_25

    .line 13157
    move-object v2, v1

    check-cast v2, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13158
    iget-object v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    if-nez v3, :cond_1c

    .line 13160
    invoke-virtual {v0, v5, v5}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13163
    :cond_1c
    iget-boolean v3, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 13164
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 13165
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 13166
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 13167
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 13168
    iget-wide v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    iput-wide v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    .line 13169
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 13170
    iget-object v14, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v14, v13, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13171
    new-instance v13, Ljava/io/File;

    iget-object v14, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-direct {v13, v14}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13172
    invoke-static {v13}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v14

    .line 13173
    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v15, :cond_23

    .line 13174
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    .line 13175
    iget v10, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->width:I

    const-string v11, ", "

    if-eqz v10, :cond_1e

    iget v10, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->height:I

    if-eqz v10, :cond_1e

    .line 13176
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v10

    if-lez v10, :cond_1d

    .line 13177
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13179
    :cond_1d
    sget-object v10, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v12, v7, [Ljava/lang/Object;

    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->width:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v12, v5

    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->height:I

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v12, v6

    const-string v7, "%dx%d"

    invoke-static {v10, v7, v12}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v15, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13181
    :cond_1e
    iget-boolean v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v7, :cond_20

    .line 13182
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v7

    if-lez v7, :cond_1f

    .line 13183
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13185
    :cond_1f
    iget v7, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->duration:I

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->formatShortDuration(I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v15, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13187
    :cond_20
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->size:J

    const-wide/16 v17, 0x0

    cmp-long v6, v6, v17

    if-eqz v6, :cond_22

    .line 13188
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v6

    if-lez v6, :cond_21

    .line 13189
    invoke-virtual {v15, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13191
    :cond_21
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$PhotoEntry;->size:J

    invoke-static {v6, v7}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 13194
    :cond_22
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v13}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v2, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13195
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v2, v15}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13197
    :cond_23
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-eqz v2, :cond_24

    const/4 v2, 0x1

    goto :goto_d

    :cond_24
    move v2, v5

    :goto_d
    move-object v10, v14

    goto :goto_e

    .line 13198
    :cond_25
    instance-of v2, v1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v2, :cond_26

    .line 13199
    move-object v2, v1

    check-cast v2, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 13200
    invoke-virtual {v2}, Lorg/telegram/messenger/MediaController$SearchImage;->getPathToAttach()Ljava/lang/String;

    move-result-object v3

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 13201
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 13202
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->paintPath:Ljava/lang/String;

    .line 13203
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedPaintPath:Ljava/lang/String;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedPaintPath:Ljava/lang/String;

    .line 13204
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->croppedMediaEntities:Ljava/util/ArrayList;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->croppedMediaEntities:Ljava/util/ArrayList;

    .line 13205
    iget-wide v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->averageDuration:J

    iput-wide v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->averageDuration:J

    .line 13206
    iget-object v6, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    iput-object v6, v3, Lorg/telegram/ui/PhotoViewer$EditState;->mediaEntities:Ljava/util/ArrayList;

    .line 13207
    iget-object v2, v2, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    iput-object v2, v3, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    :cond_26
    move v2, v5

    move v3, v2

    const/4 v10, 0x0

    .line 13209
    :goto_e
    instance-of v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v6, :cond_29

    .line 13210
    check-cast v1, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 13211
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hasAnimatedMediaEntities()Z

    move-result v6

    if-eqz v6, :cond_27

    .line 13212
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->imagePath:Ljava/lang/String;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    goto :goto_f

    .line 13213
    :cond_27
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v1, :cond_28

    .line 13214
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    goto :goto_f

    .line 13216
    :cond_28
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentImagePath:Ljava/lang/String;

    :cond_29
    :goto_f
    move v13, v3

    move-object v1, v10

    move v10, v2

    .line 13220
    :goto_10
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2a

    const/4 v3, 0x1

    .line 13221
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 13222
    iget v6, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    .line 13223
    iget v7, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    iput v7, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    .line 13224
    iget v11, v2, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    .line 13225
    iget v14, v2, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iput v14, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    .line 13226
    iget v15, v2, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    iput v15, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    .line 13227
    iget v12, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    iput v12, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    .line 13228
    iget v5, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    iput v5, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    .line 13229
    iget-boolean v2, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    .line 13230
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/high16 v26, 0x3f800000    # 1.0f

    const/high16 v27, 0x3f800000    # 1.0f

    const/16 v30, 0x0

    const/16 v31, 0x0

    move-object/from16 v19, v3

    const/4 v3, 0x1

    move/from16 v20, v3

    move/from16 v21, v6

    move/from16 v22, v7

    move/from16 v23, v14

    move/from16 v24, v15

    move/from16 v25, v11

    move/from16 v28, v12

    move/from16 v29, v5

    move/from16 v32, v2

    invoke-virtual/range {v19 .. v32}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    goto :goto_11

    :cond_2a
    move v2, v5

    .line 13232
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 13233
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    const/16 v20, 0x0

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    const/high16 v26, 0x3f800000    # 1.0f

    const/high16 v27, 0x3f800000    # 1.0f

    iget v12, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v14, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    const/16 v30, 0x0

    const/16 v31, 0x0

    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    move-object/from16 v19, v2

    move/from16 v21, v3

    move/from16 v22, v5

    move/from16 v23, v6

    move/from16 v24, v7

    move/from16 v25, v11

    move/from16 v28, v12

    move/from16 v29, v14

    move/from16 v32, v15

    invoke-virtual/range {v19 .. v32}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    :goto_11
    move-object v2, v1

    const/4 v1, 0x0

    goto :goto_19

    :cond_2b
    :goto_12
    move v1, v5

    .line 13139
    invoke-virtual {v0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 13235
    :cond_2c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_32

    .line 13236
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v2, :cond_31

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getItemsCount()I

    move-result v1

    if-lt v2, v1, :cond_2d

    goto :goto_16

    .line 13240
    :cond_2d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->get(I)Lorg/telegram/tgnet/TLRPC$PageBlock;

    move-result-object v1

    .line 13241
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    if-eqz v2, :cond_2e

    if-ne v2, v1, :cond_2e

    const/4 v10, 0x1

    goto :goto_13

    :cond_2e
    const/4 v10, 0x0

    .line 13242
    :goto_13
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    .line 13243
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_30

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_2f

    goto :goto_14

    :cond_2f
    const/4 v13, 0x0

    goto :goto_15

    :cond_30
    :goto_14
    const/4 v13, 0x1

    :goto_15
    const/4 v1, 0x0

    goto :goto_18

    :cond_31
    :goto_16
    const/4 v1, 0x0

    .line 13237
    invoke-virtual {v0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    :cond_32
    const/4 v1, 0x0

    :goto_17
    move v10, v1

    move v13, v10

    :goto_18
    const/4 v2, 0x0

    :goto_19
    const/4 v3, 0x1

    .line 13245
    :goto_1a
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    .line 13247
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v1, :cond_34

    .line 13248
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v5, :cond_33

    .line 13249
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v3, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    goto :goto_1b

    .line 13251
    :cond_33
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->showAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    .line 13254
    :cond_34
    :goto_1b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v5}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v5

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v7, 0x0

    invoke-interface {v1, v3, v5, v6, v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v1

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v1, :cond_36

    .line 13256
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v3, :cond_35

    .line 13257
    iget-object v1, v1, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v3, 0x1

    invoke-virtual {v1, v7, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    goto :goto_1c

    .line 13259
    :cond_35
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->hideAfterAnimation:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    :cond_36
    :goto_1c
    if-nez v10, :cond_3b

    .line 13264
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->draggingDown:Z

    const/4 v1, 0x0

    .line 13265
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 13266
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    const/high16 v3, 0x3f800000    # 1.0f

    .line 13267
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 13268
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 13269
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 13270
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 13271
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->animateToRotate:F

    const-wide/16 v5, 0x0

    .line 13272
    iput-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 13273
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v5, 0x0

    .line 13274
    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 13275
    iput-object v5, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 13276
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v5, :cond_37

    const/4 v6, 0x4

    .line 13277
    invoke-virtual {v5, v6}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13280
    :cond_37
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartDistance:F

    .line 13281
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartScale:F

    .line 13282
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterX:F

    .line 13283
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchCenterY:F

    .line 13284
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartX:F

    .line 13285
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->pinchStartY:F

    .line 13286
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartX:F

    .line 13287
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->moveStartY:F

    const/4 v1, 0x0

    .line 13288
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->zooming:Z

    .line 13289
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->moving:Z

    .line 13290
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->paintViewTouched:I

    .line 13291
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 13292
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->invalidCoords:Z

    const/4 v3, 0x1

    .line 13293
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->canDragDown:Z

    .line 13294
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->changingPage:Z

    .line 13295
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->switchImageAfterAnimation:I

    .line 13296
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-eq v5, v3, :cond_3a

    .line 13297
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v3, :cond_39

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_38

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v1

    if-eqz v3, :cond_39

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v1

    invoke-static {v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v1

    if-eqz v1, :cond_39

    :cond_38
    const/4 v1, 0x1

    goto :goto_1d

    :cond_39
    const/4 v1, 0x0

    :goto_1d
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    .line 13299
    :cond_3a
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    const/4 v1, 0x0

    .line 13300
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    goto :goto_1e

    :cond_3b
    move v1, v7

    :goto_1e
    if-eqz v13, :cond_3d

    if-eqz v2, :cond_3d

    .line 13303
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    .line 13304
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x1

    if-ne v3, v5, :cond_3c

    const/4 v3, 0x1

    goto :goto_1f

    :cond_3c
    move v3, v1

    :goto_1f
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v5, v5, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v2, v3, v1, v5}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    .line 13307
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_3e

    goto :goto_20

    .line 13313
    :cond_3e
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$EditState;->reset()V

    .line 13316
    :goto_20
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->centerImageIsVideo:Z

    const/4 v1, -0x1

    move/from16 v2, v16

    if-ne v2, v1, :cond_3f

    .line 13319
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    const/4 v1, 0x0

    :goto_21
    const/4 v2, 0x3

    if-ge v1, v2, :cond_44

    const/4 v3, 0x0

    .line 13321
    invoke-direct {v0, v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    add-int/lit8 v1, v1, 0x1

    goto :goto_21

    :cond_3f
    const/4 v1, 0x1

    const/4 v3, 0x0

    .line 13324
    invoke-direct {v0, v3, v1, v3}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 13325
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-le v2, v1, :cond_41

    .line 13326
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13327
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13328
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13329
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13331
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13332
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13333
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13334
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13336
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    const/4 v2, 0x0

    if-eqz v1, :cond_40

    .line 13337
    aget-object v3, v1, v2

    const/4 v5, 0x1

    .line 13338
    aget-object v6, v1, v5

    aput-object v6, v1, v2

    const/4 v6, 0x2

    .line 13339
    aget-object v7, v1, v6

    aput-object v7, v1, v5

    .line 13340
    aput-object v3, v1, v6

    goto :goto_22

    :cond_40
    const/4 v6, 0x2

    .line 13343
    :goto_22
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    .line 13344
    iput-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 13345
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13347
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v1, v2

    .line 13348
    aget-object v4, v1, v6

    aput-object v4, v1, v2

    .line 13349
    aput-object v3, v1, v6

    .line 13351
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v1, v2

    .line 13352
    aget-object v4, v1, v6

    aput-object v4, v1, v2

    .line 13353
    aput-object v3, v1, v6

    .line 13354
    aget-object v1, v1, v2

    invoke-virtual {v3}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTranslationY(F)V

    const/4 v1, 0x0

    .line 13356
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13357
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x1

    sub-int/2addr v1, v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13358
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13359
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13360
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    sub-int/2addr v3, v2

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v0, v1, v3, v4}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 13361
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->resetIndexForDeferredImageLoading()V

    .line 13362
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    const/4 v1, 0x0

    .line 13364
    invoke-direct {v0, v2, v2, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    const/4 v3, 0x2

    .line 13365
    invoke-direct {v0, v3, v2, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    goto/16 :goto_24

    :cond_41
    if-ge v2, v1, :cond_43

    .line 13367
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13368
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13369
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13370
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    .line 13372
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13373
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13374
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    iput-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13375
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    .line 13377
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->centerImageInsideBlur:[Lorg/telegram/ui/Components/AnimatedFloat;

    if-eqz v1, :cond_42

    const/4 v2, 0x2

    .line 13378
    aget-object v3, v1, v2

    const/4 v5, 0x1

    .line 13379
    aget-object v6, v1, v5

    aput-object v6, v1, v2

    const/4 v2, 0x0

    .line 13380
    aget-object v6, v1, v2

    aput-object v6, v1, v5

    .line 13381
    aput-object v3, v1, v2

    goto :goto_23

    :cond_42
    const/4 v2, 0x0

    const/4 v5, 0x1

    .line 13384
    :goto_23
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    .line 13385
    iput-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    .line 13386
    iput-object v8, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13388
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v1, v2

    .line 13389
    aget-object v4, v1, v5

    aput-object v4, v1, v2

    .line 13390
    aput-object v3, v1, v5

    .line 13392
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v1, v2

    .line 13393
    aget-object v4, v1, v5

    aput-object v4, v1, v2

    .line 13394
    aput-object v3, v1, v5

    .line 13395
    aget-object v1, v1, v2

    invoke-virtual {v3}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setTranslationY(F)V

    const/4 v1, 0x0

    .line 13397
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13398
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    sub-int/2addr v1, v5

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13399
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13400
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v5

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 13401
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v2, v5

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {v0, v1, v2, v3}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 13402
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->resetIndexForDeferredImageLoading()V

    .line 13403
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateAccessibilityOverlayVisibility()V

    const/4 v1, 0x0

    .line 13405
    invoke-direct {v0, v5, v5, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    const/4 v2, 0x2

    .line 13406
    invoke-direct {v0, v2, v5, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 13408
    :cond_43
    :goto_24
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    if-eqz v1, :cond_44

    .line 13409
    invoke-virtual {v1}, Landroid/graphics/Bitmap;->recycle()V

    const/4 v1, 0x0

    .line 13410
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    .line 13413
    :cond_44
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->detectFaces()V

    :cond_45
    :goto_25
    return-void
.end method

.method private setImages()V
    .locals 3

    .line 12278
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-nez v0, :cond_0

    .line 12279
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v2, 0x0

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 12280
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 12281
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v1, v1, 0x1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rightCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 12282
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v0, v0, 0x1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    .line 12283
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v1, v1, -0x1

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->leftCropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-direct {p0, v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V

    .line 12284
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/lit8 v0, v0, -0x1

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V

    :cond_0
    return-void
.end method

.method private setIndexToImage(Lorg/telegram/messenger/ImageReceiver;ILorg/telegram/ui/Components/Crop/CropTransform;)V
    .locals 34

    move-object/from16 v0, p0

    move-object/from16 v14, p1

    move/from16 v1, p2

    move-object/from16 v15, p3

    const/4 v13, 0x0

    .line 13947
    invoke-virtual {v14, v13, v13}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    .line 13948
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    const/4 v12, 0x0

    if-nez v2, :cond_3

    if-ltz v1, :cond_73

    .line 13949
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_73

    .line 13950
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    .line 13951
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->density:F

    .line 13953
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v2, :cond_0

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_0

    goto :goto_0

    :cond_0
    move-object v2, v12

    :goto_0
    if-nez v2, :cond_1

    .line 13957
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v2, v12, v12, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getThumbForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v2

    .line 13959
    :cond_1
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v3, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/SecureDocument;

    .line 13960
    iget-object v3, v1, Lorg/telegram/messenger/SecureDocument;->secureFile:Lorg/telegram/tgnet/TLRPC$TL_secureFile;

    iget-wide v7, v3, Lorg/telegram/tgnet/TLRPC$TL_secureFile;->size:J

    .line 13961
    invoke-static {v1}, Lorg/telegram/messenger/ImageLocation;->getForSecureDocument(Lorg/telegram/messenger/SecureDocument;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v3

    const/4 v4, 0x0

    const/4 v5, 0x0

    if-eqz v2, :cond_2

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v2, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_1

    :cond_2
    move-object v6, v12

    :goto_1
    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const-string v12, "d"

    move-object/from16 v1, p1

    move-object v2, v3

    move-object v3, v12

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_4a

    .line 13963
    :cond_3
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    const-string v3, "%d_%d"

    const/4 v4, 0x2

    const/4 v11, 0x1

    if-nez v2, :cond_2c

    if-ltz v1, :cond_2b

    .line 13964
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_2b

    .line 13965
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    .line 13966
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v2

    int-to-float v2, v2

    sget v7, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v2, v7

    float-to-int v2, v2

    .line 13968
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_4

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v8, :cond_4

    goto :goto_2

    :cond_4
    move-object v7, v12

    :goto_2
    if-nez v7, :cond_5

    .line 13972
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v7, v12, v12, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getThumbForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;I)Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v7

    .line 13985
    :cond_5
    instance-of v1, v9, Lorg/telegram/messenger/MediaController$PhotoEntry;

    const-string v10, "d"

    if-eqz v1, :cond_b

    .line 13986
    move-object v1, v9

    check-cast v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13987
    iget-object v10, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 13988
    iget-boolean v5, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    if-eqz v5, :cond_9

    .line 13990
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    if-eqz v6, :cond_7

    .line 13991
    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v8, :cond_8

    .line 13992
    invoke-static {v6}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v6

    if-eqz v6, :cond_6

    .line 13994
    new-instance v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-direct {v7, v6}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;-><init>(Landroid/graphics/Bitmap;)V

    .line 13995
    iput-object v12, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->thumbPath:Ljava/lang/String;

    :cond_6
    move-object v1, v12

    move-object v6, v1

    goto :goto_4

    .line 14001
    :cond_7
    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "vthumb://"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v8, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->imageId:I

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const-string v8, ":"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget-object v1, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    invoke-virtual {v6, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    :cond_8
    move-object v1, v12

    goto :goto_4

    .line 14004
    :cond_9
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v6, :cond_a

    goto :goto_3

    .line 14007
    :cond_a
    iget v6, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->orientation:I

    iget v8, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->invert:I

    invoke-virtual {v14, v6, v8, v13}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IIZ)V

    .line 14008
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    move-object v6, v1

    .line 14010
    :goto_3
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v8, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    aput-object v18, v8, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    aput-object v18, v8, v11

    invoke-static {v1, v3, v8}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    :goto_4
    move v11, v5

    move-object/from16 v16, v6

    move-object v8, v10

    move-object v5, v12

    move-object v6, v5

    move-object/from16 v29, v6

    move/from16 v17, v13

    const-wide/16 v20, 0x0

    move-object v10, v1

    move-object/from16 v1, v29

    goto/16 :goto_e

    .line 14012
    :cond_b
    instance-of v1, v9, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_15

    .line 14014
    move-object v1, v9

    check-cast v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 14015
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v6, "video"

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-nez v5, :cond_12

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v5

    if-eqz v5, :cond_c

    goto/16 :goto_7

    .line 14022
    :cond_c
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v6, "gif"

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_e

    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_e

    .line 14024
    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    .line 14025
    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getDocumentVideoThumb(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v1

    if-eqz v1, :cond_d

    .line 14027
    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    goto :goto_5

    :cond_d
    const/4 v1, 0x0

    :goto_5
    move-object v6, v1

    move-wide/from16 v16, v11

    const/4 v1, 0x0

    const/4 v8, 0x0

    const/4 v11, 0x0

    goto/16 :goto_b

    .line 14030
    :cond_e
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v5, :cond_f

    .line 14031
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->getPhotoSize()I

    move-result v6

    invoke-static {v5, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v5

    .line 14033
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    .line 14034
    iget v6, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v10, v6

    .line 14035
    sget-object v6, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v8, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    aput-object v12, v8, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    const/16 v16, 0x1

    aput-object v12, v8, v16

    invoke-static {v6, v3, v8}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v6

    move-object v8, v5

    move-wide/from16 v16, v10

    const/4 v5, 0x0

    move-object v11, v1

    move-object v10, v6

    const/4 v1, 0x0

    const/4 v6, 0x0

    goto/16 :goto_b

    .line 14036
    :cond_f
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v5, v5, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v5, :cond_14

    .line 14037
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_10

    .line 14039
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v6, v5, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v6, :cond_11

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$WebDocument;->mime_type:Ljava/lang/String;

    const-string v6, "video/mp4"

    invoke-virtual {v6, v5}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_11

    .line 14040
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {v5}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v5

    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    goto :goto_6

    .line 14043
    :cond_10
    sget-object v5, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v6, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v6, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    const/4 v10, 0x1

    aput-object v8, v6, v10

    invoke-static {v5, v3, v6}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    move-object v10, v5

    :cond_11
    const/4 v5, 0x0

    .line 14045
    :goto_6
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    invoke-static {v1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v1

    move-object v6, v5

    const/4 v5, 0x0

    const/4 v8, 0x0

    goto :goto_9

    .line 14016
    :cond_12
    :goto_7
    iget-object v5, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_13

    .line 14017
    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v6, 0x5a

    invoke-static {v5, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v5

    .line 14018
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    move-object v11, v1

    move-object v8, v5

    const/4 v1, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v10, 0x0

    goto :goto_a

    .line 14019
    :cond_13
    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->thumb:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v5, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v5, :cond_14

    .line 14020
    invoke-static {v1}, Lorg/telegram/messenger/WebFile;->createWithWebDocument(Lorg/telegram/tgnet/TLRPC$WebDocument;)Lorg/telegram/messenger/WebFile;

    move-result-object v1

    goto :goto_8

    :cond_14
    const/4 v1, 0x0

    :goto_8
    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    :goto_9
    const/4 v11, 0x0

    :goto_a
    const-wide/16 v16, 0x0

    :goto_b
    move-object v12, v6

    move-object/from16 v29, v11

    move v11, v13

    move-wide/from16 v20, v16

    const/16 v16, 0x0

    const/16 v17, 0x1

    move-object v6, v1

    move-object v1, v8

    const/4 v8, 0x0

    goto/16 :goto_e

    .line 14047
    :cond_15
    instance-of v1, v9, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_19

    .line 14049
    move-object v1, v9

    check-cast v1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 14050
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->photoSize:Lorg/telegram/tgnet/TLRPC$PhotoSize;

    if-eqz v5, :cond_16

    .line 14052
    iget-object v6, v1, Lorg/telegram/messenger/MediaController$SearchImage;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    .line 14053
    iget v8, v5, Lorg/telegram/tgnet/TLRPC$PhotoSize;->size:I

    int-to-long v11, v8

    const/4 v8, 0x0

    const/16 v16, 0x0

    move-wide/from16 v32, v11

    move-object v11, v5

    move-object v12, v6

    move-wide/from16 v5, v32

    goto :goto_d

    .line 14054
    :cond_16
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->filterPath:Ljava/lang/String;

    if-eqz v5, :cond_17

    move-object/from16 v16, v5

    const-wide/16 v5, 0x0

    :goto_c
    const/4 v8, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    goto :goto_d

    .line 14056
    :cond_17
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v5, :cond_18

    .line 14058
    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    move-object v8, v5

    move-wide v5, v11

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/16 v16, 0x0

    goto :goto_d

    .line 14060
    :cond_18
    iget-object v5, v1, Lorg/telegram/messenger/MediaController$SearchImage;->imageUrl:Ljava/lang/String;

    .line 14061
    iget v6, v1, Lorg/telegram/messenger/MediaController$SearchImage;->size:I

    int-to-long v11, v6

    move-object/from16 v16, v5

    move-wide v5, v11

    goto :goto_c

    .line 14063
    :goto_d
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    move-wide/from16 v20, v5

    move-object v5, v8

    move-object/from16 v29, v12

    const/4 v6, 0x0

    const/4 v12, 0x0

    const/16 v17, 0x1

    move-object v8, v1

    move-object v1, v11

    move v11, v13

    goto :goto_e

    :cond_19
    move v11, v13

    move/from16 v17, v11

    const/4 v1, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const/4 v12, 0x0

    const/16 v16, 0x0

    const-wide/16 v20, 0x0

    const/16 v29, 0x0

    :goto_e
    if-eqz v5, :cond_1f

    .line 14067
    iget-object v1, v5, Lorg/telegram/tgnet/TLRPC$Document;->thumbs:Ljava/util/ArrayList;

    const/16 v6, 0x5a

    invoke-static {v1, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    if-eqz v12, :cond_1c

    .line 14069
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    const/4 v10, 0x0

    if-nez v7, :cond_1a

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object/from16 v16, v1

    goto :goto_f

    :cond_1a
    const/16 v16, 0x0

    :goto_f
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    aput-object v5, v4, v13

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v5, 0x1

    aput-object v2, v4, v5

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v19

    if-eqz v7, :cond_1b

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_10

    :cond_1b
    const/16 v18, 0x0

    :goto_10
    const/16 v22, 0x0

    const-string v3, "d"

    move-object/from16 v1, p1

    move-object v2, v6

    move-object v4, v12

    move-object v5, v10

    move-object/from16 v6, v16

    move-object/from16 v7, v19

    move-object v12, v8

    move-object/from16 v8, v18

    move-object/from16 v23, v9

    move-wide/from16 v9, v20

    move/from16 v30, v11

    move-object/from16 v11, v22

    move-object/from16 v31, v12

    move-object/from16 v12, v23

    move v14, v13

    move/from16 v13, v17

    invoke-virtual/range {v1 .. v13}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_14

    :cond_1c
    move-object/from16 v31, v8

    move-object/from16 v23, v9

    move/from16 v30, v11

    move v14, v13

    .line 14071
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    if-nez v7, :cond_1d

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v5, v1

    goto :goto_11

    :cond_1d
    const/4 v5, 0x0

    :goto_11
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v4, v14

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v8, 0x1

    aput-object v2, v4, v8

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v8

    if-eqz v7, :cond_1e

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_12

    :cond_1e
    const/16 v18, 0x0

    :goto_12
    const/4 v9, 0x0

    const-string v3, "d"

    move-object/from16 v1, p1

    move-object v2, v6

    move-object v4, v5

    move-object v5, v8

    move-object/from16 v6, v18

    move-wide/from16 v7, v20

    move-object/from16 v10, v23

    move/from16 v11, v17

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto :goto_14

    :cond_1f
    move-object/from16 v31, v8

    move-object/from16 v23, v9

    move/from16 v30, v11

    move v14, v13

    if-eqz v1, :cond_21

    move-object/from16 v11, v29

    .line 14074
    invoke-static {v1, v11}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    if-eqz v7, :cond_20

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v4, v1

    goto :goto_13

    :cond_20
    const/4 v4, 0x0

    :goto_13
    const/4 v7, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-wide/from16 v5, v20

    move-object/from16 v8, v23

    move/from16 v9, v17

    invoke-virtual/range {v1 .. v9}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto :goto_14

    :cond_21
    if-eqz v6, :cond_25

    if-eqz v12, :cond_22

    .line 14077
    invoke-static {v6}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    const/4 v5, 0x0

    const/4 v6, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-object v4, v12

    move-object/from16 v7, v23

    move/from16 v8, v17

    invoke-virtual/range {v1 .. v8}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/Object;I)V

    :goto_14
    move/from16 v13, v30

    goto/16 :goto_18

    .line 14079
    :cond_22
    invoke-static {v6}, Lorg/telegram/messenger/ImageLocation;->getForWebFile(Lorg/telegram/messenger/WebFile;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    if-eqz v7, :cond_23

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v3, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v3}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v4, v1

    move/from16 v13, v30

    goto :goto_15

    :cond_23
    move/from16 v13, v30

    if-eqz v13, :cond_24

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v1, :cond_24

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v3, Lorg/telegram/messenger/R$drawable;->nophotos:I

    invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    move-object v4, v1

    goto :goto_15

    :cond_24
    const/4 v4, 0x0

    :goto_15
    const/4 v5, 0x0

    move-object/from16 v1, p1

    move-object v3, v10

    move-object/from16 v6, v23

    move/from16 v7, v17

    invoke-virtual/range {v1 .. v7}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/String;Ljava/lang/Object;I)V

    goto :goto_18

    :cond_25
    move/from16 v13, v30

    if-eqz v7, :cond_26

    .line 14082
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    :goto_16
    move-object v4, v1

    goto :goto_17

    :cond_26
    if-eqz v13, :cond_27

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v1, :cond_27

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->nophotos:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    goto :goto_16

    :cond_27
    const/4 v4, 0x0

    :goto_17
    const/4 v5, 0x0

    move-object/from16 v1, p1

    move-object/from16 v2, v16

    move-object v3, v10

    move-wide/from16 v6, v20

    invoke-virtual/range {v1 .. v7}, Lorg/telegram/messenger/ImageReceiver;->setImage(Ljava/lang/String;Ljava/lang/String;Landroid/graphics/drawable/Drawable;Ljava/lang/String;J)V

    :goto_18
    move-object/from16 v1, v31

    if-eqz v15, :cond_29

    if-eqz v1, :cond_28

    const/16 v16, 0x1

    .line 14087
    iget v2, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPx:F

    iget v3, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPy:F

    iget v4, v1, Lorg/telegram/messenger/MediaController$CropState;->cropRotate:F

    iget v5, v1, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    iget v6, v1, Lorg/telegram/messenger/MediaController$CropState;->cropScale:F

    const/high16 v22, 0x3f800000    # 1.0f

    const/high16 v23, 0x3f800000    # 1.0f

    iget v7, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    iget v8, v1, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    const/16 v26, 0x0

    const/16 v27, 0x0

    iget-boolean v9, v1, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    move-object/from16 v15, p3

    move/from16 v17, v2

    move/from16 v18, v3

    move/from16 v19, v4

    move/from16 v20, v5

    move/from16 v21, v6

    move/from16 v24, v7

    move/from16 v25, v8

    move/from16 v28, v9

    invoke-virtual/range {v15 .. v28}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    goto :goto_19

    .line 14089
    :cond_28
    invoke-virtual {v15, v14}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(Z)V

    .line 14093
    :cond_29
    :goto_19
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    move-object/from16 v14, p1

    if-ne v14, v2, :cond_2a

    .line 14094
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->leftCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 14095
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->leftImageIsVideo:Z

    goto/16 :goto_4a

    .line 14096
    :cond_2a
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v2, :cond_73

    .line 14097
    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->rightCropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 14098
    iput-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->rightImageIsVideo:Z

    goto/16 :goto_4a

    :cond_2b
    move-object v1, v12

    .line 14101
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto/16 :goto_4a

    :cond_2c
    move v12, v13

    .line 14103
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v2, :cond_3e

    const/4 v5, 0x1

    new-array v3, v5, [I

    .line 14105
    invoke-interface {v2, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v2

    .line 14106
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v4, v2, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFileLocation(Lorg/telegram/tgnet/TLObject;[I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v4

    if-eqz v4, :cond_3c

    .line 14108
    instance-of v5, v2, Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v5, :cond_35

    .line 14109
    check-cast v2, Lorg/telegram/tgnet/TLRPC$Photo;

    .line 14111
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v5, :cond_2d

    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v6, :cond_2d

    goto :goto_1a

    :cond_2d
    const/4 v5, 0x0

    .line 14114
    :goto_1a
    aget v6, v3, v12

    if-nez v6, :cond_2e

    const/4 v6, -0x1

    aput v6, v3, v12

    .line 14118
    :cond_2e
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v6}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v6

    invoke-virtual {v6}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v6

    const/4 v11, 0x1

    and-int/2addr v6, v11

    if-eqz v6, :cond_2f

    move v13, v11

    goto :goto_1b

    :cond_2f
    move v13, v12

    :goto_1b
    if-nez v13, :cond_31

    .line 14119
    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v6, v1, :cond_31

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v4, v11}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;Z)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_30

    goto :goto_1c

    :cond_30
    move v13, v12

    goto :goto_1d

    :cond_31
    :goto_1c
    move v13, v11

    .line 14120
    :goto_1d
    iget-object v1, v2, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    const/16 v6, 0x50

    invoke-static {v1, v6}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-static {v1, v2}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v6

    if-eqz v5, :cond_32

    .line 14121
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v5, v5, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v5}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v7, v1

    goto :goto_1e

    :cond_32
    const/4 v7, 0x0

    :goto_1e
    if-eqz v13, :cond_33

    .line 14122
    invoke-static {v4, v2}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v2, v1

    goto :goto_1f

    :cond_33
    const/4 v2, 0x0

    :goto_1f
    const/4 v4, 0x0

    .line 14123
    aget v1, v3, v12

    int-to-long v8, v1

    const/4 v10, 0x0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v12

    const/4 v15, 0x1

    const-string v5, "b"

    move-object/from16 v1, p1

    move-object v3, v4

    move-object v4, v6

    move-object v6, v7

    move-wide v7, v8

    move-object v9, v10

    move-object v10, v12

    move v12, v11

    move v11, v15

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v13, :cond_34

    const/4 v12, 0x0

    goto :goto_20

    .line 14124
    :cond_34
    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_20
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto/16 :goto_4a

    .line 14125
    :cond_35
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v3, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v3

    if-nez v3, :cond_37

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v3, v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_36

    goto :goto_21

    .line 14135
    :cond_36
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v1, :cond_73

    .line 14136
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    .line 14137
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->addSecondParentView(Landroid/view/View;)V

    goto/16 :goto_4a

    .line 14126
    :cond_37
    :goto_21
    iget-object v1, v4, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_fileLocationUnavailable;

    if-nez v1, :cond_3b

    .line 14128
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_38

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_38

    goto :goto_22

    :cond_38
    const/4 v1, 0x0

    :goto_22
    const/4 v3, 0x0

    const/4 v5, 0x0

    if-nez v1, :cond_39

    .line 14131
    check-cast v2, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v4, v2}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    move-object v4, v2

    goto :goto_23

    :cond_39
    const/4 v4, 0x0

    :goto_23
    if-eqz v1, :cond_3a

    new-instance v2, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v2, v1}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v2

    goto :goto_24

    :cond_3a
    const/4 v6, 0x0

    :goto_24
    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getParentObject()Ljava/lang/Object;

    move-result-object v10

    const/4 v11, 0x1

    const-string v12, "b"

    move-object/from16 v1, p1

    move-object v2, v3

    move-object v3, v5

    move-object v5, v12

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    goto/16 :goto_4a

    .line 14133
    :cond_3b
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    goto/16 :goto_4a

    .line 14140
    :cond_3c
    aget v1, v3, v12

    if-nez v1, :cond_3d

    const/4 v1, 0x0

    .line 14141
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto/16 :goto_4a

    .line 14143
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    goto/16 :goto_4a

    :cond_3e
    const/4 v15, 0x1

    .line 14148
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_3f

    if-ltz v1, :cond_3f

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v1, v2, :cond_3f

    .line 14149
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    .line 14150
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setShouldGenerateQualityThumb(Z)V

    move-object v10, v2

    goto :goto_25

    :cond_3f
    const/4 v10, 0x0

    :goto_25
    const/16 v2, 0x64

    if-eqz v10, :cond_52

    .line 14156
    iget-object v5, v10, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->restriction_reason:Ljava/util/ArrayList;

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getRestrictionReason(Ljava/util/ArrayList;)Ljava/lang/String;

    move-result-object v5

    .line 14157
    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_40

    .line 14158
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    return-void

    .line 14160
    :cond_40
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v5

    if-eqz v5, :cond_47

    .line 14161
    iget-object v1, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    if-eqz v1, :cond_45

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_45

    .line 14163
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_41

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v3, :cond_41

    goto :goto_26

    :cond_41
    const/4 v1, 0x0

    .line 14166
    :goto_26
    iget-object v3, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    const/16 v4, 0x140

    invoke-static {v3, v4}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v3

    .line 14167
    iget v4, v3, Lorg/telegram/tgnet/TLRPC$PhotoSize;->w:I

    if-ge v4, v2, :cond_42

    iget v4, v3, Lorg/telegram/tgnet/TLRPC$PhotoSize;->h:I

    if-ge v4, v2, :cond_42

    move v13, v15

    goto :goto_27

    :cond_42
    move v13, v12

    :goto_27
    invoke-virtual {v14, v13}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    const/4 v2, 0x0

    const/4 v4, 0x0

    if-nez v1, :cond_43

    .line 14168
    iget-object v5, v10, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    invoke-static {v3, v5}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v3

    move-object v5, v3

    goto :goto_28

    :cond_43
    const/4 v5, 0x0

    :goto_28
    if-eqz v1, :cond_44

    new-instance v3, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v3, v1}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v3

    goto :goto_29

    :cond_44
    const/4 v6, 0x0

    :goto_29
    const-wide/16 v7, 0x0

    const/4 v9, 0x0

    const/4 v11, 0x1

    const-string v13, "b"

    move-object/from16 v1, p1

    move-object v3, v4

    move-object v4, v5

    move-object v5, v13

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    .line 14169
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_46

    .line 14170
    iget v1, v1, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->orientation:I

    invoke-virtual {v14, v1, v12}, Lorg/telegram/messenger/ImageReceiver;->setOrientation(IZ)V

    goto :goto_2a

    .line 14173
    :cond_45
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :cond_46
    :goto_2a
    return-void

    .line 14176
    :cond_47
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v5, :cond_48

    .line 14177
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5, v1}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->addSecondParentView(Landroid/view/View;)V

    .line 14178
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    return-void

    .line 14180
    :cond_48
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v5, v15, :cond_52

    .line 14181
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v5

    if-eqz v5, :cond_51

    .line 14182
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    .line 14183
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    .line 14185
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v6, :cond_49

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v7, :cond_49

    goto :goto_2b

    :cond_49
    const/4 v6, 0x0

    :goto_2b
    const/high16 v7, 0x45000000    # 2048.0f

    .line 14188
    sget v8, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v7, v8

    float-to-int v7, v7

    .line 14190
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v8}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v8

    invoke-virtual {v8}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v8

    and-int/lit8 v8, v8, 0x8

    if-eqz v8, :cond_4a

    move v13, v15

    goto :goto_2c

    :cond_4a
    move v13, v12

    :goto_2c
    if-nez v13, :cond_4c

    .line 14191
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v8, v1, :cond_4c

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v5}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_4b

    goto :goto_2d

    :cond_4b
    move v13, v12

    goto :goto_2e

    :cond_4c
    :goto_2d
    move v13, v15

    :goto_2e
    if-nez v6, :cond_4d

    .line 14192
    iget-object v1, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {v1, v2}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v1

    invoke-static {v1, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v8, v1

    goto :goto_2f

    :cond_4d
    const/4 v8, 0x0

    :goto_2f
    if-eqz v6, :cond_4e

    .line 14193
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v6, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_30

    :cond_4e
    const/4 v6, 0x0

    :goto_30
    if-eqz v13, :cond_4f

    .line 14194
    invoke-static {v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v2, v1

    goto :goto_31

    :cond_4f
    const/4 v2, 0x0

    .line 14195
    :goto_31
    sget-object v1, Ljava/util/Locale;->US:Ljava/util/Locale;

    new-array v4, v4, [Ljava/lang/Object;

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v9

    aput-object v9, v4, v12

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v4, v15

    invoke-static {v1, v3, v4}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v3

    iget-wide v11, v5, Lorg/telegram/tgnet/TLRPC$Document;->size:J

    const/4 v9, 0x0

    const/16 v16, 0x0

    const-string v5, "b"

    move-object/from16 v1, p1

    move-object v4, v8

    move-wide v7, v11

    move/from16 v11, v16

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v13, :cond_50

    const/4 v12, 0x0

    goto :goto_32

    .line 14196
    :cond_50
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_32
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto :goto_33

    .line 14198
    :cond_51
    new-instance v1, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v1, v2, v3, v10}, Lorg/telegram/ui/Components/OtherDocumentPlaceholderDrawable;-><init>(Landroid/content/Context;Landroid/view/View;Lorg/telegram/messenger/MessageObject;)V

    .line 14199
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :goto_33
    return-void

    :cond_52
    new-array v3, v15, [J

    .line 14205
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->getImageLocation(I[J)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    .line 14206
    invoke-direct {v0, v1, v3}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(I[J)Lorg/telegram/tgnet/TLObject;

    move-result-object v6

    .line 14207
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setNeedsQualityThumb(Z)V

    if-eqz v5, :cond_71

    .line 14211
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v7, :cond_53

    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v14, v8, :cond_53

    goto :goto_34

    :cond_53
    const/4 v7, 0x0

    .line 14214
    :goto_34
    aget-wide v8, v3, v12

    const-wide/16 v16, 0x0

    cmp-long v8, v8, v16

    if-nez v8, :cond_54

    const-wide/16 v8, -0x1

    aput-wide v8, v3, v12

    :cond_54
    if-eqz v10, :cond_55

    .line 14220
    iget-object v8, v10, Lorg/telegram/messenger/MessageObject;->photoThumbs:Ljava/util/ArrayList;

    invoke-static {v8, v2}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v2

    .line 14221
    iget-object v8, v10, Lorg/telegram/messenger/MessageObject;->photoThumbsObject:Lorg/telegram/tgnet/TLObject;

    goto :goto_35

    :cond_55
    const/4 v2, 0x0

    const/4 v8, 0x0

    :goto_35
    if-eqz v2, :cond_56

    if-ne v2, v6, :cond_56

    const/4 v2, 0x0

    :cond_56
    if-nez v2, :cond_58

    .line 14229
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v9, :cond_58

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    if-eqz v9, :cond_58

    move v13, v12

    .line 14230
    :goto_36
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v13, v9, :cond_58

    .line 14231
    iget-object v9, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v9, v9, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v9, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    instance-of v9, v9, Lorg/telegram/tgnet/TLRPC$TL_photoStrippedSize;

    if-eqz v9, :cond_57

    .line 14232
    iget-object v2, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    iget-object v2, v2, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v2, v13}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 14233
    iget-object v8, v5, Lorg/telegram/messenger/ImageLocation;->photo:Lorg/telegram/tgnet/TLRPC$Photo;

    goto :goto_37

    :cond_57
    add-int/lit8 v13, v13, 0x1

    goto :goto_36

    :cond_58
    :goto_37
    if-eqz v10, :cond_5a

    .line 14238
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->isWebpage()Z

    move-result v9

    if-nez v9, :cond_59

    goto :goto_38

    :cond_59
    move-object/from16 p3, v5

    goto :goto_39

    :cond_5a
    :goto_38
    move-object/from16 p3, v5

    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v4, v4, v16

    if-nez v4, :cond_5c

    iget-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v4, :cond_5b

    goto :goto_39

    :cond_5b
    move v13, v12

    goto :goto_3a

    :cond_5c
    :goto_39
    move v13, v15

    :goto_3a
    const/4 v4, 0x5

    if-eqz v10, :cond_5f

    .line 14243
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v5, v4, :cond_5e

    .line 14244
    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v5

    .line 14245
    invoke-static {v5}, Lorg/telegram/messenger/MessageObject;->getDocumentVideoThumb(Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v11

    if-eqz v11, :cond_5d

    .line 14247
    invoke-static {v11, v5}, Lorg/telegram/messenger/ImageLocation;->getForDocument(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Document;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v5

    goto :goto_3b

    :cond_5d
    const/4 v5, 0x0

    :goto_3b
    move-object/from16 v19, v10

    goto :goto_3e

    :cond_5e
    move-object/from16 v19, v10

    :goto_3c
    const/4 v5, 0x0

    goto :goto_3e

    .line 14250
    :cond_5f
    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v5, v10, v16

    if-eqz v5, :cond_63

    cmp-long v5, v10, v16

    if-lez v5, :cond_60

    .line 14252
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v5, v10}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v5

    goto :goto_3d

    .line 14254
    :cond_60
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    iget-wide v10, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v10, v10

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    invoke-virtual {v5, v10}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v5

    :goto_3d
    if-eqz v8, :cond_61

    move-object v5, v8

    :cond_61
    if-nez v7, :cond_62

    .line 14259
    instance-of v10, v2, Lorg/telegram/tgnet/TLRPC$TL_photoStrippedSize;

    if-eqz v10, :cond_62

    .line 14260
    new-instance v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    iget-object v10, v2, Lorg/telegram/tgnet/TLRPC$PhotoSize;->bytes:[B

    const-string v11, "b"

    invoke-static {v10, v11}, Lorg/telegram/messenger/ImageLoader;->getStrippedPhotoBitmap([BLjava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v10

    invoke-direct {v7, v10}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;-><init>(Landroid/graphics/Bitmap;)V

    :cond_62
    move-object/from16 v19, v5

    goto :goto_3c

    :cond_63
    const/4 v5, 0x0

    const/16 v19, 0x0

    :goto_3e
    const-string v10, "g"

    if-eqz v5, :cond_67

    .line 14266
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v1, v4, :cond_64

    goto :goto_3f

    :cond_64
    const/4 v10, 0x0

    :goto_3f
    const/4 v6, 0x0

    if-nez v7, :cond_65

    .line 14267
    invoke-static {v2, v8}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v8, v1

    goto :goto_40

    :cond_65
    const/4 v8, 0x0

    :goto_40
    if-eqz v7, :cond_66

    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object/from16 v18, v1

    goto :goto_41

    :cond_66
    const/16 v18, 0x0

    :goto_41
    aget-wide v11, v3, v12

    const/16 v16, 0x0

    const-string v7, "b"

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    move-object v3, v10

    move-object v4, v5

    move-object v5, v6

    move-object v6, v8

    move-object/from16 v8, v18

    move-wide v9, v11

    move-object/from16 v11, v16

    move-object/from16 v12, v19

    invoke-virtual/range {v1 .. v13}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    .line 14268
    invoke-virtual {v14, v15}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    goto/16 :goto_4a

    .line 14271
    :cond_67
    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v16, 0x0

    cmp-long v4, v4, v16

    if-eqz v4, :cond_68

    move-object/from16 v4, p3

    .line 14272
    iget v5, v4, Lorg/telegram/messenger/ImageLocation;->imageType:I

    const/4 v9, 0x2

    if-ne v5, v9, :cond_69

    goto :goto_42

    :cond_68
    move-object/from16 v4, p3

    :cond_69
    const/4 v10, 0x0

    .line 14276
    :goto_42
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/DownloadController;->getInstance(I)Lorg/telegram/messenger/DownloadController;

    move-result-object v5

    invoke-virtual {v5}, Lorg/telegram/messenger/DownloadController;->getAutodownloadMask()I

    move-result v5

    and-int/2addr v5, v15

    if-eqz v5, :cond_6a

    move v5, v15

    goto :goto_43

    :cond_6a
    move v5, v12

    :goto_43
    if-nez v5, :cond_6c

    .line 14277
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v5, v1, :cond_6c

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    invoke-virtual {v1, v6}, Lorg/telegram/messenger/FileLoader;->getPathToAttach(Lorg/telegram/tgnet/TLObject;)Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-eqz v1, :cond_6b

    goto :goto_44

    :cond_6b
    move/from16 v16, v12

    goto :goto_45

    :cond_6c
    :goto_44
    move/from16 v16, v15

    :goto_45
    if-nez v7, :cond_6d

    .line 14278
    invoke-static {v2, v8}, Lorg/telegram/messenger/ImageLocation;->getForObject(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLObject;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v1

    move-object v5, v1

    goto :goto_46

    :cond_6d
    const/4 v5, 0x0

    :goto_46
    if-eqz v7, :cond_6e

    .line 14279
    new-instance v1, Landroid/graphics/drawable/BitmapDrawable;

    iget-object v2, v7, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->bitmap:Landroid/graphics/Bitmap;

    invoke-direct {v1, v2}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Landroid/graphics/Bitmap;)V

    move-object v6, v1

    goto :goto_47

    :cond_6e
    const/4 v6, 0x0

    :goto_47
    if-eqz v16, :cond_6f

    move-object v2, v4

    goto :goto_48

    :cond_6f
    const/4 v2, 0x0

    .line 14282
    :goto_48
    aget-wide v7, v3, v12

    const/4 v9, 0x0

    const-string v11, "b"

    move-object/from16 v1, p1

    move-object v3, v10

    move-object v4, v5

    move-object v5, v11

    move-object/from16 v10, v19

    move v11, v13

    invoke-virtual/range {v1 .. v11}, Lorg/telegram/messenger/ImageReceiver;->setImage(Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Lorg/telegram/messenger/ImageLocation;Ljava/lang/String;Landroid/graphics/drawable/Drawable;JLjava/lang/String;Ljava/lang/Object;I)V

    if-eqz v16, :cond_70

    const/4 v12, 0x0

    goto :goto_49

    .line 14283
    :cond_70
    invoke-static {v15}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    :goto_49
    invoke-virtual {v14, v12}, Lorg/telegram/messenger/ImageReceiver;->setMark(Ljava/lang/Object;)V

    goto :goto_4a

    .line 14286
    :cond_71
    aget-wide v1, v3, v12

    const-wide/16 v3, 0x0

    cmp-long v1, v1, v3

    if-nez v1, :cond_72

    const/4 v1, 0x0

    .line 14287
    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/Bitmap;)V

    goto :goto_4a

    .line 14289
    :cond_72
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v1}, Landroid/app/Activity;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$drawable;->photoview_placeholder:I

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v14, v1}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    :cond_73
    :goto_4a
    return-void
.end method

.method private setIndexToPaintingOverlay(ILorg/telegram/ui/Components/PaintingOverlay;)V
    .locals 3

    if-nez p2, :cond_0

    return-void

    .line 13924
    :cond_0
    invoke-virtual {p2}, Lorg/telegram/ui/Components/PaintingOverlay;->reset()V

    const/16 v0, 0x8

    .line 13925
    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13926
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_3

    if-ltz p1, :cond_3

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ge p1, v0, :cond_3

    .line 13927
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, p1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object p1

    .line 13931
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    const/4 v1, 0x0

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    .line 13932
    check-cast p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 13933
    iget-boolean v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 13934
    iget-object v1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 13935
    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_1

    .line 13936
    :cond_1
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_2

    .line 13937
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 13938
    iget-object v1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->paintPath:Ljava/lang/String;

    .line 13939
    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->mediaEntities:Ljava/util/ArrayList;

    goto :goto_0

    :cond_2
    move-object p1, v1

    :goto_0
    move v0, v2

    .line 13941
    :goto_1
    invoke-virtual {p2, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13942
    invoke-virtual {p2, v1, p1, v0, v2}, Lorg/telegram/ui/Components/PaintingOverlay;->setData(Ljava/lang/String;Ljava/util/ArrayList;ZZ)V

    :cond_3
    return-void
.end method

.method private setIsAboutToSwitchToIndex(IZZ)V
    .locals 36

    move-object/from16 v6, p0

    move/from16 v7, p1

    move/from16 v8, p3

    if-nez p2, :cond_0

    .line 12289
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ne v0, v7, :cond_0

    return-void

    .line 12293
    :cond_0
    iget v9, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    .line 12294
    iput v7, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    .line 12299
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->getFileName(I)Ljava/lang/String;

    const/4 v10, 0x0

    if-eqz v8, :cond_1

    .line 12302
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x13

    if-lt v0, v1, :cond_1

    .line 12303
    new-instance v0, Landroid/transition/TransitionSet;

    invoke-direct {v0}, Landroid/transition/TransitionSet;-><init>()V

    .line 12304
    new-instance v1, Landroid/transition/Fade;

    invoke-direct {v1}, Landroid/transition/Fade;-><init>()V

    invoke-virtual {v0, v1}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 12305
    new-instance v1, Landroid/transition/ChangeBounds;

    invoke-direct {v1}, Landroid/transition/ChangeBounds;-><init>()V

    invoke-virtual {v0, v1}, Landroid/transition/TransitionSet;->addTransition(Landroid/transition/Transition;)Landroid/transition/TransitionSet;

    .line 12306
    invoke-virtual {v0, v10}, Landroid/transition/TransitionSet;->setOrdering(I)Landroid/transition/TransitionSet;

    const-wide/16 v1, 0xdc

    .line 12307
    invoke-virtual {v0, v1, v2}, Landroid/transition/TransitionSet;->setDuration(J)Landroid/transition/TransitionSet;

    .line 12308
    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v0, v1}, Landroid/transition/TransitionSet;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/transition/TransitionSet;

    .line 12309
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    invoke-static {v1, v0}, Landroid/transition/TransitionManager;->beginDelayedTransition(Landroid/view/ViewGroup;Landroid/transition/Transition;)V

    .line 12313
    :cond_1
    iput-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    .line 12314
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const-string v1, "AttachGif"

    const-string v11, "AttachVideo"

    const-string v12, "AttachPhoto"

    if-nez v0, :cond_4b

    .line 12315
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v0, :cond_4a

    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v15}, Ljava/util/ArrayList;->size()I

    move-result v15

    if-lt v0, v15, :cond_2

    goto/16 :goto_27

    .line 12318
    :cond_2
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-virtual {v0, v15}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    .line 12319
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->updateTranslation()Z

    .line 12320
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v15

    .line 12322
    iget-boolean v13, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v13, :cond_3

    iget-boolean v13, v6, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    if-nez v13, :cond_3

    const/4 v13, 0x1

    goto :goto_0

    :cond_3
    move v13, v10

    :goto_0
    invoke-static {v0, v13, v10}, Lorg/telegram/ui/FilteredSearchView;->createFromInfoString(Lorg/telegram/messenger/MessageObject;ZI)Ljava/lang/CharSequence;

    move-result-object v13

    .line 12324
    iget-object v5, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v5, :cond_4

    .line 12325
    iget v5, v5, Lorg/telegram/tgnet/TLRPC$Message;->date:I

    int-to-long v4, v5

    invoke-static {v4, v5, v10}, Lorg/telegram/messenger/LocaleController;->formatDateAudio(JZ)Ljava/lang/String;

    move-result-object v4

    goto :goto_1

    :cond_4
    const/4 v4, 0x0

    .line 12327
    :goto_1
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v5, v4, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    .line 12329
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isInvoice()Z

    move-result v4

    .line 12330
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v5}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v5

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v2

    invoke-virtual {v5, v2, v3}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v2

    if-nez v2, :cond_7

    iget-object v2, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v2, :cond_5

    iget-boolean v2, v2, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v2, :cond_7

    :cond_5
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v2

    if-eqz v2, :cond_6

    goto :goto_2

    :cond_6
    move v2, v10

    goto :goto_3

    :cond_7
    :goto_2
    const/4 v2, 0x1

    :goto_3
    if-eqz v15, :cond_8

    .line 12332
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v3, v10}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12333
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v5, 0x1

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v14

    invoke-virtual {v3, v14}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto :goto_4

    .line 12335
    :cond_8
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v5, 0x8

    invoke-virtual {v3, v5}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12336
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v5, 0x0

    invoke-virtual {v3, v5}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    :goto_4
    if-eqz v4, :cond_9

    .line 12339
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v3, v10, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12340
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v3, v10, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12341
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x6

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12342
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12343
    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v3

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$MessageMedia;->description:Ljava/lang/String;

    .line 12344
    iput-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12346
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v14, 0x15

    invoke-virtual {v5, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12347
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v14, 0x16

    invoke-virtual {v5, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    move v5, v10

    move-object/from16 v19, v13

    goto/16 :goto_18

    .line 12349
    :cond_9
    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v3

    invoke-virtual {v3}, Lorg/telegram/messenger/MessagesController;->getTranslateController()Lorg/telegram/messenger/TranslateController;

    move-result-object v3

    .line 12350
    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-eq v9, v5, :cond_a

    .line 12351
    iput-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    const/4 v5, 0x0

    .line 12352
    iput-object v5, v6, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    .line 12354
    :cond_a
    invoke-virtual {v3}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result v5

    if-eqz v5, :cond_b

    .line 12356
    new-instance v5, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda93;

    invoke-direct {v5, v6, v7, v3, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda93;-><init>(Lorg/telegram/ui/PhotoViewer;ILorg/telegram/messenger/TranslateController;Lorg/telegram/messenger/MessageObject;)V

    invoke-virtual {v3, v0, v5}, Lorg/telegram/messenger/TranslateController;->detectPhotoLanguage(Lorg/telegram/messenger/MessageObject;Lorg/telegram/messenger/Utilities$Callback;)V

    .line 12375
    :cond_b
    invoke-virtual {v3}, Lorg/telegram/messenger/TranslateController;->isContextTranslateEnabled()Z

    move-result v5

    if-eqz v5, :cond_d

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->captionDetectedLanguage:Ljava/lang/String;

    invoke-virtual {v3, v0, v5}, Lorg/telegram/messenger/TranslateController;->canTranslatePhoto(Lorg/telegram/messenger/MessageObject;Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_d

    .line 12376
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v3, :cond_c

    .line 12377
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0x16

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12378
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v14, 0x15

    invoke-virtual {v3, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_5

    :cond_c
    const/16 v5, 0x16

    const/16 v14, 0x15

    .line 12380
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12381
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_5

    :cond_d
    const/16 v5, 0x16

    const/16 v14, 0x15

    .line 12384
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12385
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_5
    xor-int/lit8 v3, v2, 0x1

    .line 12387
    iput-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12388
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isNewGif()Z

    move-result v3

    if-eqz v3, :cond_e

    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v3, :cond_e

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v21

    invoke-static/range {v21 .. v22}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v3

    if-nez v3, :cond_e

    .line 12389
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xe

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12391
    :cond_e
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v3, :cond_f

    invoke-virtual {v3}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v3

    if-eqz v3, :cond_f

    const/4 v3, 0x1

    goto :goto_6

    :cond_f
    move v3, v10

    :goto_6
    const/4 v5, 0x0

    invoke-virtual {v0, v3, v5}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(ZLorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v3

    if-eqz v3, :cond_10

    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v3, :cond_10

    .line 12392
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x6

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_7

    :cond_10
    const/4 v5, 0x6

    .line 12394
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12396
    :goto_7
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12397
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v3

    if-eqz v3, :cond_11

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v3

    if-nez v3, :cond_11

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getMimeType()Ljava/lang/String;

    move-result-object v3

    const-string v5, "video/"

    invoke-virtual {v3, v5}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_13

    :cond_11
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v3, :cond_13

    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget v3, v3, Lorg/telegram/tgnet/TLRPC$Message;->ttl:I

    if-eqz v3, :cond_12

    const/16 v5, 0xe10

    if-lt v3, v5, :cond_13

    :cond_12
    if-nez v2, :cond_13

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->canSendMediaToParentChatActivity()Z

    move-result v3

    if-eqz v3, :cond_13

    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-nez v3, :cond_13

    const/4 v3, 0x1

    goto :goto_8

    :cond_13
    move v3, v10

    .line 12398
    :goto_8
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v5, :cond_14

    .line 12399
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12400
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v3, v10, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12401
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v5, 0x1

    invoke-direct {v6, v3, v5, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    :goto_9
    move-object/from16 v19, v13

    goto/16 :goto_16

    :cond_14
    if-eqz v15, :cond_1e

    if-eqz v2, :cond_17

    .line 12403
    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v3, :cond_15

    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v3

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v3, :cond_16

    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v3

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    if-eqz v3, :cond_16

    goto :goto_a

    :cond_15
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    .line 12404
    invoke-virtual {v3, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/MessageObject;

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v3

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v3, :cond_16

    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lorg/telegram/messenger/MessageObject;

    iget-object v3, v3, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v3}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v3

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    if-eqz v3, :cond_16

    goto :goto_a

    .line 12407
    :cond_16
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xb

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_b

    :cond_17
    :goto_a
    const/16 v5, 0xb

    .line 12405
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12409
    :goto_b
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v3

    if-nez v3, :cond_18

    const/4 v3, 0x1

    goto :goto_c

    :cond_18
    move v3, v10

    :goto_c
    if-eqz v3, :cond_19

    .line 12411
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v10, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12413
    :cond_19
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    if-nez v5, :cond_1b

    .line 12414
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v10}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 12415
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v3, :cond_1a

    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v3

    const/4 v14, 0x0

    cmpg-float v3, v3, v14

    if-gtz v3, :cond_1a

    const/4 v3, 0x1

    goto :goto_d

    :cond_1a
    move v3, v10

    :goto_d
    const/high16 v14, 0x3f000000    # 0.5f

    const/4 v15, 0x1

    invoke-direct {v6, v5, v15, v3, v14}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    goto :goto_f

    .line 12417
    :cond_1b
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v3, :cond_1c

    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v3

    const/4 v14, 0x0

    cmpg-float v3, v3, v14

    if-gtz v3, :cond_1c

    const/4 v3, 0x1

    goto :goto_e

    :cond_1c
    move v3, v10

    :goto_e
    const/4 v14, 0x1

    invoke-direct {v6, v5, v14, v3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12419
    :goto_f
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v3, v10, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12420
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasAttachedStickers()Z

    move-result v3

    if-eqz v3, :cond_1d

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v14

    invoke-static {v14, v15}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v3

    if-nez v3, :cond_1d

    .line 12421
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xf

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_10

    .line 12423
    :cond_1d
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v5, 0xf

    invoke-virtual {v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12425
    :goto_10
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto/16 :goto_9

    .line 12427
    :cond_1e
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    const/16 v15, 0x8

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12428
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    invoke-virtual {v5, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12429
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v14, 0xb

    invoke-virtual {v5, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12430
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12431
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v5

    if-nez v5, :cond_1f

    const/4 v5, 0x1

    goto :goto_11

    :cond_1f
    move v5, v10

    .line 12432
    :goto_11
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->hasAttachedStickers()Z

    move-result v14

    if-eqz v14, :cond_20

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v19

    invoke-static/range {v19 .. v20}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v14

    if-nez v14, :cond_20

    const/4 v14, 0x1

    goto :goto_12

    :cond_20
    move v14, v10

    :goto_12
    if-eqz v5, :cond_22

    .line 12434
    iget-object v15, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-nez v14, :cond_21

    if-nez v3, :cond_21

    move-object/from16 v19, v13

    const/4 v13, 0x1

    goto :goto_13

    :cond_21
    move-object/from16 v19, v13

    move v13, v10

    :goto_13
    invoke-direct {v6, v15, v10, v13}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_14

    :cond_22
    move-object/from16 v19, v13

    .line 12436
    :goto_14
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-eqz v8, :cond_23

    if-nez v5, :cond_23

    if-nez v14, :cond_23

    const/4 v15, 0x1

    goto :goto_15

    :cond_23
    move v15, v10

    :goto_15
    invoke-direct {v6, v13, v3, v15}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12437
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v13, 0x1

    xor-int/2addr v5, v13

    invoke-direct {v6, v3, v14, v5}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12439
    :goto_16
    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Message;->restriction_reason:Ljava/util/ArrayList;

    invoke-static {v3}, Lorg/telegram/messenger/MessagesController;->getRestrictionReason(Ljava/util/ArrayList;)Ljava/lang/String;

    move-result-object v3

    .line 12440
    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_24

    :goto_17
    move v5, v10

    goto :goto_18

    .line 12442
    :cond_24
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    if-eqz v3, :cond_25

    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v3, :cond_25

    iget-object v5, v3, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v5, :cond_25

    iget-object v3, v3, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v5

    invoke-static {v3, v5}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_25

    .line 12443
    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer;->postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;

    move-result-object v3

    goto :goto_17

    .line 12445
    :cond_25
    iget-object v3, v0, Lorg/telegram/messenger/MessageObject;->caption:Ljava/lang/CharSequence;

    .line 12446
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    .line 12450
    :goto_18
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v13, :cond_28

    .line 12451
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v14, 0x1

    invoke-virtual {v13, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12452
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v14, 0xa

    invoke-virtual {v13, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12453
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v13, v10, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12454
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v13, :cond_26

    invoke-virtual {v13}, Lorg/telegram/ui/ChatActivity;->isInScheduleMode()Z

    move-result v13

    if-eqz v13, :cond_26

    const/4 v13, 0x0

    const/4 v14, 0x1

    goto :goto_19

    :cond_26
    move v14, v10

    const/4 v13, 0x0

    :goto_19
    invoke-virtual {v0, v14, v13}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(ZLorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v13

    if-nez v13, :cond_27

    .line 12455
    iget-object v13, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v14, 0x6

    invoke-virtual {v13, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_27
    xor-int/lit8 v13, v2, 0x1

    .line 12457
    iput-boolean v13, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12459
    :cond_28
    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v14, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v13, v14

    if-eqz v13, :cond_35

    iget-boolean v13, v6, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-nez v13, :cond_35

    .line 12460
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v1, :cond_2f

    .line 12461
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    add-int/2addr v1, v4

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v4, v11

    if-ge v1, v4, :cond_2d

    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    if-nez v1, :cond_2d

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    const/4 v11, 0x5

    sub-int/2addr v4, v11

    if-le v1, v4, :cond_2d

    .line 12462
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-eqz v1, :cond_29

    move v1, v10

    goto :goto_1a

    :cond_29
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v4

    const/4 v11, 0x1

    sub-int/2addr v4, v11

    invoke-virtual {v1, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    .line 12464
    :goto_1a
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v4, v4, v10

    if-eqz v4, :cond_2b

    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v13, 0x0

    cmp-long v4, v11, v13

    if-eqz v4, :cond_2b

    .line 12466
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_2a

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v11

    const/4 v12, 0x1

    sub-int/2addr v11, v12

    invoke-virtual {v4, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v11

    iget-wide v13, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v4, v11, v13

    if-eqz v4, :cond_2a

    move/from16 v27, v10

    goto :goto_1b

    :cond_2a
    move/from16 v27, v1

    :goto_1b
    const/4 v1, 0x1

    goto :goto_1c

    :cond_2b
    move/from16 v27, v1

    move v1, v10

    .line 12471
    :goto_1c
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->loadMore()Z

    move-result v4

    if-nez v4, :cond_2d

    .line 12472
    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    if-nez v1, :cond_2c

    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_1d

    :cond_2c
    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_1d
    move-wide/from16 v24, v11

    const/16 v26, 0x28

    const/16 v28, 0x0

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->topicId:I

    const/16 v31, 0x1

    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v33, 0x0

    move/from16 v29, v1

    move/from16 v30, v4

    move/from16 v32, v11

    invoke-virtual/range {v23 .. v33}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIIIII)V

    const/4 v1, 0x1

    .line 12473
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 12477
    :cond_2d
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    if-lez v1, :cond_2e

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v4, 0x5

    if-ge v1, v4, :cond_2e

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_2e

    .line 12478
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v28

    .line 12480
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->loadMore()Z

    move-result v1

    if-nez v1, :cond_2e

    .line 12481
    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const/16 v26, 0x28

    const/16 v27, 0x0

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->topicId:I

    const/16 v31, 0x1

    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v33, 0x0

    move-wide/from16 v24, v11

    move/from16 v29, v1

    move/from16 v30, v4

    move/from16 v32, v13

    invoke-virtual/range {v23 .. v33}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIIIII)V

    const/4 v1, 0x1

    .line 12482
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 12485
    :cond_2e
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v1, :cond_43

    .line 12486
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->openedFromProfile:Z

    invoke-virtual {v1, v4, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12487
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int v12, v4, v11

    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget v14, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v13, v14

    sub-int/2addr v12, v13

    add-int/2addr v4, v11

    invoke-virtual {v1, v12, v4}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_23

    .line 12490
    :cond_2f
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v4, v11

    if-ge v1, v4, :cond_34

    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    if-nez v1, :cond_34

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v4, 0x5

    if-ge v1, v4, :cond_34

    .line 12491
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-eqz v1, :cond_30

    move v1, v10

    goto :goto_1e

    :cond_30
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    .line 12493
    :goto_1e
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v4, v4, v10

    if-eqz v4, :cond_32

    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v13, 0x0

    cmp-long v4, v11, v13

    if-eqz v4, :cond_32

    .line 12495
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_31

    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v11

    iget-wide v13, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v4, v11, v13

    if-eqz v4, :cond_31

    move/from16 v27, v10

    goto :goto_1f

    :cond_31
    move/from16 v27, v1

    :goto_1f
    const/4 v1, 0x1

    goto :goto_20

    :cond_32
    move/from16 v27, v1

    move v1, v10

    .line 12500
    :goto_20
    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v23

    if-nez v1, :cond_33

    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_21

    :cond_33
    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_21
    move-wide/from16 v24, v11

    const/16 v26, 0x50

    const/16 v28, 0x0

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->topicId:I

    const/16 v31, 0x1

    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v33, 0x0

    move/from16 v29, v1

    move/from16 v30, v4

    move/from16 v32, v11

    invoke-virtual/range {v23 .. v33}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIIIII)V

    const/4 v1, 0x1

    .line 12501
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    goto :goto_22

    :cond_34
    const/4 v1, 0x1

    .line 12503
    :goto_22
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v4, :cond_43

    .line 12504
    invoke-virtual {v4, v1, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12505
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v11, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v11, v12

    iget-object v12, v6, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v12}, Ljava/util/ArrayList;->size()I

    move-result v12

    sub-int/2addr v11, v12

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v11, v12

    add-int/2addr v11, v1

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    add-int/2addr v1, v12

    invoke-virtual {v4, v11, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    goto/16 :goto_23

    .line 12508
    :cond_35
    iget v13, v6, Lorg/telegram/ui/PhotoViewer;->slideshowMessageId:I

    if-nez v13, :cond_3b

    iget-object v13, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v13}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v13

    instance-of v13, v13, Lorg/telegram/tgnet/TLRPC$TL_messageMediaWebPage;

    if-eqz v13, :cond_3b

    .line 12509
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v4, :cond_36

    .line 12510
    invoke-virtual {v4, v10, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12512
    :cond_36
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v4, :cond_37

    const-string v1, "YouTube"

    goto/16 :goto_24

    .line 12514
    :cond_37
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result v4

    if-eqz v4, :cond_38

    .line 12515
    sget v1, Lorg/telegram/messenger/R$string;->AttachDocument:I

    const-string v4, "AttachDocument"

    invoke-static {v4, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto/16 :goto_24

    .line 12516
    :cond_38
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_39

    .line 12517
    sget v1, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v11, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_24

    .line 12518
    :cond_39
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v4

    if-eqz v4, :cond_3a

    .line 12519
    sget v4, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v1, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_24

    .line 12521
    :cond_3a
    sget v1, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v12, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_24

    :cond_3b
    if-eqz v4, :cond_3d

    .line 12524
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v1, :cond_3c

    .line 12525
    invoke-virtual {v1, v10, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12527
    :cond_3c
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->getMedia(Lorg/telegram/tgnet/TLRPC$Message;)Lorg/telegram/tgnet/TLRPC$MessageMedia;

    move-result-object v1

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$MessageMedia;->title:Ljava/lang/String;

    goto :goto_24

    .line 12528
    :cond_3d
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_3f

    .line 12529
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v1, :cond_3e

    .line 12530
    invoke-virtual {v1, v10, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12532
    :cond_3e
    sget v1, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v11, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_24

    .line 12533
    :cond_3f
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isGif()Z

    move-result v4

    if-eqz v4, :cond_41

    .line 12534
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v4, :cond_40

    .line 12535
    invoke-virtual {v4, v10, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12537
    :cond_40
    sget v4, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v1, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_24

    .line 12538
    :cond_41
    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v1

    if-eqz v1, :cond_43

    .line 12539
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v1, :cond_42

    .line 12540
    invoke-virtual {v1, v10, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12542
    :cond_42
    sget v1, Lorg/telegram/messenger/R$string;->AttachDocument:I

    const-string v4, "AttachDocument"

    invoke-static {v4, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_24

    :cond_43
    :goto_23
    move-object/from16 v1, v19

    .line 12544
    :goto_24
    iget-wide v11, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    invoke-static {v11, v12}, Lorg/telegram/messenger/DialogObject;->isEncryptedDialog(J)Z

    move-result v4

    if-eqz v4, :cond_44

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-eqz v4, :cond_45

    :cond_44
    if-eqz v2, :cond_46

    .line 12545
    :cond_45
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v4, v10, v10}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12547
    :cond_46
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v4, :cond_49

    iget-object v4, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->ttl:I

    if-eqz v4, :cond_47

    const/16 v11, 0xe10

    if-lt v4, v11, :cond_49

    :cond_47
    if-eqz v2, :cond_48

    goto :goto_25

    :cond_48
    const/4 v2, 0x1

    .line 12553
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12554
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12555
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v11, 0xa

    invoke-virtual {v4, v11}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_26

    :cond_49
    :goto_25
    const/4 v2, 0x1

    const/16 v11, 0xa

    .line 12548
    iput-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12549
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12550
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v11}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12551
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v2, v10, v8}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12557
    :goto_26
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    move-object v10, v0

    move-object v2, v1

    move-object v13, v3

    move v0, v8

    goto :goto_29

    :cond_4a
    :goto_27
    return-void

    :cond_4b
    const/4 v13, 0x0

    const/4 v14, 0x0

    .line 12558
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const-string v2, ""

    if-nez v0, :cond_4e

    .line 12559
    iput-boolean v10, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12560
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x6

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12561
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12562
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x15

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12563
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x16

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12564
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v0, :cond_4d

    .line 12565
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-le v3, v1, :cond_4c

    move v3, v1

    goto :goto_28

    :cond_4c
    move v3, v10

    :goto_28
    invoke-virtual {v0, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12566
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v3, v1

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->secureDocuments:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    invoke-virtual {v0, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12569
    :cond_4d
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 12570
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v2, v8}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    move v0, v8

    move v5, v10

    move-object v2, v13

    move-object v10, v2

    :goto_29
    const/16 v14, 0x8

    goto/16 :goto_5d

    .line 12571
    :cond_4e
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v15, 0x2

    const/4 v5, -0x1

    if-nez v0, :cond_5f

    if-ltz v7, :cond_5e

    .line 12572
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v7, v0, :cond_4f

    goto/16 :goto_33

    .line 12575
    :cond_4f
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12576
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12577
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->canEditAvatar:Z

    const/16 v1, 0x11

    const/16 v2, 0x10

    if-eqz v0, :cond_55

    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_55

    .line 12578
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12579
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result v0

    if-eqz v0, :cond_50

    .line 12581
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_2a

    .line 12583
    :cond_50
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12586
    :goto_2a
    iget-wide v0, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v2, 0x0

    cmp-long v0, v0, v2

    if-lez v0, :cond_52

    :cond_51
    :goto_2b
    const/4 v0, 0x1

    goto :goto_2c

    .line 12589
    :cond_52
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v1, v1

    invoke-static {v1, v2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    .line 12590
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCurrentAvatarSet()Z

    move-result v1

    if-nez v1, :cond_51

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v2, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v1, v10, v2, v0}, Lorg/telegram/messenger/MessageObject;->canDeleteMessage(IZLorg/telegram/tgnet/TLRPC$Message;Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-eqz v0, :cond_53

    goto :goto_2b

    :cond_53
    move v0, v10

    :goto_2c
    if-eqz v0, :cond_54

    .line 12593
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x6

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_2d

    :cond_54
    const/4 v3, 0x6

    .line 12595
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_2d

    :cond_55
    const/4 v3, 0x6

    .line 12598
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12599
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12600
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12602
    :goto_2d
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v0, :cond_57

    .line 12603
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    if-le v1, v2, :cond_56

    move v1, v2

    goto :goto_2e

    :cond_56
    move v1, v10

    :goto_2e
    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12604
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v1, v2

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12606
    :cond_57
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-eqz v0, :cond_58

    goto :goto_2f

    .line 12608
    :cond_58
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isEvent:Z

    if-eqz v0, :cond_59

    .line 12609
    sget v0, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v12, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_2f

    :cond_59
    move-object v0, v13

    .line 12611
    :goto_2f
    iget-wide v1, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v3, 0x0

    cmp-long v1, v1, v3

    if-eqz v1, :cond_5a

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v1

    iget-wide v2, v6, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v2, v2

    invoke-virtual {v1, v2, v3}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v1

    if-eqz v1, :cond_5a

    const/4 v1, 0x1

    goto :goto_30

    :cond_5a
    move v1, v10

    :goto_30
    if-eqz v1, :cond_5b

    .line 12613
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x1

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    goto :goto_31

    :cond_5b
    const/4 v3, 0x1

    .line 12615
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :goto_31
    xor-int/2addr v1, v3

    .line 12617
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12618
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0xa

    invoke-virtual {v1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12619
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12620
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    .line 12621
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v1, :cond_5d

    iget v1, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v1, :cond_5c

    if-eq v1, v15, :cond_5c

    if-ne v1, v5, :cond_5d

    :cond_5c
    const/4 v1, 0x1

    goto :goto_32

    :cond_5d
    move v1, v10

    :goto_32
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    move-object v2, v0

    move v0, v8

    move v5, v10

    move-object v10, v13

    goto/16 :goto_29

    :cond_5e
    :goto_33
    return-void

    .line 12622
    :cond_5f
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_92

    if-ltz v7, :cond_91

    .line 12623
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-lt v7, v0, :cond_60

    goto/16 :goto_52

    .line 12626
    :cond_60
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12627
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12628
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    .line 12634
    instance-of v0, v4, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_63

    .line 12635
    move-object v0, v4

    check-cast v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iput-object v0, v6, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    .line 12636
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v1, :cond_61

    .line 12637
    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v0

    goto :goto_34

    .line 12638
    :cond_61
    iget-object v1, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->content:Lorg/telegram/tgnet/TLRPC$WebDocument;

    instance-of v1, v1, Lorg/telegram/tgnet/TLRPC$TL_webDocument;

    if-eqz v1, :cond_62

    .line 12639
    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v1, "video"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    goto :goto_34

    :cond_62
    move v0, v10

    :goto_34
    move/from16 v18, v8

    move v5, v10

    move v15, v5

    move/from16 v17, v15

    move-object v1, v13

    move-object v2, v1

    move-object v3, v2

    const/16 v14, 0x8

    move v13, v0

    move-object v0, v4

    move/from16 v4, v17

    goto/16 :goto_46

    .line 12643
    :cond_63
    instance-of v3, v4, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v3, :cond_64

    .line 12644
    move-object v0, v4

    check-cast v0, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12645
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->path:Ljava/lang/String;

    iput-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12646
    iget-boolean v1, v0, Lorg/telegram/messenger/MediaController$PhotoEntry;->isVideo:Z

    .line 12647
    iget-object v0, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    move-object/from16 v19, v0

    move v13, v1

    move v0, v10

    goto :goto_35

    .line 12648
    :cond_64
    instance-of v0, v4, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_66

    .line 12649
    move-object v0, v4

    check-cast v0, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12650
    invoke-virtual {v0}, Lorg/telegram/messenger/MediaController$SearchImage;->getPathToAttach()Ljava/lang/String;

    move-result-object v1

    iput-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    .line 12651
    iget-object v1, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    .line 12652
    iget v0, v0, Lorg/telegram/messenger/MediaController$SearchImage;->type:I

    const/4 v13, 0x1

    move-object/from16 v19, v1

    if-ne v0, v13, :cond_65

    move v13, v10

    const/4 v0, 0x1

    goto :goto_35

    :cond_65
    move v0, v10

    move v13, v0

    goto :goto_35

    :cond_66
    move v0, v10

    move v13, v0

    const/16 v19, 0x0

    :goto_35
    if-eqz v13, :cond_6e

    .line 12657
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v0, :cond_67

    move/from16 v18, v10

    goto :goto_36

    :cond_67
    move/from16 v18, v8

    .line 12660
    :goto_36
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v2, 0x1

    if-eq v0, v5, :cond_68

    .line 12661
    iput-boolean v2, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    :cond_68
    if-eqz v3, :cond_69

    .line 12668
    move-object v1, v4

    check-cast v1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12669
    iget-object v1, v1, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    if-eqz v1, :cond_69

    .line 12670
    iget-boolean v14, v1, Lorg/telegram/messenger/VideoEditedInfo;->muted:Z

    .line 12671
    iget v2, v1, Lorg/telegram/messenger/VideoEditedInfo;->start:F

    .line 12672
    iget v15, v1, Lorg/telegram/messenger/VideoEditedInfo;->end:F

    .line 12673
    iget v1, v1, Lorg/telegram/messenger/VideoEditedInfo;->compressQuality:I

    move/from16 v22, v1

    move/from16 v35, v14

    move v14, v2

    move/from16 v2, v35

    goto :goto_37

    :cond_69
    move/from16 v22, v5

    move v2, v10

    const/high16 v15, 0x3f800000    # 1.0f

    :goto_37
    if-eq v0, v5, :cond_6d

    .line 12677
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->currentPathObject:Ljava/lang/String;

    move-object/from16 v0, p0

    const/16 v20, 0x1

    move/from16 v10, v20

    move/from16 v20, v3

    move v3, v14

    move-object/from16 v34, v4

    const/16 v14, 0x8

    move v4, v15

    move v15, v5

    move/from16 v5, v22

    invoke-direct/range {v0 .. v5}, Lorg/telegram/ui/PhotoViewer;->processOpenVideo(Ljava/lang/String;ZFFI)V

    .line 12678
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-nez v0, :cond_6c

    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x12

    if-ge v0, v1, :cond_6a

    goto/16 :goto_39

    .line 12694
    :cond_6a
    invoke-direct {v6, v10, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12695
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v10, :cond_6b

    .line 12696
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v14}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12697
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12698
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12699
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12700
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/4 v3, 0x0

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12701
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12702
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12703
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-static {v0, v10, v1, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12704
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/4 v2, 0x0

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    goto :goto_38

    :cond_6b
    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x0

    const/4 v3, 0x0

    .line 12706
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12707
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12708
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12709
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12710
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12711
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12712
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12713
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v0, v2, v1, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12714
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v14}, Landroid/view/View;->setVisibility(I)V

    .line 12716
    :goto_38
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12717
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12718
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12719
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    move v4, v2

    goto/16 :goto_42

    :cond_6c
    :goto_39
    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x0

    const/4 v3, 0x0

    .line 12679
    invoke-direct {v6, v2, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12680
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v14}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12681
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12682
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12683
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12684
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12685
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12686
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12687
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12688
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12689
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12690
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12691
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/4 v4, 0x0

    invoke-static {v0, v4, v1, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12692
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v14}, Landroid/view/View;->setVisibility(I)V

    goto/16 :goto_42

    :cond_6d
    move/from16 v20, v3

    move-object/from16 v34, v4

    move v15, v5

    move v4, v10

    const/4 v3, 0x0

    const/4 v10, 0x1

    const/16 v14, 0x8

    goto/16 :goto_42

    :cond_6e
    move/from16 v20, v3

    move-object/from16 v34, v4

    move v15, v5

    move v4, v10

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v3, 0x0

    const/4 v10, 0x1

    const/16 v14, 0x8

    .line 12723
    invoke-direct {v6, v4, v8}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 12724
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v5, v14}, Landroid/widget/TextView;->setVisibility(I)V

    .line 12725
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static {v5, v4, v1, v8}, Lorg/telegram/messenger/AndroidUtilities;->updateViewVisibilityAnimated(Landroid/view/View;ZFZ)V

    .line 12726
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v1, :cond_6f

    move v1, v4

    goto :goto_3a

    :cond_6f
    move v1, v8

    .line 12729
    :goto_3a
    iput-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    .line 12730
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v4, v14}, Landroid/view/View;->setVisibility(I)V

    if-nez v0, :cond_76

    .line 12731
    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/16 v4, 0xa

    if-eq v0, v4, :cond_76

    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    if-eqz v4, :cond_70

    goto :goto_40

    :cond_70
    const/4 v4, 0x4

    if-eq v0, v4, :cond_72

    const/4 v4, 0x5

    if-ne v0, v4, :cond_71

    goto :goto_3b

    .line 12746
    :cond_71
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/4 v4, 0x0

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12747
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12748
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12749
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    goto :goto_3c

    .line 12741
    :cond_72
    :goto_3b
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12742
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12743
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12744
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12751
    :goto_3c
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v10, :cond_73

    const/4 v4, 0x0

    goto :goto_3d

    :cond_73
    move v4, v14

    :goto_3d
    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12752
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v10, :cond_74

    move v4, v14

    goto :goto_3e

    :cond_74
    const/4 v4, 0x0

    :goto_3e
    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12753
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v4, v10, :cond_75

    move v4, v14

    goto :goto_3f

    :cond_75
    const/4 v4, 0x0

    :goto_3f
    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_41

    .line 12732
    :cond_76
    :goto_40
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12733
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    .line 12734
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12735
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12736
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12737
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v14}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12738
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setTag(Ljava/lang/Object;)V

    :goto_41
    if-eqz v8, :cond_77

    .line 12756
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->beginDelayedTransition()V

    .line 12758
    :cond_77
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    move/from16 v18, v1

    :goto_42
    if-eqz v20, :cond_7a

    move-object/from16 v0, v34

    .line 12761
    move-object v4, v0

    check-cast v4, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 12762
    iget v1, v4, Lorg/telegram/messenger/MediaController$PhotoEntry;->bucketId:I

    if-nez v1, :cond_78

    iget-wide v1, v4, Lorg/telegram/messenger/MediaController$PhotoEntry;->dateTaken:J

    const-wide/16 v16, 0x0

    cmp-long v1, v1, v16

    if-nez v1, :cond_78

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ne v1, v10, :cond_78

    move v1, v10

    goto :goto_43

    :cond_78
    const/4 v1, 0x0

    :goto_43
    iput-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    .line 12763
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v1, :cond_79

    .line 12764
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    goto :goto_44

    .line 12766
    :cond_79
    iget-object v1, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    .line 12768
    :goto_44
    iget v2, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 12769
    iget-boolean v5, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 12770
    iget-boolean v15, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 12771
    iget-boolean v4, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    goto :goto_45

    :cond_7a
    move-object/from16 v0, v34

    .line 12772
    instance-of v1, v0, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v1, :cond_7b

    .line 12773
    move-object v4, v0

    check-cast v4, Lorg/telegram/messenger/MediaController$SearchImage;

    .line 12774
    iget-object v1, v4, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    .line 12775
    iget v2, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->ttl:I

    .line 12776
    iget-boolean v5, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->isFiltered:Z

    .line 12777
    iget-boolean v15, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->isPainted:Z

    .line 12778
    iget-boolean v4, v4, Lorg/telegram/messenger/MediaController$MediaEditState;->isCropped:Z

    :goto_45
    move/from16 v17, v5

    move v5, v2

    move-object/from16 v2, v19

    goto :goto_46

    :cond_7b
    move-object v1, v3

    move-object/from16 v2, v19

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v15, 0x0

    const/16 v17, 0x0

    .line 12781
    :goto_46
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v10

    if-eq v10, v14, :cond_7c

    .line 12782
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10, v14}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12784
    :cond_7c
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v10, v3}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12785
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v10, :cond_7d

    const/4 v3, 0x0

    .line 12786
    invoke-virtual {v10, v3, v8}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12788
    :cond_7d
    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v3, :cond_7f

    if-eqz v13, :cond_7e

    .line 12790
    sget v3, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v11, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    goto :goto_47

    .line 12792
    :cond_7e
    sget v3, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v12, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    goto :goto_47

    :cond_7f
    const/4 v3, 0x0

    .line 12795
    :goto_47
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v10, :cond_82

    .line 12796
    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v10

    if-eqz v10, :cond_80

    .line 12799
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$Chat;->title:Ljava/lang/String;

    invoke-virtual {v3, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    :goto_48
    const/4 v3, 0x0

    goto :goto_49

    .line 12801
    :cond_80
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v10}, Lorg/telegram/ui/ChatActivity;->getCurrentUser()Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v10

    if-eqz v10, :cond_82

    .line 12803
    iget-boolean v3, v10, Lorg/telegram/tgnet/TLRPC$User;->self:Z

    if-eqz v3, :cond_81

    .line 12805
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    sget v10, Lorg/telegram/messenger/R$string;->SavedMessages:I

    const-string v11, "SavedMessages"

    invoke-static {v11, v10}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v3, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    goto :goto_48

    .line 12808
    :cond_81
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-object v11, v10, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    iget-object v10, v10, Lorg/telegram/tgnet/TLRPC$User;->last_name:Ljava/lang/String;

    invoke-static {v11, v10}, Lorg/telegram/messenger/ContactsController;->formatName(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v3, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    goto :goto_48

    .line 12813
    :cond_82
    :goto_49
    iget v10, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v10, :cond_84

    const/4 v11, 0x4

    if-eq v10, v11, :cond_84

    const/4 v11, 0x2

    if-eq v10, v11, :cond_83

    const/4 v11, 0x5

    if-ne v10, v11, :cond_85

    :cond_83
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v10}, Ljava/util/ArrayList;->size()I

    move-result v10

    const/4 v11, 0x1

    if-le v10, v11, :cond_85

    .line 12814
    :cond_84
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    iget-object v11, v6, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v12, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v11, v12}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v11

    const/4 v12, 0x0

    invoke-virtual {v10, v11, v12}, Lorg/telegram/ui/Components/CheckBox;->setChecked(ZZ)V

    .line 12817
    :cond_85
    invoke-direct {v6, v0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V

    .line 12818
    new-instance v0, Landroid/graphics/PorterDuffColorFilter;

    sget v10, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {v6, v10}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v10

    sget-object v11, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v0, v10, v11}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    .line 12819
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v10, v13}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setIsVideo(Z)V

    .line 12820
    iget-object v10, v6, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v10, v5}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setTimer(I)V

    .line 12821
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    if-eqz v15, :cond_86

    move-object v10, v0

    goto :goto_4a

    :cond_86
    const/4 v10, 0x0

    :goto_4a
    invoke-virtual {v5, v10}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12822
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eqz v4, :cond_87

    move-object v4, v0

    goto :goto_4b

    :cond_87
    const/4 v4, 0x0

    :goto_4b
    invoke-virtual {v5, v4}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12823
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    if-eqz v17, :cond_88

    move-object v5, v0

    goto :goto_4c

    :cond_88
    const/4 v5, 0x0

    :goto_4c
    invoke-virtual {v4, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12824
    iget-boolean v4, v6, Lorg/telegram/ui/PhotoViewer;->fromCamera:Z

    if-eqz v4, :cond_8c

    .line 12825
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_8b

    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v5, :cond_89

    iget-boolean v10, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v10, :cond_8a

    :cond_89
    if-nez v5, :cond_8b

    iget-boolean v5, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v5, :cond_8b

    :cond_8a
    move-object v5, v0

    goto :goto_4d

    :cond_8b
    const/4 v5, 0x0

    :goto_4d
    invoke-virtual {v4, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    goto :goto_4f

    .line 12827
    :cond_8c
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_8d

    iget-boolean v5, v2, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-eqz v5, :cond_8d

    move-object v5, v0

    goto :goto_4e

    :cond_8d
    const/4 v5, 0x0

    :goto_4e
    invoke-virtual {v4, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12829
    :goto_4f
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_8e

    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eqz v2, :cond_8e

    move-object v2, v0

    goto :goto_50

    :cond_8e
    const/4 v2, 0x0

    :goto_50
    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 12830
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_90

    iget v0, v6, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v0, :cond_8f

    const/4 v2, 0x2

    if-eq v0, v2, :cond_8f

    const/4 v2, -0x1

    if-ne v0, v2, :cond_90

    :cond_8f
    const/4 v0, 0x1

    goto :goto_51

    :cond_90
    const/4 v0, 0x0

    :goto_51
    iput-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    move-object v13, v1

    move-object v2, v3

    move/from16 v0, v18

    const/4 v5, 0x0

    const/4 v10, 0x0

    goto/16 :goto_5d

    :cond_91
    :goto_52
    return-void

    :cond_92
    const/16 v14, 0x8

    .line 12831
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_a2

    .line 12832
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getItemsCount()I

    move-result v0

    .line 12833
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v2, :cond_a1

    if-lt v2, v0, :cond_93

    goto/16 :goto_5b

    .line 12836
    :cond_93
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x15

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12837
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x16

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12838
    iget v2, v6, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v6, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    neg-long v3, v3

    invoke-virtual {v2, v3, v4}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v2

    if-nez v2, :cond_95

    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v2, :cond_94

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v2

    if-nez v2, :cond_95

    :cond_94
    const/4 v3, 0x1

    goto :goto_53

    :cond_95
    const/4 v3, 0x0

    :goto_53
    iput-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    .line 12839
    iget-object v2, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v3, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v2, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->get(I)Lorg/telegram/tgnet/TLRPC$PageBlock;

    move-result-object v2

    .line 12840
    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v4, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v3, v4}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getCaption(I)Ljava/lang/CharSequence;

    move-result-object v3

    .line 12841
    iget-object v4, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v5, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-interface {v4, v5}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v4

    if-eqz v4, :cond_98

    .line 12843
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v5, :cond_96

    .line 12844
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v10, 0xb

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_54

    :cond_96
    const/16 v10, 0xb

    .line 12846
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5, v10}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12848
    :goto_54
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12850
    iget-boolean v5, v6, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    if-nez v5, :cond_97

    .line 12851
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v10, 0x0

    invoke-virtual {v5, v10}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 12852
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/high16 v13, 0x3f000000    # 0.5f

    const/4 v15, 0x1

    invoke-direct {v6, v5, v15, v15, v13}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    goto :goto_55

    :cond_97
    const/4 v10, 0x0

    const/4 v15, 0x1

    .line 12854
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v15, v15}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    goto :goto_55

    :cond_98
    const/4 v10, 0x0

    const/4 v15, 0x1

    .line 12857
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v13, 0xb

    invoke-virtual {v5, v13}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12858
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {v6, v5, v10, v15}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 12860
    :goto_55
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v5

    if-eq v5, v14, :cond_99

    .line 12861
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v5, v14}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12863
    :cond_99
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v10, 0x0

    invoke-virtual {v5, v10}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 12864
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v5, :cond_9b

    const/4 v13, 0x1

    if-le v0, v13, :cond_9a

    move v15, v13

    goto :goto_56

    :cond_9a
    const/4 v15, 0x0

    .line 12865
    :goto_56
    invoke-virtual {v5, v15, v13}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 12866
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    iget v15, v6, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    add-int/2addr v15, v13

    invoke-virtual {v5, v15, v0}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(II)V

    .line 12868
    :cond_9b
    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-nez v5, :cond_9f

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v5, v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v5

    if-nez v5, :cond_9c

    iget-object v5, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v5, v7}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v5

    if-eqz v5, :cond_9c

    goto :goto_58

    :cond_9c
    const/4 v5, 0x1

    if-ne v0, v5, :cond_9e

    if-eqz v4, :cond_9d

    .line 12880
    sget v0, Lorg/telegram/messenger/R$string;->AttachVideo:I

    invoke-static {v11, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_57

    .line 12882
    :cond_9d
    sget v0, Lorg/telegram/messenger/R$string;->AttachPhoto:I

    invoke-static {v12, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    goto :goto_57

    :cond_9e
    move-object v0, v10

    .line 12885
    :goto_57
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 12886
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v4, 0xe

    invoke-virtual {v1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12887
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    goto :goto_5a

    :cond_9f
    :goto_58
    const/16 v4, 0xe

    const/4 v5, 0x1

    .line 12869
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12870
    iget-boolean v0, v6, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz v0, :cond_a0

    .line 12871
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_59

    .line 12873
    :cond_a0
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12875
    :goto_59
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->checkHideMenuItem()V

    .line 12876
    sget v0, Lorg/telegram/messenger/R$string;->AttachGif:I

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    .line 12889
    :goto_5a
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/GroupedPhotosListView;->fillList()V

    .line 12890
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->updateSlideshowCell(Lorg/telegram/tgnet/TLRPC$PageBlock;)V

    move-object v2, v0

    move-object v13, v3

    move v0, v8

    goto :goto_5c

    :cond_a1
    :goto_5b
    return-void

    :cond_a2
    const/4 v10, 0x0

    .line 12892
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x15

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 12893
    iget-object v0, v6, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v1, 0x16

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    move v0, v8

    move-object v2, v10

    move-object v13, v2

    :goto_5c
    const/4 v5, 0x0

    .line 12895
    :goto_5d
    iget-boolean v1, v6, Lorg/telegram/ui/PhotoViewer;->editing:Z

    if-eqz v1, :cond_a3

    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-nez v1, :cond_a3

    const/4 v3, 0x1

    goto :goto_5e

    :cond_a3
    const/4 v3, 0x0

    :goto_5e
    iput-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    .line 12896
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-nez v3, :cond_a5

    iget-object v3, v6, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v3, :cond_a4

    goto :goto_5f

    :cond_a4
    const/high16 v3, 0x7f000000

    goto :goto_60

    :cond_a5
    :goto_5f
    const/4 v3, 0x0

    :goto_60
    invoke-virtual {v1, v3}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 12897
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    invoke-virtual {v1, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTextShadows(Z)V

    .line 12898
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    iget-boolean v3, v6, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v3, :cond_a6

    move v4, v14

    goto :goto_61

    :cond_a6
    const/4 v4, 0x0

    :goto_61
    invoke-virtual {v1, v4}, Landroid/view/View;->setVisibility(I)V

    if-eqz v2, :cond_aa

    if-eqz v8, :cond_a9

    if-ne v9, v7, :cond_a7

    .line 12902
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v3, 0x1

    invoke-virtual {v1, v2, v3, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitleAnimated(Ljava/lang/CharSequence;ZZ)V

    goto :goto_63

    :cond_a7
    const/4 v3, 0x1

    .line 12904
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    if-le v9, v7, :cond_a8

    goto :goto_62

    :cond_a8
    const/4 v3, 0x0

    :goto_62
    const/4 v4, 0x0

    invoke-virtual {v1, v2, v4, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitleAnimated(Ljava/lang/CharSequence;ZZ)V

    goto :goto_63

    .line 12907
    :cond_a9
    iget-object v1, v6, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 12910
    :cond_aa
    :goto_63
    invoke-direct {v6, v10, v13, v5, v0}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    .line 12912
    invoke-direct {v6, v10}, Lorg/telegram/ui/PhotoViewer;->updatePhotoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V

    .line 12913
    invoke-direct {v6, v10}, Lorg/telegram/ui/PhotoViewer;->updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V

    return-void
.end method

.method private setItemVisible(Landroid/view/View;ZZ)V
    .locals 1

    const/high16 v0, 0x3f800000    # 1.0f

    .line 11764
    invoke-direct {p0, p1, p2, p3, v0}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZF)V

    return-void
.end method

.method private setItemVisible(Landroid/view/View;ZZF)V
    .locals 3

    .line 11769
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    if-ne p1, v0, :cond_0

    .line 11770
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-direct {p0, v0, p2, p3}, Lorg/telegram/ui/PhotoViewer;->setItemVisible(Landroid/view/View;ZZ)V

    .line 11773
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    invoke-interface {v0, p1}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Boolean;

    if-eqz v0, :cond_1

    .line 11774
    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v1

    if-eq v1, p2, :cond_6

    .line 11775
    :cond_1
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarItemsVisibility:Ljava/util/Map;

    invoke-static {p2}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v2

    invoke-interface {v1, p1, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 11776
    invoke-virtual {p1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/ViewPropertyAnimator;->cancel()V

    if-eqz p2, :cond_2

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_2
    const/4 v1, 0x0

    :goto_0
    mul-float/2addr v1, p4

    const/4 p4, 0x0

    if-eqz p3, :cond_4

    if-eqz v0, :cond_4

    if-eqz p2, :cond_3

    .line 11780
    invoke-virtual {p1, p4}, Landroid/view/View;->setVisibility(I)V

    .line 11782
    :cond_3
    invoke-virtual {p1}, Landroid/view/View;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    invoke-virtual {p3, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    const-wide/16 v0, 0x64

    invoke-virtual {p3, v0, v1}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda13;

    invoke-direct {p4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda13;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->setUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Landroid/view/animation/LinearInterpolator;

    invoke-direct {p4}, Landroid/view/animation/LinearInterpolator;-><init>()V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object p3

    new-instance p4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda82;

    invoke-direct {p4, p0, p2, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda82;-><init>(Lorg/telegram/ui/PhotoViewer;ZLandroid/view/View;)V

    invoke-virtual {p3, p4}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object p1

    .line 11787
    invoke-virtual {p1}, Landroid/view/ViewPropertyAnimator;->start()V

    goto :goto_2

    :cond_4
    if-eqz p2, :cond_5

    goto :goto_1

    :cond_5
    const/16 p4, 0x8

    .line 11789
    :goto_1
    invoke-virtual {p1, p4}, Landroid/view/View;->setVisibility(I)V

    .line 11790
    invoke-virtual {p1, v1}, Landroid/view/View;->setAlpha(F)V

    .line 11791
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    :cond_6
    :goto_2
    return-void
.end method

.method private setMenuItemIcon(ZZ)V
    .locals 5

    .line 7324
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 7325
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-virtual {p2, v1, p1}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;->setSpeed(Ljava/lang/Float;Z)V

    return-void

    .line 7328
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v3, 0x3f800000    # 1.0f

    sub-float/2addr v2, v3

    invoke-static {v2}, Ljava/lang/Math;->abs(F)F

    move-result v2

    const v4, 0x3a83126f    # 0.001f

    cmpg-float v2, v2, v4

    if-gez v2, :cond_1

    goto :goto_0

    :cond_1
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-static {v1}, Ljava/lang/Float;->valueOf(F)Ljava/lang/Float;

    move-result-object v1

    :goto_0
    invoke-virtual {v0, v1, p1}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;->setSpeed(Ljava/lang/Float;Z)V

    if-eqz p2, :cond_7

    .line 7330
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const v0, 0x3e4ccccd    # 0.2f

    sub-float/2addr p1, v0

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    const v0, 0x3d4ccccd    # 0.05f

    cmpg-float p1, p1, v0

    if-gez p1, :cond_2

    .line 7331
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedVerySlow:I

    const-string v1, "VideoSpeedVerySlow"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7332
    :cond_2
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x3f000000    # 0.5f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_3

    .line 7333
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedSlow:I

    const-string v1, "VideoSpeedSlow"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto/16 :goto_1

    .line 7334
    :cond_3
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    sub-float/2addr p1, v3

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_4

    .line 7335
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedNormal:I

    const-string v1, "VideoSpeedNormal"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 7336
    :cond_4
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x3fc00000    # 1.5f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_5

    .line 7337
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedFast:I

    const-string v1, "VideoSpeedFast"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 7338
    :cond_5
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    const/high16 v1, 0x40000000    # 2.0f

    sub-float/2addr p1, v1

    invoke-static {p1}, Ljava/lang/Math;->abs(F)F

    move-result p1

    cmpg-float p1, p1, v0

    if-gez p1, :cond_6

    .line 7339
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedVeryFast:I

    const-string v1, "VideoSpeedVeryFast"

    invoke-static {v1, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    goto :goto_1

    .line 7341
    :cond_6
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v0, Lorg/telegram/messenger/R$string;->VideoSpeedCustom:I

    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/Object;

    const/4 v2, 0x0

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-static {v4}, Lorg/telegram/ui/Components/SpeedIconDrawable;->formatNumber(F)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v4, "x"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    const-string v2, "VideoSpeedCustom"

    invoke-static {v2, v0, v1}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    .line 7344
    :cond_7
    :goto_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {p1, v0, p2}, Lorg/telegram/ui/ChooseSpeedLayout;->update(FZ)V

    return-void
.end method

.method private setPhotoChecked()V
    .locals 4

    .line 10073
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_4

    .line 10074
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v0

    if-eqz v0, :cond_1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    if-lez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedPhotos()Ljava/util/HashMap;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/HashMap;->size()I

    move-result v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    if-lt v0, v1, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v0

    if-nez v0, :cond_1

    .line 10075
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_0

    .line 10076
    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    if-eqz v0, :cond_0

    .line 10077
    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->hasAdminRights(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v1

    if-nez v1, :cond_0

    iget-boolean v0, v0, Lorg/telegram/tgnet/TLRPC$Chat;->slowmode_enabled:Z

    if-eqz v0, :cond_0

    .line 10078
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v1, Lorg/telegram/messenger/R$string;->Slowmode:I

    const-string v2, "Slowmode"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    sget v2, Lorg/telegram/messenger/R$string;->SlowmodeSelectSendError:I

    const-string v3, "SlowmodeSelectSendError"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-static {v0, v1, v2}, Lorg/telegram/ui/Components/AlertsCreator;->createSimpleAlert(Landroid/content/Context;Ljava/lang/String;Ljava/lang/String;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->show()Lorg/telegram/ui/ActionBar/AlertDialog;

    :cond_0
    return-void

    .line 10083
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v2

    invoke-interface {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->setPhotoChecked(ILorg/telegram/messenger/VideoEditedInfo;)I

    move-result v0

    .line 10084
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->isPhotoChecked(I)Z

    move-result v1

    .line 10085
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x1

    invoke-virtual {v2, v1, v3}, Lorg/telegram/ui/Components/CheckBox;->setChecked(ZZ)V

    if-ltz v0, :cond_3

    if-eqz v1, :cond_2

    .line 10088
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemInserted(I)V

    .line 10089
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView;->smoothScrollToPosition(I)V

    goto :goto_0

    .line 10091
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v1, v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemRemoved(I)V

    if-nez v0, :cond_3

    .line 10093
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyItemChanged(I)V

    .line 10097
    :cond_3
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateSelectedCount()V

    :cond_4
    return-void
.end method

.method private setScaleToFill()V
    .locals 6

    .line 4514
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    int-to-float v0, v0

    .line 4515
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v1

    int-to-float v1, v1

    const/4 v2, 0x0

    cmpl-float v3, v0, v2

    if-eqz v3, :cond_1

    cmpl-float v2, v1, v2

    if-nez v2, :cond_0

    goto :goto_0

    .line 4519
    :cond_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    int-to-float v2, v2

    .line 4520
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    int-to-float v3, v3

    div-float v4, v3, v1

    div-float v5, v2, v0

    .line 4521
    invoke-static {v4, v5}, Ljava/lang/Math;->min(FF)F

    move-result v4

    mul-float/2addr v0, v4

    float-to-int v0, v0

    int-to-float v0, v0

    mul-float/2addr v1, v4

    float-to-int v1, v1

    int-to-float v1, v1

    div-float/2addr v2, v0

    div-float/2addr v3, v1

    .line 4524
    invoke-static {v2, v3}, Ljava/lang/Math;->max(FF)F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 4525
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    :cond_1
    :goto_0
    return-void
.end method

.method private setVideoPlayerControlVisible(ZZ)V
    .locals 5

    .line 9503
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eq v0, p1, :cond_8

    const/4 v0, 0x1

    if-eqz p1, :cond_0

    .line 9506
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    goto :goto_0

    .line 9508
    :cond_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    .line 9511
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlAnimator:Landroid/animation/Animator;

    if-eqz v1, :cond_1

    .line 9512
    invoke-virtual {v1}, Landroid/animation/Animator;->cancel()V

    .line 9514
    :cond_1
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x0

    const/4 v3, 0x0

    if-eqz p2, :cond_4

    if-eqz p1, :cond_2

    .line 9518
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :cond_2
    const/4 p2, 0x2

    new-array p2, p2, [F

    .line 9521
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v4

    aput v4, p2, v3

    if-eqz p1, :cond_3

    goto :goto_1

    :cond_3
    move v1, v2

    :goto_1
    aput v1, p2, v0

    invoke-static {p2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p2

    const-wide/16 v0, 0xc8

    .line 9522
    invoke-virtual {p2, v0, v1}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 9523
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda5;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda5;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p2, v0}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 9527
    new-instance v0, Lorg/telegram/ui/PhotoViewer$51;

    invoke-direct {v0, p0, p1}, Lorg/telegram/ui/PhotoViewer$51;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {p2, v0}, Landroid/animation/ValueAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 9535
    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlAnimator:Landroid/animation/Animator;

    .line 9536
    invoke-virtual {p2}, Landroid/animation/ValueAnimator;->start()V

    goto :goto_4

    .line 9538
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_5

    goto :goto_2

    :cond_5
    const/16 v3, 0x8

    :goto_2
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 9539
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_6

    goto :goto_3

    :cond_6
    move v1, v2

    :goto_3
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 9541
    :goto_4
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz p2, :cond_8

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-nez p2, :cond_8

    const/16 p2, 0xa

    if-eqz p1, :cond_7

    .line 9543
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_5

    .line 9545
    :cond_7
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, p2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :cond_8
    :goto_5
    return-void
.end method

.method private shouldIndexAutoPlayed(I)Z
    .locals 1

    .line 16439
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v0, :cond_1

    .line 16440
    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v0

    if-eqz v0, :cond_1

    :cond_0
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->isAutoplayVideo()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 16441
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    invoke-interface {v0, p1}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getFile(I)Ljava/io/File;

    move-result-object p1

    if-eqz p1, :cond_1

    .line 16442
    invoke-virtual {p1}, Ljava/io/File;->exists()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    return p1

    :cond_1
    const/4 p1, 0x0

    return p1
.end method

.method private shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z
    .locals 1

    if-eqz p1, :cond_1

    .line 16435
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-eqz v0, :cond_1

    iget-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    if-nez v0, :cond_0

    iget-boolean v0, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    if-nez v0, :cond_0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->canStreamVideo()Z

    move-result p1

    if-eqz p1, :cond_1

    sget-boolean p1, Lorg/telegram/messenger/SharedConfig;->streamMedia:Z

    if-eqz p1, :cond_1

    :cond_0
    invoke-static {}, Lorg/telegram/messenger/SharedConfig;->isAutoplayVideo()Z

    move-result p1

    if-eqz p1, :cond_1

    const/4 p1, 0x1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    :goto_0
    return p1
.end method

.method private showDownloadAlert()V
    .locals 4

    .line 4433
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 4434
    sget v1, Lorg/telegram/messenger/R$string;->AppName:I

    const-string v2, "AppName"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4435
    sget v1, Lorg/telegram/messenger/R$string;->OK:I

    const-string v2, "OK"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4436
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v2, 0x0

    if-eqz v1, :cond_0

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-eqz v1, :cond_0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v1, v1, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v1

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v3, v3, v2

    invoke-virtual {v1, v3}, Lorg/telegram/messenger/FileLoader;->isLoadingFile(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v2, 0x1

    :cond_0
    if-eqz v2, :cond_1

    .line 4438
    sget v1, Lorg/telegram/messenger/R$string;->PleaseStreamDownload:I

    const-string v2, "PleaseStreamDownload"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    goto :goto_0

    .line 4440
    :cond_1
    sget v1, Lorg/telegram/messenger/R$string;->PleaseDownload:I

    const-string v2, "PleaseDownload"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/AlertDialog$Builder;

    .line 4442
    :goto_0
    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V

    return-void
.end method

.method private showEditCaption(ZZ)V
    .locals 9

    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-nez p2, :cond_1

    .line 12961
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p2}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 12962
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz p1, :cond_0

    goto :goto_0

    :cond_0
    const/16 v3, 0x8

    :goto_0
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12963
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 12964
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setAlpha(F)V

    goto/16 :goto_1

    :cond_1
    const-wide/16 v4, 0xdc

    const/4 p2, 0x2

    const/16 v6, 0x3a

    if-eqz p1, :cond_4

    .line 12966
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v7

    if-nez v7, :cond_4

    .line 12967
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v7

    if-eqz v7, :cond_2

    .line 12968
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v7, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 12969
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 12970
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    int-to-float v6, v6

    invoke-virtual {v7, v6}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 12972
    :cond_2
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v6, :cond_3

    .line 12973
    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12974
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12976
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v6}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    aput v0, p2, v2

    invoke-static {v6, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    .line 12977
    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12978
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12979
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    goto :goto_1

    :cond_4
    if-nez p1, :cond_6

    .line 12981
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 12982
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v0, :cond_5

    .line 12983
    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 12984
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 12987
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    aput v3, p2, v2

    invoke-static {v0, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    .line 12988
    new-instance v0, Lorg/telegram/ui/Components/HideViewAfterAnimation;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/HideViewAfterAnimation;-><init>(Landroid/view/View;)V

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 12989
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 12990
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 12991
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    .line 12994
    :cond_6
    :goto_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz p1, :cond_7

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    :cond_7
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    return-void
.end method

.method private showQualityView(Z)V
    .locals 13

    if-eqz p1, :cond_0

    .line 18272
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSizeSet:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v0, :cond_0

    .line 18273
    invoke-virtual {v0}, Landroid/view/TextureView;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFrameBitmap:Landroid/graphics/Bitmap;

    :cond_0
    if-eqz p1, :cond_1

    .line 18277
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->previousCompression:I

    .line 18279
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_2

    .line 18280
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    .line 18282
    :cond_2
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const/4 v0, 0x3

    const/high16 v1, 0x3f800000    # 1.0f

    const/4 v2, 0x2

    const/4 v3, 0x0

    const/4 v4, 0x1

    const/4 v5, 0x0

    if-eqz p1, :cond_6

    .line 18284
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v6, :cond_3

    .line 18285
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v6, v5}, Landroid/view/View;->setVisibility(I)V

    .line 18286
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v6, v3}, Landroid/view/View;->setAlpha(F)V

    .line 18287
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    const/high16 v7, 0x7f000000

    invoke-virtual {v6, v7}, Landroid/view/View;->setBackgroundColor(I)V

    .line 18289
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    invoke-virtual {v6, v7}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 18290
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const/4 v7, 0x4

    new-array v7, v7, [Landroid/animation/Animator;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v2, [F

    aput v3, v10, v5

    .line 18291
    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v12, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v12

    add-int/2addr v11, v12

    iget-boolean v12, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v12, :cond_4

    const/16 v12, 0x3a

    invoke-static {v12}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v12

    goto :goto_0

    :cond_4
    move v12, v5

    :goto_0
    add-int/2addr v11, v12

    int-to-float v11, v11

    aput v11, v10, v4

    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v5

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v4, [F

    aput v3, v10, v5

    .line 18292
    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v4

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v2, [F

    aput v3, v10, v5

    const/16 v11, 0x9e

    .line 18293
    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v11

    int-to-float v11, v11

    aput v11, v10, v4

    invoke-static {v8, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v8

    aput-object v8, v7, v2

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v2, v2, [F

    .line 18294
    iget-boolean v10, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v10, :cond_5

    move v10, v3

    goto :goto_1

    :cond_5
    move v10, v1

    :goto_1
    aput v10, v2, v5

    aput v1, v2, v4

    invoke-static {v8, v9, v2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v7, v0

    .line 18290
    invoke-virtual {v6, v7}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    goto :goto_3

    .line 18297
    :cond_6
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v7, 0x0

    invoke-virtual {v6, v7}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 18298
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    new-array v0, v0, [Landroid/animation/Animator;

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    sget-object v8, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v2, [F

    aput v3, v9, v5

    const/16 v10, 0xa6

    .line 18299
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v11

    int-to-float v11, v11

    aput v11, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v0, v5

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    sget-object v8, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v2, [F

    aput v3, v9, v5

    .line 18300
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    int-to-float v10, v10

    aput v10, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v0, v4

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v2, [F

    aput v1, v9, v5

    .line 18301
    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v5, :cond_7

    move v5, v3

    goto :goto_2

    :cond_7
    move v5, v1

    :goto_2
    aput v5, v9, v4

    invoke-static {v7, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    aput-object v4, v0, v2

    .line 18298
    invoke-virtual {v6, v0}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 18304
    :goto_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$75;

    invoke-direct {v2, p0, p1}, Lorg/telegram/ui/PhotoViewer$75;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {v0, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 18350
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v4, 0xc8

    invoke-virtual {v0, v4, v5}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 18351
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    sget-object v2, Lorg/telegram/messenger/AndroidUtilities;->accelerateInterpolator:Landroid/view/animation/AccelerateInterpolator;

    invoke-virtual {v0, v2}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 18352
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityChooseViewAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    .line 18354
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->getVisibility()I

    move-result v0

    if-nez v0, :cond_b

    .line 18355
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const/high16 v2, 0x3e800000    # 0.25f

    if-eqz p1, :cond_8

    move v6, v2

    goto :goto_4

    :cond_8
    move v6, v1

    :goto_4
    invoke-virtual {v0, v6}, Landroid/view/ViewPropertyAnimator;->scaleX(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_9

    goto :goto_5

    :cond_9
    move v2, v1

    .line 18356
    :goto_5
    invoke-virtual {v0, v2}, Landroid/view/ViewPropertyAnimator;->scaleY(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_a

    move v1, v3

    .line 18357
    :cond_a
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object p1

    .line 18358
    invoke-virtual {p1, v4, v5}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    :cond_b
    return-void
.end method

.method private showRecognitionDialog(Ljava/lang/String;II)V
    .locals 2

    .line 451
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda56;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda56;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-static {v0, p1, v1, p2, p3}, Lcom/iMe/ui/recognition/RecognitionBottomSheetDialog;->newInstance(Lorg/telegram/ui/ActionBar/BaseFragment;Ljava/lang/String;Lcom/iMe/ui/recognition/RecognitionBottomSheetDialog$TranslationDelegate;II)Lcom/iMe/ui/recognition/RecognitionBottomSheetDialog;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method private showScheduleDatePickerDialog()V
    .locals 9

    .line 7093
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-nez v0, :cond_0

    return-void

    .line 7096
    :cond_0
    new-instance v0, Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;

    const/4 v2, -0x1

    const v3, -0xdadadb

    const/4 v4, -0x1

    const v5, 0x1effffff

    const/4 v6, -0x1

    const v7, -0x6ddddde

    const v8, 0x24ffffff

    move-object v1, v0

    invoke-direct/range {v1 .. v8}, Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;-><init>(IIIIIII)V

    .line 7097
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v2}, Lorg/telegram/ui/ChatActivity;->getDialogId()J

    move-result-wide v2

    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda95;

    invoke-direct {v4, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda95;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    move-object v5, v0

    invoke-static/range {v1 .. v6}, Lorg/telegram/ui/Components/AlertsCreator;->createScheduleDatePickerDialog(Landroid/content/Context;JLorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerDelegate;Lorg/telegram/ui/Components/AlertsCreator$ScheduleDatePickerColors;Lorg/telegram/ui/ChatActivity;)Lorg/telegram/ui/ActionBar/BottomSheet$Builder;

    return-void
.end method

.method private showShareAlert(Ljava/util/ArrayList;)V
    .locals 19
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;)V"
        }
    .end annotation

    move-object/from16 v15, p0

    .line 7256
    iget-object v13, v15, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    .line 7257
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->requestAdjustToNothing()V

    .line 7259
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v14, 0x0

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    if-eqz v0, :cond_1

    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1

    .line 7260
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->isKeyboardVisible()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7262
    iget-object v0, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getChatActivityEnterView()Lorg/telegram/ui/Components/ChatActivityEnterView;

    move-result-object v0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/ChatActivityEnterView;->showEmojiView()V

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    move v0, v14

    .line 7265
    :goto_0
    iget-object v1, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getParentActivity()Landroid/app/Activity;

    move-result-object v1

    iget v2, v15, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-static {v1, v2}, Lorg/telegram/messenger/AndroidUtilities;->setAdjustResizeToNothing(Landroid/app/Activity;I)V

    .line 7266
    iget-object v1, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->requestLayout()V

    move/from16 v16, v0

    goto :goto_1

    :cond_1
    move/from16 v16, v14

    .line 7269
    :goto_1
    new-instance v12, Lorg/telegram/ui/PhotoViewer$34;

    iget-object v2, v15, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v3, v15, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x1

    const/16 v17, 0x0

    move-object v0, v12

    move-object/from16 v1, p0

    move-object/from16 v4, p1

    move-object/from16 v18, v12

    move-object/from16 v12, v17

    move v15, v14

    move/from16 v14, v16

    invoke-direct/range {v0 .. v14}, Lorg/telegram/ui/PhotoViewer$34;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/ChatActivity;Ljava/util/ArrayList;Ljava/lang/String;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;ZZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Landroid/widget/FrameLayout;Z)V

    move-object/from16 v0, v18

    .line 7290
    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/BottomSheet;->setFocusable(Z)V

    .line 7291
    invoke-virtual {v0}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/16 v2, 0x30

    invoke-virtual {v1, v2}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 7292
    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda77;

    move-object/from16 v2, p0

    invoke-direct {v1, v2, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda77;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/ShareAlert;)V

    const-wide/16 v3, 0xfa

    invoke-static {v1, v3, v4}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    .line 7300
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->show()V

    return-void
.end method

.method private showVideoSeekPreviewPosition(Z)V
    .locals 6

    if-eqz p1, :cond_0

    .line 8143
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_1

    :cond_0
    if-nez p1, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-nez v0, :cond_2

    :cond_1
    return-void

    :cond_2
    const/4 v0, 0x1

    if-eqz p1, :cond_4

    .line 8146
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->isReady()Z

    move-result v1

    if-nez v1, :cond_4

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_3

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isYouTube()Z

    move-result v1

    if-eqz v1, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->hasYoutubeStoryboards()Z

    move-result v1

    if-nez v1, :cond_4

    .line 8147
    :cond_3
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needShowOnReady:Z

    return-void

    .line 8150
    :cond_4
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    if-eqz v1, :cond_5

    .line 8151
    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 8153
    :cond_5
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    if-eqz p1, :cond_6

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    goto :goto_0

    :cond_6
    const/4 v2, 0x0

    :goto_0
    invoke-virtual {v1, v2}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 8154
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    new-array v2, v0, [Landroid/animation/Animator;

    .line 8155
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v0, v0, [F

    if-eqz p1, :cond_7

    const/high16 p1, 0x3f800000    # 1.0f

    goto :goto_1

    :cond_7
    const/4 p1, 0x0

    :goto_1
    const/4 v5, 0x0

    aput p1, v0, v5

    invoke-static {v3, v4, v0}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p1

    aput-object p1, v2, v5

    invoke-virtual {v1, v2}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 8156
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$42;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$42;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 8162
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v0, 0xb4

    invoke-virtual {p1, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 8163
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrameAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void
.end method

.method private showVideoTimeline(ZZ)V
    .locals 9

    const/4 v0, 0x0

    const/4 v1, 0x0

    const/4 v2, 0x1

    const/4 v3, 0x0

    if-nez p2, :cond_1

    .line 13000
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {p2}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2, v1}, Landroid/view/ViewPropertyAnimator;->setListener(Landroid/animation/Animator$AnimatorListener;)Landroid/view/ViewPropertyAnimator;

    move-result-object p2

    invoke-virtual {p2}, Landroid/view/ViewPropertyAnimator;->cancel()V

    .line 13001
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_0

    goto :goto_0

    :cond_0
    const/16 v3, 0x8

    :goto_0
    invoke-virtual {p2, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13002
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {p2, v0}, Landroid/view/View;->setTranslationY(F)V

    .line 13003
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v0

    invoke-virtual {p2, v0}, Landroid/widget/FrameLayout;->setAlpha(F)V

    goto/16 :goto_1

    :cond_1
    const-wide/16 v4, 0xdc

    const/4 p2, 0x2

    const/16 v6, 0x3a

    if-eqz p1, :cond_4

    .line 13005
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v7

    if-nez v7, :cond_4

    .line 13006
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v7

    if-eqz v7, :cond_2

    .line 13007
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v7, v3}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 13008
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getAlpha()F

    move-result v8

    invoke-virtual {v7, v8}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 13009
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    int-to-float v6, v6

    invoke-virtual {v7, v6}, Landroid/view/View;->setTranslationY(F)V

    .line 13011
    :cond_2
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v6, :cond_3

    .line 13012
    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 13013
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v6}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 13015
    :cond_3
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v6}, Landroid/view/View;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    aput v0, p2, v2

    invoke-static {v6, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    .line 13016
    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 13017
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 13018
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    goto :goto_1

    :cond_4
    if-nez p1, :cond_6

    .line 13020
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 13021
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    if-eqz v0, :cond_5

    .line 13022
    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->removeAllListeners()V

    .line 13023
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {v0}, Landroid/animation/ObjectAnimator;->cancel()V

    .line 13026
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array p2, p2, [F

    invoke-virtual {v0}, Landroid/view/View;->getTranslationY()F

    move-result v8

    aput v8, p2, v3

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    aput v3, p2, v2

    invoke-static {v0, v7, p2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object p2

    iput-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    .line 13027
    new-instance v0, Lorg/telegram/ui/Components/HideViewAfterAnimation;

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/HideViewAfterAnimation;-><init>(Landroid/view/View;)V

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 13028
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2, v4, v5}, Landroid/animation/ObjectAnimator;->setDuration(J)Landroid/animation/ObjectAnimator;

    .line 13029
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p2, v0}, Landroid/animation/ObjectAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 13030
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineAnimator:Landroid/animation/ObjectAnimator;

    invoke-virtual {p2}, Landroid/animation/ObjectAnimator;->start()V

    .line 13033
    :cond_6
    :goto_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_7

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    :cond_7
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTag(Ljava/lang/Object;)V

    return-void
.end method

.method private startVideoPlayer()V
    .locals 2

    .line 10188
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-nez v0, :cond_2

    .line 10189
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v0, :cond_0

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-ne v0, v1, :cond_1

    .line 10190
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setVolume(F)V

    :cond_1
    const/4 v0, 0x0

    .line 10192
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 10193
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    :cond_2
    return-void
.end method

.method private supportsSendingNewEntities()Z
    .locals 2

    .line 8456
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1

    iget-object v0, v0, Lorg/telegram/ui/ChatActivity;->currentEncryptedChat:Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    if-eqz v0, :cond_0

    iget v0, v0, Lorg/telegram/tgnet/TLRPC$EncryptedChat;->layer:I

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->getPeerLayerVersion(I)I

    move-result v0

    const/16 v1, 0x65

    if-lt v0, v1, :cond_1

    :cond_0
    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method private switchToNextIndex(IZ)V
    .locals 3

    .line 16411
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 16412
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 16413
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    goto :goto_0

    .line 16414
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPageBlock:Lorg/telegram/tgnet/TLRPC$PageBlock;

    if-eqz v0, :cond_1

    .line 16415
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v2}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->getMedia(I)Lorg/telegram/tgnet/TLObject;

    move-result-object v0

    .line 16416
    instance-of v2, v0, Lorg/telegram/tgnet/TLRPC$Document;

    if-eqz v2, :cond_1

    .line 16417
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 16418
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    check-cast v0, Lorg/telegram/tgnet/TLRPC$Document;

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/FileLoader;->cancelLoadFile(Lorg/telegram/tgnet/TLRPC$Document;)V

    .line 16421
    :cond_1
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    const/4 v2, 0x1

    if-eqz v0, :cond_2

    .line 16422
    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setAnimateBackground(Z)V

    .line 16424
    :cond_2
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 16425
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v0, p1

    invoke-direct {p0, v0, p2, v2}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(IZZ)V

    .line 16426
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldMessageObjectAutoPlayed(Lorg/telegram/messenger/MessageObject;)Z

    move-result p1

    if-nez p1, :cond_3

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->shouldIndexAutoPlayed(I)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 16427
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    .line 16428
    invoke-direct {p0, v2}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 16429
    invoke-direct {p0, v1, v1, v2}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 16431
    :cond_4
    invoke-virtual {p0}, Lorg/telegram/ui/PhotoViewer;->checkFullscreenButton()V

    return-void
.end method

.method private switchToPaintMode()V
    .locals 15

    const/4 v0, 0x0

    .line 11043
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 11044
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11045
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11046
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 11047
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 11048
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x4

    if-eqz v0, :cond_0

    .line 11049
    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11051
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 11052
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v3, 0x0

    invoke-virtual {v0, v3}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 11053
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v4, 0xa

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    neg-int v4, v4

    int-to-float v4, v4

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/RecyclerListView;->setTranslationY(F)V

    .line 11054
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0, v3}, Lorg/telegram/ui/PhotoViewer$CounterView;->setRotationX(F)V

    .line 11055
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v4, 0x0

    invoke-virtual {v0, v4}, Landroid/view/ViewGroup;->setEnabled(Z)V

    .line 11056
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    .line 11057
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v0, :cond_1

    .line 11058
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11060
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v5, 0x2

    const/4 v6, 0x1

    if-eqz v0, :cond_3

    if-eq v0, v2, :cond_3

    if-eq v0, v5, :cond_2

    const/4 v7, 0x5

    if-ne v0, v7, :cond_4

    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-le v0, v6, :cond_4

    .line 11061
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 11062
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 11063
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateActionBarTitlePadding()V

    .line 11065
    :cond_4
    invoke-direct {p0, v4, v6}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 11067
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    const/16 v1, 0xc

    const/4 v7, 0x3

    if-eqz v0, :cond_d

    .line 11070
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v0

    .line 11071
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v8

    .line 11075
    iget v9, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/16 v10, 0x10e

    const/16 v11, 0x5a

    const/high16 v12, 0x40000000    # 2.0f

    if-ne v9, v6, :cond_7

    .line 11076
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11077
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v13, :cond_5

    .line 11078
    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    add-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11080
    :cond_5
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v9

    if-eq v9, v11, :cond_6

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v9

    if-ne v9, v10, :cond_c

    :cond_6
    move v14, v8

    move v8, v0

    move v0, v14

    goto :goto_1

    :cond_7
    const/16 v9, 0x2c

    .line 11086
    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    neg-int v9, v9

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v13

    if-eqz v13, :cond_8

    sget v13, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    div-int/2addr v13, v5

    goto :goto_0

    :cond_8
    move v13, v4

    :goto_0
    add-int/2addr v9, v13

    int-to-float v9, v9

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11087
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v13, :cond_9

    .line 11088
    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    add-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11089
    iget-object v13, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v12

    sub-float/2addr v9, v13

    iput v9, p0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 11091
    :cond_9
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v9, v9, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v9, :cond_c

    .line 11092
    iget v12, v9, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v12, v11, :cond_a

    if-ne v12, v10, :cond_b

    :cond_a
    move v14, v8

    move v8, v0

    move v0, v14

    :cond_b
    int-to-float v0, v0

    .line 11097
    iget v10, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v0, v10

    float-to-int v0, v0

    int-to-float v8, v8

    .line 11098
    iget v9, v9, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v8, v9

    float-to-int v8, v8

    .line 11101
    :cond_c
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    int-to-float v9, v9

    int-to-float v0, v0

    div-float/2addr v9, v0

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v10

    int-to-float v10, v10

    int-to-float v8, v8

    div-float/2addr v10, v8

    invoke-static {v9, v10}, Ljava/lang/Math;->min(FF)F

    move-result v9

    .line 11102
    invoke-direct {p0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v10

    int-to-float v10, v10

    div-float/2addr v10, v0

    invoke-direct {p0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v0

    int-to-float v0, v0

    div-float/2addr v0, v8

    invoke-static {v10, v0}, Ljava/lang/Math;->min(FF)F

    move-result v0

    div-float/2addr v0, v9

    .line 11103
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    .line 11104
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v0

    div-int/2addr v0, v5

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v8

    div-int/2addr v8, v5

    sub-int/2addr v0, v8

    int-to-float v0, v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 11105
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v8

    iput-wide v8, p0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 11106
    iput-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    .line 11109
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v6}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 11110
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    .line 11111
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v0, v5, [F

    const/16 v2, 0x7e

    .line 11112
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    aput v2, v0, v4

    aput v3, v0, v6

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v0

    new-array v2, v5, [F

    .line 11113
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    aput v1, v2, v4

    aput v3, v2, v6

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v1

    .line 11114
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda8;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda8;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11115
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda10;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda10;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11116
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-array v3, v7, [Landroid/animation/Animator;

    sget-object v7, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    new-array v8, v5, [F

    fill-array-data v8, :array_0

    .line 11117
    invoke-static {p0, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v7

    aput-object v7, v3, v4

    aput-object v0, v3, v6

    aput-object v1, v3, v5

    .line 11116
    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 11121
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onAnimationStateChanged(Z)V

    .line 11122
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v1, 0xc8

    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11123
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$58;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$58;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11146
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private switchToPip(Z)V
    .locals 35

    move-object/from16 v12, p0

    .line 7655
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_11

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkInlinePermissions()Z

    move-result v0

    if-eqz v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    if-nez v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    if-nez v0, :cond_11

    iget-boolean v0, v12, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-eqz v0, :cond_0

    goto/16 :goto_7

    .line 7658
    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-eqz v0, :cond_1

    .line 7659
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    :cond_1
    const/4 v13, 0x0

    .line 7661
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 7662
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    .line 7663
    sput-object v1, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v14, 0x1

    .line 7664
    iput-boolean v14, v12, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 7665
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 7666
    iput-boolean v13, v12, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 7667
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 7668
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    const-wide/16 v10, 0xfa

    const/4 v2, 0x0

    const/4 v15, 0x2

    if-eqz v0, :cond_5

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getVisible()Z

    move-result v0

    if-nez v0, :cond_5

    .line 7669
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v14, v14}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 7670
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v3

    if-eqz v3, :cond_5

    .line 7672
    invoke-virtual {v3}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getAnimatedBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 7675
    :try_start_0
    iget-boolean v4, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v4, :cond_2

    .line 7676
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v4, v0}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    goto :goto_0

    .line 7678
    :cond_2
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v5

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v6

    invoke-virtual {v4, v5, v6}, Landroid/view/TextureView;->getBitmap(II)Landroid/graphics/Bitmap;

    move-result-object v4

    .line 7679
    new-instance v5, Landroid/graphics/Canvas;

    invoke-direct {v5, v0}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 7680
    invoke-virtual {v5, v4, v2, v2, v1}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 7681
    invoke-virtual {v4}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    :catchall_0
    move-exception v0

    .line 7684
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7687
    :cond_3
    :goto_0
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v4

    invoke-virtual {v3, v4, v5, v14}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->seekTo(JZ)V

    if-eqz p1, :cond_4

    .line 7689
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2}, Lorg/telegram/messenger/ImageReceiver;->setAlpha(F)V

    .line 7690
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    new-array v3, v15, [F

    .line 7691
    fill-array-data v3, :array_0

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v3

    .line 7692
    new-instance v4, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda0;

    invoke-direct {v4, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda0;-><init>(Lorg/telegram/messenger/ImageReceiver;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7693
    new-instance v4, Lorg/telegram/ui/PhotoViewer$36;

    invoke-direct {v4, v12, v0}, Lorg/telegram/ui/PhotoViewer$36;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/messenger/ImageReceiver;)V

    invoke-virtual {v3, v4}, Landroid/animation/ValueAnimator;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7699
    invoke-virtual {v3, v10, v11}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 7700
    invoke-virtual {v3}, Landroid/animation/ValueAnimator;->start()V

    .line 7702
    :cond_4
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v14}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 7703
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->startAnimation()V

    .line 7706
    :cond_5
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v3, 0x15

    if-lt v0, v3, :cond_f

    .line 7707
    iput-boolean v14, v12, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    .line 7708
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v0}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v0

    invoke-static {v14, v0}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v0

    .line 7709
    iget-boolean v3, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_6

    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_1

    :cond_6
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    :goto_1
    move-object v9, v3

    .line 7710
    iget v3, v0, Lorg/telegram/ui/Components/Rect;->width:F

    invoke-virtual {v9}, Landroid/view/View;->getWidth()I

    move-result v4

    int-to-float v4, v4

    div-float v8, v3, v4

    new-array v3, v15, [F

    .line 7712
    fill-array-data v3, :array_1

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v7

    .line 7714
    iget-boolean v3, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_7

    .line 7715
    iget-object v3, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getLeft()I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v9}, Landroid/view/View;->getTranslationX()F

    move-result v4

    add-float/2addr v3, v4

    .line 7716
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getTop()I

    move-result v4

    int-to-float v4, v4

    invoke-virtual {v9}, Landroid/view/View;->getTranslationY()F

    move-result v5

    add-float/2addr v4, v5

    iget v5, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v4, v5

    .line 7717
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getTop()I

    move-result v5

    int-to-float v5, v5

    iget-object v6, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v6}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v6

    add-float/2addr v5, v6

    iget v6, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    goto :goto_2

    .line 7719
    :cond_7
    invoke-virtual {v9}, Landroid/view/View;->getTranslationX()F

    move-result v3

    .line 7720
    invoke-virtual {v9}, Landroid/view/View;->getTranslationY()F

    move-result v4

    iget v5, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v4, v5

    .line 7721
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v5}, Landroid/widget/ImageView;->getTranslationY()F

    move-result v5

    iget v6, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    :goto_2
    add-float/2addr v5, v6

    move v6, v5

    move v5, v4

    move v4, v3

    .line 7723
    iget v3, v0, Lorg/telegram/ui/Components/Rect;->x:F

    .line 7724
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getX()F

    move-result v1

    sub-float v1, v3, v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v10

    int-to-float v10, v10

    add-float/2addr v10, v1

    .line 7726
    iget v0, v0, Lorg/telegram/ui/Components/Rect;->y:F

    .line 7727
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getY()F

    move-result v1

    sub-float v11, v0, v1

    .line 7729
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    const/4 v15, 0x4

    if-eqz v1, :cond_9

    .line 7730
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v1, v1, Lorg/telegram/ui/Components/VideoPlayer;->player:Lcom/google/android/exoplayer2/ExoPlayer;

    invoke-interface {v1}, Lcom/google/android/exoplayer2/Player;->pause()V

    .line 7731
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v13}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 7732
    iget-boolean v1, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v1, :cond_8

    .line 7733
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v1}, Landroid/view/SurfaceView;->getWidth()I

    move-result v1

    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v13}, Landroid/view/SurfaceView;->getHeight()I

    move-result v13

    sget-object v14, Landroid/graphics/Bitmap$Config;->ARGB_8888:Landroid/graphics/Bitmap$Config;

    invoke-static {v1, v13, v14}, Lorg/telegram/messenger/Bitmaps;->createBitmap(IILandroid/graphics/Bitmap$Config;)Landroid/graphics/Bitmap;

    move-result-object v1

    .line 7734
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v13, v1}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    .line 7735
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 7737
    :cond_8
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v1, v15}, Landroid/view/SurfaceView;->setVisibility(I)V

    .line 7739
    :cond_9
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v1, v6}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7740
    invoke-virtual {v9, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 7741
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v1, :cond_a

    .line 7742
    invoke-virtual {v1, v5}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 7745
    :cond_a
    iput v2, v12, Lorg/telegram/ui/PhotoViewer;->translationY:F

    .line 7746
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    if-eqz p1, :cond_c

    cmpg-float v1, v5, v11

    if-gez v1, :cond_b

    .line 7751
    new-instance v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;

    const-wide/high16 v18, 0x3fe0000000000000L    # 0.5

    const-wide/16 v20, 0x0

    const-wide v22, 0x3feccccccccccccdL    # 0.9

    const-wide v24, 0x3feccccccccccccdL    # 0.9

    move-object/from16 v17, v1

    invoke-direct/range {v17 .. v25}, Lorg/telegram/ui/Components/CubicBezierInterpolator;-><init>(DDDD)V

    goto :goto_3

    .line 7753
    :cond_b
    new-instance v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;

    const-wide/16 v27, 0x0

    const-wide/high16 v29, 0x3fe0000000000000L    # 0.5

    const-wide v31, 0x3feccccccccccccdL    # 0.9

    const-wide v33, 0x3feccccccccccccdL    # 0.9

    move-object/from16 v26, v1

    invoke-direct/range {v26 .. v34}, Lorg/telegram/ui/Components/CubicBezierInterpolator;-><init>(DDDD)V

    :goto_3
    move-object/from16 v16, v1

    goto :goto_4

    :cond_c
    const/16 v16, 0x0

    .line 7758
    :goto_4
    new-instance v1, Lorg/telegram/ui/PhotoViewer$37;

    invoke-direct {v1, v12, v7, v8}, Lorg/telegram/ui/PhotoViewer$37;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/animation/ValueAnimator;F)V

    .line 7764
    invoke-virtual {v9, v1}, Landroid/view/View;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    const/4 v2, 0x1

    .line 7765
    invoke-virtual {v9, v2}, Landroid/view/View;->setClipToOutline(Z)V

    .line 7766
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7767
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v13, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7768
    iget-object v13, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v13, :cond_d

    .line 7769
    invoke-virtual {v13, v1}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 7770
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 7773
    :cond_d
    new-instance v13, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda18;

    move-object v1, v13

    move-object/from16 v2, p0

    move v14, v3

    move-object/from16 v3, v16

    move/from16 v16, v5

    move v5, v14

    move-object v14, v7

    move v7, v0

    move v0, v8

    move-object v8, v9

    move-object v15, v9

    move v9, v10

    move/from16 v10, v16

    invoke-direct/range {v1 .. v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda18;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Components/CubicBezierInterpolator;FFFFLandroid/view/View;FFF)V

    invoke-virtual {v14, v13}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 7795
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    const/4 v2, 0x2

    new-array v3, v2, [F

    .line 7796
    fill-array-data v3, :array_2

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 7797
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda9;

    invoke-direct {v3, v12}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda9;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x7

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 7798
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    const/4 v6, 0x1

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7800
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v6

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7801
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x2

    aput-object v2, v3, v5

    const/4 v2, 0x3

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    new-array v7, v6, [F

    aput v0, v7, v4

    .line 7802
    invoke-static {v15, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v5

    aput-object v5, v3, v2

    sget-object v2, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v5, v6, [F

    aput v0, v5, v4

    .line 7803
    invoke-static {v15, v2, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x4

    aput-object v0, v3, v2

    const/4 v0, 0x5

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v7, v6, [I

    aput v4, v7, v4

    .line 7804
    invoke-static {v2, v5, v7}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v0

    const/4 v0, 0x6

    aput-object v14, v3, v0

    .line 7798
    invoke-virtual {v1, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    if-eqz p1, :cond_e

    .line 7808
    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v2, 0x12c

    .line 7809
    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    goto :goto_5

    .line 7811
    :cond_e
    new-instance v0, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v0}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    const-wide/16 v2, 0xfa

    .line 7812
    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 7814
    :goto_5
    new-instance v0, Lorg/telegram/ui/PhotoViewer$38;

    invoke-direct {v0, v12, v15}, Lorg/telegram/ui/PhotoViewer$38;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    invoke-virtual {v1, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 7830
    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    if-nez p1, :cond_10

    .line 7832
    new-instance v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {v0}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;-><init>()V

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation(Z)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    const/16 v2, 0xfa

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration(I)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    new-instance v2, Landroid/view/animation/DecelerateInterpolator;

    invoke-direct {v2}, Landroid/view/animation/DecelerateInterpolator;-><init>()V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator(Landroid/view/animation/Interpolator;)Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    move-result-object v0

    const/4 v2, 0x1

    invoke-direct {v12, v1, v2, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    goto :goto_6

    .line 7835
    :cond_f
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->switchToInlineRunnable:Ljava/lang/Runnable;

    invoke-interface {v0}, Ljava/lang/Runnable;->run()V

    .line 7836
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->dismissInternal()V

    .line 7838
    :cond_10
    :goto_6
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_11

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_11

    .line 7839
    iget-object v0, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    :cond_11
    :goto_7
    return-void

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method private toggleActionBar(ZZ)V
    .locals 1

    .line 11280
    sget-object v0, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->DEFAULT:Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;

    invoke-direct {p0, p1, p2, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V

    return-void
.end method

.method private toggleActionBar(ZZLorg/telegram/ui/PhotoViewer$ActionBarToggleParams;)V
    .locals 10

    .line 11284
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_40

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-eqz v0, :cond_0

    const/4 v1, -0x1

    if-eq v0, v1, :cond_0

    goto/16 :goto_2b

    .line 11288
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    if-eqz v0, :cond_1

    .line 11289
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->cancel()V

    :cond_1
    const/4 v0, 0x0

    if-eqz p1, :cond_3

    .line 11292
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11293
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_2

    .line 11294
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 11296
    :cond_2
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v1}, Landroid/widget/ViewSwitcher;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_3

    .line 11297
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 11298
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    if-eqz v1, :cond_3

    .line 11299
    invoke-virtual {v1}, Landroid/view/View;->requestLayout()V

    .line 11303
    :cond_3
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 11305
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_4

    .line 11306
    invoke-virtual {v1, p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->setTouchDisabled(Z)V

    .line 11309
    :cond_4
    iget-boolean v1, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableStatusBarAnimation:Z

    if-eqz v1, :cond_5

    .line 11310
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    .line 11313
    :cond_5
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_6

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_6

    if-eqz p1, :cond_6

    .line 11314
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    goto :goto_0

    .line 11316
    :cond_6
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    :goto_0
    if-nez p1, :cond_7

    .line 11320
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v1}, Lorg/telegram/ui/Components/Bulletin;->hide(Landroid/widget/FrameLayout;)V

    :cond_7
    const/high16 v1, 0x41c00000    # 24.0f

    .line 11323
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v1

    .line 11325
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-boolean v3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    const/4 v4, 0x1

    if-eqz v3, :cond_8

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v3, :cond_8

    move v3, v4

    goto :goto_1

    :cond_8
    move v3, v0

    :goto_1
    invoke-virtual {v2, v3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setSeekBarTransitionEnabled(Z)V

    .line 11326
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    iget-boolean v3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    invoke-virtual {v2, v3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setTranslationYAnimationEnabled(Z)V

    const/4 v2, 0x3

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v5, 0x0

    if-eqz p2, :cond_2a

    .line 11329
    new-instance p2, Ljava/util/ArrayList;

    invoke-direct {p2}, Ljava/util/ArrayList;-><init>()V

    .line 11330
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_9

    move v9, v3

    goto :goto_2

    :cond_9
    move v9, v5

    :goto_2
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11331
    iget-boolean v6, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v6, :cond_b

    .line 11332
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v7, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_a

    move v9, v5

    goto :goto_3

    :cond_a
    neg-float v9, v1

    :goto_3
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_4

    .line 11334
    :cond_b
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v6, v5}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 11336
    :goto_4
    iget-boolean v6, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz v6, :cond_d

    .line 11337
    iget-object v6, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v6, v6, v0

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    if-eqz p1, :cond_c

    move v9, v3

    goto :goto_5

    :cond_c
    move v9, v5

    :goto_5
    aput v9, v8, v0

    invoke-static {v6, v7, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v6

    invoke-virtual {p2, v6}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :cond_d
    move v6, v4

    :goto_6
    if-ge v6, v2, :cond_f

    .line 11340
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v7, v7, v6

    if-eqz p1, :cond_e

    move v8, v5

    goto :goto_7

    :cond_e
    move v8, v1

    :goto_7
    invoke-virtual {v7, v8}, Landroid/widget/ImageView;->setTranslationY(F)V

    add-int/lit8 v6, v6, 0x1

    goto :goto_6

    .line 11342
    :cond_f
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_11

    .line 11343
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_10

    move v8, v5

    goto :goto_8

    :cond_10
    move v8, v1

    :goto_8
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_9

    .line 11345
    :cond_11
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    invoke-virtual {v2, v5}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 11347
    :goto_9
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz v2, :cond_15

    .line 11348
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_12

    move v8, v3

    goto :goto_a

    :cond_12
    move v8, v5

    :goto_a
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11349
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_14

    .line 11350
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_13

    move v8, v5

    goto :goto_b

    :cond_13
    move v8, v1

    :goto_b
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_c

    .line 11352
    :cond_14
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v5}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11355
    :cond_15
    :goto_c
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_19

    .line 11356
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_16

    move v8, v3

    goto :goto_d

    :cond_16
    move v8, v5

    :goto_d
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11357
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_18

    .line 11358
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_17

    move v8, v5

    goto :goto_e

    :cond_17
    neg-float v8, v1

    :goto_e
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_f

    .line 11360
    :cond_18
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-virtual {v2, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 11363
    :cond_19
    :goto_f
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_1b

    .line 11364
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1a

    move v8, v3

    goto :goto_10

    :cond_1a
    move v8, v5

    :goto_10
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11366
    :cond_1b
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v2, :cond_1d

    .line 11367
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    sget-object v6, Lorg/telegram/ui/PhotoViewer;->VPC_PROGRESS:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1c

    move v8, v3

    goto :goto_11

    :cond_1c
    move v8, v5

    :goto_11
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_13

    .line 11369
    :cond_1d
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_1e

    move v6, v3

    goto :goto_12

    :cond_1e
    move v6, v5

    :goto_12
    invoke-virtual {v2, v6}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setProgress(F)V

    .line 11371
    :goto_13
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_1f

    move v8, v3

    goto :goto_14

    :cond_1f
    move v8, v5

    :goto_14
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11372
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_21

    .line 11373
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_20

    move v8, v5

    goto :goto_15

    :cond_20
    move v8, v1

    :goto_15
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_16

    .line 11375
    :cond_21
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    invoke-virtual {v2, v5}, Landroid/view/View;->setTranslationY(F)V

    .line 11377
    :goto_16
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez v2, :cond_25

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz v2, :cond_25

    .line 11378
    sget-object v6, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_22

    move v8, v3

    goto :goto_17

    :cond_22
    move v8, v5

    :goto_17
    aput v8, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {p2, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11379
    iget-boolean v2, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->enableTranslationAnimation:Z

    if-eqz v2, :cond_24

    .line 11380
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    sget-object v6, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v4, [F

    if-eqz p1, :cond_23

    move v1, v5

    :cond_23
    aput v1, v7, v0

    invoke-static {v2, v6, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v1

    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_18

    .line 11382
    :cond_24
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    invoke-virtual {v1, v5}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11385
    :cond_25
    :goto_18
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_27

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz v1, :cond_27

    const/4 v1, 0x2

    new-array v1, v1, [F

    .line 11386
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v0

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$22500(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)[F

    move-result-object v2

    aget v2, v2, v4

    aput v2, v1, v0

    if-eqz p1, :cond_26

    move v2, v3

    goto :goto_19

    :cond_26
    move v2, v5

    :goto_19
    aput v2, v1, v4

    invoke-static {v1}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v1

    .line 11387
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda2;

    invoke-direct {v2, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda2;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11388
    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11390
    :cond_27
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v1}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v1

    if-eqz v1, :cond_29

    .line 11391
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    if-eqz p1, :cond_28

    goto :goto_1a

    :cond_28
    move v3, v5

    :goto_1a
    aput v3, v4, v0

    invoke-static {v1, v2, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11393
    :cond_29
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    .line 11394
    invoke-virtual {v0, p2}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 11395
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    iget v0, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationDuration:I

    int-to-long v0, v0

    invoke-virtual {p2, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11396
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    iget-object p3, p3, Lorg/telegram/ui/PhotoViewer$ActionBarToggleParams;->animationInterpolator:Landroid/view/animation/Interpolator;

    invoke-virtual {p2, p3}, Landroid/animation/AnimatorSet;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 11397
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    new-instance p3, Lorg/telegram/ui/PhotoViewer$60;

    invoke-direct {p3, p0, p1}, Lorg/telegram/ui/PhotoViewer$60;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {p2, p3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11421
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBarAnimator:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2b

    .line 11423
    :cond_2a
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_2b

    move p3, v3

    goto :goto_1b

    :cond_2b
    move p3, v5

    :goto_1b
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11424
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p2, p2, v0

    invoke-virtual {p2}, Landroid/widget/ImageView;->getTranslationX()F

    move-result p2

    cmpl-float p2, p2, v5

    if-eqz p2, :cond_2d

    .line 11425
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    if-eqz p2, :cond_2d

    .line 11426
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p2, p2, v0

    if-eqz p1, :cond_2c

    move p3, v3

    goto :goto_1c

    :cond_2c
    move p3, v5

    :goto_1c
    invoke-virtual {p2, p3}, Landroid/widget/ImageView;->setAlpha(F)V

    :cond_2d
    move p2, v0

    :goto_1d
    if-ge p2, v2, :cond_2f

    .line 11430
    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object p3, p3, p2

    if-eqz p1, :cond_2e

    move v6, v5

    goto :goto_1e

    :cond_2e
    move v6, v1

    :goto_1e
    invoke-virtual {p3, v6}, Landroid/widget/ImageView;->setTranslationY(F)V

    add-int/lit8 p2, p2, 0x1

    goto :goto_1d

    .line 11432
    :cond_2f
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-eqz p1, :cond_30

    move p3, v5

    goto :goto_1f

    :cond_30
    neg-float p3, v1

    :goto_1f
    invoke-virtual {p2, p3}, Lorg/telegram/ui/ActionBar/ActionBar;->setTranslationY(F)V

    .line 11433
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz p2, :cond_33

    if-eqz p1, :cond_31

    move p3, v3

    goto :goto_20

    :cond_31
    move p3, v5

    .line 11434
    :goto_20
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11435
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz p1, :cond_32

    move p3, v5

    goto :goto_21

    :cond_32
    neg-float p3, v1

    :goto_21
    invoke-virtual {p2, p3}, Landroid/view/View;->setTranslationY(F)V

    .line 11437
    :cond_33
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_34

    move p3, v3

    goto :goto_22

    :cond_34
    move p3, v5

    :goto_22
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11438
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    if-eqz p1, :cond_35

    move p3, v5

    goto :goto_23

    :cond_35
    move p3, v1

    :goto_23
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11439
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz p1, :cond_36

    move p3, v3

    goto :goto_24

    :cond_36
    move p3, v5

    :goto_24
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11440
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz p1, :cond_37

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    if-eq p3, v2, :cond_37

    move p3, v3

    goto :goto_25

    :cond_37
    move p3, v5

    :goto_25
    invoke-virtual {p2, p3}, Landroid/view/View;->setAlpha(F)V

    .line 11441
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    if-eqz p1, :cond_38

    iget p3, p0, Lorg/telegram/ui/PhotoViewer;->aboutToSwitchTo:I

    if-eq p3, v2, :cond_38

    move p3, v5

    goto :goto_26

    :cond_38
    move p3, v1

    :goto_26
    invoke-virtual {p2, p3}, Landroid/view/View;->setTranslationY(F)V

    .line 11442
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-nez p2, :cond_3b

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz p2, :cond_3b

    if-eqz p1, :cond_39

    move p3, v3

    goto :goto_27

    :cond_39
    move p3, v5

    .line 11443
    :goto_27
    invoke-virtual {p2, p3}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 11444
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->captionScrollView:Lorg/telegram/ui/PhotoViewer$CaptionScrollView;

    if-eqz p1, :cond_3a

    move v1, v5

    :cond_3a
    invoke-virtual {p2, v1}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 11446
    :cond_3b
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    if-eqz p1, :cond_3c

    move p3, v3

    goto :goto_28

    :cond_3c
    move p3, v5

    :goto_28
    invoke-virtual {p2, p3}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->setProgress(F)V

    .line 11447
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object p2

    if-eqz p2, :cond_3e

    .line 11448
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    if-eqz p1, :cond_3d

    move p3, v3

    goto :goto_29

    :cond_3d
    move p3, v5

    :goto_29
    invoke-virtual {p2, p3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 11450
    :cond_3e
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz p2, :cond_40

    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-eqz p2, :cond_40

    .line 11451
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p2, p2, v0

    if-eqz p1, :cond_3f

    goto :goto_2a

    :cond_3f
    move v3, v5

    :goto_2a
    invoke-virtual {p2, v4, v3, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    :cond_40
    :goto_2b
    return-void
.end method

.method private toggleCheckImageView(Z)V
    .locals 11

    .line 11150
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    .line 11151
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    const/high16 v2, 0x41c00000    # 24.0f

    .line 11152
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dpf2(F)F

    move-result v2

    .line 11153
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v5, 0x1

    new-array v6, v5, [F

    const/high16 v7, 0x3f800000    # 1.0f

    const/4 v8, 0x0

    if-eqz p1, :cond_0

    move v9, v7

    goto :goto_0

    :cond_0
    move v9, v8

    :goto_0
    const/4 v10, 0x0

    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11154
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_1

    move v9, v8

    goto :goto_1

    :cond_1
    move v9, v2

    :goto_1
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11155
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_2

    move v9, v7

    goto :goto_2

    :cond_2
    move v9, v8

    :goto_2
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11156
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_3

    move v9, v8

    goto :goto_3

    :cond_3
    move v9, v2

    :goto_3
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11157
    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v3, :cond_4

    const/4 v4, 0x4

    if-ne v3, v4, :cond_9

    .line 11158
    :cond_4
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_5

    move v9, v7

    goto :goto_4

    :cond_5
    move v9, v8

    :goto_4
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11159
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_6

    move v9, v8

    goto :goto_5

    :cond_6
    neg-float v9, v2

    :goto_5
    aput v9, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11160
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_7

    goto :goto_6

    :cond_7
    move v7, v8

    :goto_6
    aput v7, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11161
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v6, v5, [F

    if-eqz p1, :cond_8

    goto :goto_7

    :cond_8
    neg-float v8, v2

    :goto_7
    aput v8, v6, v10

    invoke-static {v3, v4, v6}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11163
    :cond_9
    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    const-wide/16 v1, 0xc8

    .line 11164
    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11165
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    if-nez p1, :cond_b

    .line 11166
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result p1

    if-eqz p1, :cond_b

    .line 11167
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->isPopupShowing()Z

    move-result p1

    if-eqz p1, :cond_a

    .line 11168
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1, v5}, Lorg/telegram/ui/Components/EditTextEmoji;->hidePopup(Z)V

    .line 11170
    :cond_a
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->closeKeyboard()V

    :cond_b
    return-void
.end method

.method private toggleMiniProgress(ZZ)V
    .locals 2

    .line 11203
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    const/4 v0, 0x0

    const/4 v1, 0x0

    if-eqz p2, :cond_3

    .line 11205
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    if-eqz p1, :cond_2

    .line 11207
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_0

    .line 11208
    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11209
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    .line 11211
    :cond_0
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    if-eqz p1, :cond_1

    .line 11212
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->firstAnimationDelay:Z

    const/4 p1, 0x1

    .line 11213
    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    goto :goto_2

    .line 11215
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressShowRunnable:Ljava/lang/Runnable;

    const-wide/16 v0, 0x1f4

    invoke-static {p1, v0, v1}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    goto :goto_2

    .line 11218
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p1, :cond_7

    .line 11219
    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11220
    invoke-direct {p0, v1}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgressInternal(Z)V

    goto :goto_2

    .line 11224
    :cond_3
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    if-eqz p2, :cond_4

    .line 11225
    invoke-virtual {p2}, Landroid/animation/AnimatorSet;->cancel()V

    .line 11226
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    .line 11228
    :cond_4
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    if-eqz p1, :cond_5

    const/high16 v0, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_5
    const/4 v0, 0x0

    :goto_0
    invoke-virtual {p2, v0}, Lorg/telegram/ui/Components/RadialProgressView;->setAlpha(F)V

    .line 11229
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    if-eqz p1, :cond_6

    goto :goto_1

    :cond_6
    const/4 v1, 0x4

    :goto_1
    invoke-virtual {p2, v1}, Landroid/view/View;->setVisibility(I)V

    :cond_7
    :goto_2
    return-void
.end method

.method private toggleMiniProgressInternal(Z)V
    .locals 7

    const/4 v0, 0x0

    if-eqz p1, :cond_0

    .line 11176
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v0}, Landroid/view/View;->setVisibility(I)V

    .line 11178
    :cond_0
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    const/4 v2, 0x1

    new-array v3, v2, [Landroid/animation/Animator;

    .line 11179
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v2, v2, [F

    if-eqz p1, :cond_1

    const/high16 v6, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_1
    const/4 v6, 0x0

    :goto_0
    aput v6, v2, v0

    invoke-static {v4, v5, v2}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v0

    invoke-virtual {v1, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 11180
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    const-wide/16 v1, 0xc8

    invoke-virtual {v0, v1, v2}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11181
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$59;

    invoke-direct {v1, p0, p1}, Lorg/telegram/ui/PhotoViewer$59;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    invoke-virtual {v0, v1}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11199
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->miniProgressAnimator:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    return-void
.end method

.method private togglePhotosListView(ZZ)V
    .locals 9

    .line 11457
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    if-ne p1, v0, :cond_0

    return-void

    :cond_0
    const/4 v0, 0x0

    if-eqz p1, :cond_1

    .line 11461
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 11463
    :cond_1
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isPhotosListViewVisible:Z

    .line 11464
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, p1}, Landroid/view/ViewGroup;->setEnabled(Z)V

    const/16 v1, 0xa

    const/high16 v2, 0x3f800000    # 1.0f

    const/4 v3, 0x0

    if-eqz p2, :cond_6

    .line 11467
    new-instance p2, Ljava/util/ArrayList;

    invoke-direct {p2}, Ljava/util/ArrayList;-><init>()V

    .line 11468
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v6, 0x1

    new-array v7, v6, [F

    if-eqz p1, :cond_2

    move v8, v2

    goto :goto_0

    :cond_2
    move v8, v3

    :goto_0
    aput v8, v7, v0

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {p2, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11469
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    if-eqz p1, :cond_3

    move v1, v3

    goto :goto_1

    :cond_3
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    neg-int v1, v1

    int-to-float v1, v1

    :goto_1
    aput v1, v7, v0

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v1

    invoke-virtual {p2, v1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11470
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ROTATION_X:Landroid/util/Property;

    new-array v5, v6, [F

    if-eqz p1, :cond_4

    goto :goto_2

    :cond_4
    move v2, v3

    :goto_2
    aput v2, v5, v0

    invoke-static {v1, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    invoke-virtual {p2, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 11471
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    .line 11472
    invoke-virtual {v0, p2}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    if-nez p1, :cond_5

    .line 11474
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    new-instance p2, Lorg/telegram/ui/PhotoViewer$61;

    invoke-direct {p2, p0}, Lorg/telegram/ui/PhotoViewer$61;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, p2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 11484
    :cond_5
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v0, 0xc8

    invoke-virtual {p1, v0, v1}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 11485
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentListViewAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {p1}, Landroid/animation/AnimatorSet;->start()V

    goto :goto_6

    .line 11487
    :cond_6
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz p1, :cond_7

    move v0, v2

    goto :goto_3

    :cond_7
    move v0, v3

    :goto_3
    invoke-virtual {p2, v0}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 11488
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz p1, :cond_8

    move v0, v3

    goto :goto_4

    :cond_8
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    neg-int v0, v0

    int-to-float v0, v0

    :goto_4
    invoke-virtual {p2, v0}, Lorg/telegram/ui/Components/RecyclerListView;->setTranslationY(F)V

    .line 11489
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    if-eqz p1, :cond_9

    goto :goto_5

    :cond_9
    move v2, v3

    :goto_5
    invoke-virtual {p2, v2}, Lorg/telegram/ui/PhotoViewer$CounterView;->setRotationX(F)V

    if-nez p1, :cond_a

    .line 11491
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 p2, 0x8

    invoke-virtual {p1, p2}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    :cond_a
    :goto_6
    return-void
.end method

.method private toggleVideoPlayer()V
    .locals 4

    .line 11497
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return-void

    .line 11500
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    goto :goto_0

    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v0

    .line 11501
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 11502
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    if-eqz v0, :cond_3

    .line 11504
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    goto :goto_2

    .line 11506
    :cond_3
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const v1, 0x3c23d70a    # 0.01f

    if-eqz v0, :cond_5

    .line 11507
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getProgress()F

    move-result v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    cmpg-float v0, v0, v1

    if-ltz v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_8

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    cmp-long v0, v0, v2

    if-nez v0, :cond_8

    .line 11508
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_1

    .line 11511
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->getProgress()F

    move-result v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v2

    sub-float/2addr v0, v2

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    cmpg-float v0, v0, v1

    if-ltz v0, :cond_6

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_7

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    cmp-long v0, v0, v2

    if-nez v0, :cond_7

    :cond_6
    const/4 v0, 0x0

    .line 11512
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 11514
    :cond_7
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    .line 11516
    :cond_8
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    .line 11518
    :goto_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    return-void
.end method

.method private translateY(F)V
    .locals 3

    .line 11018
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    if-eqz v0, :cond_0

    .line 11019
    invoke-virtual {v0}, Landroid/animation/ValueAnimator;->cancel()V

    const/4 v0, 0x0

    .line 11020
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    .line 11022
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/4 v1, 0x3

    if-eq v0, v1, :cond_1

    const/4 p1, 0x0

    :cond_1
    const/4 v0, 0x2

    new-array v0, v0, [F

    const/4 v1, 0x0

    .line 11025
    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->translateY:F

    aput v2, v0, v1

    const/4 v1, 0x1

    aput p1, v0, v1

    invoke-static {v0}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    .line 11026
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda6;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda6;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 11033
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    const-wide/16 v0, 0x140

    invoke-virtual {p1, v0, v1}, Landroid/animation/ValueAnimator;->setDuration(J)Landroid/animation/ValueAnimator;

    .line 11034
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    sget-object v0, Lorg/telegram/ui/Components/CubicBezierInterpolator;->EASE_OUT_QUINT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    invoke-virtual {p1, v0}, Landroid/animation/ValueAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)V

    .line 11035
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->translateYAnimator:Landroid/animation/ValueAnimator;

    invoke-virtual {p1}, Landroid/animation/ValueAnimator;->start()V

    return-void
.end method

.method private updateAccessibilityOverlayVisibility()V
    .locals 6

    .line 18490
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    if-eqz v0, :cond_5

    .line 18491
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v1, 0x0

    aget-object v0, v0, v1

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v0

    .line 18492
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v1

    invoke-virtual {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result v2

    const/4 v3, 0x4

    if-eqz v2, :cond_4

    const/4 v2, 0x1

    const/4 v4, 0x2

    const/4 v5, 0x3

    if-eq v0, v5, :cond_0

    if-eq v0, v3, :cond_0

    if-eq v0, v4, :cond_0

    if-ne v0, v2, :cond_4

    :cond_0
    if-ne v0, v5, :cond_1

    .line 18494
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionPlay:I

    const-string v3, "AccActionPlay"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    :cond_1
    if-ne v0, v4, :cond_2

    .line 18496
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionDownload:I

    const-string v3, "AccActionDownload"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    :cond_2
    if-ne v0, v2, :cond_3

    .line 18498
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionCancelDownload:I

    const-string v3, "AccActionCancelDownload"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_0

    .line 18500
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    sget v2, Lorg/telegram/messenger/R$string;->AccActionPause:I

    const-string v3, "AccActionPause"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 18502
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    goto :goto_1

    .line 18504
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    :cond_5
    :goto_1
    return-void
.end method

.method private updateActionBarTitlePadding()V
    .locals 7

    .line 7304
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    if-nez v0, :cond_0

    goto :goto_1

    :cond_0
    const/4 v0, 0x0

    const/4 v1, 0x0

    move v2, v1

    .line 7308
    :goto_0
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    invoke-virtual {v3}, Landroid/widget/LinearLayout;->getChildCount()I

    move-result v3

    if-ge v2, v3, :cond_2

    .line 7309
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    invoke-virtual {v3, v2}, Landroid/widget/LinearLayout;->getChildAt(I)Landroid/view/View;

    move-result-object v3

    .line 7310
    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v4

    if-nez v4, :cond_1

    const/high16 v4, 0x40000000    # 2.0f

    const/high16 v5, 0x3f000000    # 0.5f

    .line 7311
    invoke-virtual {v3}, Landroid/view/View;->getAlpha()F

    move-result v6

    invoke-static {v5, v6}, Ljava/lang/Math;->min(FF)F

    move-result v5

    mul-float/2addr v5, v4

    invoke-virtual {v3}, Landroid/view/View;->getWidth()I

    move-result v3

    int-to-float v3, v3

    mul-float/2addr v5, v3

    add-float/2addr v0, v5

    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 7314
    :cond_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    if-eqz v2, :cond_3

    invoke-virtual {v2}, Landroid/view/View;->getVisibility()I

    move-result v2

    if-nez v2, :cond_3

    const/16 v2, 0x30

    .line 7315
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    invoke-static {v0, v2}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 7317
    :cond_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    if-eqz v2, :cond_4

    invoke-virtual {v2}, Landroid/view/View;->getVisibility()I

    move-result v2

    if-nez v2, :cond_4

    const/16 v2, 0x64

    .line 7318
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    int-to-float v2, v2

    invoke-static {v0, v2}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 7320
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->updateRightPadding(FZ)V

    :cond_5
    :goto_1
    return-void
.end method

.method private updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V
    .locals 2

    .line 9553
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    if-eqz v0, :cond_0

    .line 9554
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    goto :goto_1

    .line 9555
    :cond_0
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v0, :cond_1

    .line 9556
    check-cast p1, Lorg/telegram/messenger/MediaController$PhotoEntry;

    iget-object p1, p1, Lorg/telegram/messenger/MediaController$MediaEditState;->caption:Ljava/lang/CharSequence;

    goto :goto_1

    .line 9557
    :cond_1
    instance-of v0, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v0, :cond_2

    goto :goto_0

    .line 9559
    :cond_2
    instance-of v0, p1, Lorg/telegram/messenger/MediaController$SearchImage;

    if-eqz v0, :cond_3

    .line 9560
    check-cast p1, Lorg/telegram/messenger/MediaController$SearchImage;

    iget-object p1, p1, Lorg/telegram/messenger/MediaController$SearchImage;->caption:Ljava/lang/CharSequence;

    goto :goto_1

    :cond_3
    :goto_0
    const/4 p1, 0x0

    .line 9562
    :goto_1
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 9563
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const-string v0, ""

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_2

    .line 9565
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    const/4 v1, 0x3

    invoke-static {p1, v1}, Lorg/telegram/ui/Components/AnimatedEmojiSpan;->cloneSpans(Ljava/lang/CharSequence;I)Ljava/lang/CharSequence;

    move-result-object p1

    invoke-virtual {v0, p1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setText(Ljava/lang/CharSequence;)V

    .line 9567
    :goto_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object p1, p1, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/EditTextEmoji;->getEditText()Lorg/telegram/ui/Components/EditTextCaption;

    move-result-object p1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->supportsSendingNewEntities()Z

    move-result v0

    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/EditTextCaption;->setAllowTextEntitiesIntersection(Z)V

    return-void
.end method

.method private updateCaptionTranslated()V
    .locals 4

    .line 12918
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_3

    .line 12919
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    if-ltz v0, :cond_3

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v0, v1, :cond_0

    goto :goto_0

    .line 12922
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    invoke-virtual {v0, v1}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lorg/telegram/messenger/MessageObject;

    if-nez v0, :cond_1

    return-void

    .line 12926
    :cond_1
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    const/4 v2, 0x1

    if-eqz v1, :cond_2

    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v1, :cond_2

    iget-object v3, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedText:Lorg/telegram/tgnet/TLRPC$TL_textWithEntities;

    if-eqz v3, :cond_2

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$Message;->translatedToLanguage:Ljava/lang/String;

    invoke-static {}, Lorg/telegram/ui/Components/TranslateAlert2;->getToLanguage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 12927
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->postProcessTranslated(Lorg/telegram/messenger/MessageObject;)Ljava/lang/CharSequence;

    move-result-object v1

    const/4 v3, 0x0

    invoke-direct {p0, v0, v1, v3, v2}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    goto :goto_0

    .line 12929
    :cond_2
    iget-object v1, v0, Lorg/telegram/messenger/MessageObject;->caption:Ljava/lang/CharSequence;

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->captionTranslated:Z

    invoke-direct {p0, v0, v1, v3, v2}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    nop

    :cond_3
    :goto_0
    return-void
.end method

.method private updateCompressionsCount(II)V
    .locals 0

    .line 18477
    invoke-static {p1, p2}, Ljava/lang/Math;->max(II)I

    move-result p1

    const/16 p2, 0x500

    if-le p1, p2, :cond_0

    const/4 p1, 0x4

    .line 18479
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_0
    const/16 p2, 0x356

    if-le p1, p2, :cond_1

    const/4 p1, 0x3

    .line 18481
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_1
    const/16 p2, 0x280

    if-le p1, p2, :cond_2

    const/4 p1, 0x2

    .line 18483
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    goto :goto_0

    :cond_2
    const/4 p1, 0x1

    .line 18485
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    :goto_0
    return-void
.end method

.method private updateContainerFlags(Z)V
    .locals 2

    .line 11234
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v1, 0x15

    if-lt v0, v1, :cond_2

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x1

    if-eq v0, v1, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_2

    const/16 v1, 0x700

    if-nez p1, :cond_1

    const/16 v1, 0x704

    .line 11238
    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getPaddingLeft()I

    move-result p1

    if-gtz p1, :cond_0

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getPaddingRight()I

    move-result p1

    if-lez p1, :cond_1

    :cond_0
    const/16 v1, 0x1706

    .line 11242
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1, v1}, Landroid/widget/FrameLayout;->setSystemUiVisibility(I)V

    :cond_2
    return-void
.end method

.method private updateForwardCloudItem(Lorg/telegram/messenger/MessageObject;)V
    .locals 3

    .line 455
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v0, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v0, :cond_0

    if-eqz p1, :cond_0

    sget v0, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    .line 457
    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v1

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result p1

    if-nez p1, :cond_0

    .line 459
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v0, 0x0

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_0

    .line 461
    :cond_0
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v0, 0x8

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setVisibility(I)V

    :goto_0
    return-void
.end method

.method private updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V
    .locals 4

    .line 497
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 498
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP_BUSINESS:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 499
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_VIBER:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    if-eqz p1, :cond_4

    .line 500
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->allowShare:Z

    if-eqz p1, :cond_4

    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->FORWARD_MESSENGERS:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 501
    invoke-static {}, Lcom/iMe/fork/enums/ExternalApp;->getMessengersForForward()[Lcom/iMe/fork/enums/ExternalApp;

    move-result-object p1

    array-length v0, p1

    const/4 v1, 0x0

    :goto_0
    if-ge v1, v0, :cond_4

    aget-object v2, p1, v1

    .line 502
    invoke-virtual {v2}, Lcom/iMe/fork/enums/ExternalApp;->isInstalled()Z

    move-result v3

    if-nez v3, :cond_0

    goto :goto_1

    .line 505
    :cond_0
    sget-object v3, Lcom/iMe/fork/enums/ExternalApp;->WHATSAPP:Lcom/iMe/fork/enums/ExternalApp;

    if-ne v2, v3, :cond_1

    .line 506
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP:I

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_1

    .line 507
    :cond_1
    sget-object v3, Lcom/iMe/fork/enums/ExternalApp;->WHATSAPP_BUSINESS:Lcom/iMe/fork/enums/ExternalApp;

    if-ne v2, v3, :cond_2

    .line 508
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP_BUSINESS:I

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_1

    .line 509
    :cond_2
    sget-object v3, Lcom/iMe/fork/enums/ExternalApp;->VIBER:Lcom/iMe/fork/enums/ExternalApp;

    if-ne v2, v3, :cond_3

    .line 510
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_VIBER:I

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :cond_3
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    :cond_4
    return-void
.end method

.method private updateMinMax(F)V
    .locals 4

    .line 15875
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_1

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_1

    .line 15876
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 15877
    :goto_0
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    int-to-float v2, v2

    div-float/2addr v1, v2

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    invoke-virtual {v0}, Landroid/view/View;->getMeasuredHeight()I

    move-result v0

    int-to-float v0, v0

    div-float/2addr v2, v0

    invoke-static {v1, v2}, Ljava/lang/Math;->min(FF)F

    move-result v0

    mul-float/2addr p1, v0

    .line 15879
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v0

    .line 15880
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getImageHeight()F

    move-result v1

    .line 15881
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v2, :cond_2

    .line 15882
    iget v3, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v0, v3

    .line 15883
    iget v2, v2, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v1, v2

    :cond_2
    mul-float/2addr v0, p1

    .line 15885
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v0, v2

    float-to-int v0, v0

    div-int/lit8 v0, v0, 0x2

    mul-float/2addr v1, p1

    .line 15886
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    float-to-int v1, v1

    div-int/lit8 v1, v1, 0x2

    const/4 v2, 0x0

    if-lez v0, :cond_3

    neg-int v3, v0

    int-to-float v3, v3

    .line 15889
    iput v3, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    int-to-float v0, v0

    .line 15890
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    goto :goto_1

    .line 15892
    :cond_3
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    :goto_1
    if-lez v1, :cond_4

    neg-int v0, v1

    int-to-float v0, v0

    .line 15895
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    int-to-float v0, v1

    .line 15896
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    goto :goto_2

    .line 15898
    :cond_4
    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    iput v2, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    .line 15900
    :goto_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_6

    const v1, 0x3f8ccccd    # 1.1f

    cmpg-float p1, p1, v1

    if-gtz p1, :cond_5

    const/4 p1, 0x1

    goto :goto_3

    :cond_5
    const/4 p1, 0x0

    .line 15901
    :goto_3
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updateZoom(Z)V

    :cond_6
    return-void
.end method

.method private updatePhotoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V
    .locals 7

    .line 466
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->PHOTO_COPY:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 467
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v2, Lcom/iMe/common/IdFabric$Menu;->PHOTO_TEXT:I

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 468
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lcom/iMe/common/IdFabric$Menu;->PHOTO_OBJECTS:I

    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 469
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v4, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    invoke-virtual {v0, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 470
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    instance-of v0, v0, Lorg/telegram/ui/LaunchActivity;

    if-eqz v0, :cond_6

    if-eqz p1, :cond_6

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isPhoto()Z

    move-result v0

    if-nez v0, :cond_0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->checkIsPhotoDocument()Z

    move-result v0

    if-eqz v0, :cond_6

    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v0, :cond_6

    .line 471
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v5

    invoke-virtual {v0, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v0

    if-nez v0, :cond_2

    iget-object v0, p1, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v0, :cond_1

    iget-boolean v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-eqz v0, :cond_1

    goto :goto_0

    :cond_1
    const/4 v0, 0x0

    goto :goto_1

    :cond_2
    :goto_0
    const/4 v0, 0x1

    :goto_1
    if-nez v0, :cond_3

    .line 472
    sget-object v0, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v5, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->COPY_IMAGE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {v0, v5}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_3

    .line 473
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 475
    :cond_3
    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isPhoto()Z

    move-result p1

    if-eqz p1, :cond_6

    .line 476
    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->PHOTO_TEXT:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_4

    .line 477
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 479
    :cond_4
    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->PHOTO_INFO:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_5

    .line 480
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    .line 482
    :cond_5
    sget-object p1, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v0, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->TRANSLATE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    invoke-interface {p1, v0}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result p1

    if-eqz p1, :cond_6

    .line 483
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {p1, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    :cond_6
    return-void
.end method

.method private updatePlayerState(ZI)V
    .locals 21

    move-object/from16 v1, p0

    move/from16 v2, p2

    .line 8723
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v0, :cond_1

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    return-void

    .line 8726
    :cond_1
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v3, 0x1

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_2

    if-nez p1, :cond_2

    .line 8727
    invoke-direct {v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 8729
    :cond_2
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const-wide/16 v4, 0x3e8

    const/4 v6, 0x0

    const/4 v7, 0x3

    const/4 v8, 0x0

    const/4 v9, 0x0

    if-eqz v0, :cond_b

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_b

    if-ne v2, v7, :cond_b

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v10

    const-wide/16 v12, 0x2710

    cmp-long v0, v10, v12

    if-ltz v0, :cond_b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    if-nez v0, :cond_b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    if-nez v0, :cond_b

    .line 8730
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    const/high16 v10, -0x40800000    # -1.0f

    if-eqz v0, :cond_a

    .line 8731
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v11

    div-long/2addr v11, v4

    .line 8732
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v0, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    if-eqz v0, :cond_3

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$WebPage;->url:Ljava/lang/String;

    goto :goto_0

    :cond_3
    move-object v0, v6

    .line 8733
    :goto_0
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v13

    if-nez v13, :cond_a

    const-wide/16 v13, 0x258

    cmp-long v13, v11, v13

    const v14, 0x3f7fbe77    # 0.999f

    if-ltz v13, :cond_5

    .line 8735
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v11, v11, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v11, v11, v8

    if-gez v11, :cond_4

    .line 8736
    sget-object v11, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v12, "media_saved_pos"

    invoke-virtual {v11, v12, v9}, Landroid/content/Context;->getSharedPreferences(Ljava/lang/String;I)Landroid/content/SharedPreferences;

    move-result-object v11

    .line 8737
    invoke-interface {v11, v0, v10}, Landroid/content/SharedPreferences;->getFloat(Ljava/lang/String;F)F

    move-result v11

    cmpl-float v12, v11, v8

    if-lez v12, :cond_4

    cmpg-float v12, v11, v14

    if-gez v12, :cond_4

    .line 8739
    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v11, v12, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8740
    iget-object v12, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v12, v11}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8743
    :cond_4
    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideo:Ljava/lang/String;

    goto :goto_3

    :cond_5
    const-wide/16 v15, 0xa

    cmp-long v11, v11, v15

    if-ltz v11, :cond_a

    .line 8746
    iget-object v11, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v11}, Landroidx/collection/SimpleArrayMap;->size()I

    move-result v11

    sub-int/2addr v11, v3

    move-object v12, v6

    :goto_1
    if-ltz v11, :cond_8

    .line 8747
    iget-object v13, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v13, v11}, Landroidx/collection/SimpleArrayMap;->valueAt(I)Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;

    .line 8748
    iget-wide v4, v13, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->timestamp:J

    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v17

    const-wide/16 v19, 0x1388

    sub-long v17, v17, v19

    cmp-long v4, v4, v17

    if-gez v4, :cond_6

    .line 8749
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v4, v11}, Landroidx/collection/SimpleArrayMap;->removeAt(I)Ljava/lang/Object;

    goto :goto_2

    :cond_6
    if-nez v12, :cond_7

    .line 8750
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->savedVideoPositions:Landroidx/collection/ArrayMap;

    invoke-virtual {v4, v11}, Landroidx/collection/SimpleArrayMap;->keyAt(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-virtual {v4, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_7

    move-object v12, v13

    :cond_7
    :goto_2
    add-int/lit8 v11, v11, -0x1

    const-wide/16 v4, 0x3e8

    goto :goto_1

    .line 8754
    :cond_8
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v5, v4, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpg-float v5, v5, v8

    if-gez v5, :cond_9

    if-eqz v12, :cond_9

    .line 8755
    iget v5, v12, Lorg/telegram/ui/PhotoViewer$SavedVideoPosition;->position:F

    cmpl-float v11, v5, v8

    if-lez v11, :cond_9

    cmpg-float v11, v5, v14

    if-gez v11, :cond_9

    .line 8757
    iput v5, v4, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8758
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v4, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8761
    :cond_9
    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->shouldSavePositionForCurrentVideoShortTerm:Ljava/lang/String;

    .line 8766
    :cond_a
    :goto_3
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_b

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    cmpl-float v4, v0, v8

    if-ltz v4, :cond_b

    .line 8767
    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8768
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iput v10, v0, Lorg/telegram/messenger/MessageObject;->forceSeekTo:F

    .line 8771
    :cond_b
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    const/4 v4, 0x2

    if-eqz v0, :cond_10

    if-ne v2, v4, :cond_c

    .line 8772
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    if-eqz v0, :cond_c

    if-eqz p1, :cond_10

    .line 8774
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    goto :goto_7

    .line 8777
    :cond_c
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    cmpl-float v0, v0, v8

    if-nez v0, :cond_e

    if-ne v2, v4, :cond_d

    goto :goto_4

    :cond_d
    move v0, v9

    goto :goto_5

    :cond_e
    :goto_4
    move v0, v3

    :goto_5
    if-eqz v0, :cond_f

    .line 8779
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->hideActionBarRunnable:Ljava/lang/Runnable;

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    goto :goto_6

    .line 8781
    :cond_f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    .line 8783
    :goto_6
    invoke-direct {v1, v0, v3}, Lorg/telegram/ui/PhotoViewer;->toggleMiniProgress(ZZ)V

    .line 8786
    :cond_10
    :goto_7
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    const/4 v5, 0x4

    if-eqz v0, :cond_12

    if-eqz p1, :cond_11

    if-eq v2, v5, :cond_11

    if-eq v2, v3, :cond_11

    move v10, v3

    goto :goto_8

    :cond_11
    move v10, v9

    .line 8787
    :goto_8
    invoke-virtual {v0, v10}, Landroid/widget/FrameLayout;->setKeepScreenOn(Z)V

    :cond_12
    const/16 v0, 0x80

    if-eqz p1, :cond_13

    if-eq v2, v5, :cond_13

    if-eq v2, v3, :cond_13

    .line 8791
    :try_start_0
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v10}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    invoke-virtual {v10, v0}, Landroid/view/Window;->addFlags(I)V

    .line 8792
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_9

    :catch_0
    move-exception v0

    .line 8794
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    goto :goto_9

    .line 8798
    :cond_13
    :try_start_1
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-virtual {v10}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    invoke-virtual {v10, v0}, Landroid/view/Window;->clearFlags(I)V

    .line 8799
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->keepScreenOnFlagSet:Z
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_9

    :catch_1
    move-exception v0

    .line 8801
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_9
    if-eq v2, v7, :cond_14

    if-ne v2, v3, :cond_16

    .line 8805
    :cond_14
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_15

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_15

    .line 8806
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentUri()Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v10, v0}, Lorg/telegram/ui/Components/VideoSeekPreviewImage;->open(Landroid/net/Uri;)V

    .line 8808
    :cond_15
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    cmpl-float v10, v0, v8

    if-eqz v10, :cond_16

    .line 8809
    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8810
    iput v8, v1, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    .line 8811
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_16

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v10}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v10

    invoke-virtual {v0, v10}, Lorg/telegram/messenger/FileLoader;->isLoadingVideoAny(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v0

    if-nez v0, :cond_16

    .line 8812
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    :cond_16
    const/high16 v0, 0x3f800000    # 1.0f

    if-ne v2, v7, :cond_19

    .line 8817
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz v4, :cond_17

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-eqz v4, :cond_17

    .line 8818
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4, v9}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 8820
    :cond_17
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->isEnabled()Z

    move-result v4

    if-nez v4, :cond_18

    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v4

    if-nez v4, :cond_18

    .line 8821
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->pipAvailable:Z

    .line 8822
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4, v3}, Landroid/widget/FrameLayout;->setEnabled(Z)V

    .line 8823
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4, v0}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    const-wide/16 v10, 0xaf

    invoke-virtual {v4, v10, v11}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4, v6}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    move-result-object v4

    invoke-virtual {v4}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 8825
    :cond_18
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    .line 8826
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_1b

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_1b

    .line 8827
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 8828
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v4, v4, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v4}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v4

    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v6}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v6

    invoke-virtual {v4, v6, v3, v9}, Lorg/telegram/messenger/FileLoader;->removeLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;ZZ)V

    goto :goto_a

    :cond_19
    if-ne v2, v4, :cond_1b

    if-eqz p1, :cond_1b

    .line 8831
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_1b

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v4

    if-eqz v4, :cond_1b

    .line 8832
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasReady:Z

    if-eqz v4, :cond_1a

    .line 8833
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    invoke-interface {v4}, Ljava/lang/Runnable;->run()V

    goto :goto_a

    .line 8835
    :cond_1a
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->setLoadingRunnable:Ljava/lang/Runnable;

    const-wide/16 v10, 0x3e8

    invoke-static {v4, v10, v11}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;J)V

    .line 8839
    :cond_1b
    :goto_a
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v4, :cond_1c

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v4

    if-eqz v4, :cond_22

    goto :goto_b

    :cond_1c
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result v4

    if-eqz v4, :cond_22

    :goto_b
    if-eq v2, v5, :cond_22

    .line 8840
    iget-boolean v2, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v2, :cond_2d

    .line 8841
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 8842
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v9

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v4, :cond_1d

    const/4 v5, -0x1

    :cond_1d
    invoke-virtual {v2, v5, v9, v3}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 8843
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v9

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v4, :cond_20

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isAccessibilityEnabled()Z

    move-result v4

    if-eqz v4, :cond_1e

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz v4, :cond_20

    :cond_1e
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerAutoStarted:Z

    if-eqz v4, :cond_1f

    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    if-eqz v4, :cond_21

    :cond_1f
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez v4, :cond_20

    goto :goto_c

    :cond_20
    move v8, v0

    :cond_21
    :goto_c
    invoke-virtual {v2, v3, v8, v9}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    .line 8844
    iput-boolean v3, v1, Lorg/telegram/ui/PhotoViewer;->playerWasPlaying:Z

    .line 8845
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->runOnUIThread(Ljava/lang/Runnable;)V

    goto/16 :goto_13

    .line 8847
    :cond_22
    iget-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    if-nez v4, :cond_23

    if-ne v2, v5, :cond_2d

    .line 8848
    :cond_23
    iget v4, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v4, v7, :cond_26

    .line 8849
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v9

    if-ne v2, v5, :cond_24

    move v6, v3

    goto :goto_d

    :cond_24
    move v6, v9

    :goto_d
    invoke-virtual {v4, v3, v0, v6}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setIndexedAlpha(IFZ)V

    .line 8850
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v0, v9

    aget-object v0, v0, v9

    invoke-static {v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$22500(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)[F

    move-result-object v0

    aget v0, v0, v3

    cmpl-float v0, v0, v8

    if-lez v0, :cond_25

    move v0, v3

    goto :goto_e

    :cond_25
    move v0, v9

    :goto_e
    invoke-virtual {v4, v7, v9, v0}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 8852
    :cond_26
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->isPlaying:Z

    .line 8853
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateProgressRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    if-ne v2, v5, :cond_2d

    .line 8855
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_2a

    .line 8856
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->isDragging()Z

    move-result v0

    if-nez v0, :cond_2c

    .line 8857
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setProgress(F)V

    .line 8858
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_28

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_27

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_28

    .line 8859
    :cond_27
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_f

    .line 8861
    :cond_28
    invoke-direct {v1, v8}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8863
    :goto_f
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 8864
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->cancelVideoPlayRunnable()V

    .line 8865
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v0, v3, :cond_29

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v0, :cond_29

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    if-gtz v0, :cond_29

    .line 8866
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    goto :goto_10

    .line 8868
    :cond_29
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->playVideoOrWeb()V

    .line 8870
    :goto_10
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_12

    .line 8873
    :cond_2a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(F)V

    .line 8874
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 8875
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_2b

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_2b

    .line 8876
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    invoke-direct {v1, v0}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    goto :goto_11

    .line 8878
    :cond_2b
    invoke-direct {v1, v8}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebToProgress(F)V

    .line 8880
    :goto_11
    iput-boolean v9, v1, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 8881
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->pauseVideoOrWeb()V

    .line 8882
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez v0, :cond_2c

    .line 8883
    invoke-direct {v1, v3, v3}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 8886
    :cond_2c
    :goto_12
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->onVideoCompleted()V

    .line 8889
    :cond_2d
    :goto_13
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->updatePlayButton()V

    .line 8890
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v3

    invoke-virtual {v0, v2, v3, v4}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->updateTimestamps(Lorg/telegram/messenger/MessageObject;J)V

    .line 8891
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoPlayerTime()V

    return-void
.end method

.method private updateResetButtonVisibility(Z)V
    .locals 3

    .line 10102
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->isClickable()Z

    move-result v0

    if-eq v0, p1, :cond_1

    .line 10104
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0, p1}, Landroid/widget/TextView;->setClickable(Z)V

    .line 10105
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setVisibility(I)V

    .line 10106
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->clearAnimation()V

    .line 10107
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    if-eqz p1, :cond_0

    const/high16 v1, 0x3f800000    # 1.0f

    goto :goto_0

    :cond_0
    const/4 v1, 0x0

    .line 10108
    :goto_0
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    sget-object v1, Lorg/telegram/ui/Components/CubicBezierInterpolator;->DEFAULT:Lorg/telegram/ui/Components/CubicBezierInterpolator;

    .line 10109
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->setInterpolator(Landroid/animation/TimeInterpolator;)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const-wide/16 v1, 0x96

    .line 10110
    invoke-virtual {v0, v1, v2}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda81;

    invoke-direct {v1, p0, p1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda81;-><init>(Lorg/telegram/ui/PhotoViewer;Z)V

    .line 10111
    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->withEndAction(Ljava/lang/Runnable;)Landroid/view/ViewPropertyAnimator;

    :cond_1
    return-void
.end method

.method private updateSelectedCount()V
    .locals 2

    .line 11731
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v0, :cond_0

    return-void

    .line 11734
    :cond_0
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getSelectedCount()I

    move-result v0

    .line 11735
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/PhotoViewer$CounterView;->setCount(I)V

    if-nez v0, :cond_1

    const/4 v0, 0x0

    const/4 v1, 0x1

    .line 11737
    invoke-direct {p0, v0, v1}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    :cond_1
    return-void
.end method

.method private updateVideoInfo()V
    .locals 10

    .line 18062
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    if-nez v0, :cond_0

    return-void

    .line 18065
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-nez v0, :cond_1

    .line 18066
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    return-void

    .line 18069
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    const/4 v2, 0x0

    const/4 v3, 0x1

    if-eqz v1, :cond_2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-le v1, v3, :cond_2

    move v1, v3

    goto :goto_0

    :cond_2
    move v1, v2

    :goto_0
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    invoke-static {v5, v6}, Ljava/lang/Math;->min(II)I

    move-result v5

    invoke-virtual {v0, v1, v4, v5}, Lorg/telegram/ui/Components/VideoCompressButton;->setState(ZZI)V

    .line 18070
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    invoke-virtual {v0}, Landroid/widget/LinearLayout;->requestLayout()V

    .line 18072
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v1

    sub-float/2addr v0, v1

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    float-to-double v0, v0

    invoke-static {v0, v1}, Ljava/lang/Math;->ceil(D)D

    move-result-wide v0

    double-to-long v0, v0

    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    .line 18073
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    .line 18074
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    .line 18076
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    const/16 v1, 0x10e

    const/16 v4, 0x5a

    if-eq v0, v4, :cond_4

    if-ne v0, v1, :cond_3

    goto :goto_1

    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    goto :goto_2

    :cond_4
    :goto_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    .line 18077
    :goto_2
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->rotationValue:I

    if-eq v5, v4, :cond_6

    if-ne v5, v1, :cond_5

    goto :goto_3

    :cond_5
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    goto :goto_4

    :cond_6
    :goto_3
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 18079
    :goto_4
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->needEncoding()Z

    move-result v4

    .line 18080
    iget-boolean v5, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v5, :cond_a

    .line 18082
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v3, :cond_9

    .line 18083
    iget-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    const-wide/16 v6, 0x7d0

    cmp-long v6, v4, v6

    if-gtz v6, :cond_7

    const v4, 0x27ac40

    goto :goto_5

    :cond_7
    const-wide/16 v6, 0x1388

    cmp-long v4, v4, v6

    if-gtz v4, :cond_8

    const v4, 0x2191c0

    goto :goto_5

    :cond_8
    const v4, 0x17cdc0

    goto :goto_5

    :cond_9
    const v4, 0xe1000

    .line 18093
    :goto_5
    div-int/lit8 v4, v4, 0x8

    int-to-float v4, v4

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    long-to-float v5, v5

    const/high16 v6, 0x447a0000    # 1000.0f

    div-float/2addr v5, v6

    mul-float/2addr v4, v5

    float-to-long v4, v4

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    const-wide/32 v6, 0x8000

    .line 18094
    div-long v6, v4, v6

    const-wide/16 v8, 0x10

    mul-long/2addr v6, v8

    add-long/2addr v4, v6

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    goto :goto_7

    .line 18096
    :cond_a
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v5, v3, :cond_b

    move v5, v3

    goto :goto_6

    :cond_b
    move v5, v2

    :goto_6
    invoke-direct {p0, v4, v5}, Lorg/telegram/ui/PhotoViewer;->calculateEstimatedVideoSize(ZZ)V

    .line 18099
    :goto_7
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->videoCutStart:F

    const/4 v5, 0x0

    cmpl-float v5, v4, v5

    const-wide/16 v6, -0x1

    const-wide/16 v8, 0x3e8

    if-nez v5, :cond_c

    .line 18100
    iput-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    goto :goto_8

    .line 18102
    :cond_c
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v4, v5

    float-to-long v4, v4

    mul-long/2addr v4, v8

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->startTime:J

    .line 18104
    :goto_8
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->videoCutEnd:F

    const/high16 v5, 0x3f800000    # 1.0f

    cmpl-float v5, v4, v5

    if-nez v5, :cond_d

    .line 18105
    iput-wide v6, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    goto :goto_9

    .line 18107
    :cond_d
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v4, v5

    float-to-long v4, v4

    mul-long/2addr v4, v8

    iput-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->endTime:J

    :goto_9
    const/4 v4, 0x2

    new-array v5, v4, [Ljava/lang/Object;

    .line 18110
    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    aput-object v0, v5, v2

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    aput-object v0, v5, v3

    const-string v0, "%dx%d"

    invoke-static {v0, v5}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    new-array v1, v4, [Ljava/lang/Object;

    .line 18111
    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedDuration:J

    div-long/2addr v5, v8

    long-to-int v5, v5

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->formatShortDuration(I)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v1, v2

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->estimatedSize:J

    invoke-static {v5, v6}, Lorg/telegram/messenger/AndroidUtilities;->formatFileSize(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v1, v3

    const-string v5, "%s, ~%s"

    invoke-static {v5, v1}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    new-array v4, v4, [Ljava/lang/Object;

    aput-object v0, v4, v2

    aput-object v1, v4, v3

    const-string v0, "%s, %s"

    .line 18112
    invoke-static {v0, v4}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    .line 18113
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->beginDelayedTransition()V

    .line 18114
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-nez v0, :cond_f

    .line 18115
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v1, :cond_e

    sget v1, Lorg/telegram/messenger/R$string;->SoundMuted:I

    const-string v2, "SoundMuted"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    goto :goto_a

    :cond_e
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    :goto_a
    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    :cond_f
    return-void
.end method

.method private updateVideoOptionsSubItems(Lorg/telegram/messenger/MessageObject;)V
    .locals 4

    .line 490
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v1, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_DELETE_FROM_CACHE:I

    sget-object v2, Lorg/telegram/messenger/SharedConfig;->selectedPhotoViewerMenuItems:Ljava/util/Set;

    sget-object v3, Lcom/iMe/fork/enums/PhotoViewerMenuItem;->CLEAR_CACHE:Lcom/iMe/fork/enums/PhotoViewerMenuItem;

    .line 492
    invoke-interface {v2, v3}, Ljava/util/Set;->contains(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_1

    if-eqz p1, :cond_1

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_1

    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    if-nez v2, :cond_1

    iget-boolean v2, p1, Lorg/telegram/messenger/MessageObject;->attachPathExists:Z

    if-nez v2, :cond_0

    iget-boolean p1, p1, Lorg/telegram/messenger/MessageObject;->mediaExists:Z

    if-eqz p1, :cond_1

    :cond_0
    const/4 p1, 0x1

    goto :goto_0

    :cond_1
    const/4 p1, 0x0

    .line 490
    :goto_0
    invoke-virtual {v0, v1, p1}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubItemVisible(IZ)V

    return-void
.end method

.method private updateVideoPlayerTime()V
    .locals 13

    .line 8519
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    const/4 v1, 0x0

    invoke-static {v0, v1}, Ljava/util/Arrays;->fill([II)V

    .line 8520
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    invoke-static {v0, v1}, Ljava/util/Arrays;->fill([II)V

    .line 8521
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-wide/16 v2, 0x3e8

    const-wide/16 v4, 0x0

    const-wide/16 v6, 0x3c

    const/4 v8, 0x1

    if-eqz v0, :cond_2

    .line 8522
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v9

    invoke-static {v4, v5, v9, v10}, Ljava/lang/Math;->max(JJ)J

    move-result-wide v9

    .line 8523
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    if-eqz v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_0

    move-wide v9, v4

    .line 8526
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v11

    invoke-static {v4, v5, v11, v12}, Ljava/lang/Math;->max(JJ)J

    move-result-wide v4

    .line 8527
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_1

    long-to-float v0, v4

    .line 8528
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v4

    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v5

    sub-float/2addr v4, v5

    mul-float/2addr v0, v4

    float-to-long v4, v0

    long-to-float v0, v9

    .line 8529
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v9

    long-to-float v10, v4

    mul-float/2addr v9, v10

    sub-float/2addr v0, v9

    float-to-long v9, v0

    cmp-long v0, v9, v4

    if-lez v0, :cond_1

    move-wide v9, v4

    .line 8534
    :cond_1
    div-long/2addr v9, v2

    .line 8535
    div-long/2addr v4, v2

    .line 8536
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    div-long v2, v9, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8537
    rem-long/2addr v9, v6

    long-to-int v2, v9

    aput v2, v0, v8

    .line 8538
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    div-long v2, v4, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8539
    rem-long/2addr v4, v6

    long-to-int v2, v4

    aput v2, v0, v8

    goto :goto_1

    .line 8540
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_5

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_5

    .line 8541
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getCurrentPosition()I

    move-result v0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    int-to-long v9, v0

    .line 8542
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->shownControlsByEnd:Z

    if-eqz v0, :cond_3

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarWasShownBeforeByEnd:Z

    if-nez v0, :cond_3

    goto :goto_0

    :cond_3
    move-wide v4, v9

    .line 8545
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getVideoDuration()I

    move-result v0

    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I

    move-result v0

    int-to-long v9, v0

    .line 8546
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->inPreview:Z

    if-nez v0, :cond_4

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result v0

    if-nez v0, :cond_4

    long-to-float v0, v9

    .line 8547
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getRightProgress()F

    move-result v9

    iget-object v10, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v10

    sub-float/2addr v9, v10

    mul-float/2addr v0, v9

    float-to-long v9, v0

    long-to-float v0, v4

    .line 8548
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->getLeftProgress()F

    move-result v4

    long-to-float v5, v9

    mul-float/2addr v4, v5

    sub-float/2addr v0, v4

    float-to-long v4, v0

    cmp-long v0, v4, v9

    if-lez v0, :cond_4

    move-wide v4, v9

    .line 8553
    :cond_4
    div-long/2addr v4, v2

    .line 8554
    div-long/2addr v9, v2

    .line 8555
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    div-long v2, v4, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8556
    rem-long/2addr v4, v6

    long-to-int v2, v4

    aput v2, v0, v8

    .line 8557
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    div-long v2, v9, v6

    long-to-int v2, v2

    aput v2, v0, v1

    .line 8558
    rem-long/2addr v9, v6

    long-to-int v2, v9

    aput v2, v0, v8

    .line 8561
    :cond_5
    :goto_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerCurrentTime:[I

    aget v2, v0, v1

    const/16 v3, 0x3c

    if-lt v2, v3, :cond_6

    .line 8562
    aget v2, v0, v1

    div-int/2addr v2, v3

    aget v4, v0, v1

    rem-int/2addr v4, v3

    aget v0, v0, v8

    invoke-direct {p0, v2, v4, v0}, Lorg/telegram/ui/PhotoViewer;->format(III)Ljava/lang/String;

    move-result-object v0

    goto :goto_2

    .line 8564
    :cond_6
    aget v2, v0, v1

    aget v0, v0, v8

    invoke-direct {p0, v2, v0}, Lorg/telegram/ui/PhotoViewer;->format(II)Ljava/lang/String;

    move-result-object v0

    .line 8566
    :goto_2
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTotalTime:[I

    aget v4, v2, v1

    if-lt v4, v3, :cond_7

    .line 8567
    aget v4, v2, v1

    div-int/2addr v4, v3

    aget v1, v2, v1

    rem-int/2addr v1, v3

    aget v2, v2, v8

    invoke-direct {p0, v4, v1, v2}, Lorg/telegram/ui/PhotoViewer;->format(III)Ljava/lang/String;

    move-result-object v1

    goto :goto_3

    .line 8569
    :cond_7
    aget v1, v2, v1

    aget v2, v2, v8

    invoke-direct {p0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->format(II)Ljava/lang/String;

    move-result-object v1

    .line 8572
    :goto_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerTime:Lorg/telegram/ui/ActionBar/SimpleTextView;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    const-string v0, " / "

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v2, v0}, Lorg/telegram/ui/ActionBar/SimpleTextView;->setText(Ljava/lang/CharSequence;)Z

    .line 8573
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->lastControlFrameDuration:Ljava/lang/String;

    invoke-static {v0, v1}, Ljava/util/Objects;->equals(Ljava/lang/Object;Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_8

    .line 8574
    iput-object v1, p0, Lorg/telegram/ui/PhotoViewer;->lastControlFrameDuration:Ljava/lang/String;

    .line 8575
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v0}, Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;->requestLayout()V

    :cond_8
    return-void
.end method

.method private updateVideoSeekPreviewPosition()V
    .locals 5

    .line 8131
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->getThumbX()I

    move-result v0

    const/4 v1, 0x2

    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    add-int/2addr v0, v2

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    div-int/2addr v2, v1

    sub-int/2addr v0, v2

    const/16 v2, 0xa

    .line 8132
    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    .line 8133
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlFrameLayout:Lorg/telegram/ui/PhotoViewer$VideoPlayerControlFrameLayout;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    sub-int/2addr v4, v2

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    invoke-virtual {v2}, Landroid/view/View;->getMeasuredWidth()I

    move-result v2

    div-int/2addr v2, v1

    sub-int/2addr v4, v2

    if-ge v0, v3, :cond_0

    move v0, v3

    goto :goto_0

    :cond_0
    if-lt v0, v4, :cond_1

    move v0, v4

    .line 8139
    :cond_1
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPreviewFrame:Lorg/telegram/ui/Components/VideoSeekPreviewImage;

    int-to-float v0, v0

    invoke-virtual {v1, v0}, Landroid/view/View;->setTranslationX(F)V

    return-void
.end method

.method private updateWidthHeightBitrateForCompression()V
    .locals 6

    .line 18238
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-gtz v0, :cond_0

    return-void

    .line 18241
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    const/4 v2, 0x1

    if-lt v0, v1, :cond_1

    .line 18242
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    sub-int/2addr v0, v2

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 18245
    :cond_1
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_2

    .line 18246
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v0, v0

    const/high16 v1, 0x44480000    # 800.0f

    div-float v0, v1, v0

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v3, v3

    div-float/2addr v1, v3

    invoke-static {v0, v1}, Ljava/lang/Math;->max(FF)F

    move-result v0

    .line 18247
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    int-to-float v1, v1

    mul-float/2addr v1, v0

    const/high16 v3, 0x40000000    # 2.0f

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v1

    mul-int/lit8 v1, v1, 0x2

    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 18248
    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    int-to-float v1, v1

    mul-float/2addr v1, v0

    div-float/2addr v1, v3

    invoke-static {v1}, Ljava/lang/Math;->round(F)I

    move-result v0

    mul-int/lit8 v0, v0, 0x2

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    goto :goto_0

    .line 18250
    :cond_2
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->calculateResultVideoSize()Lorg/telegram/messenger/camera/Size;

    move-result-object v0

    .line 18251
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getWidth()I

    move-result v1

    iput v1, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    .line 18252
    invoke-virtual {v0}, Lorg/telegram/messenger/camera/Size;->getHeight()I

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    .line 18255
    :goto_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    if-eqz v0, :cond_5

    .line 18257
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v2, :cond_3

    const v0, 0x17cdc0

    .line 18258
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 18259
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    goto :goto_1

    .line 18260
    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    const/4 v2, 0x0

    if-ne v0, v1, :cond_4

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    if-ne v0, v1, :cond_4

    .line 18261
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 18262
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    invoke-static {v0, v1, v3, v2}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    move-result v0

    goto :goto_1

    .line 18264
    :cond_4
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->originalHeight:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->originalWidth:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->originalBitrate:I

    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    invoke-static {v0, v1, v3, v4, v5}, Lorg/telegram/messenger/MediaController;->makeVideoBitrate(IIIII)I

    move-result v0

    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    .line 18265
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->bitrate:I

    invoke-static {v0, v1, v3, v2}, Lorg/telegram/messenger/MediaController;->extractRealEncoderBitrate(IIIZ)I

    move-result v0

    .line 18267
    :goto_1
    div-int/lit8 v0, v0, 0x8

    int-to-float v0, v0

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    mul-float/2addr v0, v1

    const/high16 v1, 0x447a0000    # 1000.0f

    div-float/2addr v0, v1

    float-to-long v0, v0

    iput-wide v0, p0, Lorg/telegram/ui/PhotoViewer;->videoFramesSize:J

    :cond_5
    return-void
.end method

.method private useFullWidthSendButton()Z
    .locals 2

    .line 1398
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    if-eqz v0, :cond_0

    iget-boolean v1, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->self:Z

    if-eqz v1, :cond_0

    iget-boolean v0, v0, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-nez v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method


# virtual methods
.method public addPhoto(Lorg/telegram/messenger/MessageObject;I)V
    .locals 2

    .line 1334
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-eq p2, v0, :cond_0

    return-void

    .line 1338
    :cond_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    const/4 v0, 0x0

    aget-object p2, p2, v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    invoke-virtual {p2, v1}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result p2

    if-gez p2, :cond_2

    .line 1339
    iget-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz p2, :cond_1

    .line 1340
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2, p1}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 1342
    :cond_1
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2, v0, p1}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 1344
    :goto_0
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object p2, p2, v0

    invoke-virtual {p1}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v1

    invoke-virtual {p2, v1, p1}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 1346
    :cond_2
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {p2}, Ljava/util/ArrayList;->size()I

    move-result p2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    if-ne p2, v1, :cond_3

    const/4 p2, 0x1

    goto :goto_1

    :cond_3
    move p2, v0

    :goto_1
    aput-boolean p2, p1, v0

    .line 1347
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->setImages()V

    return-void
.end method

.method public canDoubleTap(Landroid/view/MotionEvent;)Z
    .locals 7

    .line 17547
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    const/4 v1, 0x1

    if-eqz v0, :cond_3

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    const/4 v2, 0x0

    aget-boolean v3, v0, v2

    if-nez v3, :cond_3

    aget-boolean v0, v0, v1

    if-nez v0, :cond_3

    .line 17548
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    const/16 v3, 0x87

    .line 17549
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    div-int/lit8 v4, v4, 0x8

    invoke-static {v3, v4}, Ljava/lang/Math;->min(II)I

    move-result v3

    int-to-float v4, v3

    cmpg-float v4, v0, v4

    if-ltz v4, :cond_0

    .line 17550
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v4

    sub-int/2addr v4, v3

    int-to-float v3, v4

    cmpl-float v0, v0, v3

    if-lez v0, :cond_3

    .line 17551
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v0

    if-eqz v0, :cond_2

    :cond_1
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    iget-wide v5, p0, Lorg/telegram/ui/PhotoViewer;->lastPhotoSetTime:J

    sub-long/2addr v3, v5

    const-wide/16 v5, 0x1f4

    cmp-long v0, v3, v5

    if-ltz v0, :cond_2

    invoke-direct {p0, p1}, Lorg/telegram/ui/PhotoViewer;->canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z

    move-result p1

    if-eqz p1, :cond_2

    goto :goto_0

    :cond_2
    move v1, v2

    :cond_3
    :goto_0
    return v1
.end method

.method public checkCurrentImageVisibility()V
    .locals 6

    .line 14356
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    const/4 v1, 0x1

    if-eqz v0, :cond_0

    .line 14357
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 14359
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v2, 0x0

    if-nez v0, :cond_1

    const/4 v0, 0x0

    goto :goto_0

    :cond_1
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v4}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v4

    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v3, v4, v5, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v0

    :goto_0
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v0, :cond_2

    .line 14361
    iget-object v0, v0, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v2, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    :cond_2
    return-void
.end method

.method public checkFullscreenButton()V
    .locals 13

    .line 9271
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    const/4 v1, 0x3

    const/4 v2, 0x4

    const/4 v3, 0x0

    if-eqz v0, :cond_1

    :goto_0
    if-ge v3, v1, :cond_0

    .line 9273
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v0, v0, v3

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    :cond_0
    return-void

    :cond_1
    move v0, v3

    :goto_1
    if-ge v0, v1, :cond_16

    .line 9278
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    const/4 v5, 0x2

    const/4 v6, 0x1

    if-ne v0, v6, :cond_2

    add-int/lit8 v4, v4, 0x1

    goto :goto_2

    :cond_2
    if-ne v0, v5, :cond_3

    add-int/lit8 v4, v4, -0x1

    :cond_3
    :goto_2
    if-ltz v4, :cond_15

    .line 9284
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->size()I

    move-result v7

    if-lt v4, v7, :cond_4

    goto/16 :goto_b

    .line 9288
    :cond_4
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v7, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/MessageObject;

    .line 9289
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v7

    if-nez v7, :cond_5

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isYouTubeVideo()Z

    move-result v7

    if-nez v7, :cond_5

    .line 9290
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_c

    .line 9293
    :cond_5
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->isYouTubeVideo()Z

    move-result v7

    if-eqz v7, :cond_6

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v7, :cond_6

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v7

    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v8

    if-ne v7, v8, :cond_6

    move v7, v6

    goto :goto_3

    :cond_6
    move v7, v3

    :goto_3
    if-eqz v7, :cond_7

    .line 9294
    iget-object v8, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget v8, v8, Lorg/telegram/tgnet/TLRPC$WebPage;->embed_width:I

    goto :goto_4

    :cond_7
    if-nez v0, :cond_8

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v8, :cond_8

    invoke-virtual {v8}, Landroid/view/TextureView;->getMeasuredWidth()I

    move-result v8

    goto :goto_4

    :cond_8
    move v8, v3

    :goto_4
    if-eqz v7, :cond_9

    .line 9295
    iget-object v7, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$Message;->media:Lorg/telegram/tgnet/TLRPC$MessageMedia;

    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$MessageMedia;->webpage:Lorg/telegram/tgnet/TLRPC$WebPage;

    iget v7, v7, Lorg/telegram/tgnet/TLRPC$WebPage;->embed_height:I

    goto :goto_5

    :cond_9
    if-nez v0, :cond_a

    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v7, :cond_a

    invoke-virtual {v7}, Landroid/view/TextureView;->getMeasuredHeight()I

    move-result v7

    goto :goto_5

    :cond_a
    move v7, v3

    .line 9296
    :goto_5
    invoke-virtual {v4}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    if-eqz v4, :cond_c

    .line 9298
    iget-object v9, v4, Lorg/telegram/tgnet/TLRPC$Document;->attributes:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    move v10, v3

    :goto_6
    if-ge v10, v9, :cond_c

    .line 9299
    iget-object v11, v4, Lorg/telegram/tgnet/TLRPC$Document;->attributes:Ljava/util/ArrayList;

    invoke-virtual {v11, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;

    .line 9300
    instance-of v12, v11, Lorg/telegram/tgnet/TLRPC$TL_documentAttributeVideo;

    if-eqz v12, :cond_b

    .line 9301
    iget v8, v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;->w:I

    .line 9302
    iget v7, v11, Lorg/telegram/tgnet/TLRPC$DocumentAttribute;->h:I

    goto :goto_7

    :cond_b
    add-int/lit8 v10, v10, 0x1

    goto :goto_6

    .line 9307
    :cond_c
    :goto_7
    sget-object v4, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v9, v4, Landroid/graphics/Point;->y:I

    iget v4, v4, Landroid/graphics/Point;->x:I

    const/16 v10, 0x30

    if-le v9, v4, :cond_f

    if-le v8, v7, :cond_f

    .line 9308
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4}, Landroid/widget/ImageView;->getVisibility()I

    move-result v4

    if-eqz v4, :cond_d

    .line 9309
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 9311
    :cond_d
    iget-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v4, :cond_e

    .line 9312
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    const/high16 v9, 0x3f800000    # 1.0f

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setAlpha(F)V

    :cond_e
    int-to-float v4, v8

    .line 9314
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v8

    int-to-float v8, v8

    div-float/2addr v4, v8

    int-to-float v7, v7

    div-float/2addr v7, v4

    float-to-int v4, v7

    .line 9316
    iget-object v7, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v7, v7, v0

    invoke-virtual {v7}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v7

    check-cast v7, Landroid/widget/FrameLayout$LayoutParams;

    .line 9317
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v8}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v8

    add-int/2addr v8, v4

    div-int/2addr v8, v5

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    sub-int/2addr v8, v4

    iput v8, v7, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    goto :goto_8

    .line 9319
    :cond_f
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4}, Landroid/widget/ImageView;->getVisibility()I

    move-result v4

    if-eq v4, v2, :cond_10

    .line 9320
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 9325
    :cond_10
    :goto_8
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-eqz v4, :cond_11

    .line 9326
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    iget v7, p0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    sub-float/2addr v7, v4

    iget v8, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    mul-float/2addr v7, v8

    add-float/2addr v4, v7

    goto :goto_9

    .line 9328
    :cond_11
    iget v4, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    :goto_9
    const/4 v7, 0x0

    if-ne v0, v6, :cond_12

    goto :goto_a

    :cond_12
    if-ne v0, v5, :cond_13

    .line 9334
    sget-object v5, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v5, v5, Landroid/graphics/Point;->x:I

    neg-int v5, v5

    const/16 v6, 0xf

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    sub-int/2addr v5, v6

    int-to-float v5, v5

    iget v6, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    sub-float/2addr v4, v6

    add-float v7, v5, v4

    goto :goto_a

    .line 9336
    :cond_13
    iget v5, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v6, v4, v5

    if-gez v6, :cond_14

    sub-float/2addr v4, v5

    move v7, v4

    .line 9338
    :cond_14
    :goto_a
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    sget-object v5, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v5, v5, Landroid/graphics/Point;->x:I

    int-to-float v5, v5

    add-float/2addr v7, v5

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    sub-float/2addr v7, v5

    invoke-virtual {v4, v7}, Landroid/widget/ImageView;->setTranslationX(F)V

    goto :goto_c

    .line 9285
    :cond_15
    :goto_b
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v4, v4, v0

    invoke-virtual {v4, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    :goto_c
    add-int/lit8 v0, v0, 0x1

    goto/16 :goto_1

    :cond_16
    return-void
.end method

.method public closePhoto(ZZ)V
    .locals 26

    move-object/from16 v1, p0

    const/4 v2, 0x3

    const/4 v3, 0x1

    const/4 v4, 0x0

    if-nez p2, :cond_2

    .line 15258
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v0, :cond_2

    if-ne v0, v2, :cond_0

    .line 15259
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v2, :cond_0

    .line 15260
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->closePaintMode()V

    return-void

    :cond_0
    if-ne v0, v3, :cond_1

    .line 15264
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    iget v7, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    iget v8, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    iget v10, v1, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    iget v11, v1, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    const/high16 v12, 0x3f800000    # 1.0f

    const/high16 v13, 0x3f800000    # 1.0f

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    const/16 v16, 0x0

    const/16 v17, 0x0

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    move/from16 v18, v0

    invoke-virtual/range {v5 .. v18}, Lorg/telegram/ui/Components/Crop/CropTransform;->setViewTransform(ZFFFIFFFFFFFZ)V

    .line 15266
    :cond_1
    invoke-virtual {v1, v4}, Lorg/telegram/ui/PhotoViewer;->switchToEditMode(I)V

    return-void

    .line 15269
    :cond_2
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    if-eqz v0, :cond_3

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 15270
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    invoke-virtual {v0}, Landroid/widget/TextView;->callOnClick()Z

    return-void

    .line 15273
    :cond_3
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 15274
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    const/4 v5, 0x0

    .line 15276
    :try_start_0
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    if-eqz v0, :cond_4

    .line 15277
    invoke-virtual {v0}, Landroid/app/Dialog;->dismiss()V

    .line 15278
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 15281
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15283
    :cond_4
    :goto_0
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v0, v6, :cond_5

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v0, :cond_5

    .line 15284
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->updateContainerFlagsRunnable:Ljava/lang/Runnable;

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->cancelRunOnUIThread(Ljava/lang/Runnable;)V

    .line 15285
    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer;->updateContainerFlags(Z)V

    .line 15287
    :cond_5
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v7, 0x8

    const/4 v8, 0x2

    if-eqz v0, :cond_a

    if-ne v0, v8, :cond_6

    .line 15289
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoFilterView;->shutdown()V

    .line 15290
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v0, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15291
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    goto :goto_1

    :cond_6
    if-ne v0, v3, :cond_7

    .line 15293
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v7}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 15294
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0, v7}, Landroid/widget/FrameLayout;->setVisibility(I)V

    goto :goto_1

    :cond_7
    if-ne v0, v2, :cond_8

    .line 15296
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->shutdown()V

    .line 15297
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v9}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getView()Landroid/view/View;

    move-result-object v9

    invoke-virtual {v0, v9}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15298
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    .line 15299
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    .line 15301
    :cond_8
    :goto_1
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    .line 15302
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v0, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->keyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 15303
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->paintKeyboardNotifier:Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;

    if-eqz v0, :cond_a

    .line 15304
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v9, v2, :cond_9

    move v9, v3

    goto :goto_2

    :cond_9
    move v9, v4

    :goto_2
    invoke-virtual {v0, v9}, Lorg/telegram/ui/Stories/recorder/KeyboardNotifier;->ignore(Z)V

    .line 15308
    :cond_a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v0, :cond_b

    .line 15309
    invoke-virtual {v0, v4}, Landroid/view/View;->setVisibility(I)V

    .line 15311
    :cond_b
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz v0, :cond_c

    .line 15312
    invoke-virtual {v0, v4}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 15315
    :cond_c
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_44

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v0, :cond_d

    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_44

    :cond_d
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkAnimation()Z

    move-result v0

    if-nez v0, :cond_44

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-nez v0, :cond_e

    goto/16 :goto_21

    .line 15321
    :cond_e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_f

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    if-eqz v9, :cond_f

    .line 15322
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->prevOrientation:I

    invoke-virtual {v0, v9}, Landroid/app/Activity;->setRequestedOrientation(I)V

    .line 15323
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->fullscreenedByButton:I

    .line 15324
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->wasRotated:Z

    .line 15326
    :cond_f
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_10

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-nez v0, :cond_10

    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v0, :cond_10

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    if-ge v0, v9, :cond_10

    .line 15327
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v0, v9}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    .line 15328
    instance-of v9, v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    if-eqz v9, :cond_10

    .line 15329
    check-cast v0, Lorg/telegram/messenger/MediaController$MediaEditState;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoEditedInfo()Lorg/telegram/messenger/VideoEditedInfo;

    move-result-object v9

    iput-object v9, v0, Lorg/telegram/messenger/MediaController$MediaEditState;->editedInfo:Lorg/telegram/messenger/VideoEditedInfo;

    .line 15333
    :cond_10
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    const/high16 v9, 0x3f800000    # 1.0f

    if-eqz v0, :cond_12

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 15334
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    .line 15335
    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v10

    .line 15336
    invoke-virtual {v0}, Landroid/view/View;->getScaleY()F

    move-result v11

    .line 15337
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    .line 15338
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    .line 15340
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_11

    .line 15341
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v0

    .line 15342
    invoke-virtual {v0}, Landroid/view/View;->getScaleX()F

    move-result v12

    .line 15343
    invoke-virtual {v0}, Landroid/view/View;->getScaleY()F

    move-result v13

    .line 15344
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    .line 15345
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    goto :goto_4

    :cond_11
    move v12, v9

    goto :goto_3

    :cond_12
    move v10, v9

    move v11, v10

    move v12, v11

    :goto_3
    move v13, v12

    .line 15348
    :goto_4
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_13

    .line 15349
    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v14}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onReleasePlayerBeforeClose(I)V

    .line 15351
    :cond_13
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget-object v15, v1, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    invoke-static {v15}, Lorg/telegram/ui/PhotoViewer;->getFileLocation(Lorg/telegram/messenger/ImageLocation;)Lorg/telegram/tgnet/TLRPC$FileLocation;

    move-result-object v15

    iget v7, v1, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v0, v14, v15, v7, v3}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v7

    .line 15352
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v14, 0x0

    if-eqz v0, :cond_18

    if-eqz v7, :cond_18

    .line 15353
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v15

    if-eqz v15, :cond_18

    .line 15355
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->textureUploaded:Z

    if-eqz v0, :cond_15

    .line 15356
    invoke-virtual {v15}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getAnimatedBitmap()Landroid/graphics/Bitmap;

    move-result-object v0

    if-eqz v0, :cond_15

    .line 15358
    iget-boolean v6, v1, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v6, :cond_14

    .line 15359
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-static {v6, v0}, Lorg/telegram/messenger/AndroidUtilities;->getBitmapFromSurface(Landroid/view/SurfaceView;Landroid/graphics/Bitmap;)V

    goto :goto_5

    .line 15362
    :cond_14
    :try_start_1
    iget-object v6, v1, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getWidth()I

    move-result v8

    invoke-virtual {v0}, Landroid/graphics/Bitmap;->getHeight()I

    move-result v2

    invoke-virtual {v6, v8, v2}, Landroid/view/TextureView;->getBitmap(II)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 15363
    new-instance v6, Landroid/graphics/Canvas;

    invoke-direct {v6, v0}, Landroid/graphics/Canvas;-><init>(Landroid/graphics/Bitmap;)V

    .line 15364
    invoke-virtual {v6, v2, v14, v14, v5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;FFLandroid/graphics/Paint;)V

    .line 15365
    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_5

    :catchall_0
    move-exception v0

    .line 15367
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15372
    :cond_15
    :goto_5
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v0, :cond_17

    .line 15373
    invoke-virtual {v15}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->getStartTime()J

    move-result-wide v19

    .line 15374
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v21

    const-wide/16 v23, 0x0

    cmp-long v0, v19, v23

    move v6, v10

    if-lez v0, :cond_16

    goto :goto_6

    :cond_16
    move-wide/from16 v19, v23

    :goto_6
    add-long v9, v21, v19

    .line 15375
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    iget v0, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v0

    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v8

    invoke-virtual {v0, v8, v3}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v0

    xor-int/2addr v0, v3

    invoke-virtual {v15, v9, v10, v0}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->seekTo(JZ)V

    goto :goto_7

    :cond_17
    move v6, v10

    .line 15377
    :goto_7
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v3}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 15378
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->startAnimation()V

    goto :goto_8

    :cond_18
    move v6, v10

    .line 15381
    :goto_8
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    if-nez v0, :cond_19

    .line 15382
    invoke-direct {v1, v3}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 15384
    :cond_19
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_1a

    .line 15385
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->release()V

    .line 15386
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v0, v8}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 15387
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    .line 15390
    :cond_1a
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v0, :cond_1b

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_1b

    .line 15391
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 15393
    :cond_1b
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    .line 15394
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->removeObservers()V

    .line 15396
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    .line 15398
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-eqz v0, :cond_1c

    .line 15399
    invoke-virtual {v0}, Landroid/view/VelocityTracker;->recycle()V

    .line 15400
    iput-object v5, v1, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 15403
    :cond_1c
    iget-boolean v0, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-eqz v0, :cond_1d

    .line 15404
    iput-boolean v4, v1, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 15405
    iput v4, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15406
    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer;->onPhotoClosed(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15407
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v2, 0x3f800000    # 1.0f

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setScaleX(F)V

    .line 15408
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setScaleY(F)V

    move/from16 v16, v12

    move/from16 v19, v13

    goto/16 :goto_20

    :cond_1d
    const/high16 v2, 0x3f800000    # 1.0f

    if-eqz p1, :cond_3f

    .line 15410
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-eqz v2, :cond_3f

    .line 15411
    invoke-direct {v1, v7}, Lorg/telegram/ui/PhotoViewer;->getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;

    move-result-object v2

    move v5, v4

    .line 15413
    :goto_9
    array-length v8, v2

    if-ge v5, v8, :cond_1e

    .line 15414
    aget-object v8, v2, v5

    iget-object v9, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v8, v9}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 15415
    aget-object v8, v2, v5

    invoke-virtual {v8, v4}, Landroid/view/View;->setVisibility(I)V

    add-int/lit8 v5, v5, 0x1

    goto :goto_9

    :cond_1e
    const/4 v5, 0x3

    .line 15418
    iput v5, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15419
    iget-object v5, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->invalidate()V

    .line 15421
    new-instance v5, Landroid/animation/AnimatorSet;

    invoke-direct {v5}, Landroid/animation/AnimatorSet;-><init>()V

    .line 15423
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v8}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v8

    if-eqz v7, :cond_20

    .line 15426
    iget-object v9, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getDrawRegion()Landroid/graphics/RectF;

    move-result-object v9

    .line 15427
    invoke-virtual {v9}, Landroid/graphics/RectF;->width()F

    move-result v10

    float-to-int v10, v10

    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15428
    invoke-virtual {v9}, Landroid/graphics/RectF;->height()F

    move-result v10

    float-to-int v10, v10

    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 15429
    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v10

    .line 15430
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getAnimatedOrientation()I

    move-result v0

    if-eqz v0, :cond_1f

    move v10, v0

    :cond_1f
    move v0, v4

    .line 15434
    :goto_a
    array-length v14, v2

    if-ge v0, v14, :cond_22

    .line 15435
    aget-object v14, v2, v0

    iget-object v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v15}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v15

    invoke-virtual {v14, v10, v15}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 15436
    aget-object v14, v2, v0

    iget-object v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-virtual {v14, v15}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_a

    .line 15439
    :cond_20
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageWidth()F

    move-result v0

    float-to-int v0, v0

    iput v0, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15440
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0}, Lorg/telegram/messenger/ImageReceiver;->getImageHeight()F

    move-result v0

    float-to-int v0, v0

    iput v0, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    move v0, v4

    .line 15441
    :goto_b
    array-length v9, v2

    if-ge v0, v9, :cond_21

    .line 15442
    aget-object v9, v2, v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v10

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v14}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v14

    invoke-virtual {v9, v10, v14}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 15443
    aget-object v9, v2, v0

    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v10}, Lorg/telegram/messenger/ImageReceiver;->getBitmapSafe()Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    move-result-object v10

    invoke-virtual {v9, v10}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_b

    :cond_21
    const/4 v9, 0x0

    .line 15446
    :cond_22
    iget v0, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    const/16 v10, 0x64

    if-gtz v0, :cond_23

    .line 15447
    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 15449
    :cond_23
    iget v0, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    if-gtz v0, :cond_24

    .line 15450
    iput v10, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 15456
    :cond_24
    iget v0, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v3, :cond_26

    .line 15457
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_25

    sget v0, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_c

    :cond_25
    move v0, v4

    :goto_c
    int-to-float v0, v0

    .line 15458
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v10

    int-to-float v10, v10

    const/16 v14, 0x40

    invoke-static {v14}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v14

    int-to-float v14, v14

    sub-float/2addr v10, v14

    sub-float/2addr v10, v0

    .line 15459
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    int-to-float v0, v0

    invoke-static {v0, v10}, Ljava/lang/Math;->min(FF)F

    move-result v0

    const/16 v10, 0x10

    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    const/4 v14, 0x2

    mul-int/2addr v10, v14

    int-to-float v10, v10

    sub-float/2addr v0, v10

    .line 15460
    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v10, v10

    div-float v10, v0, v10

    .line 15461
    iget v14, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v14, v14

    div-float/2addr v0, v14

    .line 15462
    invoke-static {v10, v0}, Ljava/lang/Math;->max(FF)F

    move-result v0

    goto :goto_e

    .line 15464
    :cond_26
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v0

    int-to-float v0, v0

    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v10, v10

    div-float/2addr v0, v10

    .line 15465
    sget-object v10, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v10, v10, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v14

    if-eqz v14, :cond_27

    sget v14, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_d

    :cond_27
    move v14, v4

    :goto_d
    add-int/2addr v10, v14

    int-to-float v10, v10

    iget v14, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v14, v14

    div-float/2addr v10, v14

    .line 15466
    invoke-static {v0, v10}, Ljava/lang/Math;->min(FF)F

    move-result v0

    .line 15468
    :goto_e
    iget v10, v8, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v10, v10

    iget v14, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v10, v14

    mul-float/2addr v10, v0

    .line 15469
    iget v15, v8, Landroid/view/ViewGroup$LayoutParams;->height:I

    int-to-float v15, v15

    mul-float/2addr v15, v14

    mul-float/2addr v15, v0

    .line 15470
    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v14}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v14

    int-to-float v14, v14

    sub-float/2addr v14, v10

    const/high16 v10, 0x40000000    # 2.0f

    div-float/2addr v14, v10

    .line 15472
    iget v4, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v3, :cond_29

    .line 15473
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v4

    if-eqz v4, :cond_28

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_f

    :cond_28
    const/4 v4, 0x0

    :goto_f
    int-to-float v4, v4

    .line 15474
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredHeight()I

    move-result v3

    int-to-float v3, v3

    sub-float/2addr v3, v4

    goto :goto_11

    .line 15477
    :cond_29
    sget-object v3, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v3, v3, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v4

    if-eqz v4, :cond_2a

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_10

    :cond_2a
    const/4 v4, 0x0

    :goto_10
    add-int/2addr v3, v4

    int-to-float v3, v3

    :goto_11
    sub-float/2addr v3, v15

    div-float/2addr v3, v10

    const/4 v4, 0x0

    .line 15479
    :goto_12
    array-length v10, v2

    if-ge v4, v10, :cond_2d

    .line 15480
    aget-object v10, v2, v4

    invoke-virtual {v10, v8}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 15481
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->translationX:F

    add-float/2addr v15, v14

    invoke-virtual {v10, v15}, Landroid/view/View;->setTranslationX(F)V

    .line 15482
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->translationY:F

    add-float/2addr v15, v3

    invoke-virtual {v10, v15}, Lorg/telegram/ui/Components/ClippingImageView;->setTranslationY(F)V

    .line 15483
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    invoke-static {v15}, Ljava/lang/Float;->isNaN(F)Z

    move-result v15

    if-eqz v15, :cond_2b

    const/high16 v15, 0x3f800000    # 1.0f

    goto :goto_13

    :cond_2b
    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    :goto_13
    invoke-virtual {v10, v15}, Landroid/view/View;->setScaleX(F)V

    .line 15484
    aget-object v10, v2, v4

    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    invoke-static {v15}, Ljava/lang/Float;->isNaN(F)Z

    move-result v15

    if-eqz v15, :cond_2c

    const/high16 v15, 0x3f800000    # 1.0f

    goto :goto_14

    :cond_2c
    iget v15, v1, Lorg/telegram/ui/PhotoViewer;->scale:F

    mul-float/2addr v15, v0

    :goto_14
    invoke-virtual {v10, v15}, Landroid/view/View;->setScaleY(F)V

    add-int/lit8 v4, v4, 0x1

    goto :goto_12

    :cond_2d
    if-eqz v7, :cond_3b

    .line 15488
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v3, 0x1

    const/4 v4, 0x0

    invoke-virtual {v0, v4, v3}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15489
    iget v0, v9, Landroid/graphics/RectF;->left:F

    iget-object v3, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getImageX()F

    move-result v3

    sub-float/2addr v0, v3

    invoke-static {v0}, Ljava/lang/Math;->abs(F)F

    move-result v0

    float-to-int v0, v0

    .line 15490
    iget v3, v9, Landroid/graphics/RectF;->top:F

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->getImageY()F

    move-result v4

    sub-float/2addr v3, v4

    invoke-static {v3}, Ljava/lang/Math;->abs(F)F

    move-result v3

    float-to-int v3, v3

    .line 15492
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v4, :cond_2e

    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v4}, Lorg/telegram/messenger/ImageReceiver;->isAspectFit()Z

    move-result v4

    if-eqz v4, :cond_2e

    const/4 v0, 0x0

    :cond_2e
    const/4 v4, 0x2

    new-array v8, v4, [I

    .line 15497
    iget-object v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->parentView:Landroid/view/View;

    invoke-virtual {v4, v8}, Landroid/view/View;->getLocationInWindow([I)V

    const/4 v4, 0x1

    .line 15498
    aget v10, v8, v4

    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v14, 0x15

    if-lt v4, v14, :cond_2f

    const/4 v14, 0x0

    goto :goto_15

    :cond_2f
    sget v14, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :goto_15
    sub-int/2addr v10, v14

    int-to-float v10, v10

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v15, v14

    move/from16 v19, v13

    iget v13, v9, Landroid/graphics/RectF;->top:F

    add-float/2addr v15, v13

    sub-float/2addr v10, v15

    iget v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->clipTopAddition:I

    int-to-float v15, v15

    add-float/2addr v10, v15

    float-to-int v10, v10

    if-gez v10, :cond_30

    const/4 v10, 0x0

    :cond_30
    int-to-float v14, v14

    add-float/2addr v14, v13

    .line 15502
    iget v15, v9, Landroid/graphics/RectF;->bottom:F

    sub-float/2addr v15, v13

    add-float/2addr v14, v15

    const/4 v13, 0x1

    aget v8, v8, v13

    iget-object v13, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->parentView:Landroid/view/View;

    invoke-virtual {v13}, Landroid/view/View;->getHeight()I

    move-result v13

    add-int/2addr v8, v13

    const/16 v13, 0x15

    if-lt v4, v13, :cond_31

    const/4 v4, 0x0

    goto :goto_16

    :cond_31
    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    :goto_16
    sub-int/2addr v8, v4

    int-to-float v4, v8

    sub-float/2addr v14, v4

    iget v4, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->clipBottomAddition:I

    int-to-float v4, v4

    add-float/2addr v14, v4

    float-to-int v4, v14

    if-gez v4, :cond_32

    const/4 v4, 0x0

    .line 15507
    :cond_32
    invoke-static {v10, v3}, Ljava/lang/Math;->max(II)I

    move-result v8

    .line 15508
    invoke-static {v4, v3}, Ljava/lang/Math;->max(II)I

    move-result v4

    .line 15510
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    const/4 v13, 0x0

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Landroid/view/View;->getScaleX()F

    move-result v14

    aput v14, v10, v13

    .line 15511
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Landroid/view/View;->getScaleY()F

    move-result v14

    const/4 v15, 0x1

    aput v14, v10, v15

    .line 15512
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Landroid/view/View;->getTranslationX()F

    move-result v14

    const/4 v15, 0x2

    aput v14, v10, v15

    .line 15513
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v10, v10, v13

    iget-object v14, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v14}, Lorg/telegram/ui/Components/ClippingImageView;->getTranslationY()F

    move-result v14

    const/4 v15, 0x3

    aput v14, v10, v15

    .line 15514
    iget-object v10, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v14, v10, v13

    const/4 v15, 0x4

    const/16 v16, 0x0

    aput v16, v14, v15

    .line 15515
    aget-object v14, v10, v13

    const/4 v15, 0x5

    aput v16, v14, v15

    .line 15516
    aget-object v14, v10, v13

    const/4 v15, 0x6

    aput v16, v14, v15

    .line 15517
    aget-object v14, v10, v13

    const/4 v15, 0x7

    aput v16, v14, v15

    .line 15518
    aget-object v14, v10, v13

    const/16 v15, 0x8

    aput v16, v14, v15

    .line 15519
    aget-object v14, v10, v13

    const/16 v15, 0x9

    aput v16, v14, v15

    .line 15520
    aget-object v14, v10, v13

    const/16 v15, 0xa

    aput v16, v14, v15

    .line 15521
    aget-object v14, v10, v13

    const/16 v15, 0xb

    aput v16, v14, v15

    .line 15522
    aget-object v14, v10, v13

    const/16 v25, 0xc

    aput v16, v14, v25

    const/4 v14, 0x1

    .line 15524
    aget-object v16, v10, v14

    iget v15, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    aput v15, v16, v13

    .line 15525
    aget-object v13, v10, v14

    aput v15, v13, v14

    .line 15526
    aget-object v13, v10, v14

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewX:I

    int-to-float v14, v14

    move/from16 v16, v12

    iget v12, v9, Landroid/graphics/RectF;->left:F

    mul-float/2addr v12, v15

    add-float/2addr v14, v12

    const/4 v12, 0x2

    aput v14, v13, v12

    const/4 v12, 0x1

    .line 15527
    aget-object v13, v10, v12

    iget v14, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v14, v14

    iget v9, v9, Landroid/graphics/RectF;->top:F

    mul-float/2addr v9, v15

    add-float/2addr v14, v9

    const/4 v9, 0x3

    aput v14, v13, v9

    .line 15528
    aget-object v9, v10, v12

    int-to-float v0, v0

    mul-float v13, v0, v15

    const/4 v14, 0x4

    aput v13, v9, v14

    .line 15529
    aget-object v9, v10, v12

    int-to-float v8, v8

    mul-float/2addr v8, v15

    const/4 v13, 0x5

    aput v8, v9, v13

    .line 15530
    aget-object v8, v10, v12

    int-to-float v4, v4

    mul-float/2addr v4, v15

    const/4 v9, 0x6

    aput v4, v8, v9

    const/4 v4, 0x0

    :goto_17
    if-ge v4, v14, :cond_34

    .line 15532
    iget-object v8, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    aget-object v8, v8, v12

    add-int/lit8 v9, v4, 0x7

    iget-object v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->radius:[I

    if-eqz v10, :cond_33

    aget v10, v10, v4

    int-to-float v10, v10

    goto :goto_18

    :cond_33
    const/4 v10, 0x0

    :goto_18
    aput v10, v8, v9

    add-int/lit8 v4, v4, 0x1

    const/4 v12, 0x1

    const/4 v14, 0x4

    goto :goto_17

    .line 15534
    :cond_34
    iget-object v4, v1, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    const/4 v8, 0x1

    aget-object v9, v4, v8

    int-to-float v3, v3

    iget v10, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float/2addr v3, v10

    const/16 v12, 0xb

    aput v3, v9, v12

    .line 15535
    aget-object v3, v4, v8

    mul-float/2addr v0, v10

    aput v0, v3, v25

    .line 15537
    new-instance v0, Ljava/util/ArrayList;

    iget v3, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v3, v8, :cond_35

    const/16 v18, 0x3

    goto :goto_19

    :cond_35
    const/16 v18, 0x2

    :goto_19
    array-length v3, v2

    add-int v18, v18, v3

    array-length v3, v2

    if-le v3, v8, :cond_36

    const/4 v3, 0x1

    goto :goto_1a

    :cond_36
    const/4 v3, 0x0

    :goto_1a
    add-int v3, v18, v3

    invoke-direct {v0, v3}, Ljava/util/ArrayList;-><init>(I)V

    const/4 v3, 0x0

    .line 15538
    :goto_1b
    array-length v4, v2

    if-ge v3, v4, :cond_38

    .line 15539
    aget-object v4, v2, v3

    sget-object v8, Lorg/telegram/ui/Components/AnimationProperties;->CLIPPING_IMAGE_VIEW_PROGRESS:Landroid/util/Property;

    const/4 v9, 0x2

    new-array v10, v9, [F

    fill-array-data v10, :array_0

    invoke-static {v4, v8, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    if-nez v3, :cond_37

    .line 15541
    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda12;

    invoke-direct {v8, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda12;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v8}, Landroid/animation/ObjectAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 15546
    :cond_37
    invoke-virtual {v0, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    add-int/lit8 v3, v3, 0x1

    goto :goto_1b

    .line 15548
    :cond_38
    array-length v3, v2

    const/4 v4, 0x1

    if-le v3, v4, :cond_39

    .line 15549
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v4, [F

    const/4 v10, 0x0

    const/4 v12, 0x0

    aput v10, v9, v12

    invoke-static {v3, v8, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15550
    aget-object v2, v2, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/ClippingImageView;->setAdditionalTranslationX(F)V

    .line 15552
    :cond_39
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v3, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v8, v4, [I

    const/4 v9, 0x0

    aput v9, v8, v9

    invoke-static {v2, v3, v8}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15553
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    const/4 v10, 0x0

    aput v10, v8, v9

    invoke-static {v2, v3, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15554
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v8, v4, [F

    aput v10, v8, v9

    invoke-static {v2, v3, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15555
    iget v2, v1, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v4, :cond_3a

    .line 15556
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    aput v10, v4, v9

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 15558
    :cond_3a
    invoke-virtual {v5, v0}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    goto/16 :goto_1e

    :cond_3b
    move/from16 v16, v12

    move/from16 v19, v13

    .line 15560
    sget-object v0, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v0, v0, Landroid/graphics/Point;->y:I

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v2

    if-eqz v2, :cond_3c

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    goto :goto_1c

    :cond_3c
    const/4 v2, 0x0

    :goto_1c
    add-int/2addr v0, v2

    const/4 v2, 0x2

    new-array v3, v2, [F

    .line 15561
    fill-array-data v3, :array_1

    invoke-static {v3}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 15562
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda4;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda4;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x6

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 15563
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v8, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    const/4 v9, 0x1

    new-array v10, v9, [I

    aput v4, v10, v4

    .line 15565
    invoke-static {v2, v8, v10}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v9

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v8, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v9, [F

    const/4 v12, 0x0

    aput v12, v10, v4

    .line 15566
    invoke-static {v2, v8, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v4, 0x2

    aput-object v2, v3, v4

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v9, [F

    .line 15567
    iget v9, v1, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v9, v9, v12

    if-ltz v9, :cond_3d

    goto :goto_1d

    :cond_3d
    neg-int v0, v0

    :goto_1d
    int-to-float v0, v0

    const/4 v9, 0x0

    aput v0, v8, v9

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x3

    aput-object v0, v3, v2

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v4, 0x1

    new-array v8, v4, [F

    const/4 v10, 0x0

    aput v10, v8, v9

    .line 15568
    invoke-static {v0, v2, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x4

    aput-object v0, v3, v2

    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v2, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    aput v10, v4, v9

    .line 15569
    invoke-static {v0, v2, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v0

    const/4 v2, 0x5

    aput-object v0, v3, v2

    .line 15563
    invoke-virtual {v5, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 15573
    :goto_1e
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_3e

    .line 15574
    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onPreClose()V

    .line 15576
    :cond_3e
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda80;

    invoke-direct {v0, v1, v7}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda80;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    iput-object v0, v1, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0xc8

    .line 15585
    invoke-virtual {v5, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 15586
    new-instance v0, Lorg/telegram/ui/PhotoViewer$70;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$70;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v0}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 15597
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v2

    iput-wide v2, v1, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    .line 15598
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v2, 0x0

    const/4 v3, 0x2

    invoke-virtual {v0, v3, v2}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15599
    invoke-virtual {v5}, Landroid/animation/AnimatorSet;->start()V

    const/4 v4, 0x0

    goto/16 :goto_1f

    :cond_3f
    move/from16 v16, v12

    move/from16 v19, v13

    const/4 v3, 0x2

    .line 15601
    new-instance v0, Landroid/animation/AnimatorSet;

    invoke-direct {v0}, Landroid/animation/AnimatorSet;-><init>()V

    new-array v2, v3, [F

    .line 15602
    fill-array-data v2, :array_2

    invoke-static {v2}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v2

    .line 15603
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda11;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda11;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    const/4 v3, 0x6

    new-array v3, v3, [Landroid/animation/Animator;

    const/4 v4, 0x0

    aput-object v2, v3, v4

    .line 15604
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->SCALE_X:Landroid/util/Property;

    const/4 v8, 0x1

    new-array v9, v8, [F

    const v10, 0x3f666666    # 0.9f

    aput v10, v9, v4

    .line 15606
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    aput-object v2, v3, v8

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->SCALE_Y:Landroid/util/Property;

    new-array v9, v8, [F

    aput v10, v9, v4

    .line 15607
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x2

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    sget-object v5, Lorg/telegram/ui/Components/AnimationProperties;->COLOR_DRAWABLE_ALPHA:Landroid/util/Property;

    new-array v9, v8, [I

    aput v4, v9, v4

    .line 15608
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofInt(Ljava/lang/Object;Landroid/util/Property;[I)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x3

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    const/4 v10, 0x0

    aput v10, v9, v4

    .line 15609
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v5, 0x4

    aput-object v2, v3, v5

    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v8, [F

    aput v10, v9, v4

    .line 15610
    invoke-static {v2, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    const/4 v4, 0x5

    aput-object v2, v3, v4

    .line 15604
    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->playTogether([Landroid/animation/Animator;)V

    .line 15612
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_40

    .line 15613
    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onPreClose()V

    :cond_40
    const/4 v2, 0x2

    .line 15615
    iput v2, v1, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    .line 15616
    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda79;

    invoke-direct {v3, v1, v7}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda79;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    iput-object v3, v1, Lorg/telegram/ui/PhotoViewer;->animationEndRunnable:Ljava/lang/Runnable;

    const-wide/16 v3, 0xc8

    .line 15628
    invoke-virtual {v0, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 15629
    new-instance v3, Lorg/telegram/ui/PhotoViewer$71;

    invoke-direct {v3, v1}, Lorg/telegram/ui/PhotoViewer$71;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 15650
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    iput-wide v3, v1, Lorg/telegram/ui/PhotoViewer;->transitionAnimationStartTime:J

    .line 15651
    iget-object v3, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v4, 0x0

    invoke-virtual {v3, v2, v4}, Landroid/widget/FrameLayout;->setLayerType(ILandroid/graphics/Paint;)V

    .line 15652
    invoke-virtual {v0}, Landroid/animation/AnimatorSet;->start()V

    if-eqz v7, :cond_41

    .line 15654
    iget-object v0, v7, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    const/4 v2, 0x1

    invoke-virtual {v0, v2, v2}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V

    .line 15657
    :cond_41
    :goto_1f
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v0, :cond_42

    .line 15658
    iget-object v2, v1, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->removeSecondParentView(Landroid/view/View;)V

    .line 15659
    iput-object v4, v1, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    .line 15660
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v0, v4}, Lorg/telegram/messenger/ImageReceiver;->setImageBitmap(Landroid/graphics/drawable/Drawable;)V

    .line 15661
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->centerBlur:Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;

    invoke-virtual {v0}, Lorg/telegram/ui/Components/BlurringShader$ThumbBlurer;->destroy()V

    .line 15663
    :cond_42
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_43

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canScrollAway()Z

    move-result v0

    if-nez v0, :cond_43

    .line 15664
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v0}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->cancelButtonPressed()Z

    .line 15667
    :cond_43
    :goto_20
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    if-eqz v0, :cond_44

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_44

    .line 15668
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v0

    .line 15669
    invoke-virtual {v0, v6}, Landroid/view/View;->setScaleX(F)V

    .line 15670
    invoke-virtual {v0, v11}, Landroid/view/View;->setScaleY(F)V

    .line 15672
    iget-object v0, v1, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    if-eqz v0, :cond_44

    .line 15673
    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/BottomSheet;->getContainer()Lorg/telegram/ui/ActionBar/BottomSheet$ContainerView;

    move-result-object v0

    move/from16 v9, v16

    .line 15674
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleX(F)V

    move/from16 v9, v19

    .line 15675
    invoke-virtual {v0, v9}, Landroid/view/View;->setScaleY(F)V

    :cond_44
    :goto_21
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data
.end method

.method public destroyPhotoViewer()V
    .locals 3

    .line 15706
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    if-nez v0, :cond_0

    goto :goto_2

    .line 15709
    :cond_0
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->isVisible()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 15710
    invoke-static {}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss()V

    .line 15712
    :cond_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->removeObservers()V

    const/4 v0, 0x0

    .line 15713
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    const/4 v0, 0x0

    .line 15715
    :try_start_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getParent()Landroid/view/ViewParent;

    move-result-object v1

    if-eqz v1, :cond_2

    .line 15716
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "window"

    invoke-virtual {v1, v2}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/WindowManager;

    .line 15717
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v1, v2}, Landroid/view/WindowManager;->removeViewImmediate(Landroid/view/View;)V

    .line 15718
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V

    .line 15720
    :cond_2
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v1

    .line 15722
    invoke-static {v1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 15724
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    if-eqz v1, :cond_3

    .line 15725
    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver$BitmapHolder;->release()V

    .line 15726
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentThumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    .line 15728
    :cond_3
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v1, v0}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    .line 15732
    sget-object v1, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-ne p0, v1, :cond_4

    .line 15733
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    goto :goto_1

    .line 15735
    :cond_4
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    .line 15737
    :goto_1
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V

    :cond_5
    :goto_2
    return-void
.end method

.method public varargs didReceivedNotification(II[Ljava/lang/Object;)V
    .locals 30

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 4025
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v4, 0x3

    const/4 v5, 0x2

    const/4 v6, 0x1

    const/4 v7, 0x0

    if-ne v1, v2, :cond_4

    .line 4026
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    move v2, v7

    :goto_0
    if-ge v2, v4, :cond_64

    .line 4028
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v8, v2

    if-eqz v9, :cond_3

    aget-object v8, v8, v2

    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_3

    if-eqz v2, :cond_2

    if-ne v2, v6, :cond_0

    .line 4029
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v1, v4, :cond_2

    :cond_0
    if-ne v2, v5, :cond_1

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v4, :cond_1

    goto :goto_1

    :cond_1
    move v1, v7

    goto :goto_2

    :cond_2
    :goto_1
    move v1, v6

    .line 4030
    :goto_2
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v2

    invoke-virtual {v4, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4031
    invoke-direct {v0, v2, v7, v6}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    goto/16 :goto_2e

    :cond_3
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 4035
    :cond_4
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    if-ne v1, v2, :cond_d

    .line 4036
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    move v2, v7

    :goto_3
    if-ge v2, v4, :cond_64

    .line 4038
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v9, v8, v2

    if-eqz v9, :cond_c

    aget-object v8, v8, v2

    invoke-virtual {v8, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-eqz v8, :cond_c

    if-eqz v2, :cond_7

    if-ne v2, v6, :cond_5

    .line 4039
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v1, v4, :cond_7

    :cond_5
    if-ne v2, v5, :cond_6

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v1, v4, :cond_6

    goto :goto_4

    :cond_6
    move v1, v7

    goto :goto_5

    :cond_7
    :goto_4
    move v1, v6

    .line 4040
    :goto_5
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v4, v4, v2

    invoke-virtual {v4, v3, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4041
    invoke-direct {v0, v2, v7, v1}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    .line 4042
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v1, :cond_b

    if-nez v2, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v1, :cond_8

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v1

    if-nez v1, :cond_a

    :cond_8
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz v1, :cond_9

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {v1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_a

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object v1, v1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {v1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result v1

    if-nez v1, :cond_a

    :cond_9
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    if-eqz v1, :cond_b

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isVideo(I)Z

    move-result v1

    if-nez v1, :cond_a

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-interface {v1, v3}, Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;->isHardwarePlayer(I)Z

    move-result v1

    if-eqz v1, :cond_b

    .line 4043
    :cond_a
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    :cond_b
    if-nez v2, :cond_64

    .line 4045
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v1, :cond_64

    .line 4046
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    goto/16 :goto_2e

    :cond_c
    add-int/lit8 v2, v2, 0x1

    goto :goto_3

    .line 4051
    :cond_d
    sget v2, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    const-wide/16 v8, 0x0

    if-ne v1, v2, :cond_18

    .line 4052
    aget-object v1, p3, v7

    check-cast v1, Ljava/lang/String;

    move v2, v7

    :goto_6
    if-ge v2, v4, :cond_64

    .line 4054
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v11, v10, v2

    if-eqz v11, :cond_17

    aget-object v10, v10, v2

    invoke-virtual {v10, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v10

    if-eqz v10, :cond_17

    .line 4055
    aget-object v10, p3, v6

    check-cast v10, Ljava/lang/Long;

    .line 4056
    aget-object v11, p3, v5

    check-cast v11, Ljava/lang/Long;

    .line 4057
    invoke-virtual {v10}, Ljava/lang/Long;->longValue()J

    move-result-wide v12

    long-to-float v10, v12

    invoke-virtual {v11}, Ljava/lang/Long;->longValue()J

    move-result-wide v11

    long-to-float v11, v11

    div-float/2addr v10, v11

    invoke-static {v3, v10}, Ljava/lang/Math;->min(FF)F

    move-result v10

    if-eqz v2, :cond_10

    if-ne v2, v6, :cond_e

    .line 4058
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    if-eq v11, v12, :cond_10

    :cond_e
    if-ne v2, v5, :cond_f

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->sideImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    if-ne v11, v12, :cond_f

    goto :goto_7

    :cond_f
    move v11, v7

    goto :goto_8

    :cond_10
    :goto_7
    move v11, v6

    .line 4059
    :goto_8
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v12, v12, v2

    invoke-virtual {v12, v10, v11}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    if-nez v2, :cond_17

    .line 4060
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v11, :cond_17

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    if-eqz v11, :cond_17

    .line 4062
    iget-boolean v11, v0, Lorg/telegram/ui/PhotoViewer;->currentVideoFinishedLoading:Z

    if-eqz v11, :cond_11

    :goto_9
    const/high16 v4, -0x40800000    # -1.0f

    goto :goto_c

    .line 4065
    :cond_11
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v13

    .line 4066
    iget-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    sub-long v5, v13, v5

    invoke-static {v5, v6}, Ljava/lang/Math;->abs(J)J

    move-result-wide v5

    const-wide/16 v15, 0x1f4

    cmp-long v5, v5, v15

    if-ltz v5, :cond_15

    .line 4068
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending:F

    const/4 v6, 0x0

    cmpl-float v15, v5, v6

    if-nez v15, :cond_13

    .line 4069
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v3

    .line 4070
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v5}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v11

    cmp-long v5, v3, v8

    if-ltz v5, :cond_12

    const-wide v17, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v5, v3, v17

    if-eqz v5, :cond_12

    cmp-long v5, v11, v8

    if-ltz v5, :cond_12

    long-to-float v5, v11

    long-to-float v3, v3

    div-float/2addr v5, v3

    goto :goto_a

    :cond_12
    move v5, v6

    .line 4079
    :cond_13
    :goto_a
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->isStreaming:Z

    if-eqz v3, :cond_14

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v3}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v3

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentFileNames:[Ljava/lang/String;

    aget-object v4, v4, v7

    invoke-virtual {v3, v5, v4}, Lorg/telegram/messenger/FileLoader;->getBufferedProgressFromPosition(FLjava/lang/String;)F

    move-result v3

    goto :goto_b

    :cond_14
    const/high16 v3, 0x3f800000    # 1.0f

    .line 4080
    :goto_b
    iput-wide v13, v0, Lorg/telegram/ui/PhotoViewer;->lastBufferedPositionCheck:J

    goto :goto_9

    :cond_15
    const/high16 v3, -0x40800000    # -1.0f

    goto :goto_9

    :goto_c
    cmpl-float v4, v3, v4

    if-eqz v4, :cond_16

    .line 4086
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    invoke-virtual {v4, v3}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setBufferedProgress(F)V

    .line 4087
    invoke-static {v3}, Lorg/telegram/ui/Components/PipVideoOverlay;->setBufferedProgress(F)V

    .line 4088
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v3}, Landroid/view/View;->invalidate()V

    .line 4090
    :cond_16
    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer;->checkBufferedProgress(F)V

    :cond_17
    add-int/lit8 v2, v2, 0x1

    const/high16 v3, 0x3f800000    # 1.0f

    const/4 v4, 0x3

    const/4 v5, 0x2

    const/4 v6, 0x1

    goto/16 :goto_6

    .line 4094
    :cond_18
    sget v2, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosLoaded:I

    const/4 v3, 0x5

    const/4 v5, 0x4

    const/4 v6, -0x1

    if-ne v1, v2, :cond_2d

    const/4 v2, 0x3

    .line 4095
    aget-object v1, p3, v2

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    .line 4096
    aget-object v2, p3, v7

    check-cast v2, Ljava/lang/Long;

    invoke-virtual {v2}, Ljava/lang/Long;->longValue()J

    move-result-wide v10

    .line 4097
    iget-wide v12, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    cmp-long v2, v12, v10

    if-nez v2, :cond_64

    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-ne v2, v1, :cond_64

    const/4 v1, 0x2

    .line 4098
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Boolean;

    invoke-virtual {v1}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v1

    .line 4101
    aget-object v2, p3, v5

    check-cast v2, Ljava/util/ArrayList;

    .line 4102
    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v5

    if-eqz v5, :cond_19

    return-void

    .line 4105
    :cond_19
    aget-object v3, p3, v3

    check-cast v3, Ljava/util/ArrayList;

    .line 4106
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->clear()V

    .line 4107
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->clear()V

    .line 4108
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->clear()V

    .line 4109
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->clear()V

    .line 4110
    iget-object v5, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v5}, Ljava/util/ArrayList;->clear()V

    move v10, v6

    move v5, v7

    .line 4112
    :goto_d
    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v11

    if-ge v5, v11, :cond_25

    .line 4113
    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lorg/telegram/tgnet/TLRPC$Photo;

    if-eqz v11, :cond_24

    .line 4114
    instance-of v13, v11, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    if-nez v13, :cond_24

    iget-object v13, v11, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    if-nez v13, :cond_1a

    goto/16 :goto_15

    :cond_1a
    const/16 v14, 0x280

    .line 4117
    invoke-static {v13, v14}, Lorg/telegram/messenger/FileLoader;->getClosestPhotoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$PhotoSize;

    move-result-object v13

    .line 4118
    iget-object v14, v11, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v14}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v14

    if-eqz v14, :cond_1b

    const/4 v14, 0x0

    goto :goto_e

    :cond_1b
    iget-object v14, v11, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    const/16 v15, 0x3e8

    invoke-static {v14, v15}, Lorg/telegram/messenger/FileLoader;->getClosestVideoSizeWithSize(Ljava/util/ArrayList;I)Lorg/telegram/tgnet/TLRPC$VideoSize;

    move-result-object v14

    :goto_e
    if-eqz v13, :cond_24

    if-ne v10, v6, :cond_1e

    .line 4120
    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v15, :cond_1e

    move v15, v7

    .line 4121
    :goto_f
    iget-object v8, v11, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v8}, Ljava/util/ArrayList;->size()I

    move-result v8

    if-ge v15, v8, :cond_1e

    .line 4122
    iget-object v8, v11, Lorg/telegram/tgnet/TLRPC$Photo;->sizes:Ljava/util/ArrayList;

    invoke-virtual {v8, v15}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lorg/telegram/tgnet/TLRPC$PhotoSize;

    .line 4123
    iget-object v8, v8, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v8, :cond_1c

    iget v9, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v7, v7, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v4, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v9, v4, :cond_1c

    iget-wide v8, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    move-object/from16 p2, v13

    iget-wide v12, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v4, v8, v12

    if-nez v4, :cond_1d

    .line 4124
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v10

    goto :goto_10

    :cond_1c
    move-object/from16 p2, v13

    :cond_1d
    add-int/lit8 v15, v15, 0x1

    move-object/from16 v13, p2

    const/4 v7, 0x0

    goto :goto_f

    :cond_1e
    move-object/from16 p2, v13

    :goto_10
    if-ne v10, v6, :cond_20

    .line 4129
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    if-eqz v4, :cond_20

    const/4 v4, 0x0

    .line 4130
    :goto_11
    iget-object v7, v11, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v7}, Ljava/util/ArrayList;->size()I

    move-result v7

    if-ge v4, v7, :cond_20

    .line 4131
    iget-object v7, v11, Lorg/telegram/tgnet/TLRPC$Photo;->video_sizes:Ljava/util/ArrayList;

    invoke-virtual {v7, v4}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lorg/telegram/tgnet/TLRPC$VideoSize;

    .line 4132
    iget-object v7, v7, Lorg/telegram/tgnet/TLRPC$VideoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    if-eqz v7, :cond_1f

    iget v8, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocation:Lorg/telegram/messenger/ImageLocation;

    iget-object v9, v9, Lorg/telegram/messenger/ImageLocation;->location:Lorg/telegram/tgnet/TLRPC$TL_fileLocationToBeDeprecated;

    iget v12, v9, Lorg/telegram/tgnet/TLRPC$FileLocation;->local_id:I

    if-ne v8, v12, :cond_1f

    iget-wide v7, v7, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    iget-wide v12, v9, Lorg/telegram/tgnet/TLRPC$FileLocation;->volume_id:J

    cmp-long v7, v7, v12

    if-nez v7, :cond_1f

    .line 4133
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    move v10, v4

    goto :goto_12

    :cond_1f
    add-int/lit8 v4, v4, 0x1

    goto :goto_11

    .line 4138
    :cond_20
    :goto_12
    iget v4, v11, Lorg/telegram/tgnet/TLRPC$Photo;->dc_id:I

    move-object/from16 v7, p2

    if-eqz v4, :cond_21

    .line 4139
    iget-object v8, v7, Lorg/telegram/tgnet/TLRPC$PhotoSize;->location:Lorg/telegram/tgnet/TLRPC$FileLocation;

    iput v4, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->dc_id:I

    .line 4140
    iget-object v4, v11, Lorg/telegram/tgnet/TLRPC$Photo;->file_reference:[B

    iput-object v4, v8, Lorg/telegram/tgnet/TLRPC$FileLocation;->file_reference:[B

    .line 4142
    :cond_21
    invoke-static {v7, v11}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$PhotoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v4

    if-eqz v14, :cond_22

    .line 4143
    invoke-static {v14, v11}, Lorg/telegram/messenger/ImageLocation;->getForPhoto(Lorg/telegram/tgnet/TLRPC$VideoSize;Lorg/telegram/tgnet/TLRPC$Photo;)Lorg/telegram/messenger/ImageLocation;

    move-result-object v7

    goto :goto_13

    :cond_22
    move-object v7, v4

    :goto_13
    if-eqz v4, :cond_24

    .line 4145
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v8, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4146
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    iget-wide v8, v7, Lorg/telegram/messenger/ImageLocation;->currentSize:J

    invoke-static {v8, v9}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v8

    invoke-virtual {v4, v8}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4147
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    if-eqz v3, :cond_23

    .line 4149
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lorg/telegram/tgnet/TLRPC$Message;

    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_14

    .line 4151
    :cond_23
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    const/4 v7, 0x0

    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4153
    :goto_14
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v11}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    :cond_24
    :goto_15
    add-int/lit8 v5, v5, 0x1

    const/4 v7, 0x0

    const-wide/16 v8, 0x0

    goto/16 :goto_d

    .line 4157
    :cond_25
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_26

    .line 4158
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x6

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->showSubItem(I)V

    goto :goto_16

    :cond_26
    const/4 v3, 0x6

    .line 4160
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    :goto_16
    const/4 v2, 0x0

    .line 4162
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 4163
    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-eq v10, v6, :cond_27

    .line 4165
    invoke-direct {v0, v10}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_19

    .line 4169
    :cond_27
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v4, 0x0

    cmp-long v2, v2, v4

    if-lez v2, :cond_28

    .line 4170
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/MessagesController;->getUser(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$User;

    move-result-object v7

    const/4 v2, 0x0

    goto :goto_17

    .line 4172
    :cond_28
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v3, v3

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Lorg/telegram/messenger/MessagesController;->getChat(Ljava/lang/Long;)Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v7

    move-object v2, v7

    const/4 v7, 0x0

    :goto_17
    if-nez v7, :cond_29

    if-eqz v2, :cond_2c

    :cond_29
    if-eqz v7, :cond_2a

    const/4 v3, 0x0

    .line 4177
    invoke-static {v7, v3}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    goto :goto_18

    :cond_2a
    const/4 v3, 0x0

    .line 4179
    invoke-static {v2, v3}, Lorg/telegram/messenger/ImageLocation;->getForUserOrChat(Lorg/telegram/tgnet/TLObject;I)Lorg/telegram/messenger/ImageLocation;

    move-result-object v2

    :goto_18
    if-eqz v2, :cond_2c

    .line 4182
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v4

    if-nez v4, :cond_2b

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lorg/telegram/messenger/ImageLocation;

    iget-wide v4, v4, Lorg/telegram/messenger/ImageLocation;->photoId:J

    iget-wide v6, v2, Lorg/telegram/messenger/ImageLocation;->photoId:J

    cmp-long v4, v4, v6

    if-nez v4, :cond_2b

    .line 4183
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4184
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4185
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4186
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4187
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    .line 4189
    :cond_2b
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocations:Ljava/util/ArrayList;

    invoke-virtual {v4, v3, v2}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4190
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->avatarsArr:Ljava/util/ArrayList;

    new-instance v4, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;

    invoke-direct {v4}, Lorg/telegram/tgnet/TLRPC$TL_photoEmpty;-><init>()V

    invoke-virtual {v2, v3, v4}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4191
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsSizes:Ljava/util/ArrayList;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    iget-wide v4, v4, Lorg/telegram/messenger/ImageLocation;->currentSize:J

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v2, v3, v4}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4192
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocationsVideo:Ljava/util/ArrayList;

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentFileLocationVideo:Lorg/telegram/messenger/ImageLocation;

    invoke-virtual {v2, v3, v4}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4193
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrMessages:Ljava/util/ArrayList;

    const/4 v4, 0x0

    invoke-virtual {v2, v3, v4}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4194
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    :cond_2c
    :goto_19
    if-eqz v1, :cond_64

    .line 4198
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    invoke-interface {v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->canLoadMoreAvatars()Z

    move-result v1

    if-eqz v1, :cond_64

    .line 4199
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v2

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const/16 v5, 0x50

    const/4 v6, 0x0

    const/4 v7, 0x0

    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    invoke-virtual/range {v2 .. v8}, Lorg/telegram/messenger/MessagesController;->loadDialogPhotos(JIIZI)V

    goto/16 :goto_2e

    .line 4202
    :cond_2d
    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    if-ne v1, v2, :cond_32

    const/4 v2, 0x0

    .line 4203
    aget-object v1, p3, v2

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    const/4 v3, 0x1

    .line 4204
    aget-object v4, p3, v3

    check-cast v4, Ljava/lang/Integer;

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v3

    .line 4205
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->topicId:I

    if-ne v4, v3, :cond_64

    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v4, v1, v4

    if-eqz v4, :cond_2e

    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v4, v1, v4

    if-nez v4, :cond_64

    .line 4206
    :cond_2e
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v4, :cond_2f

    iget-object v4, v4, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    invoke-static {v4}, Lorg/telegram/messenger/MediaDataController;->getMediaType(Lorg/telegram/tgnet/TLRPC$Message;)I

    move-result v4

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v4, v5, :cond_64

    .line 4207
    :cond_2f
    iget-wide v4, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v1, v1, v4

    if-nez v1, :cond_30

    const/4 v1, 0x2

    .line 4208
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    goto :goto_1a

    :cond_30
    const/4 v1, 0x2

    .line 4210
    aget-object v1, p3, v1

    check-cast v1, Ljava/lang/Integer;

    invoke-virtual {v1}, Ljava/lang/Integer;->intValue()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 4212
    :goto_1a
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-eqz v1, :cond_31

    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    if-eqz v1, :cond_31

    const/4 v1, 0x0

    .line 4213
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->isFirstLoading:Z

    const/4 v1, 0x1

    .line 4214
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 4215
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v1}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v19

    iget-wide v1, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    const/16 v22, 0x14

    const/16 v23, 0x0

    const/16 v24, 0x0

    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    const/16 v27, 0x1

    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/16 v29, 0x0

    move-wide/from16 v20, v1

    move/from16 v25, v4

    move/from16 v26, v3

    move/from16 v28, v5

    invoke-virtual/range {v19 .. v29}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIIIII)V

    goto/16 :goto_2e

    .line 4216
    :cond_31
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_64

    .line 4217
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->switchingToIndex:I

    const/4 v2, 0x1

    invoke-direct {v0, v1, v2, v2}, Lorg/telegram/ui/PhotoViewer;->setIsAboutToSwitchToIndex(IZZ)V

    goto/16 :goto_2e

    .line 4221
    :cond_32
    sget v2, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    if-ne v1, v2, :cond_50

    const/4 v2, 0x0

    .line 4222
    aget-object v1, p3, v2

    check-cast v1, Ljava/lang/Long;

    invoke-virtual {v1}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    const/4 v4, 0x3

    .line 4223
    aget-object v4, p3, v4

    check-cast v4, Ljava/lang/Integer;

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    .line 4224
    iget-wide v7, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    cmp-long v5, v1, v7

    if-eqz v5, :cond_33

    iget-wide v9, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v5, v1, v9

    if-nez v5, :cond_64

    :cond_33
    iget v5, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    if-ne v4, v5, :cond_64

    const/4 v4, 0x0

    .line 4225
    iput-boolean v4, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    cmp-long v1, v1, v7

    if-nez v1, :cond_34

    const/4 v1, 0x0

    goto :goto_1b

    :cond_34
    const/4 v1, 0x1

    :goto_1b
    const/4 v2, 0x2

    .line 4227
    aget-object v4, p3, v2

    check-cast v4, Ljava/util/ArrayList;

    .line 4228
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-object v3, p3, v3

    check-cast v3, Ljava/lang/Boolean;

    invoke-virtual {v3}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v3

    aput-boolean v3, v2, v1

    const/4 v2, 0x6

    .line 4229
    aget-object v2, p3, v2

    check-cast v2, Ljava/lang/Boolean;

    invoke-virtual {v2}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    .line 4230
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    if-eqz v3, :cond_47

    .line 4231
    invoke-virtual {v4}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_35

    if-nez v1, :cond_46

    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v7, 0x0

    cmp-long v2, v2, v7

    if-eqz v2, :cond_46

    :cond_35
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-ltz v2, :cond_46

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    if-lt v2, v3, :cond_36

    goto/16 :goto_24

    .line 4237
    :cond_36
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    move v7, v6

    const/4 v3, 0x0

    const/4 v5, 0x0

    .line 4240
    :goto_1c
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v8

    if-ge v3, v8, :cond_3a

    .line 4241
    invoke-virtual {v4, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lorg/telegram/messenger/MessageObject;

    .line 4242
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v9, v9, v1

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v9, v10}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result v9

    if-gez v9, :cond_39

    .line 4243
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v9, v9, v1

    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v10

    invoke-virtual {v9, v10, v8}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    .line 4244
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v9, :cond_38

    .line 4245
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v9, v8}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 4246
    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v8

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    if-ne v8, v9, :cond_37

    move v7, v5

    :cond_37
    add-int/lit8 v5, v5, 0x1

    goto :goto_1d

    :cond_38
    add-int/lit8 v5, v5, 0x1

    .line 4252
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    const/4 v10, 0x0

    invoke-virtual {v9, v10, v8}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4253
    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v8

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    if-ne v8, v9, :cond_39

    .line 4254
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v7

    sub-int/2addr v7, v5

    :cond_39
    :goto_1d
    add-int/lit8 v3, v3, 0x1

    goto :goto_1c

    :cond_3a
    if-nez v5, :cond_3c

    if-nez v1, :cond_3b

    .line 4259
    iget-wide v2, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v4, 0x0

    cmp-long v2, v2, v4

    if-nez v2, :cond_3c

    .line 4260
    :cond_3b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    const/4 v2, 0x0

    .line 4261
    iput v2, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    :cond_3c
    if-eq v7, v6, :cond_3f

    .line 4265
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    .line 4266
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->addAll(Ljava/util/Collection;)Z

    const/4 v1, 0x0

    :goto_1e
    const/4 v2, 0x2

    if-ge v1, v2, :cond_3d

    .line 4268
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v3, v3, v1

    invoke-virtual {v3}, Landroid/util/SparseArray;->clone()Landroid/util/SparseArray;

    move-result-object v3

    aput-object v3, v2, v1

    .line 4269
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    aget-object v2, v2, v1

    invoke-virtual {v2}, Landroid/util/SparseArray;->clear()V

    add-int/lit8 v1, v1, 0x1

    goto :goto_1e

    .line 4271
    :cond_3d
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->clear()V

    const/4 v1, 0x0

    .line 4272
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    .line 4273
    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4274
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-lt v7, v1, :cond_3e

    .line 4275
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    add-int/lit8 v7, v1, -0x1

    .line 4277
    :cond_3e
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2e

    .line 4280
    :cond_3f
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v2, :cond_41

    .line 4281
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_40

    const/4 v2, 0x0

    goto :goto_1f

    :cond_40
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v3

    const/4 v4, 0x1

    sub-int/2addr v3, v4

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    :goto_1f
    if-nez v1, :cond_44

    .line 4282
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v3, v3, v1

    if-eqz v3, :cond_44

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v5, 0x0

    cmp-long v3, v3, v5

    if-eqz v3, :cond_44

    .line 4284
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_43

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v3

    const/4 v4, 0x1

    sub-int/2addr v3, v4

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    iget-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v1, v3, v5

    if-eqz v1, :cond_43

    goto :goto_21

    .line 4289
    :cond_41
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_42

    const/4 v2, 0x0

    goto :goto_20

    :cond_42
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v2}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v2

    :goto_20
    if-nez v1, :cond_44

    .line 4290
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v3, v3, v1

    if-eqz v3, :cond_44

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    const-wide/16 v5, 0x0

    cmp-long v3, v3, v5

    if-eqz v3, :cond_44

    .line 4292
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_43

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    const/4 v3, 0x0

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v1}, Lorg/telegram/messenger/MessageObject;->getDialogId()J

    move-result-wide v3

    iget-wide v5, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    cmp-long v1, v3, v5

    if-eqz v1, :cond_43

    :goto_21
    const/4 v1, 0x1

    const/4 v6, 0x0

    goto :goto_22

    :cond_43
    move v6, v2

    const/4 v1, 0x1

    goto :goto_22

    :cond_44
    move v6, v2

    .line 4298
    :goto_22
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->endReached:[Z

    aget-boolean v2, v2, v1

    if-nez v2, :cond_64

    const/4 v2, 0x1

    .line 4299
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->loadingMoreImages:Z

    .line 4300
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/MediaDataController;->getInstance(I)Lorg/telegram/messenger/MediaDataController;

    move-result-object v2

    if-nez v1, :cond_45

    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    goto :goto_23

    :cond_45
    iget-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    :goto_23
    const/16 v5, 0x28

    const/4 v7, 0x0

    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->topicId:I

    const/4 v10, 0x1

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    const/4 v12, 0x0

    invoke-virtual/range {v2 .. v12}, Lorg/telegram/messenger/MediaDataController;->loadMedia(JIIIIIIII)V

    goto/16 :goto_2e

    :cond_46
    :goto_24
    const/4 v1, 0x0

    .line 4232
    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->needSearchImageInArr:Z

    return-void

    :cond_47
    const/4 v3, 0x0

    const/4 v5, 0x0

    .line 4305
    :goto_25
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v7

    if-ge v3, v7, :cond_4d

    if-eqz v2, :cond_48

    .line 4306
    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v7

    const/4 v8, 0x1

    sub-int/2addr v7, v8

    sub-int/2addr v7, v3

    goto :goto_26

    :cond_48
    move v7, v3

    :goto_26
    invoke-virtual {v4, v7}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lorg/telegram/messenger/MessageObject;

    .line 4307
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v8, v8, v1

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    invoke-virtual {v8, v9}, Landroid/util/SparseArray;->indexOfKey(I)I

    move-result v8

    if-gez v8, :cond_4c

    add-int/lit8 v5, v5, 0x1

    .line 4309
    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v8, :cond_4a

    if-eqz v2, :cond_49

    .line 4311
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    const/4 v9, 0x0

    invoke-virtual {v8, v9, v7}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4312
    iget v8, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    const/4 v10, 0x1

    sub-int/2addr v8, v10

    iput v8, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    .line 4313
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v11, v10

    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    if-gez v8, :cond_4b

    .line 4315
    iput v9, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    goto :goto_27

    :cond_49
    const/4 v9, 0x0

    .line 4318
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v8, v7}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_27

    :cond_4a
    const/4 v9, 0x0

    .line 4321
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v8, v9, v7}, Ljava/util/ArrayList;->add(ILjava/lang/Object;)V

    .line 4323
    :cond_4b
    :goto_27
    iget-object v8, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    aget-object v8, v8, v1

    invoke-virtual {v7}, Lorg/telegram/messenger/MessageObject;->getId()I

    move-result v9

    invoke-virtual {v8, v9, v7}, Landroid/util/SparseArray;->put(ILjava/lang/Object;)V

    :cond_4c
    add-int/lit8 v3, v3, 0x1

    goto :goto_25

    .line 4326
    :cond_4d
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->opennedFromMedia:Z

    if-eqz v1, :cond_4e

    if-nez v5, :cond_64

    if-nez v2, :cond_64

    .line 4328
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->startOffset:I

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    add-int/2addr v1, v2

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    const/4 v1, 0x0

    .line 4329
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    goto/16 :goto_2e

    :cond_4e
    if-eqz v5, :cond_4f

    .line 4333
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4334
    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    add-int/2addr v1, v5

    .line 4335
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto/16 :goto_2e

    .line 4337
    :cond_4f
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    const/4 v1, 0x0

    .line 4338
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    goto/16 :goto_2e

    .line 4343
    :cond_50
    sget v2, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    if-ne v1, v2, :cond_51

    .line 4344
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    if-eqz v1, :cond_64

    .line 4345
    invoke-virtual {v1}, Lorg/telegram/ui/Components/TextViewSwitcher;->invalidateViews()V

    goto/16 :goto_2e

    .line 4347
    :cond_51
    sget v2, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    if-ne v1, v2, :cond_54

    const/4 v2, 0x0

    .line 4348
    aget-object v1, p3, v2

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    .line 4349
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    if-eqz v3, :cond_52

    .line 4350
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->loadInitialVideo:Z

    .line 4351
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v5}, Landroid/view/View;->setVisibility(I)V

    .line 4352
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->currentPlayingVideoFile:Landroid/net/Uri;

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v1, v2, v2, v3}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    goto/16 :goto_2e

    .line 4353
    :cond_52
    iget-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    if-eqz v3, :cond_53

    .line 4354
    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer;->releasePlayer(Z)V

    .line 4355
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v1

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    const/4 v3, 0x1

    invoke-virtual {v1, v2, v3, v3}, Lorg/telegram/messenger/MediaController;->scheduleVideoConvert(Lorg/telegram/messenger/MessageObject;ZZ)Z

    move-result v1

    xor-int/2addr v1, v3

    iput-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->tryStartRequestPreviewOnFinish:Z

    goto/16 :goto_2e

    .line 4356
    :cond_53
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v1, v3, :cond_64

    .line 4357
    iput-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 4358
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v1, v5}, Landroid/view/View;->setVisibility(I)V

    goto/16 :goto_2e

    :cond_54
    const/4 v2, 0x0

    .line 4360
    sget v3, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    if-ne v1, v3, :cond_55

    .line 4361
    aget-object v1, p3, v2

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    .line 4362
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->videoPreviewMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v1, v2, :cond_64

    const/4 v1, 0x1

    .line 4363
    aget-object v2, p3, v1

    check-cast v2, Ljava/lang/String;

    const/4 v3, 0x3

    .line 4364
    aget-object v4, p3, v3

    check-cast v4, Ljava/lang/Long;

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    .line 4365
    aget-object v5, p3, v5

    check-cast v5, Ljava/lang/Float;

    invoke-virtual {v5}, Ljava/lang/Float;->floatValue()F

    move-result v5

    .line 4366
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    const/4 v7, 0x0

    aget-object v6, v6, v7

    invoke-virtual {v6, v5, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    const-wide/16 v5, 0x0

    cmp-long v3, v3, v5

    if-eqz v3, :cond_64

    .line 4368
    iput-boolean v7, v0, Lorg/telegram/ui/PhotoViewer;->requestingPreview:Z

    .line 4369
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v7

    const/high16 v4, 0x3f800000    # 1.0f

    invoke-virtual {v3, v4, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setProgress(FZ)V

    .line 4370
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v3, v3, v7

    const/4 v4, 0x3

    invoke-virtual {v3, v4, v1, v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    .line 4371
    new-instance v3, Ljava/io/File;

    invoke-direct {v3, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v2

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v3, v3, Lorg/telegram/ui/PhotoViewer$EditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    invoke-direct {v0, v2, v7, v1, v3}, Lorg/telegram/ui/PhotoViewer;->preparePlayer(Landroid/net/Uri;ZZLorg/telegram/messenger/MediaController$SavedFilterState;)V

    goto/16 :goto_2e

    .line 4374
    :cond_55
    sget v2, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    if-ne v1, v2, :cond_64

    const/4 v1, 0x2

    .line 4375
    aget-object v2, p3, v1

    check-cast v2, Ljava/lang/Boolean;

    invoke-virtual {v2}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    if-eqz v2, :cond_56

    return-void

    :cond_56
    const/4 v2, 0x1

    .line 4379
    aget-object v3, p3, v2

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v2

    const/4 v4, 0x0

    .line 4380
    aget-object v5, p3, v4

    check-cast v5, Ljava/util/ArrayList;

    const/4 v4, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    :goto_28
    if-ge v4, v1, :cond_60

    if-nez v4, :cond_57

    .line 4384
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    goto :goto_29

    :cond_57
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrTemp:Ljava/util/ArrayList;

    :goto_29
    if-nez v4, :cond_58

    .line 4385
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIds:[Landroid/util/SparseArray;

    goto :goto_2a

    :cond_58
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesByIdsTemp:[Landroid/util/SparseArray;

    .line 4386
    :goto_2a
    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v10

    if-nez v10, :cond_5f

    move v10, v8

    const/4 v11, 0x2

    move v8, v7

    const/4 v7, 0x0

    :goto_2b
    if-ge v7, v11, :cond_5e

    .line 4388
    aget-object v12, v9, v7

    invoke-virtual {v12}, Landroid/util/SparseArray;->size()I

    move-result v12

    if-lez v12, :cond_5d

    .line 4389
    aget-object v12, v9, v7

    const/4 v13, 0x0

    invoke-virtual {v12, v13}, Landroid/util/SparseArray;->valueAt(I)Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Lorg/telegram/messenger/MessageObject;

    .line 4390
    iget-object v12, v12, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    iget-object v12, v12, Lorg/telegram/tgnet/TLRPC$Message;->peer_id:Lorg/telegram/tgnet/TLRPC$Peer;

    iget-wide v12, v12, Lorg/telegram/tgnet/TLRPC$Peer;->channel_id:J

    cmp-long v12, v12, v2

    if-nez v12, :cond_5d

    .line 4391
    invoke-virtual {v5}, Ljava/util/ArrayList;->size()I

    move-result v12

    move v13, v10

    move v10, v8

    const/4 v8, 0x0

    :goto_2c
    if-ge v8, v12, :cond_5c

    .line 4392
    invoke-virtual {v5, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Ljava/lang/Integer;

    invoke-virtual {v14}, Ljava/lang/Integer;->intValue()I

    move-result v14

    .line 4393
    aget-object v15, v9, v7

    invoke-virtual {v5, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Ljava/lang/Integer;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/Integer;->intValue()I

    move-result v11

    invoke-virtual {v15, v11}, Landroid/util/SparseArray;->get(I)Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lorg/telegram/messenger/MessageObject;

    if-eqz v11, :cond_5b

    .line 4395
    aget-object v10, v9, v7

    invoke-virtual {v10, v14}, Landroid/util/SparseArray;->remove(I)V

    .line 4396
    invoke-virtual {v1, v11}, Ljava/util/ArrayList;->remove(Ljava/lang/Object;)Z

    if-nez v7, :cond_59

    .line 4398
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    const/4 v14, 0x1

    sub-int/2addr v10, v14

    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCount:I

    goto :goto_2d

    :cond_59
    const/4 v14, 0x1

    .line 4400
    iget v10, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    sub-int/2addr v10, v14

    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->totalImagesCountMerge:I

    .line 4402
    :goto_2d
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-ne v11, v10, :cond_5a

    const/4 v13, 0x1

    :cond_5a
    const/4 v10, 0x1

    :cond_5b
    add-int/lit8 v8, v8, 0x1

    const/4 v11, 0x2

    goto :goto_2c

    :cond_5c
    move v8, v10

    move v10, v13

    :cond_5d
    add-int/lit8 v7, v7, 0x1

    const/4 v11, 0x2

    goto :goto_2b

    :cond_5e
    move v7, v8

    move v8, v10

    :cond_5f
    add-int/lit8 v4, v4, 0x1

    const/4 v1, 0x2

    goto/16 :goto_28

    :cond_60
    if-eqz v7, :cond_64

    if-eqz v8, :cond_61

    .line 4414
    sget-object v1, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    if-ne v0, v1, :cond_61

    .line 4415
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->destroyPhotoViewer()V

    goto :goto_2e

    .line 4417
    :cond_61
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v1

    if-nez v1, :cond_63

    .line 4418
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4419
    iput v6, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    .line 4420
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lt v1, v2, :cond_62

    .line 4421
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imagesArr:Ljava/util/ArrayList;

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    const/4 v2, 0x1

    sub-int/2addr v1, v2

    .line 4423
    :cond_62
    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer;->setImageIndex(I)V

    goto :goto_2e

    :cond_63
    const/4 v1, 0x0

    const/4 v2, 0x1

    .line 4425
    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    :cond_64
    :goto_2e
    return-void
.end method

.method public exitFromPip()V
    .locals 11

    .line 7961
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    if-nez v0, :cond_0

    return-void

    .line 7964
    :cond_0
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-eqz v0, :cond_1

    .line 7965
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    .line 7967
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v0, :cond_2

    .line 7968
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoViewerWebView;->exitFromPip()V

    .line 7970
    :cond_2
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    sput-object v0, Lorg/telegram/ui/PhotoViewer;->Instance:Lorg/telegram/ui/PhotoViewer;

    const/4 v0, 0x0

    .line 7971
    sput-object v0, Lorg/telegram/ui/PhotoViewer;->PipInstance:Lorg/telegram/ui/PhotoViewer;

    .line 7972
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-nez v3, :cond_4

    .line 7973
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->switchingInlineMode:Z

    .line 7974
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    if-eqz v3, :cond_3

    .line 7975
    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V

    .line 7976
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentBitmap:Landroid/graphics/Bitmap;

    .line 7978
    :cond_3
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    .line 7981
    :cond_4
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->isInline:Z

    .line 7983
    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v3, :cond_5

    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    goto :goto_0

    :cond_5
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    .line 7984
    :goto_0
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v5, 0x4

    if-nez v4, :cond_6

    if-eqz v3, :cond_6

    .line 7985
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->removeFromParent(Landroid/view/View;)V

    .line 7986
    invoke-virtual {v3, v5}, Landroid/view/View;->setVisibility(I)V

    .line 7987
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 7990
    :cond_6
    sget-boolean v4, Lorg/telegram/messenger/ApplicationLoader;->mainInterfacePaused:Z

    if-eqz v4, :cond_7

    .line 7992
    :try_start_0
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    new-instance v6, Landroid/content/Intent;

    sget-object v7, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-class v8, Lorg/telegram/messenger/BringAppForegroundService;

    invoke-direct {v6, v7, v8}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    invoke-virtual {v4, v6}, Landroid/app/Activity;->startService(Landroid/content/Intent;)Landroid/content/ComponentName;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    :catchall_0
    move-exception v4

    .line 7994
    invoke-static {v4}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 7998
    :cond_7
    :goto_1
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    const/4 v6, 0x0

    const/16 v7, 0x15

    if-nez v4, :cond_a

    .line 7999
    sget v4, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v4, v7, :cond_9

    if-eqz v3, :cond_9

    .line 8000
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->pipAnimationInProgress:Z

    .line 8001
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v4}, Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;->getAspectRatio()F

    move-result v4

    invoke-static {v1, v4}, Lorg/telegram/ui/Components/PipVideoOverlay;->getPipRect(ZF)Lorg/telegram/ui/Components/Rect;

    move-result-object v4

    .line 8003
    iget v8, v4, Lorg/telegram/ui/Components/Rect;->width:F

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v9

    iget v9, v9, Landroid/view/ViewGroup$LayoutParams;->width:I

    int-to-float v9, v9

    div-float/2addr v8, v9

    .line 8004
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 8005
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v9, v8}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 8006
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget v10, v4, Lorg/telegram/ui/Components/Rect;->x:F

    invoke-virtual {v9, v10}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 8007
    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    iget v10, v4, Lorg/telegram/ui/Components/Rect;->y:F

    invoke-virtual {v9, v10}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 8008
    invoke-virtual {v3, v8}, Landroid/view/View;->setScaleX(F)V

    .line 8009
    invoke-virtual {v3, v8}, Landroid/view/View;->setScaleY(F)V

    .line 8010
    iget v9, v4, Lorg/telegram/ui/Components/Rect;->x:F

    iget-object v10, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v10}, Landroid/widget/FrameLayout;->getX()F

    move-result v10

    sub-float/2addr v9, v10

    invoke-virtual {v3, v9}, Landroid/view/View;->setTranslationX(F)V

    .line 8011
    iget v4, v4, Lorg/telegram/ui/Components/Rect;->y:F

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getY()F

    move-result v9

    sub-float/2addr v4, v9

    invoke-virtual {v3, v4}, Landroid/view/View;->setTranslationY(F)V

    .line 8012
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v4, :cond_8

    .line 8013
    invoke-virtual {v4, v8}, Landroid/widget/ImageView;->setScaleX(F)V

    .line 8014
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v4, v8}, Landroid/widget/ImageView;->setScaleY(F)V

    .line 8015
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3}, Landroid/view/View;->getTranslationX()F

    move-result v9

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setTranslationX(F)V

    .line 8016
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3}, Landroid/view/View;->getTranslationY()F

    move-result v9

    invoke-virtual {v4, v9}, Landroid/widget/ImageView;->setTranslationY(F)V

    .line 8019
    :cond_8
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->inlineOutAnimationProgress:F

    .line 8020
    new-instance v4, Lorg/telegram/ui/PhotoViewer$41;

    invoke-direct {v4, p0, v8}, Lorg/telegram/ui/PhotoViewer$41;-><init>(Lorg/telegram/ui/PhotoViewer;F)V

    .line 8026
    invoke-virtual {v3, v4}, Landroid/view/View;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 8027
    invoke-virtual {v3, v2}, Landroid/view/View;->setClipToOutline(Z)V

    .line 8028
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 8029
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->textureImageView:Landroid/widget/ImageView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    .line 8030
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    if-eqz v3, :cond_b

    .line 8031
    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setOutlineProvider(Landroid/view/ViewOutlineProvider;)V

    .line 8032
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->firstFrameView:Lorg/telegram/ui/PhotoViewer$FirstFrameView;

    invoke-virtual {v3, v2}, Landroid/widget/ImageView;->setClipToOutline(Z)V

    goto :goto_2

    .line 8035
    :cond_9
    invoke-static {v2}, Lorg/telegram/ui/Components/PipVideoOverlay;->dismiss(Z)V

    goto :goto_2

    .line 8038
    :cond_a
    iput v6, p0, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    .line 8042
    :cond_b
    :goto_2
    :try_start_1
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 8043
    iput-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 8044
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v3, "window"

    invoke-virtual {v2, v3}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/view/WindowManager;

    .line 8045
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v2, v3, v4}, Landroid/view/WindowManager;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 8046
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->onShowView()V

    .line 8047
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentPlaceObject:Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    if-eqz v2, :cond_c

    .line 8048
    iget-object v2, v2, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v1, v1}, Lorg/telegram/messenger/ImageReceiver;->setVisible(ZZ)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_3

    :catch_0
    move-exception v2

    .line 8051
    invoke-static {v2}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 8054
    :cond_c
    :goto_3
    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    if-eqz v2, :cond_d

    .line 8055
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, v2, Lorg/telegram/ui/Components/VideoPlayer;->player:Lcom/google/android/exoplayer2/ExoPlayer;

    invoke-interface {v2, v0}, Lcom/google/android/exoplayer2/Player;->setVideoTextureView(Landroid/view/TextureView;)V

    .line 8056
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/VideoPlayer;->setSurfaceView(Landroid/view/SurfaceView;)V

    .line 8057
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    invoke-virtual {v0, v5}, Landroid/view/SurfaceView;->setVisibility(I)V

    const/4 v0, 0x2

    .line 8058
    iput v0, p0, Lorg/telegram/ui/PhotoViewer;->waitingForFirstTextureUpload:I

    .line 8059
    iput-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->changingTextureView:Z

    .line 8060
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->invalidate()V

    .line 8065
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v0, v7, :cond_e

    .line 8066
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    goto :goto_4

    .line 8069
    :cond_d
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v0, v7, :cond_e

    .line 8070
    iput v5, p0, Lorg/telegram/ui/PhotoViewer;->waitingForDraw:I

    :cond_e
    :goto_4
    return-void
.end method

.method public synthetic finishScreen()V
    .locals 0

    invoke-static {p0}, Lcom/iMe/ui/base/mvp/base/BaseView$-CC;->$default$finishScreen(Lcom/iMe/ui/base/mvp/base/BaseView;)V

    return-void
.end method

.method public getAnimationValue()F
    .locals 1
    .annotation build Landroidx/annotation/Keep;
    .end annotation

    .line 16407
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    return v0
.end method

.method public getClassGuid()I
    .locals 1

    .line 1351
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->classGuid:I

    return v0
.end method

.method public getCurrentIndex()I
    .locals 1

    .line 16391
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    return v0
.end method

.method public getCurrentVideoSpeed()F
    .locals 1

    .line 7348
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    return v0
.end method

.method public getImagesArrLocals()Ljava/util/List;
    .locals 1
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/util/List<",
            "Ljava/lang/Object;",
            ">;"
        }
    .end annotation

    .line 16395
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    return-object v0
.end method

.method public getSelectionLength()I
    .locals 2

    .line 13917
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget-object v1, v0, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->editText:Lorg/telegram/ui/Components/EditTextEmoji;

    if-eqz v1, :cond_0

    invoke-virtual {v0}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getSelectionLength()I

    move-result v0

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public getVideoPlayer()Lorg/telegram/ui/Components/VideoPlayer;
    .locals 1

    .line 7957
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-object v0
.end method

.method public getVideoPlayerRewinder()Lorg/telegram/messenger/video/VideoPlayerRewinder;
    .locals 1

    .line 17625
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    return-object v0
.end method

.method public getVideoSurfaceView()Landroid/view/SurfaceView;
    .locals 1

    .line 605
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoSurfaceView:Landroid/view/SurfaceView;

    return-object v0
.end method

.method public getVideoTextureView()Landroid/view/TextureView;
    .locals 1

    .line 597
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    return-object v0
.end method

.method public injectVideoPlayer(Lorg/telegram/ui/Components/VideoPlayer;)V
    .locals 0

    .line 8686
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    return-void
.end method

.method public injectVideoPlayerSurface(Landroid/graphics/SurfaceTexture;)V
    .locals 0

    .line 8690
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayerSurface:Landroid/graphics/SurfaceTexture;

    return-void
.end method

.method public injectVideoPlayerToMediaController()V
    .locals 3

    .line 15248
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->isPlaying()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 15249
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v0, :cond_0

    .line 15250
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 15252
    :cond_0
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v0

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/messenger/MediaController;->injectVideoPlayer(Lorg/telegram/ui/Components/VideoPlayer;Lorg/telegram/messenger/MessageObject;)V

    const/4 v0, 0x0

    .line 15253
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    :cond_1
    return-void
.end method

.method public isInjectingVideoPlayer()Z
    .locals 1

    .line 8694
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public isOpenedFullScreenVideo()Z
    .locals 1

    .line 4009
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    return v0
.end method

.method public isVisible()Z
    .locals 1

    .line 15871
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v0, :cond_0

    const/4 v0, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x0

    :goto_0
    return v0
.end method

.method public isVisibleOrAnimating()Z
    .locals 1

    .line 601
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    return v0
.end method

.method public onConfigurationChanged(Landroid/content/res/Configuration;)V
    .locals 0

    return-void
.end method

.method public onDoubleTap(Landroid/view/MotionEvent;)Z
    .locals 16

    move-object/from16 v0, p0

    .line 17759
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const-wide/16 v2, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x1

    if-nez v1, :cond_0

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v1, :cond_8

    invoke-virtual {v1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v1

    if-eqz v1, :cond_8

    :cond_0
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_8

    .line 17760
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getCurrentVideoPosition()J

    move-result-wide v6

    .line 17761
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getVideoDuration()J

    move-result-wide v8

    .line 17762
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    .line 17763
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v10

    .line 17764
    div-int/lit8 v10, v10, 0x3

    mul-int/lit8 v11, v10, 0x2

    int-to-float v11, v11

    cmpl-float v11, v1, v11

    .line 17765
    invoke-direct/range {p0 .. p1}, Lorg/telegram/ui/PhotoViewer;->canDoubleTapSeekVideo(Landroid/view/MotionEvent;)Z

    move-result v12

    if-eqz v12, :cond_8

    const-wide/16 v12, 0x2710

    if-ltz v11, :cond_1

    add-long v14, v6, v12

    goto :goto_0

    :cond_1
    int-to-float v11, v10

    cmpg-float v11, v1, v11

    if-gez v11, :cond_2

    sub-long v14, v6, v12

    goto :goto_0

    :cond_2
    move-wide v14, v6

    :goto_0
    cmp-long v6, v6, v14

    if-eqz v6, :cond_8

    cmp-long v6, v14, v8

    if-lez v6, :cond_3

    move v6, v5

    move-wide v2, v8

    goto :goto_1

    :cond_3
    cmp-long v6, v14, v2

    if-gez v6, :cond_5

    const-wide/16 v6, -0x2328

    cmp-long v6, v14, v6

    if-gez v6, :cond_4

    move v6, v4

    goto :goto_1

    :cond_4
    move v6, v5

    goto :goto_1

    :cond_5
    move v6, v5

    move-wide v2, v14

    :goto_1
    if-eqz v6, :cond_7

    .line 17783
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v6, v5}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setOneShootAnimation(Z)V

    .line 17784
    iget-object v6, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    int-to-float v7, v10

    cmpg-float v1, v1, v7

    if-gez v1, :cond_6

    move v4, v5

    :cond_6
    invoke-virtual {v6, v4}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setLeftSide(Z)V

    .line 17785
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-virtual {v1, v12, v13}, Lorg/telegram/ui/Components/VideoForwardDrawable;->addTime(J)V

    .line 17786
    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/PhotoViewer;->seekVideoOrWebTo(J)V

    .line 17787
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 17788
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbar:Lorg/telegram/ui/Components/VideoPlayerSeekBar;

    long-to-float v2, v2

    long-to-float v3, v8

    div-float/2addr v2, v3

    invoke-virtual {v1, v2, v5}, Lorg/telegram/ui/Components/VideoPlayerSeekBar;->setProgress(FZ)V

    .line 17789
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->videoPlayerSeekbarView:Landroid/view/View;

    invoke-virtual {v1}, Landroid/view/View;->invalidate()V

    :cond_7
    return v5

    .line 17795
    :cond_8
    iget-boolean v1, v0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-eqz v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v6, 0x3f800000    # 1.0f

    cmpl-float v1, v1, v6

    const/4 v7, 0x0

    if-nez v1, :cond_9

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    cmpl-float v1, v1, v7

    if-nez v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    cmpl-float v1, v1, v7

    if-eqz v1, :cond_9

    goto/16 :goto_7

    .line 17798
    :cond_9
    iget-wide v8, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    cmp-long v1, v8, v2

    if-nez v1, :cond_11

    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v1, :cond_a

    goto/16 :goto_7

    .line 17801
    :cond_a
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v1, v4

    if-eqz v2, :cond_b

    aget-object v1, v1, v4

    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result v1

    if-eqz v1, :cond_b

    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v1, v1, v4

    invoke-static {v1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v1

    const/4 v2, -0x1

    if-eq v1, v2, :cond_b

    sget-object v1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v1, v1, Landroid/graphics/Point;->x:I

    int-to-float v1, v1

    const/high16 v2, 0x40000000    # 2.0f

    div-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v3

    sub-float/2addr v1, v3

    float-to-double v8, v1

    const-wide/high16 v10, 0x4000000000000000L    # 2.0

    invoke-static {v8, v9, v10, v11}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v8

    sget-object v1, Lorg/telegram/messenger/AndroidUtilities;->displaySize:Landroid/graphics/Point;

    iget v1, v1, Landroid/graphics/Point;->y:I

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v1, v3

    int-to-float v1, v1

    div-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    sub-float/2addr v1, v2

    float-to-double v1, v1

    invoke-static {v1, v2, v10, v11}, Ljava/lang/Math;->pow(DD)D

    move-result-wide v1

    add-double/2addr v8, v1

    invoke-static {v8, v9}, Ljava/lang/Math;->sqrt(D)D

    move-result-wide v1

    const/16 v3, 0x28

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-double v8, v3

    cmpg-double v1, v1, v8

    if-gez v1, :cond_b

    return v4

    .line 17804
    :cond_b
    iget v1, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    cmpl-float v1, v1, v6

    if-nez v1, :cond_10

    .line 17805
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v1

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v2

    div-int/lit8 v2, v2, 0x2

    int-to-float v2, v2

    sub-float/2addr v1, v2

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getX()F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x2

    int-to-float v3, v3

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    sub-float/2addr v2, v3

    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 v4, 0x40400000    # 3.0f

    div-float v3, v4, v3

    mul-float/2addr v2, v3

    sub-float/2addr v1, v2

    .line 17806
    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v3

    div-int/lit8 v3, v3, 0x2

    int-to-float v3, v3

    sub-float/2addr v2, v3

    invoke-virtual/range {p1 .. p1}, Landroid/view/MotionEvent;->getY()F

    move-result v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v6

    div-int/lit8 v6, v6, 0x2

    int-to-float v6, v6

    sub-float/2addr v3, v6

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    sub-float/2addr v3, v6

    iget v6, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    div-float v6, v4, v6

    mul-float/2addr v3, v6

    sub-float/2addr v2, v3

    .line 17807
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->updateMinMax(F)V

    .line 17808
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->minX:F

    cmpg-float v6, v1, v3

    if-gez v6, :cond_c

    :goto_2
    move v1, v3

    goto :goto_3

    .line 17810
    :cond_c
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    cmpl-float v6, v1, v3

    if-lez v6, :cond_d

    goto :goto_2

    .line 17813
    :cond_d
    :goto_3
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->minY:F

    cmpg-float v6, v2, v3

    if-gez v6, :cond_e

    :goto_4
    move v2, v3

    goto :goto_5

    .line 17815
    :cond_e
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    cmpl-float v6, v2, v3

    if-lez v6, :cond_f

    goto :goto_4

    .line 17818
    :cond_f
    :goto_5
    invoke-direct {v0, v4, v1, v2, v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    goto :goto_6

    .line 17820
    :cond_10
    invoke-direct {v0, v6, v7, v7, v5}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    .line 17822
    :goto_6
    iput-boolean v5, v0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    .line 17823
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    return v5

    :cond_11
    :goto_7
    return v4
.end method

.method public onDoubleTapEvent(Landroid/view/MotionEvent;)Z
    .locals 0

    const/4 p1, 0x0

    return p1
.end method

.method public onDown(Landroid/view/MotionEvent;)Z
    .locals 4

    .line 17527
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doubleTap:Z

    const/4 v1, 0x0

    if-nez v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-eqz v0, :cond_1

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aget-boolean v2, v0, v1

    if-nez v2, :cond_1

    const/4 v2, 0x1

    aget-boolean v0, v0, v2

    if-nez v0, :cond_1

    .line 17528
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result p1

    const/16 v0, 0x87

    .line 17529
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    div-int/lit8 v3, v3, 0x8

    invoke-static {v0, v3}, Ljava/lang/Math;->min(II)I

    move-result v0

    int-to-float v3, v0

    cmpg-float v3, p1, v3

    if-gez v3, :cond_0

    .line 17531
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 17532
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aput-boolean v2, p1, v1

    .line 17533
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    goto :goto_0

    .line 17535
    :cond_0
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v3

    sub-int/2addr v3, v0

    int-to-float v0, v3

    cmpl-float p1, p1, v0

    if-lez p1, :cond_1

    .line 17536
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {p1}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result p1

    if-eqz p1, :cond_1

    .line 17537
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->drawPressedDrawable:[Z

    aput-boolean v2, p1, v2

    .line 17538
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    :cond_1
    :goto_0
    return v1
.end method

.method public onFling(Landroid/view/MotionEvent;Landroid/view/MotionEvent;FF)Z
    .locals 9

    .line 17630
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const/high16 p2, 0x3f800000    # 1.0f

    cmpl-float p1, p1, p2

    if-eqz p1, :cond_0

    .line 17631
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    invoke-virtual {p1}, Landroid/widget/Scroller;->abortAnimation()V

    .line 17632
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result v1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->translationY:F

    invoke-static {p1}, Ljava/lang/Math;->round(F)I

    move-result v2

    invoke-static {p3}, Ljava/lang/Math;->round(F)I

    move-result v3

    invoke-static {p4}, Ljava/lang/Math;->round(F)I

    move-result v4

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->minX:F

    float-to-int v5, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->maxX:F

    float-to-int v6, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->minY:F

    float-to-int v7, p1

    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->maxY:F

    float-to-int v8, p1

    invoke-virtual/range {v0 .. v8}, Landroid/widget/Scroller;->fling(IIIIIIII)V

    .line 17633
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->postInvalidate()V

    :cond_0
    const/4 p1, 0x0

    return p1
.end method

.method public onLongPress()V
    .locals 6

    .line 17604
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerControlVisible:Z

    if-eqz v1, :cond_2

    iget v1, p0, Lorg/telegram/ui/PhotoViewer;->scale:F

    const v2, 0x3f8ccccd    # 1.1f

    cmpg-float v1, v1, v2

    if-gtz v1, :cond_2

    .line 17605
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v0

    .line 17606
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/VideoPlayer;->getDuration()J

    move-result-wide v2

    const-wide v4, -0x7fffffffffffffffL    # -4.9E-324

    cmp-long v0, v0, v4

    if-eqz v0, :cond_2

    const-wide/16 v0, 0x3a98

    cmp-long v0, v2, v0

    if-gez v0, :cond_0

    goto :goto_1

    .line 17610
    :cond_0
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->longPressX:F

    .line 17611
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v1

    .line 17613
    div-int/lit8 v1, v1, 0x3

    mul-int/lit8 v2, v1, 0x2

    int-to-float v2, v2

    cmpl-float v2, v0, v2

    if-ltz v2, :cond_1

    const/4 v0, 0x1

    goto :goto_0

    :cond_1
    int-to-float v1, v1

    cmpg-float v0, v0, v1

    if-gez v0, :cond_2

    const/4 v0, 0x0

    .line 17620
    :goto_0
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayerRewinder:Lorg/telegram/messenger/video/VideoPlayerRewinder;

    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    iget v3, p0, Lorg/telegram/ui/PhotoViewer;->currentVideoSpeed:F

    invoke-virtual {v1, v2, v0, v3}, Lorg/telegram/messenger/video/VideoPlayerRewinder;->startRewind(Lorg/telegram/ui/Components/VideoPlayer;ZF)V

    nop

    :cond_2
    :goto_1
    return-void
.end method

.method public onLongPress(Landroid/view/MotionEvent;)V
    .locals 0

    return-void
.end method

.method public onPause()V
    .locals 3

    .line 15858
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    .line 15859
    invoke-virtual {p0, v1, v1}, Lorg/telegram/ui/PhotoViewer;->closePhoto(ZZ)V

    return-void

    .line 15862
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->lastTitle:Ljava/lang/CharSequence;

    if-eqz v0, :cond_1

    const/4 v0, 0x1

    .line 15863
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->closeCaptionEnter(Z)V

    .line 15865
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_2

    iget-boolean v2, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v2, :cond_2

    .line 15866
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    :cond_2
    return-void
.end method

.method public onResume()V
    .locals 5

    const/4 v0, 0x0

    .line 15842
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->redraw(I)V

    .line 15843
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 15844
    invoke-virtual {v0}, Lorg/telegram/ui/Components/VideoPlayer;->getCurrentPosition()J

    move-result-wide v1

    const-wide/16 v3, 0x1

    add-long/2addr v1, v3

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/Components/VideoPlayer;->seekTo(J)V

    .line 15845
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->playerLooping:Z

    if-eqz v0, :cond_0

    .line 15846
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setLooping(Z)V

    .line 15849
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_1

    .line 15850
    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onResume()V

    .line 15852
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateForwardToMessengersSubItems(Lorg/telegram/messenger/MessageObject;)V

    return-void
.end method

.method public onScroll(Landroid/view/MotionEvent;Landroid/view/MotionEvent;FF)Z
    .locals 0

    const/4 p1, 0x0

    return p1
.end method

.method public onShowPress(Landroid/view/MotionEvent;)V
    .locals 0

    return-void
.end method

.method public onSingleTapConfirmed(Landroid/view/MotionEvent;)Z
    .locals 11

    .line 17640
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    const/4 v1, 0x0

    if-eqz v0, :cond_0

    return v1

    .line 17643
    :cond_0
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    .line 17644
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    .line 17645
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    const/4 v4, 0x1

    if-eqz v3, :cond_2

    .line 17646
    sget-boolean v3, Lorg/telegram/messenger/SharedConfig;->nextMediaTap:Z

    if-eqz v3, :cond_2

    invoke-static {}, Lorg/telegram/ui/ActionBar/ActionBar;->getCurrentActionBarHeight()I

    move-result v3

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v3, v5

    const/16 v5, 0x28

    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    add-int/2addr v3, v5

    int-to-float v3, v3

    cmpl-float v3, v2, v3

    if-lez v3, :cond_2

    const/16 v3, 0x87

    .line 17647
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v5

    div-int/lit8 v5, v5, 0x8

    invoke-static {v3, v5}, Ljava/lang/Math;->min(II)I

    move-result v3

    int-to-float v5, v3

    cmpg-float v5, v0, v5

    if-gez v5, :cond_1

    .line 17649
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_2

    const/4 p1, -0x1

    .line 17650
    invoke-direct {p0, p1, v4}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return v4

    .line 17653
    :cond_1
    iget-object v5, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v5}, Landroid/widget/FrameLayout;->getMeasuredWidth()I

    move-result v5

    sub-int/2addr v5, v3

    int-to-float v3, v5

    cmpl-float v3, v0, v3

    if-lez v3, :cond_2

    .line 17654
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->hasImageSet()Z

    move-result v3

    if-eqz v3, :cond_2

    .line 17655
    invoke-direct {p0, v4, v4}, Lorg/telegram/ui/PhotoViewer;->switchToNextIndex(IZ)V

    return v4

    .line 17661
    :cond_2
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz v3, :cond_3

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result v3

    if-eqz v3, :cond_3

    iget-boolean v3, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-eqz v3, :cond_3

    .line 17662
    iget-object v3, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoViewerWebView;->getWebView()Landroid/webkit/WebView;

    move-result-object v3

    .line 17664
    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v5

    cmpl-float v5, v0, v5

    if-ltz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v5

    invoke-virtual {v3}, Landroid/view/View;->getWidth()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    cmpg-float v5, v0, v5

    if-gtz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v5

    cmpl-float v5, v2, v5

    if-ltz v5, :cond_3

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v5

    invoke-virtual {v3}, Landroid/view/View;->getHeight()I

    move-result v6

    int-to-float v6, v6

    add-float/2addr v5, v6

    cmpg-float v5, v2, v5

    if-gtz v5, :cond_3

    .line 17665
    invoke-static {p1}, Landroid/view/MotionEvent;->obtain(Landroid/view/MotionEvent;)Landroid/view/MotionEvent;

    move-result-object p1

    .line 17666
    invoke-virtual {p1, v1}, Landroid/view/MotionEvent;->setAction(I)V

    .line 17667
    invoke-virtual {v3}, Landroid/view/View;->getX()F

    move-result v0

    neg-float v0, v0

    invoke-virtual {v3}, Landroid/view/View;->getY()F

    move-result v1

    neg-float v1, v1

    invoke-virtual {p1, v0, v1}, Landroid/view/MotionEvent;->offsetLocation(FF)V

    .line 17668
    invoke-virtual {v3, p1}, Landroid/view/View;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    .line 17669
    invoke-virtual {p1, v4}, Landroid/view/MotionEvent;->setAction(I)V

    .line 17670
    invoke-virtual {v3, p1}, Landroid/view/View;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    .line 17671
    invoke-virtual {p1}, Landroid/view/MotionEvent;->recycle()V

    .line 17673
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->scheduleActionBarHide()V

    return v4

    .line 17677
    :cond_3
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object p1

    const/4 v3, 0x4

    const/4 v5, 0x3

    const/16 v6, 0x64

    const/high16 v7, 0x40000000    # 2.0f

    if-eqz p1, :cond_c

    .line 17678
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->aspectRatioFrameLayout:Lcom/google/android/exoplayer2/ui/AspectRatioFrameLayout;

    if-eqz p1, :cond_4

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->getVisibility()I

    move-result p1

    if-eqz p1, :cond_5

    :cond_4
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p1, :cond_6

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_6

    :cond_5
    move p1, v4

    goto :goto_0

    :cond_6
    move p1, v1

    .line 17680
    :goto_0
    iget v8, p0, Lorg/telegram/ui/PhotoViewer;->sharedMediaType:I

    if-ne v8, v4, :cond_7

    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->currentMessageObject:Lorg/telegram/messenger/MessageObject;

    if-eqz v8, :cond_7

    .line 17681
    invoke-virtual {v8}, Lorg/telegram/messenger/MessageObject;->canPreviewDocument()Z

    move-result p1

    if-nez p1, :cond_a

    .line 17682
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    const/16 v0, 0x168

    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    sub-int/2addr p1, v1

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float v1, v2, p1

    if-ltz v1, :cond_a

    .line 17683
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    int-to-float v0, v0

    add-float/2addr p1, v0

    cmpg-float p1, v2, p1

    if-gtz p1, :cond_a

    .line 17684
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    return v4

    .line 17689
    :cond_7
    iget-object v8, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v9, v8, v1

    if-eqz v9, :cond_a

    iget-object v9, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v9, :cond_a

    .line 17690
    aget-object v8, v8, v1

    invoke-static {v8}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v8

    .line 17691
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    sub-int/2addr v9, v10

    int-to-float v9, v9

    div-float/2addr v9, v7

    cmpl-float v9, v0, v9

    if-ltz v9, :cond_a

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v9

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    add-int/2addr v9, v10

    int-to-float v9, v9

    div-float/2addr v9, v7

    cmpg-float v0, v0, v9

    if-gtz v0, :cond_a

    .line 17692
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    sub-int/2addr v0, v9

    int-to-float v0, v0

    div-float/2addr v0, v7

    cmpl-float v0, v2, v0

    if-ltz v0, :cond_a

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    add-int/2addr v0, v6

    int-to-float v0, v0

    div-float/2addr v0, v7

    cmpg-float v0, v2, v0

    if-gtz v0, :cond_a

    if-nez p1, :cond_8

    if-lez v8, :cond_a

    if-gt v8, v5, :cond_a

    .line 17695
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 17696
    invoke-direct {p0, v1, v1, v4}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return v4

    :cond_8
    if-eq v8, v5, :cond_9

    if-ne v8, v3, :cond_a

    .line 17701
    :cond_9
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v1

    invoke-virtual {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->isVisible()Z

    move-result p1

    if-eqz p1, :cond_a

    .line 17702
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17703
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    return v4

    .line 17711
    :cond_a
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    if-eqz p1, :cond_b

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isControllable()Z

    move-result p1

    if-eqz p1, :cond_b

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoViewerWebView:Lorg/telegram/ui/Components/PhotoViewerWebView;

    invoke-virtual {p1}, Lorg/telegram/ui/Components/PhotoViewerWebView;->isPlaying()Z

    move-result p1

    if-nez p1, :cond_b

    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    if-nez p1, :cond_13

    .line 17712
    :cond_b
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isActionBarVisible:Z

    xor-int/2addr p1, v4

    invoke-direct {p0, p1, v4}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto/16 :goto_2

    .line 17714
    :cond_c
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz p1, :cond_10

    if-ne p1, v3, :cond_d

    goto/16 :goto_1

    .line 17724
    :cond_d
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    if-eqz p1, :cond_f

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->type:Ljava/lang/String;

    const-string v3, "video"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result p1

    if-nez p1, :cond_e

    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->currentBotInlineResult:Lorg/telegram/tgnet/TLRPC$BotInlineResult;

    iget-object p1, p1, Lorg/telegram/tgnet/TLRPC$BotInlineResult;->document:Lorg/telegram/tgnet/TLRPC$Document;

    invoke-static {p1}, Lorg/telegram/messenger/MessageObject;->isVideoDocument(Lorg/telegram/tgnet/TLRPC$Document;)Z

    move-result p1

    if-eqz p1, :cond_f

    .line 17725
    :cond_e
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object p1, p1, v1

    invoke-static {p1}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result p1

    if-lez p1, :cond_13

    if-gt p1, v5, :cond_13

    .line 17727
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    sub-int/2addr p1, v3

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float p1, v0, p1

    if-ltz p1, :cond_13

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    add-int/2addr p1, v3

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpg-float p1, v0, p1

    if-gtz p1, :cond_13

    .line 17728
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    sub-int/2addr p1, v0

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpl-float p1, v2, p1

    if-ltz p1, :cond_13

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result p1

    invoke-static {v6}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v0

    add-int/2addr p1, v0

    int-to-float p1, p1

    div-float/2addr p1, v7

    cmpg-float p1, v2, p1

    if-gtz p1, :cond_13

    .line 17729
    invoke-direct {p0, v4}, Lorg/telegram/ui/PhotoViewer;->onActionClick(Z)V

    .line 17730
    invoke-direct {p0, v1, v1, v4}, Lorg/telegram/ui/PhotoViewer;->checkProgress(IZZ)V

    return v4

    .line 17734
    :cond_f
    iget p1, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v0, 0x2

    if-ne p1, v0, :cond_13

    .line 17735
    iget-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz p1, :cond_13

    .line 17736
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17737
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    goto :goto_2

    .line 17715
    :cond_10
    :goto_1
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v0, :cond_12

    .line 17716
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_11

    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-nez v1, :cond_11

    if-eq p1, v4, :cond_11

    const/high16 p1, 0x3f800000    # 1.0f

    .line 17717
    invoke-virtual {v0, p1}, Lorg/telegram/ui/Components/VideoPlayer;->setVolume(F)V

    .line 17719
    :cond_11
    iput-boolean v4, p0, Lorg/telegram/ui/PhotoViewer;->manuallyPaused:Z

    .line 17720
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->toggleVideoPlayer()V

    goto :goto_2

    .line 17722
    :cond_12
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1}, Landroid/view/View;->performClick()Z

    :cond_13
    :goto_2
    return v4
.end method

.method public onSingleTapUp(Landroid/view/MotionEvent;)Z
    .locals 7

    .line 17574
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->canZoom:Z

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->doubleTapEnabled:Z

    if-nez v0, :cond_0

    .line 17575
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSingleTapConfirmed(Landroid/view/MotionEvent;)Z

    move-result p1

    return p1

    .line 17577
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v1, 0x0

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_2

    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v0, v0, v1

    if-eqz v0, :cond_2

    .line 17578
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getX()F

    move-result v0

    .line 17579
    invoke-virtual {p1}, Landroid/view/MotionEvent;->getY()F

    move-result v2

    .line 17581
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    const/16 v4, 0x64

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    sub-int/2addr v3, v5

    int-to-float v3, v3

    const/high16 v5, 0x40000000    # 2.0f

    div-float/2addr v3, v5

    cmpl-float v3, v0, v3

    if-ltz v3, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v3

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v6

    add-int/2addr v3, v6

    int-to-float v3, v3

    div-float/2addr v3, v5

    cmpg-float v0, v0, v3

    if-gtz v0, :cond_1

    .line 17582
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    sub-int/2addr v0, v3

    int-to-float v0, v0

    div-float/2addr v0, v5

    cmpl-float v0, v2, v0

    if-ltz v0, :cond_1

    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v0

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    add-int/2addr v0, v3

    int-to-float v0, v0

    div-float/2addr v0, v5

    cmpg-float v0, v2, v0

    if-gtz v0, :cond_1

    .line 17583
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->onSingleTapConfirmed(Landroid/view/MotionEvent;)Z

    move-result p1

    goto :goto_0

    :cond_1
    move p1, v1

    :goto_0
    if-eqz p1, :cond_2

    const/4 p1, 0x1

    .line 17586
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->discardTap:Z

    return p1

    :cond_2
    return v1
.end method

.method public onUp(Landroid/view/MotionEvent;)V
    .locals 0

    .line 17564
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->hidePressedDrawables()V

    return-void
.end method

.method public openPhoto(ILorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19

    move-object/from16 v0, p0

    move/from16 v8, p1

    move-object/from16 v17, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x1

    const/16 v18, 0x0

    .line 14398
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Ljava/util/ArrayList;IJJILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;IJJI",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            ")Z"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v5, p1

    move/from16 v8, p2

    move-wide/from16 v11, p3

    move-wide/from16 v13, p5

    move/from16 v15, p7

    move-object/from16 v9, p8

    .line 14390
    invoke-virtual/range {p1 .. p2}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lorg/telegram/messenger/MessageObject;

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            ")Z"
        }
    .end annotation

    move-object/from16 v0, p0

    move-object/from16 v6, p1

    move/from16 v8, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v7, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 14394
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;ILorg/telegram/ui/ChatActivity;JJILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v10, p3

    move-wide/from16 v11, p4

    move-wide/from16 v13, p6

    move/from16 v15, p8

    move-object/from16 v9, p9

    .line 14370
    invoke-static/range {p2 .. p2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v18

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;JJILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Z)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-wide/from16 v11, p2

    move-wide/from16 v13, p4

    move/from16 v15, p6

    move-object/from16 v9, p7

    move/from16 v16, p8

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 14374
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z
    .locals 16
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/messenger/MessageObject;",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/MessageObject;",
            ">;",
            "Ljava/util/ArrayList<",
            "Lorg/telegram/messenger/SecureDocument;",
            ">;",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;I",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            "JJIZ",
            "Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;",
            "Ljava/lang/Integer;",
            ")Z"
        }
    .end annotation

    move-object/from16 v12, p0

    move-object/from16 v0, p1

    move-object/from16 v3, p2

    move-object/from16 v11, p9

    move-object/from16 v1, p10

    move-object/from16 v13, p17

    move-object/from16 v14, p18

    .line 14661
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v15, 0x0

    if-eqz v2, :cond_24

    iget-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-nez v2, :cond_24

    if-nez v11, :cond_0

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->checkAnimation()Z

    move-result v2

    if-nez v2, :cond_24

    :cond_0
    if-nez v0, :cond_1

    if-nez v3, :cond_1

    if-nez p5, :cond_1

    if-nez p7, :cond_1

    if-nez p6, :cond_1

    if-nez p3, :cond_1

    if-nez v13, :cond_1

    goto/16 :goto_a

    :cond_1
    const/4 v10, 0x1

    move/from16 v9, p8

    .line 14665
    invoke-interface {v11, v0, v3, v9, v10}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->getPlaceForPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;IZ)Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;

    move-result-object v8

    .line 14666
    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x15

    if-ge v2, v4, :cond_2

    .line 14667
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->insets:Landroid/graphics/Rect;

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    iput v5, v2, Landroid/graphics/Rect;->top:I

    .line 14668
    sget v5, Lorg/telegram/messenger/AndroidUtilities;->navigationBarHeight:I

    iput v5, v2, Landroid/graphics/Rect;->bottom:I

    .line 14670
    :cond_2
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v5, "window"

    invoke-virtual {v2, v5}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Landroid/view/WindowManager;

    .line 14671
    iget-boolean v5, v12, Lorg/telegram/ui/PhotoViewer;->attachedToWindow:Z

    if-eqz v5, :cond_3

    .line 14673
    :try_start_0
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-interface {v2, v5}, Landroid/view/WindowManager;->removeView(Landroid/view/View;)V

    .line 14674
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->onHideView()V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 14681
    :catch_0
    :cond_3
    :try_start_1
    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v6, 0x63

    iput v6, v5, Landroid/view/WindowManager$LayoutParams;->type:I

    .line 14682
    sget v6, Landroid/os/Build$VERSION;->SDK_INT:I

    if-lt v6, v4, :cond_4

    const v4, -0x7ffeff00

    .line 14683
    iput v4, v5, Landroid/view/WindowManager$LayoutParams;->flags:I

    :cond_4
    if-eqz v1, :cond_5

    .line 14688
    invoke-virtual/range {p10 .. p10}, Lorg/telegram/ui/ChatActivity;->getCurrentEncryptedChat()Lorg/telegram/tgnet/TLRPC$EncryptedChat;

    move-result-object v4

    if-nez v4, :cond_8

    :cond_5
    iget-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    const-wide/16 v6, 0x0

    cmp-long v4, v4, v6

    if-eqz v4, :cond_6

    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 14689
    invoke-static {v4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v4

    iget-wide v5, v12, Lorg/telegram/ui/PhotoViewer;->avatarsDialogId:J

    neg-long v5, v5

    invoke-virtual {v4, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    :cond_6
    if-eqz v0, :cond_7

    iget v4, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 14690
    invoke-static {v4}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v4

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getChatId()J

    move-result-wide v5

    invoke-virtual {v4, v5, v6}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result v4

    if-nez v4, :cond_8

    iget-object v4, v0, Lorg/telegram/messenger/MessageObject;->messageOwner:Lorg/telegram/tgnet/TLRPC$Message;

    if-eqz v4, :cond_7

    iget-boolean v4, v4, Lorg/telegram/tgnet/TLRPC$Message;->noforwards:Z

    if-nez v4, :cond_8

    :cond_7
    if-eqz v0, :cond_9

    .line 14691
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->hasRevealedExtendedMedia()Z

    move-result v4

    if-eqz v4, :cond_9

    .line 14692
    :cond_8
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    iget v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    or-int/lit16 v5, v5, 0x2000

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    goto :goto_0

    .line 14694
    :cond_9
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    iget v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    and-int/lit16 v5, v5, -0x2001

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 14696
    :goto_0
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    const/16 v5, 0x110

    iput v5, v4, Landroid/view/WindowManager$LayoutParams;->softInputMode:I

    .line 14697
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v4, v15}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14698
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v4, v15}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 14699
    iget-object v4, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v5, v12, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    invoke-interface {v2, v4, v5}, Landroid/view/WindowManager;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 14700
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->onShowView()V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    .line 14706
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 14707
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14708
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->closePhotoAfterSelect:Z

    .line 14709
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->allowShowFullscreenButton:Z

    .line 14710
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->usedSurfaceView:Z

    .line 14711
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    const/4 v1, 0x0

    .line 14712
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->lastTitle:Ljava/lang/CharSequence;

    if-eqz v14, :cond_a

    move v2, v10

    goto :goto_1

    :cond_a
    move v2, v15

    .line 14713
    :goto_1
    iput-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->isEmbedVideo:Z

    .line 14715
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const-string v4, ""

    invoke-virtual {v2, v4}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 14716
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v2, v4, v15}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    .line 14717
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v2, :cond_b

    .line 14718
    invoke-virtual {v2, v15, v15, v15}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->set(IIZ)V

    .line 14719
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-virtual {v2, v15, v15}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    .line 14721
    :cond_b
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v2, v15}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleScrollNonFitText(Z)V

    .line 14723
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileLoadFailed:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14724
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileLoaded:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14725
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileLoadProgressChanged:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14726
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->mediaCountDidLoad:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14727
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->mediaDidLoad:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14728
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->dialogPhotosLoaded:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14729
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->messagesDeleted:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14730
    invoke-static {}, Lorg/telegram/messenger/NotificationCenter;->getGlobalInstance()Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->emojiLoaded:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14731
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->filePreparingFailed:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14732
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/NotificationCenter;->getInstance(I)Lorg/telegram/messenger/NotificationCenter;

    move-result-object v2

    sget v4, Lorg/telegram/messenger/NotificationCenter;->fileNewChunkAvailable:I

    invoke-virtual {v2, v12, v4}, Lorg/telegram/messenger/NotificationCenter;->addObserver(Lorg/telegram/messenger/NotificationCenter$NotificationCenterDelegate;I)V

    .line 14734
    iput-object v11, v12, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    move-wide/from16 v4, p13

    .line 14735
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    move-wide/from16 v4, p11

    .line 14736
    iput-wide v4, v12, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    move/from16 v2, p15

    .line 14737
    iput v2, v12, Lorg/telegram/ui/PhotoViewer;->topicId:I

    .line 14738
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v2}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    .line 14739
    iput-object v13, v12, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 14740
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    .line 14742
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v2, :cond_c

    .line 14743
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v2

    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 14746
    :cond_c
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 14747
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14749
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    xor-int/lit8 v2, p16, 0x1

    .line 14751
    iput-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    if-eqz v2, :cond_d

    .line 14753
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_2

    .line 14755
    :cond_d
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v10, :cond_e

    .line 14756
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 14757
    invoke-direct {v12, v15, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    goto :goto_2

    .line 14759
    :cond_e
    invoke-direct {v12, v10, v15}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    .line 14763
    :goto_2
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v2, v15}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 14764
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2, v15}, Landroid/view/View;->setVisibility(I)V

    const/4 v7, 0x0

    .line 14766
    iput v7, v12, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14767
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14768
    iput-boolean v15, v12, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    const/high16 v6, 0x3f800000    # 1.0f

    if-eqz v8, :cond_1e

    .line 14770
    iput-boolean v10, v12, Lorg/telegram/ui/PhotoViewer;->disableShowCheck:Z

    .line 14771
    iput v10, v12, Lorg/telegram/ui/PhotoViewer;->animationInProgress:I

    if-eqz v0, :cond_14

    .line 14773
    iget-boolean v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->allowTakeAnimation:Z

    if-eqz v2, :cond_f

    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v2

    goto :goto_3

    :cond_f
    move-object v2, v1

    :goto_3
    iput-object v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    if-eqz v2, :cond_15

    .line 14775
    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->isVideo()Z

    move-result v2

    if-eqz v2, :cond_13

    .line 14776
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2, v15}, Lorg/telegram/messenger/ImageReceiver;->setAllowStartAnimation(Z)V

    .line 14777
    iget-object v2, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->stopAnimation()V

    .line 14778
    invoke-static {}, Lorg/telegram/messenger/MediaController;->getInstance()Lorg/telegram/messenger/MediaController;

    move-result-object v2

    invoke-virtual {v2, v0}, Lorg/telegram/messenger/MediaController;->isPlayingMessage(Lorg/telegram/messenger/MessageObject;)Z

    move-result v2

    if-eqz v2, :cond_10

    .line 14779
    iget v2, v0, Lorg/telegram/messenger/MessageObject;->audioProgress:F

    iput v2, v12, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14781
    :cond_10
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->injectingVideoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-nez v2, :cond_12

    iget v2, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    invoke-virtual {v2, v4, v10}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v2

    if-nez v2, :cond_12

    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    invoke-virtual {v2}, Lorg/telegram/ui/Components/AnimatedFileDrawable;->hasBitmap()Z

    move-result v2

    if-nez v2, :cond_11

    iget v2, v0, Lorg/telegram/messenger/MessageObject;->currentAccount:I

    invoke-static {v2}, Lorg/telegram/messenger/FileLoader;->getInstance(I)Lorg/telegram/messenger/FileLoader;

    move-result-object v2

    invoke-virtual/range {p1 .. p1}, Lorg/telegram/messenger/MessageObject;->getDocument()Lorg/telegram/tgnet/TLRPC$Document;

    move-result-object v4

    invoke-virtual {v2, v4, v15}, Lorg/telegram/messenger/FileLoader;->isLoadingVideo(Lorg/telegram/tgnet/TLRPC$Document;Z)Z

    move-result v2

    if-nez v2, :cond_12

    :cond_11
    move v2, v10

    goto :goto_4

    :cond_12
    move v2, v15

    :goto_4
    iput-boolean v2, v12, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14782
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    goto :goto_5

    .line 14783
    :cond_13
    invoke-virtual {v0, v1, v1}, Lorg/telegram/messenger/MessageObject;->getWebPagePhotos(Ljava/util/ArrayList;Ljava/util/ArrayList;)Ljava/util/ArrayList;

    move-result-object v2

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-le v2, v10, :cond_15

    .line 14784
    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    goto :goto_5

    :cond_14
    if-eqz v13, :cond_15

    .line 14788
    iget-object v1, v8, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getAnimation()Lorg/telegram/ui/Components/AnimatedFileDrawable;

    move-result-object v1

    iput-object v1, v12, Lorg/telegram/ui/PhotoViewer;->currentAnimation:Lorg/telegram/ui/Components/AnimatedFileDrawable;

    :cond_15
    :goto_5
    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    move v0, v6

    move-object/from16 v6, p5

    move v0, v7

    move-object/from16 v7, p6

    move-object/from16 p10, v8

    move-object/from16 v8, p7

    move/from16 v9, p8

    move v0, v10

    move-object/from16 v10, p10

    .line 14791
    invoke-direct/range {v1 .. v10}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14792
    iget v1, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v1, v0, :cond_16

    .line 14793
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 14794
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setAlpha(F)V

    .line 14795
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v1, v15}, Lorg/telegram/ui/Components/PhotoCropView;->setFreeform(Z)V

    :cond_16
    move-object/from16 v10, p10

    .line 14797
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1}, Lorg/telegram/messenger/ImageReceiver;->getDrawRegion()Landroid/graphics/RectF;

    move-result-object v1

    .line 14798
    iget v5, v1, Landroid/graphics/RectF;->left:F

    .line 14799
    iget v7, v1, Landroid/graphics/RectF;->top:F

    .line 14800
    iget-object v2, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v2

    .line 14801
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getAnimatedOrientation()I

    move-result v3

    if-eqz v3, :cond_17

    move v2, v3

    .line 14806
    :cond_17
    invoke-direct {v12, v10}, Lorg/telegram/ui/PhotoViewer;->getAnimatingImageViews(Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;)[Lorg/telegram/ui/Components/ClippingImageView;

    move-result-object v3

    const/high16 v4, 0x3f800000    # 1.0f

    .line 14807
    iput v4, v12, Lorg/telegram/ui/PhotoViewer;->clippingImageProgress:F

    move v4, v15

    .line 14809
    :goto_6
    array-length v6, v3

    if-ge v4, v6, :cond_18

    .line 14810
    aget-object v6, v3, v4

    iget-object v8, v12, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 14811
    aget-object v6, v3, v4

    invoke-virtual {v6, v15}, Landroid/view/View;->setVisibility(I)V

    .line 14812
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->radius:[I

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setRadius([I)V

    .line 14813
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->imageReceiver:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v8}, Lorg/telegram/messenger/ImageReceiver;->getInvert()I

    move-result v8

    invoke-virtual {v6, v2, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setOrientation(II)V

    .line 14814
    aget-object v6, v3, v4

    iget-object v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->thumb:Lorg/telegram/messenger/ImageReceiver$BitmapHolder;

    invoke-virtual {v6, v8}, Lorg/telegram/ui/Components/ClippingImageView;->setImageBitmap(Lorg/telegram/messenger/ImageReceiver$BitmapHolder;)V

    add-int/lit8 v4, v4, 0x1

    goto :goto_6

    .line 14817
    :cond_18
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14818
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v2, v0, :cond_19

    .line 14819
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    const/high16 v4, 0x3f800000    # 1.0f

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/PhotoCropView;->setAspectRatio(F)V

    .line 14822
    :cond_19
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    invoke-virtual {v2}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v4

    .line 14823
    invoke-virtual {v1}, Landroid/graphics/RectF;->width()F

    move-result v2

    float-to-int v2, v2

    iput v2, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    .line 14824
    invoke-virtual {v1}, Landroid/graphics/RectF;->height()F

    move-result v2

    float-to-int v2, v2

    iput v2, v4, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 14825
    iget v6, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    const/16 v8, 0x64

    if-gtz v6, :cond_1a

    .line 14826
    iput v8, v4, Landroid/view/ViewGroup$LayoutParams;->width:I

    :cond_1a
    if-gtz v2, :cond_1b

    .line 14829
    iput v8, v4, Landroid/view/ViewGroup$LayoutParams;->height:I

    .line 14832
    :cond_1b
    :goto_7
    array-length v2, v3

    if-ge v15, v2, :cond_1d

    .line 14833
    array-length v2, v3

    if-le v2, v0, :cond_1c

    .line 14834
    aget-object v2, v3, v15

    const/4 v6, 0x0

    invoke-virtual {v2, v6}, Landroid/view/View;->setAlpha(F)V

    const/high16 v8, 0x3f800000    # 1.0f

    goto :goto_8

    :cond_1c
    const/4 v6, 0x0

    .line 14836
    aget-object v2, v3, v15

    const/high16 v8, 0x3f800000    # 1.0f

    invoke-virtual {v2, v8}, Landroid/view/View;->setAlpha(F)V

    .line 14838
    :goto_8
    aget-object v2, v3, v15

    invoke-virtual {v2, v6}, Landroid/view/View;->setPivotX(F)V

    .line 14839
    aget-object v2, v3, v15

    invoke-virtual {v2, v6}, Landroid/view/View;->setPivotY(F)V

    .line 14840
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    invoke-virtual {v2, v9}, Landroid/view/View;->setScaleX(F)V

    .line 14841
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    invoke-virtual {v2, v9}, Landroid/view/View;->setScaleY(F)V

    .line 14842
    aget-object v2, v3, v15

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewX:I

    int-to-float v9, v9

    iget v6, v1, Landroid/graphics/RectF;->left:F

    iget v8, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float/2addr v6, v8

    add-float/2addr v9, v6

    invoke-virtual {v2, v9}, Landroid/view/View;->setTranslationX(F)V

    .line 14843
    aget-object v2, v3, v15

    iget v6, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->viewY:I

    int-to-float v6, v6

    iget v8, v1, Landroid/graphics/RectF;->top:F

    iget v9, v10, Lorg/telegram/ui/PhotoViewer$PlaceProviderObject;->scale:F

    mul-float/2addr v8, v9

    add-float/2addr v6, v8

    invoke-virtual {v2, v6}, Lorg/telegram/ui/Components/ClippingImageView;->setTranslationY(F)V

    .line 14844
    aget-object v2, v3, v15

    invoke-virtual {v2, v4}, Landroid/view/View;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    add-int/lit8 v15, v15, 0x1

    goto :goto_7

    .line 14847
    :cond_1d
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object v15

    new-instance v9, Lorg/telegram/ui/PhotoViewer$67;

    move-object v1, v9

    move-object/from16 v2, p0

    move-object v6, v10

    move-object/from16 v8, p17

    move-object v13, v9

    move-object/from16 v9, p9

    move-object/from16 v10, p7

    move-object/from16 v11, p18

    invoke-direct/range {v1 .. v11}, Lorg/telegram/ui/PhotoViewer$67;-><init>(Lorg/telegram/ui/PhotoViewer;[Lorg/telegram/ui/Components/ClippingImageView;Landroid/view/ViewGroup$LayoutParams;FLorg/telegram/ui/PhotoViewer$PlaceProviderObject;FLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Ljava/util/ArrayList;Ljava/lang/Integer;)V

    invoke-virtual {v15, v13}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    goto :goto_9

    :cond_1e
    move v1, v6

    move v0, v10

    move-object v10, v8

    if-eqz p7, :cond_20

    .line 15062
    iget v2, v12, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v4, 0x3

    if-eq v2, v4, :cond_20

    .line 15063
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    if-eqz v2, :cond_1f

    invoke-interface {v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->closeKeyboard()Z

    move-result v2

    if-nez v2, :cond_20

    .line 15064
    :cond_1f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 15069
    :cond_20
    iget-object v2, v12, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    move-object/from16 v1, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    move-object/from16 v6, p5

    move-object/from16 v7, p6

    move-object/from16 v8, p7

    move/from16 v9, p8

    .line 15070
    invoke-direct/range {v1 .. v10}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 15071
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 15072
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    .line 15073
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_22

    .line 15074
    invoke-virtual {v1}, Lorg/telegram/ui/ChatActivity;->getUndoView()Lorg/telegram/ui/Components/UndoView;

    move-result-object v1

    if-eqz v1, :cond_21

    .line 15076
    invoke-virtual {v1, v15, v0}, Lorg/telegram/ui/Components/UndoView;->hide(ZI)V

    .line 15078
    :cond_21
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v1}, Lorg/telegram/ui/ActionBar/BaseFragment;->getFragmentView()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->invalidate()V

    .line 15080
    :cond_22
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getViewTreeObserver()Landroid/view/ViewTreeObserver;

    move-result-object v1

    new-instance v2, Lorg/telegram/ui/PhotoViewer$68;

    invoke-direct {v2, v12, v11, v14}, Lorg/telegram/ui/PhotoViewer$68;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Ljava/lang/Integer;)V

    invoke-virtual {v1, v2}, Landroid/view/ViewTreeObserver;->addOnPreDrawListener(Landroid/view/ViewTreeObserver$OnPreDrawListener;)V

    .line 15150
    :goto_9
    iget-object v1, v12, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const-string v2, "accessibility"

    invoke-virtual {v1, v2}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/accessibility/AccessibilityManager;

    .line 15151
    invoke-virtual {v1}, Landroid/view/accessibility/AccessibilityManager;->isTouchExplorationEnabled()Z

    move-result v2

    if-eqz v2, :cond_23

    .line 15152
    invoke-static {}, Landroid/view/accessibility/AccessibilityEvent;->obtain()Landroid/view/accessibility/AccessibilityEvent;

    move-result-object v2

    const/16 v3, 0x4000

    .line 15153
    invoke-virtual {v2, v3}, Landroid/view/accessibility/AccessibilityEvent;->setEventType(I)V

    .line 15154
    invoke-virtual {v2}, Landroid/view/accessibility/AccessibilityEvent;->getText()Ljava/util/List;

    move-result-object v3

    sget v4, Lorg/telegram/messenger/R$string;->AccDescrPhotoViewer:I

    const-string v5, "AccDescrPhotoViewer"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-interface {v3, v4}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 15155
    invoke-virtual {v1, v2}, Landroid/view/accessibility/AccessibilityManager;->sendAccessibilityEvent(Landroid/view/accessibility/AccessibilityEvent;)V

    :cond_23
    return v0

    :catch_1
    move-exception v0

    .line 14702
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :cond_24
    :goto_a
    return v15
.end method

.method public openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/ui/ChatActivity;JJILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v10, p2

    move-wide/from16 v11, p3

    move-wide/from16 v13, p5

    move/from16 v15, p7

    move-object/from16 v9, p8

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 14366
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 14386
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhoto(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v9, p2

    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 14378
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhotoForSelect(Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z
    .locals 9
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;IIZ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            ")Z"
        }
    .end annotation

    const/4 v1, 0x0

    const/4 v2, 0x0

    move-object v0, p0

    move-object v3, p1

    move v4, p2

    move v5, p3

    move v6, p4

    move-object v7, p5

    move-object v8, p6

    .line 14402
    invoke-virtual/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer;->openPhotoForSelect(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z

    move-result p1

    return p1
.end method

.method public openPhotoForSelect(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z
    .locals 19
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Lorg/telegram/tgnet/TLRPC$FileLocation;",
            "Lorg/telegram/messenger/ImageLocation;",
            "Ljava/util/ArrayList<",
            "Ljava/lang/Object;",
            ">;IIZ",
            "Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;",
            "Lorg/telegram/ui/ChatActivity;",
            ")Z"
        }
    .end annotation

    move-object/from16 v10, p0

    move/from16 v0, p5

    move/from16 v1, p6

    .line 14406
    iput-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isDocumentsPicker:Z

    .line 14407
    iget-object v1, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v11, 0x1

    const/4 v2, 0x0

    if-eqz v1, :cond_4

    .line 14408
    invoke-virtual {v1}, Landroid/widget/ImageView;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v1

    check-cast v1, Landroid/widget/FrameLayout$LayoutParams;

    const/4 v3, 0x4

    const v4, 0x40ea8f5c    # 7.33f

    if-eq v0, v3, :cond_3

    const/4 v3, 0x5

    if-ne v0, v3, :cond_0

    goto :goto_1

    :cond_0
    if-eq v0, v11, :cond_2

    const/4 v3, 0x3

    if-eq v0, v3, :cond_2

    const/16 v3, 0xa

    if-ne v0, v3, :cond_1

    goto :goto_0

    .line 14417
    :cond_1
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v3, v4}, Landroid/widget/ImageView;->setImageResource(I)V

    const v3, 0x40151eb8    # 2.33f

    .line 14418
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    goto :goto_2

    .line 14413
    :cond_2
    :goto_0
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v5, Lorg/telegram/messenger/R$drawable;->floating_check:I

    invoke-virtual {v3, v5}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 14414
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-static {v11}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    invoke-virtual {v3, v2, v5, v2, v2}, Landroid/widget/ImageView;->setPadding(IIII)V

    .line 14415
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    goto :goto_2

    .line 14410
    :cond_3
    :goto_1
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v5, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v3, v5}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 14411
    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(F)I

    move-result v3

    iput v3, v1, Landroid/widget/FrameLayout$LayoutParams;->bottomMargin:I

    .line 14420
    :goto_2
    iget-object v3, v10, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v3, v1}, Landroid/widget/ImageView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V

    .line 14422
    :cond_4
    iget v1, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eq v1, v11, :cond_6

    if-ne v0, v11, :cond_6

    iget-boolean v1, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    if-eqz v1, :cond_6

    .line 14423
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    .line 14424
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->doneButtonPressed:Z

    .line 14425
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    const-string v1, ""

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    .line 14426
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-virtual {v0, v1, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;Z)V

    move-object/from16 v9, p7

    .line 14427
    iput-object v9, v10, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const-wide/16 v0, 0x0

    .line 14428
    iput-wide v0, v10, Lorg/telegram/ui/PhotoViewer;->mergeDialogId:J

    .line 14429
    iput-wide v0, v10, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    .line 14430
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0}, Landroidx/recyclerview/widget/RecyclerView$Adapter;->notifyDataSetChanged()V

    const/4 v0, 0x0

    .line 14431
    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->pageBlocksAdapter:Lorg/telegram/ui/PhotoViewer$PageBlocksAdapter;

    .line 14433
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    if-nez v0, :cond_5

    .line 14434
    invoke-static {}, Landroid/view/VelocityTracker;->obtain()Landroid/view/VelocityTracker;

    move-result-object v0

    iput-object v0, v10, Lorg/telegram/ui/PhotoViewer;->velocityTracker:Landroid/view/VelocityTracker;

    .line 14437
    :cond_5
    iput-boolean v11, v10, Lorg/telegram/ui/PhotoViewer;->isVisible:Z

    .line 14438
    iput-boolean v11, v10, Lorg/telegram/ui/PhotoViewer;->isVisibleOrAnimating:Z

    .line 14440
    invoke-direct {v10, v2, v2}, Lorg/telegram/ui/PhotoViewer;->togglePhotosListView(ZZ)V

    .line 14442
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->openedFullScreenVideo:Z

    .line 14443
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 14444
    invoke-direct {v10, v2, v2}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    const/4 v0, 0x0

    .line 14445
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->seekToProgressPending2:F

    .line 14446
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->skipFirstBufferingProgress:Z

    .line 14447
    iput-boolean v2, v10, Lorg/telegram/ui/PhotoViewer;->playerInjected:Z

    .line 14449
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->makeFocusable()V

    .line 14451
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    const/16 v1, 0xff

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;->setAlpha(I)V

    .line 14452
    iget-object v0, v10, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/high16 v1, 0x3f800000    # 1.0f

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setAlpha(F)V

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v9, 0x0

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v7, p3

    move/from16 v8, p4

    .line 14453
    invoke-direct/range {v0 .. v9}, Lorg/telegram/ui/PhotoViewer;->onPhotoShow(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/List;ILorg/telegram/ui/PhotoViewer$PlaceProviderObject;)V

    .line 14454
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->initCropView()V

    .line 14455
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->setCropBitmap()V

    return v11

    :cond_6
    move-object/from16 v9, p7

    .line 14458
    iput v0, v10, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    move-object/from16 v7, p3

    move/from16 v8, p4

    move-object/from16 v9, p7

    move-object/from16 v10, p8

    .line 14459
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openPhotoWithVideo(Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)Z
    .locals 19

    move-object/from16 v0, p0

    move-object/from16 v2, p1

    move-object/from16 v4, p2

    move-object/from16 v9, p3

    const/4 v1, 0x0

    const/4 v3, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const-wide/16 v13, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x1

    const/16 v17, 0x0

    const/16 v18, 0x0

    .line 14382
    invoke-virtual/range {v0 .. v18}, Lorg/telegram/ui/PhotoViewer;->openPhoto(Lorg/telegram/messenger/MessageObject;Lorg/telegram/tgnet/TLRPC$FileLocation;Lorg/telegram/messenger/ImageLocation;Lorg/telegram/messenger/ImageLocation;Ljava/util/ArrayList;Ljava/util/ArrayList;Ljava/util/ArrayList;ILorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;JJIZLorg/telegram/ui/PhotoViewer$PageBlocksAdapter;Ljava/lang/Integer;)Z

    move-result v0

    return v0
.end method

.method public openStickerEditor(Lorg/telegram/messenger/MediaController$PhotoEntry;ZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;)V
    .locals 7

    .line 342
    new-instance v1, Ljava/util/ArrayList;

    invoke-static {p1}, Ljava/util/Collections;->singletonList(Ljava/lang/Object;)Ljava/util/List;

    move-result-object p1

    invoke-direct {v1, p1}, Ljava/util/ArrayList;-><init>(Ljava/util/Collection;)V

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v6, 0x0

    move-object v0, p0

    move-object v5, p3

    invoke-virtual/range {v0 .. v6}, Lorg/telegram/ui/PhotoViewer;->openPhotoForSelect(Ljava/util/ArrayList;IIZLorg/telegram/ui/PhotoViewer$PhotoViewerProvider;Lorg/telegram/ui/ChatActivity;)Z

    .line 343
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {p1, p3}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    .line 344
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object p3, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {p1, p3}, Landroid/widget/FrameLayout;->removeView(Landroid/view/View;)V

    if-eqz p2, :cond_0

    const/4 p1, 0x1

    .line 346
    iput-boolean p1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    .line 347
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    :cond_0
    return-void
.end method

.method providePresenter()Lcom/iMe/ui/recognition/PhotoViewerPresenter;
    .locals 1
    .annotation runtime Lmoxy/presenter/ProvidePresenter;
    .end annotation

    .line 325
    const-class v0, Lcom/iMe/ui/recognition/PhotoViewerPresenter;

    invoke-static {v0}, Lorg/koin/java/KoinJavaComponent;->get(Ljava/lang/Class;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/iMe/ui/recognition/PhotoViewerPresenter;

    return-object v0
.end method

.method public synthetic removeSelfFromStackImmediately()V
    .locals 0

    invoke-static {p0}, Lcom/iMe/ui/base/mvp/base/BaseView$-CC;->$default$removeSelfFromStackImmediately(Lcom/iMe/ui/base/mvp/base/BaseView;)V

    return-void
.end method

.method public setAnimationValue(F)V
    .locals 0
    .annotation build Landroidx/annotation/Keep;
    .end annotation

    .line 16400
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->animationValue:F

    .line 16401
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {p1}, Landroid/widget/FrameLayout;->invalidate()V

    .line 16402
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->invalidateBlur()V

    return-void
.end method

.method public setAvatarFor(Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;)V
    .locals 6

    .line 1362
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    .line 1363
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/4 v1, 0x0

    const/4 v2, 0x1

    if-ne v0, v2, :cond_4

    .line 1365
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    if-eqz v0, :cond_1

    .line 1366
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->useFullWidthSendButton()Z

    move-result v0

    const/16 v4, 0x8

    if-eqz v0, :cond_0

    .line 1367
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setVisibility(I)V

    .line 1368
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_0

    .line 1370
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v0, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 1371
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v4}, Landroid/widget/TextView;->setVisibility(I)V

    :cond_1
    :goto_0
    if-eqz p1, :cond_3

    .line 1373
    iget-object v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->fromObject:Lorg/telegram/tgnet/TLRPC$User;

    if-eqz v0, :cond_3

    iget v4, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    if-ne v4, v2, :cond_3

    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->setAvatarFor:Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;

    iget-boolean v4, v4, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->self:Z

    if-eqz v4, :cond_3

    .line 1374
    iget-boolean v4, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz v4, :cond_2

    .line 1375
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget v5, Lorg/telegram/messenger/R$string;->SetSuggestedVideoTooltip:I

    new-array v2, v2, [Ljava/lang/Object;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    aput-object v0, v2, v3

    const-string v0, "SetSuggestedVideoTooltip"

    invoke-static {v0, v5, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    goto :goto_1

    .line 1377
    :cond_2
    iget-object v4, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget v5, Lorg/telegram/messenger/R$string;->SetSuggestedPhotoTooltip:I

    new-array v2, v2, [Ljava/lang/Object;

    iget-object v0, v0, Lorg/telegram/tgnet/TLRPC$User;->first_name:Ljava/lang/String;

    aput-object v0, v2, v3

    const-string v0, "SetSuggestedPhotoTooltip"

    invoke-static {v0, v5, v2}, Lorg/telegram/messenger/LocaleController;->formatString(Ljava/lang/String;I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v4, v0}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    goto :goto_1

    .line 1380
    :cond_3
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/PhotoCropView;->setSubtitle(Ljava/lang/String;)V

    :cond_4
    :goto_1
    if-eqz p1, :cond_8

    .line 1384
    iget v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->type:I

    const/4 v2, 0x2

    if-ne v0, v2, :cond_6

    .line 1385
    iget-boolean v0, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz v0, :cond_5

    sget v0, Lorg/telegram/messenger/R$string;->SuggestVideo:I

    const-string v2, "SuggestVideo"

    goto :goto_2

    :cond_5
    sget v0, Lorg/telegram/messenger/R$string;->SuggestPhoto:I

    const-string v2, "SuggestPhoto"

    :goto_2
    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->setTitle(Ljava/lang/CharSequence;)V

    .line 1387
    :cond_6
    iget-boolean p1, p1, Lorg/telegram/ui/Components/ImageUpdater$AvatarFor;->isVideo:Z

    if-eqz p1, :cond_7

    .line 1388
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    sget v0, Lorg/telegram/messenger/R$string;->SetCover:I

    const-string v2, "SetCover"

    invoke-static {v2, v0}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 1390
    :cond_7
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {p1, v1}, Landroid/widget/FrameLayout;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 1391
    sget p1, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v0, 0x15

    if-lt p1, v0, :cond_8

    .line 1392
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v0, 0x40000000    # 2.0f

    invoke-virtual {p1, v0}, Landroid/widget/FrameLayout;->setElevation(F)V

    :cond_8
    return-void
.end method

.method public setCaption(Ljava/lang/CharSequence;)V
    .locals 2

    const/4 v0, 0x1

    .line 1355
    iput-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->hasCaptionForAllMedia:Z

    .line 1356
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->captionForAllMedia:Ljava/lang/CharSequence;

    const/4 v0, 0x0

    const/4 v1, 0x0

    .line 1357
    invoke-direct {p0, v0, p1, v1, v1}, Lorg/telegram/ui/PhotoViewer;->setCurrentCaption(Lorg/telegram/messenger/MessageObject;Ljava/lang/CharSequence;ZZ)V

    .line 1358
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->updateCaptionTextForCurrentPhoto(Ljava/lang/Object;)V

    return-void
.end method

.method public setMaxSelectedPhotos(IZ)V
    .locals 0

    .line 14351
    iput p1, p0, Lorg/telegram/ui/PhotoViewer;->maxSelectedPhotos:I

    .line 14352
    iput-boolean p2, p0, Lorg/telegram/ui/PhotoViewer;->allowOrder:Z

    return-void
.end method

.method public setParentActivity(Landroid/app/Activity;)V
    .locals 1

    const/4 v0, 0x0

    .line 4533
    invoke-virtual {p0, p1, v0, v0}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 40

    move-object/from16 v9, p0

    move-object/from16 v10, p3

    if-eqz p1, :cond_0

    move-object/from16 v11, p1

    goto :goto_0

    .line 4549
    :cond_0
    invoke-virtual/range {p2 .. p2}, Lorg/telegram/ui/ActionBar/BaseFragment;->getParentActivity()Landroid/app/Activity;

    move-result-object v0

    move-object v11, v0

    :goto_0
    const/4 v12, 0x0

    .line 4550
    invoke-static {v11, v12}, Lorg/telegram/ui/ActionBar/Theme;->createChatResources(Landroid/content/Context;Z)V

    .line 4551
    iput-object v10, v9, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object/from16 v0, p2

    .line 4552
    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    .line 4553
    sget v0, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    .line 4554
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v0}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4555
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4556
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/messenger/ImageReceiver;->setCurrentAccount(I)V

    .line 4557
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_1

    .line 4558
    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setAccount(I)V

    .line 4560
    :cond_1
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-eq v0, v11, :cond_13

    if-nez v11, :cond_2

    goto/16 :goto_a

    .line 4564
    :cond_2
    instance-of v0, v11, Lorg/telegram/ui/BubbleActivity;

    iput-boolean v0, v9, Lorg/telegram/ui/PhotoViewer;->inBubbleMode:Z

    .line 4565
    iput-object v11, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    .line 4566
    new-instance v0, Landroid/view/ContextThemeWrapper;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$style;->Theme_TMessages:I

    invoke-direct {v0, v1, v2}, Landroid/view/ContextThemeWrapper;-><init>(Landroid/content/Context;I)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    .line 4567
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-static {v0}, Landroid/view/ViewConfiguration;->get(Landroid/content/Context;)Landroid/view/ViewConfiguration;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewConfiguration;->getScaledTouchSlop()I

    move-result v0

    iput v0, v9, Lorg/telegram/ui/PhotoViewer;->touchSlop:I

    .line 4569
    sget-object v0, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    const/4 v13, 0x2

    const/4 v14, 0x3

    const/4 v15, 0x1

    if-nez v0, :cond_3

    .line 4570
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v1, Lorg/telegram/messenger/R$drawable;->circle_big:I

    invoke-static {v0, v1}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    new-array v1, v14, [Landroid/graphics/drawable/Drawable;

    aput-object v0, v1, v12

    .line 4571
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$drawable;->cancel_big:I

    .line 4573
    invoke-static {v0, v2}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    aput-object v0, v1, v15

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    sget v2, Lorg/telegram/messenger/R$drawable;->load_big:I

    .line 4574
    invoke-static {v0, v2}, Landroidx/core/content/ContextCompat;->getDrawable(Landroid/content/Context;I)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    aput-object v0, v1, v13

    sput-object v1, Lorg/telegram/ui/PhotoViewer;->progressDrawables:[Landroid/graphics/drawable/Drawable;

    .line 4578
    :cond_3
    new-instance v0, Landroid/widget/Scroller;

    invoke-direct {v0, v11}, Landroid/widget/Scroller;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->scroller:Landroid/widget/Scroller;

    .line 4580
    new-instance v0, Lorg/telegram/ui/PhotoViewer$13;

    invoke-direct {v0, v9, v11}, Lorg/telegram/ui/PhotoViewer$13;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    .line 4774
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->backgroundDrawable:Lorg/telegram/ui/PhotoViewer$BackgroundDrawable;

    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 4775
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 4777
    new-instance v0, Lorg/telegram/ui/Components/ClippingImageView;

    invoke-direct {v0, v11}, Lorg/telegram/ui/Components/ClippingImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    .line 4778
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->animationValues:[[F

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/ClippingImageView;->setAnimationValues([[F)V

    .line 4779
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->animatingImageView:Lorg/telegram/ui/Components/ClippingImageView;

    const/16 v2, 0x28

    const/16 v3, 0x28

    invoke-static {v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4781
    new-instance v0, Lorg/telegram/ui/PhotoViewer$14;

    invoke-direct {v0, v9, v11, v11}, Lorg/telegram/ui/PhotoViewer$14;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/app/Activity;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    .line 4839
    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setFocusable(Z)V

    .line 4841
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v15}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 4842
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v15}, Landroid/widget/FrameLayout;->setClipToPadding(Z)V

    .line 4843
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 4844
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipToPadding(Z)V

    .line 4846
    new-instance v0, Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/BlurringShader$BlurManager;-><init>(Landroid/view/View;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    .line 4847
    iput v15, v0, Lorg/telegram/ui/Components/BlurringShader$BlurManager;->padding:I

    .line 4849
    new-instance v1, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v3, 0x6

    invoke-direct {v1, v0, v2, v3}, Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;-><init>(Lorg/telegram/ui/Components/BlurringShader$BlurManager;Landroid/view/View;I)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->shadowBlurer:Lorg/telegram/ui/Components/BlurringShader$StoryBlurDrawer;

    .line 4851
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v8, -0x1

    const/16 v7, 0x33

    invoke-static {v8, v8, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4852
    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v0, v6, :cond_4

    .line 4853
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v15}, Landroid/widget/FrameLayout;->setFitsSystemWindows(Z)V

    .line 4854
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda26;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda26;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setOnApplyWindowInsetsListener(Landroid/view/View$OnApplyWindowInsetsListener;)V

    .line 4902
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v2, 0x700

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setSystemUiVisibility(I)V

    .line 4905
    :cond_4
    new-instance v1, Landroid/view/WindowManager$LayoutParams;

    invoke-direct {v1}, Landroid/view/WindowManager$LayoutParams;-><init>()V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowLayoutParams:Landroid/view/WindowManager$LayoutParams;

    .line 4906
    iput v8, v1, Landroid/view/WindowManager$LayoutParams;->height:I

    const/4 v2, -0x3

    .line 4907
    iput v2, v1, Landroid/view/WindowManager$LayoutParams;->format:I

    .line 4908
    iput v8, v1, Landroid/view/WindowManager$LayoutParams;->width:I

    .line 4909
    iput v7, v1, Landroid/view/WindowManager$LayoutParams;->gravity:I

    const/16 v2, 0x63

    .line 4910
    iput v2, v1, Landroid/view/WindowManager$LayoutParams;->type:I

    const/16 v2, 0x1c

    if-lt v0, v2, :cond_5

    .line 4912
    iput v15, v1, Landroid/view/WindowManager$LayoutParams;->layoutInDisplayCutoutMode:I

    :cond_5
    if-lt v0, v6, :cond_6

    const v0, -0x7ffeff00

    .line 4915
    iput v0, v1, Landroid/view/WindowManager$LayoutParams;->flags:I

    .line 4921
    :cond_6
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4922
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v5, -0x2

    invoke-static {v5, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4923
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->leftPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4924
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v5, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4925
    new-instance v0, Lorg/telegram/ui/Components/PaintingOverlay;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/Components/PaintingOverlay;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->rightPaintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    .line 4926
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v5, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v1, v0, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4928
    new-instance v0, Lorg/telegram/ui/PhotoViewer$15;

    invoke-direct {v0, v9, v11}, Lorg/telegram/ui/PhotoViewer$15;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    .line 4935
    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/ActionBar;->setOverlayTitleAnimation(Z)V

    .line 4936
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setTitleColor(I)V

    .line 4937
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/ActionBar/ActionBar;->setSubtitleColor(I)V

    .line 4938
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/high16 v1, 0x7f000000

    invoke-virtual {v0, v1}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackgroundColor(I)V

    .line 4939
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setOccupyStatusBar(Z)V

    .line 4940
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const v4, 0x40ffffff    # 7.9999995f

    invoke-virtual {v0, v4, v12}, Lorg/telegram/ui/ActionBar/ActionBar;->setItemsBackgroundColor(IZ)V

    .line 4941
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget v2, Lorg/telegram/messenger/R$drawable;->ic_ab_back:I

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setBackButtonImage(I)V

    .line 4942
    new-instance v0, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    .line 4943
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    const/16 v3, 0x77

    invoke-static {v8, v8, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4944
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-static {v8, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4946
    new-instance v0, Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    invoke-direct {v0, v11}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    .line 4947
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v3, 0x37

    invoke-static {v8, v5, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 4949
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$16;

    invoke-direct {v2, v9, v10}, Lorg/telegram/ui/PhotoViewer$16;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBar;->setActionBarMenuOnItemClick(Lorg/telegram/ui/ActionBar/ActionBar$ActionBarMenuOnItemClick;)V

    .line 5712
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBar;->createMenu()Lorg/telegram/ui/ActionBar/ActionBarMenu;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    .line 5713
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda71;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda71;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->setOnLayoutListener(Ljava/lang/Runnable;)V

    .line 5715
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/16 v2, 0xd

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_mask:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->masksItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5716
    sget v2, Lorg/telegram/messenger/R$string;->Masks:I

    const-string v3, "Masks"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5717
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    const/4 v2, 0x5

    sget v3, Lorg/telegram/messenger/R$drawable;->ic_goinline:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pipItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5718
    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPipMode:I

    const-string v3, "AccDescrPipMode"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5719
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_header_draw:I

    const/16 v3, 0x14

    invoke-virtual {v0, v3, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->editItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5720
    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoEditor:I

    const-string v3, "AccDescrPhotoEditor"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5722
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_SAVE_CLOUD:I

    sget v3, Lorg/telegram/messenger/R$drawable;->fork_forward_cloud:I

    invoke-virtual {v0, v2, v3}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->forwardCloudItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5723
    sget v2, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_cloud:I

    invoke-static {v2}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5725
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_header_share:I

    invoke-virtual {v0, v14, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(II)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->sendItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5726
    sget v2, Lorg/telegram/messenger/R$string;->Forward:I

    const-string v3, "Forward"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5728
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menu:Lorg/telegram/ui/ActionBar/ActionBarMenu;

    new-instance v2, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-direct {v2}, Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;-><init>()V

    iput-object v2, v9, Lorg/telegram/ui/PhotoViewer;->menuItemIcon:Lorg/telegram/ui/Components/OptionsSpeedIconDrawable;

    invoke-virtual {v0, v12, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenu;->addItem(ILandroid/graphics/drawable/Drawable;)Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    .line 5729
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda89;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda89;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setOnMenuDismiss(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 5731
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    iput-boolean v15, v0, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->swipeBackGravityRight:Z

    .line 5732
    new-instance v0, Lorg/telegram/ui/ChooseSpeedLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v3

    invoke-virtual {v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->getSwipeBack()Lorg/telegram/ui/Components/PopupSwipeBackLayout;

    move-result-object v3

    new-instance v7, Lorg/telegram/ui/PhotoViewer$17;

    invoke-direct {v7, v9}, Lorg/telegram/ui/PhotoViewer$17;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-direct {v0, v2, v3, v7}, Lorg/telegram/ui/ChooseSpeedLayout;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/PopupSwipeBackLayout;Lorg/telegram/ui/ChooseSpeedLayout$Callback;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    .line 5759
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_speed:I

    sget v3, Lorg/telegram/messenger/R$string;->Speed:I

    const-string v7, "Speed"

    invoke-static {v7, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->chooseSpeedLayout:Lorg/telegram/ui/ChooseSpeedLayout;

    iget-object v7, v7, Lorg/telegram/ui/ChooseSpeedLayout;->speedSwipeBackLayout:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    const/4 v5, 0x0

    invoke-virtual {v0, v2, v5, v3, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSwipeBackItem(ILandroid/graphics/drawable/Drawable;Ljava/lang/String;Landroid/view/View;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5760
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    const v2, -0xddddde

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setSwipeBackForegroundColor(I)V

    .line 5761
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    sget v2, Lorg/telegram/messenger/R$string;->SpeedNormal:I

    const-string v3, "SpeedNormal"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setSubtext(Ljava/lang/String;)V

    .line 5762
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    const v2, -0x50506

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5763
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addColoredGap()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedGap:Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;

    const v3, -0xe7e7e8

    .line 5764
    invoke-virtual {v0, v3}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$GapView;->setColor(I)V

    .line 5765
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->getPopupLayout()Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;

    move-result-object v0

    invoke-virtual {v0, v15}, Lorg/telegram/ui/ActionBar/ActionBarPopupWindow$ActionBarPopupWindowLayout;->setFitItems(Z)V

    .line 5767
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xb

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_openin:I

    sget v5, Lorg/telegram/messenger/R$string;->OpenInExternalApp:I

    const-string v4, "OpenInExternalApp"

    invoke-static {v4, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v3, v7, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5768
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$string;->AccDescrMoreOptions:I

    const-string v4, "AccDescrMoreOptions"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/FrameLayout;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5769
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_media:I

    sget v4, Lorg/telegram/messenger/R$string;->ShowAllMedia:I

    const-string v5, "ShowAllMedia"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v13, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->allMediaItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5770
    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5771
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xe

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_gif:I

    sget v5, Lorg/telegram/messenger/R$string;->SaveToGIFs:I

    const-string v7, "SaveToGIFs"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5772
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_message:I

    sget v4, Lorg/telegram/messenger/R$string;->ShowInChat:I

    const-string v5, "ShowInChat"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x4

    invoke-virtual {v0, v5, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5773
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xf

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_sticker:I

    sget v7, Lorg/telegram/messenger/R$string;->ShowStickers:I

    const-string v5, "ShowStickers"

    invoke-static {v5, v7}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5774
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0xa

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_shareout:I

    sget v5, Lorg/telegram/messenger/R$string;->ShareFile:I

    const-string v7, "ShareFile"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5775
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_gallery:I

    sget v4, Lorg/telegram/messenger/R$string;->SaveToGallery:I

    const-string v5, "SaveToGallery"

    invoke-static {v5, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v15, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5777
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v3, 0x10

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_openprofile:I

    sget v5, Lorg/telegram/messenger/R$string;->SetAsMain:I

    const-string v7, "SetAsMain"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5778
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_translate:I

    sget v4, Lorg/telegram/messenger/R$string;->TranslateMessage:I

    invoke-static {v4}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v6, v3, v4}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5779
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v4, 0x16

    sget v5, Lorg/telegram/messenger/R$string;->HideTranslation:I

    invoke-static {v5}, Lorg/telegram/messenger/LocaleController;->getString(I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v4, v3, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5781
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->speedItem:Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    invoke-virtual {v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->getTextColor()I

    move-result v0

    .line 5782
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->PHOTO_COPY:I

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_copy:I

    sget v19, Lorg/telegram/messenger/R$string;->photo_viewer_image_copy:I

    invoke-static/range {v19 .. v19}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5783
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->PHOTO_TEXT:I

    sget v7, Lorg/telegram/messenger/R$drawable;->fork_photo_text:I

    sget v14, Lorg/telegram/messenger/R$string;->photo_viewer_open_recognize_text:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5784
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->PHOTO_OBJECTS:I

    sget v7, Lorg/telegram/messenger/R$drawable;->fork_photo_objects:I

    sget v14, Lorg/telegram/messenger/R$string;->photo_viewer_open_recognize_photo:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5785
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP:I

    sget v7, Lorg/telegram/messenger/R$drawable;->msg_forward:I

    sget v14, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_whatsapp:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5786
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_WHATSAPP_BUSINESS:I

    sget v14, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_whatsapp_business:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5787
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_FORWARD_VIBER:I

    sget v14, Lorg/telegram/messenger/R$string;->chat_message_popup_option_forward_viber:I

    invoke-static {v14}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v4, v5, v7, v14}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v4

    invoke-virtual {v4, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5788
    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v5, Lcom/iMe/common/IdFabric$Menu;->TRANSLATE:I

    sget v7, Lorg/telegram/messenger/R$string;->chat_long_action_translate:I

    invoke-static {v7}, Lorg/telegram/messenger/LocaleController;->getInternalString(I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v4, v5, v3, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v3

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5789
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    sget v4, Lcom/iMe/common/IdFabric$Menu;->MESSAGE_DELETE_FROM_CACHE:I

    sget v5, Lorg/telegram/messenger/R$drawable;->msg_clear:I

    sget v7, Lorg/telegram/messenger/R$string;->ClearHistoryCache:I

    const-string v14, "ClearHistoryCache"

    invoke-static {v14, v7}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v7

    invoke-virtual {v3, v4, v5, v7}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v3

    invoke-virtual {v3, v0, v0}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5791
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x6

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_delete:I

    sget v5, Lorg/telegram/messenger/R$string;->Delete:I

    const-string v7, "Delete"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5792
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/4 v3, 0x7

    sget v4, Lorg/telegram/messenger/R$drawable;->msg_cancel:I

    sget v5, Lorg/telegram/messenger/R$string;->StopDownload:I

    const-string v7, "StopDownload"

    invoke-static {v7, v5}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v0, v3, v4, v5}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->addSubItem(IILjava/lang/CharSequence;)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    move-result-object v0

    invoke-virtual {v0, v2, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;->setColors(II)Lorg/telegram/ui/ActionBar/ActionBarMenuSubItem;

    .line 5793
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const v2, -0x6ddddde

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->redrawPopup(I)V

    .line 5794
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 5795
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const/16 v2, 0x16

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->hideSubItem(I)V

    .line 5796
    invoke-direct {v9, v12, v15}, Lorg/telegram/ui/PhotoViewer;->setMenuItemIcon(ZZ)V

    .line 5797
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    const v2, 0xfffffff

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setPopupItemsSelectorColor(I)V

    .line 5799
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->menuItem:Lorg/telegram/ui/ActionBar/ActionBarMenuItem;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$18;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$18;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/ActionBar/ActionBarMenuItem;->setSubMenuDelegate(Lorg/telegram/ui/ActionBar/ActionBarMenuItem$ActionBarSubMenuItemDelegate;)V

    .line 5815
    new-instance v0, Lorg/telegram/ui/PhotoViewer$19;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v2}, Lorg/telegram/ui/PhotoViewer$19;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    .line 5821
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 5822
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->bottomLayout:Landroid/widget/FrameLayout;

    const/16 v14, 0x30

    const/16 v7, 0x53

    invoke-static {v8, v14, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5824
    new-instance v0, Landroid/view/View;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v2}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    .line 5825
    invoke-virtual {v0, v1}, Landroid/view/View;->setBackgroundColor(I)V

    .line 5826
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    const/high16 v3, -0x40800000    # -1.0f

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->navigationBarHeight:I

    int-to-float v4, v4

    sget v5, Lorg/telegram/messenger/AndroidUtilities;->density:F

    div-float/2addr v4, v5

    const/16 v5, 0x57

    invoke-static {v3, v4, v5}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(FFI)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5828
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-instance v2, Landroid/graphics/drawable/GradientDrawable;

    sget-object v3, Landroid/graphics/drawable/GradientDrawable$Orientation;->LEFT_RIGHT:Landroid/graphics/drawable/GradientDrawable$Orientation;

    new-array v4, v13, [I

    fill-array-data v4, :array_0

    invoke-direct {v2, v3, v4}, Landroid/graphics/drawable/GradientDrawable;-><init>(Landroid/graphics/drawable/GradientDrawable$Orientation;[I)V

    aput-object v2, v0, v12

    .line 5829
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v0, v0, v12

    invoke-virtual {v0, v12}, Landroid/graphics/drawable/GradientDrawable;->setShape(I)V

    .line 5830
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    new-instance v2, Landroid/graphics/drawable/GradientDrawable;

    sget-object v3, Landroid/graphics/drawable/GradientDrawable$Orientation;->RIGHT_LEFT:Landroid/graphics/drawable/GradientDrawable$Orientation;

    new-array v4, v13, [I

    fill-array-data v4, :array_1

    invoke-direct {v2, v3, v4}, Landroid/graphics/drawable/GradientDrawable;-><init>(Landroid/graphics/drawable/GradientDrawable$Orientation;[I)V

    aput-object v2, v0, v15

    .line 5831
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pressedDrawable:[Landroid/graphics/drawable/GradientDrawable;

    aget-object v0, v0, v15

    invoke-virtual {v0, v12}, Landroid/graphics/drawable/GradientDrawable;->setShape(I)V

    .line 5833
    new-instance v0, Lorg/telegram/ui/Components/GroupedPhotosListView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const/16 v3, 0xa

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-direct {v0, v2, v3}, Lorg/telegram/ui/Components/GroupedPhotosListView;-><init>(Landroid/content/Context;I)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    .line 5834
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v3, 0x44

    invoke-static {v8, v3, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v2, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5835
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->groupedPhotosListView:Lorg/telegram/ui/Components/GroupedPhotosListView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$20;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$20;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/GroupedPhotosListView;->setDelegate(Lorg/telegram/ui/Components/GroupedPhotosListView$GroupedPhotosListViewDelegate;)V

    move v0, v12

    :goto_1
    const/4 v2, 0x3

    if-ge v0, v2, :cond_7

    .line 5912
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    new-instance v3, Landroid/widget/ImageView;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v3, v4}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    aput-object v3, v2, v0

    .line 5913
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget v3, Lorg/telegram/messenger/R$drawable;->msg_maxvideo:I

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 5914
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget v3, Lorg/telegram/messenger/R$string;->AccSwitchToFullscreen:I

    const-string v4, "AccSwitchToFullscreen"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 5915
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    sget-object v3, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 5916
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const v4, 0x40ffffff    # 7.9999995f

    invoke-static {v4}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 5917
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const/4 v3, 0x4

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 5918
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    const/high16 v3, 0x3f800000    # 1.0f

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setAlpha(F)V

    .line 5919
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v3, v3, v0

    invoke-static {v14, v14}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v2, v3, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5920
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->fullscreenButton:[Landroid/widget/ImageView;

    aget-object v2, v2, v0

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda42;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda42;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v2, v3}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    add-int/lit8 v0, v0, 0x1

    goto :goto_1

    :cond_7
    const v4, 0x40ffffff    # 7.9999995f

    .line 5940
    new-instance v0, Lorg/telegram/ui/PhotoViewer$21;

    new-instance v2, Lorg/telegram/ui/Stories/DarkThemeResourceProvider;

    invoke-direct {v2}, Lorg/telegram/ui/Stories/DarkThemeResourceProvider;-><init>()V

    const/4 v5, 0x0

    invoke-direct {v0, v9, v5, v2}, Lorg/telegram/ui/PhotoViewer$21;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleSelectabeleView;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    .line 5947
    new-instance v0, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    .line 5948
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda52;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda52;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/widget/ViewSwitcher;->setFactory(Landroid/widget/ViewSwitcher$ViewFactory;)V

    .line 5949
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    const/4 v2, 0x4

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;->setVisibility(I)V

    .line 5950
    invoke-direct {v9, v15}, Lorg/telegram/ui/PhotoViewer;->setCaptionHwLayerEnabled(Z)V

    move v0, v12

    const/4 v2, 0x3

    :goto_2
    if-ge v0, v2, :cond_8

    .line 5953
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$22;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-direct {v3, v9, v4}, Lorg/telegram/ui/PhotoViewer$22;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/view/View;)V

    aput-object v3, v2, v0

    .line 5968
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v0

    invoke-virtual {v2, v12, v12, v15}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->setBackgroundState(IZZ)V

    add-int/lit8 v0, v0, 0x1

    const/4 v2, 0x3

    const v4, 0x40ffffff    # 7.9999995f

    goto :goto_2

    .line 5971
    :cond_8
    new-instance v0, Lorg/telegram/ui/PhotoViewer$23;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v2, v10}, Lorg/telegram/ui/PhotoViewer$23;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    .line 5988
    invoke-virtual {v0, v15}, Lorg/telegram/ui/Components/RadialProgressView;->setUseSelfAlpha(Z)V

    .line 5989
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/RadialProgressView;->setProgressColor(I)V

    .line 5990
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/16 v2, 0x36

    invoke-static {v2}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/RadialProgressView;->setSize(I)V

    .line 5991
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    sget v3, Lorg/telegram/messenger/R$drawable;->circle_big:I

    invoke-virtual {v0, v3}, Landroid/view/View;->setBackgroundResource(I)V

    .line 5992
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x4

    invoke-virtual {v0, v4}, Landroid/view/View;->setVisibility(I)V

    .line 5993
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v4, 0x0

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/RadialProgressView;->setAlpha(F)V

    .line 5994
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->miniProgressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/16 v13, 0x40

    const/16 v15, 0x11

    invoke-static {v13, v13, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v5

    invoke-virtual {v0, v4, v5}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 5996
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createVideoControlsInterface()V

    .line 5998
    new-instance v0, Lorg/telegram/ui/Components/RadialProgressView;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v4, v10}, Lorg/telegram/ui/Components/RadialProgressView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    .line 5999
    invoke-virtual {v0, v8}, Lorg/telegram/ui/Components/RadialProgressView;->setProgressColor(I)V

    .line 6000
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-virtual {v0, v3}, Landroid/view/View;->setBackgroundResource(I)V

    .line 6001
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    const/4 v3, 0x4

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    .line 6002
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->progressView:Lorg/telegram/ui/Components/RadialProgressView;

    invoke-static {v2, v2, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6004
    new-instance v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v3}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    .line 6005
    invoke-virtual {v0, v1}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 6006
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v0, v12, v12}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->updateSelectedCount(IZ)V

    .line 6007
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v3, 0x78

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 6008
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v3, Lorg/telegram/messenger/R$string;->Done:I

    const-string v4, "Done"

    invoke-static {v4, v3}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->toUpperCase()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6009
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {v9, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6010
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-static {v8, v14, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6011
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda38;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda38;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6017
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda41;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda41;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6026
    new-instance v0, Lorg/telegram/ui/Components/VideoForwardDrawable;

    invoke-direct {v0, v12}, Lorg/telegram/ui/Components/VideoForwardDrawable;-><init>(Z)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoForwardDrawable:Lorg/telegram/ui/Components/VideoForwardDrawable;

    .line 6027
    new-instance v3, Lorg/telegram/ui/PhotoViewer$24;

    invoke-direct {v3, v9}, Lorg/telegram/ui/PhotoViewer$24;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v3}, Lorg/telegram/ui/Components/VideoForwardDrawable;->setDelegate(Lorg/telegram/ui/Components/VideoForwardDrawable$VideoForwardDrawableDelegate;)V

    .line 6039
    new-instance v0, Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v3}, Lorg/telegram/ui/PhotoViewer$QualityChooseView;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/16 v3, 0x78

    .line 6040
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    invoke-virtual {v0, v3}, Landroid/view/View;->setTranslationY(F)V

    .line 6041
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/4 v3, 0x4

    invoke-virtual {v0, v3}, Landroid/view/View;->setVisibility(I)V

    .line 6042
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setBackgroundColor(I)V

    .line 6043
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->qualityChooseView:Lorg/telegram/ui/PhotoViewer$QualityChooseView;

    const/16 v20, -0x1

    const/16 v21, 0x46

    const/16 v22, 0x53

    const/16 v23, 0x0

    const/16 v24, 0x0

    const/16 v25, 0x0

    const/16 v26, 0x30

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v3, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6045
    new-instance v0, Landroid/graphics/Paint;

    invoke-direct {v0}, Landroid/graphics/Paint;-><init>()V

    .line 6046
    invoke-virtual {v0, v1}, Landroid/graphics/Paint;->setColor(I)V

    .line 6047
    new-instance v0, Lorg/telegram/ui/PhotoViewer$25;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$25;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    .line 6125
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/4 v4, -0x2

    invoke-static {v8, v4, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v0, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6127
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/high16 v1, 0x41700000    # 15.0f

    const/4 v3, 0x1

    .line 6128
    invoke-virtual {v0, v3, v1}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6129
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const-string v16, "fonts/rmedium.ttf"

    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6130
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6131
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v3}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 6132
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 6133
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v8}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6134
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/4 v1, 0x3

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6135
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->docNameTextView:Landroid/widget/TextView;

    const/16 v21, -0x2

    const/16 v22, 0x33

    const/16 v23, 0x14

    const/16 v24, 0x17

    const/16 v25, 0x54

    const/16 v26, 0x0

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6137
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/high16 v3, 0x41600000    # 14.0f

    const/4 v1, 0x1

    .line 6138
    invoke-virtual {v0, v1, v3}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6139
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6140
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxLines(I)V

    .line 6141
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 6142
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    invoke-virtual {v0, v8}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6143
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/4 v1, 0x3

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6144
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->docInfoTextView:Landroid/widget/TextView;

    const/16 v24, 0x2e

    invoke-static/range {v20 .. v26}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v1, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6147
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    .line 6148
    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_featuredStickers_addButton:I

    invoke-direct {v9, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    const/4 v4, 0x1

    new-array v6, v4, [F

    const/high16 v4, 0x40c00000    # 6.0f

    aput v4, v6, v12

    invoke-static {v1, v6}, Lorg/telegram/ui/ActionBar/Theme$AdaptiveRipple;->filledRect(I[F)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 6149
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_featuredStickers_buttonText:I

    invoke-direct {v9, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6150
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget-object v1, Landroid/text/TextUtils$TruncateAt;->END:Landroid/text/TextUtils$TruncateAt;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setEllipsize(Landroid/text/TextUtils$TruncateAt;)V

    .line 6151
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v15}, Landroid/widget/TextView;->setGravity(I)V

    .line 6152
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setLines(I)V

    .line 6153
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6154
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    sget v4, Lorg/telegram/messenger/R$string;->SetAsMyPhoto:I

    const-string v13, "SetAsMyPhoto"

    invoke-static {v13, v4}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v4}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6155
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/high16 v4, 0x41700000    # 15.0f

    invoke-virtual {v0, v1, v4}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6156
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6157
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda37;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda37;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6158
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/16 v13, 0x8

    invoke-virtual {v0, v13}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6159
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    const/16 v23, -0x1

    const/16 v24, 0x30

    const/16 v25, 0x33

    const/16 v26, 0x14

    const/16 v27, 0x0

    const/16 v28, 0x14

    const/16 v29, 0x40

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v0, v1, v4}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6161
    new-instance v0, Lorg/telegram/ui/PhotoViewer$26;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$26;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    .line 6195
    new-instance v1, Lorg/telegram/ui/PhotoViewer$27;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$27;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setDelegate(Lorg/telegram/ui/Components/VideoTimelinePlayView$VideoTimelineViewDelegate;)V

    .line 6328
    new-instance v0, Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/FrameLayout;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    .line 6329
    invoke-virtual {v0, v12}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 6330
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-static {v8, v2, v7}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6331
    invoke-direct {v9, v12, v12}, Lorg/telegram/ui/PhotoViewer;->showVideoTimeline(ZZ)V

    .line 6332
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoTimelineViewContainer:Landroid/widget/FrameLayout;

    const/16 v24, 0x36

    const/16 v25, 0x53

    const/16 v26, 0x0

    const/16 v27, 0x8

    const/16 v28, 0x0

    const/16 v29, 0x0

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6334
    new-instance v4, Lorg/telegram/ui/PhotoViewer$28;

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v7, v9, Lorg/telegram/ui/PhotoViewer;->blurManager:Lorg/telegram/ui/Components/BlurringShader$BlurManager;

    new-instance v8, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda64;

    invoke-direct {v8, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda64;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    move-object/from16 v25, v0

    move-object v0, v4

    move-object/from16 v26, v1

    move-object/from16 v1, p0

    move/from16 v30, v3

    const/high16 v15, 0x41600000    # 14.0f

    const/16 v18, 0x14

    move-object/from16 v3, v26

    move-object v14, v4

    const v17, 0x40ffffff    # 7.9999995f

    const/16 v20, -0x2

    move-object/from16 v4, v25

    move/from16 v31, v5

    move-object/from16 v5, v25

    move/from16 v32, v6

    move-object/from16 v6, p3

    const/16 v15, 0x53

    const/4 v13, -0x1

    invoke-direct/range {v0 .. v8}, Lorg/telegram/ui/PhotoViewer$28;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;Landroid/widget/FrameLayout;Lorg/telegram/ui/Components/SizeNotifierFrameLayout;Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;Lorg/telegram/ui/Components/BlurringShader$BlurManager;Ljava/lang/Runnable;)V

    iput-object v14, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    .line 6401
    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda91;

    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda91;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v14, v0}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setOnTimerChange(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 6412
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    iget v1, v9, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setAccount(I)V

    .line 6413
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda90;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda90;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->setOnHeightUpdate(Lorg/telegram/messenger/Utilities$Callback;)V

    .line 6417
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda34;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda34;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->setOnAddPhotoClick(Landroid/view/View$OnClickListener;)V

    .line 6424
    invoke-direct {v9, v12, v12}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 6426
    new-instance v0, Lorg/telegram/ui/PhotoViewer$29;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v9, v1}, Lorg/telegram/ui/PhotoViewer$29;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    .line 6433
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-static {v13, v13, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6434
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->captionEditContainer:Landroid/widget/FrameLayout;

    const/4 v2, -0x1

    const/4 v3, -0x1

    const/16 v4, 0x53

    const/4 v5, 0x0

    const/16 v6, 0x8

    const/4 v7, 0x0

    const/4 v8, 0x0

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6436
    new-instance v0, Landroid/widget/TextView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/4 v1, 0x1

    .line 6437
    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setSingleLine(Z)V

    .line 6438
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/16 v2, 0x8

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6439
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    sget v2, Lorg/telegram/messenger/R$string;->ChooseCover:I

    const-string v3, "ChooseCover"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6440
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setGravity(I)V

    .line 6441
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/high16 v2, 0x41600000    # 14.0f

    invoke-virtual {v0, v1, v2}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6442
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const v1, -0x737374

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6443
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->videoAvatarTooltip:Landroid/widget/TextView;

    const/4 v2, -0x1

    const/4 v3, -0x2

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6445
    new-instance v0, Landroid/widget/ImageView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    .line 6446
    sget-object v1, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    const/16 v0, 0x30

    .line 6447
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    move/from16 v0, v31

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    sget v3, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v4, 0x15

    if-lt v3, v4, :cond_9

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButtonPressed:I

    goto :goto_3

    :cond_9
    move v5, v0

    :goto_3
    invoke-direct {v9, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    invoke-static {v1, v2, v3}, Lorg/telegram/ui/ActionBar/Theme;->createSimpleSelectorCircleDrawable(III)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendDrawable:Landroid/graphics/drawable/Drawable;

    .line 6448
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-virtual {v2, v1}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6449
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_input_send_mini:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6450
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v2, Landroid/graphics/PorterDuffColorFilter;

    sget v3, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingIcon:I

    invoke-direct {v9, v3}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v3

    sget-object v4, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v2, v3, v4}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 6451
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/16 v33, 0x30

    const/high16 v34, 0x42400000    # 48.0f

    const/16 v35, 0x55

    const/16 v36, 0x0

    const/16 v37, 0x0

    const/high16 v38, 0x41600000    # 14.0f

    const v39, 0x40151eb8    # 2.33f

    invoke-static/range {v33 .. v39}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IFIFFFF)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6452
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->Send:I

    const-string v3, "Send"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6453
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    invoke-static {v1}, Lorg/telegram/ui/Components/ScaleStateListAnimator;->apply(Landroid/view/View;)V

    .line 6454
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda30;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda30;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6469
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda50;

    invoke-direct {v2, v9, v10}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda50;-><init>(Lorg/telegram/ui/PhotoViewer;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnLongClickListener(Landroid/view/View$OnLongClickListener;)V

    .line 6644
    new-instance v1, Lorg/telegram/ui/PhotoViewer$30;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v9, v2}, Lorg/telegram/ui/PhotoViewer$30;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    .line 6689
    invoke-virtual {v1, v12}, Landroid/widget/LinearLayout;->setOrientation(I)V

    .line 6690
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    const/16 v33, -0x2

    const/16 v34, 0x30

    const/16 v35, 0x51

    const/16 v36, 0x0

    const/16 v37, 0x0

    const/16 v38, 0x46

    const/16 v39, 0x0

    invoke-static/range {v33 .. v39}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6692
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    .line 6693
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6694
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_crop:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6695
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6696
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6697
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda32;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda32;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6716
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->CropImage:I

    const-string v3, "CropImage"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6718
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    .line 6719
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6720
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->msg_photo_rotate:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6721
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6722
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6723
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda44;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda44;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6724
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrRotate:I

    const-string v3, "AccDescrRotate"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6726
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    .line 6727
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6728
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_flip:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6729
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6730
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6731
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda40;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda40;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6732
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrMirror:I

    const-string v3, "AccDescrMirror"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6734
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    .line 6735
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6736
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_draw:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6737
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6738
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6739
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda45;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda45;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6758
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoEditor:I

    const-string v3, "AccDescrPhotoEditor"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6760
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    .line 6761
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6762
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6763
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/16 v33, 0x30

    const/16 v35, 0x53

    const/16 v36, 0x10

    const/16 v38, 0x0

    invoke-static/range {v33 .. v39}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6764
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda36;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda36;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6781
    new-instance v1, Lorg/telegram/ui/Components/VideoCompressButton;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Lorg/telegram/ui/Components/VideoCompressButton;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/4 v2, 0x1

    .line 6782
    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v3}, Landroid/view/View;->setTag(Ljava/lang/Object;)V

    .line 6783
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v3

    invoke-virtual {v1, v3}, Landroid/view/View;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6785
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->selectCompression()I

    move-result v1

    iput v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedCompression:I

    .line 6786
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    iget-boolean v3, v9, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    if-eqz v3, :cond_a

    iget v3, v9, Lorg/telegram/ui/PhotoViewer;->compressionsCount:I

    if-le v3, v2, :cond_a

    const/4 v2, 0x1

    goto :goto_4

    :cond_a
    move v2, v12

    :goto_4
    iget-boolean v3, v9, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    iget v4, v9, Lorg/telegram/ui/PhotoViewer;->resultWidth:I

    iget v5, v9, Lorg/telegram/ui/PhotoViewer;->resultHeight:I

    invoke-static {v4, v5}, Ljava/lang/Math;->min(II)I

    move-result v4

    invoke-virtual {v1, v2, v3, v4}, Lorg/telegram/ui/Components/VideoCompressButton;->setState(ZZI)V

    .line 6787
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrVideoQuality:I

    const-string v3, "AccDescrVideoQuality"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6788
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6789
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda49;

    invoke-direct {v2, v9, v11}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda49;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/app/Activity;)V

    invoke-virtual {v1, v2}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6807
    new-instance v1, Landroid/widget/ImageView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v2}, Landroid/widget/ImageView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    .line 6808
    sget-object v2, Landroid/widget/ImageView$ScaleType;->CENTER:Landroid/widget/ImageView$ScaleType;

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setScaleType(Landroid/widget/ImageView$ScaleType;)V

    .line 6809
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->media_settings:I

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 6810
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-static/range {v17 .. v17}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6811
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->itemsLayout:Landroid/widget/LinearLayout;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    const/16 v3, 0x30

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createLinear(II)Landroid/widget/LinearLayout$LayoutParams;

    move-result-object v4

    invoke-virtual {v1, v2, v4}, Landroid/widget/LinearLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6812
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda29;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda29;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6831
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$string;->AccDescrPhotoAdjust:I

    const-string v3, "AccDescrPhotoAdjust"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 6833
    new-instance v1, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v1, v2}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/high16 v2, -0x34000000    # -3.3554432E7f

    .line 6834
    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setBackgroundColor(I)V

    .line 6835
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    invoke-virtual {v1, v12, v12}, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->updateSelectedCount(IZ)V

    .line 6836
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/FrameLayout;->setVisibility(I)V

    .line 6837
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    const/16 v3, 0x30

    invoke-static {v13, v3, v15}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6838
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v1, v1, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->cancelButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda33;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda33;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6870
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v1, v1, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda27;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda27;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6878
    new-instance v1, Landroid/widget/TextView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v1, v2}, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    .line 6879
    invoke-virtual {v1, v12}, Landroid/widget/TextView;->setClickable(Z)V

    .line 6880
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v2, 0x8

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setVisibility(I)V

    .line 6881
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/high16 v2, 0x41600000    # 14.0f

    const/4 v3, 0x1

    invoke-virtual {v1, v3, v2}, Landroid/widget/TextView;->setTextSize(IF)V

    .line 6882
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-virtual {v1, v13}, Landroid/widget/TextView;->setTextColor(I)V

    .line 6883
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v2, 0x11

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setGravity(I)V

    .line 6884
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const v2, -0xc2c2c3

    invoke-static {v2, v12}, Lorg/telegram/ui/ActionBar/Theme;->createSelectorDrawable(II)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setBackgroundDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 6885
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-static/range {v18 .. v18}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v2

    invoke-static/range {v18 .. v18}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    invoke-virtual {v1, v2, v12, v3, v12}, Landroid/widget/TextView;->setPadding(IIII)V

    .line 6886
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    sget v2, Lorg/telegram/messenger/R$string;->CropReset:I

    const-string v3, "Reset"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/String;->toUpperCase()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 6887
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->getTypeface(Ljava/lang/String;)Landroid/graphics/Typeface;

    move-result-object v2

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V

    .line 6888
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    const/16 v3, 0x31

    const/4 v4, -0x2

    invoke-static {v4, v13, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6889
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->resetButton:Landroid/widget/TextView;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda46;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda46;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6899
    new-instance v1, Lorg/telegram/ui/Components/GestureDetector2;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v2}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v1, v2, v9}, Lorg/telegram/ui/Components/GestureDetector2;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/GestureDetector2$OnGestureListener;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->gestureDetector:Lorg/telegram/ui/Components/GestureDetector2;

    .line 6900
    invoke-virtual {v1, v12}, Lorg/telegram/ui/Components/GestureDetector2;->setIsLongpressEnabled(Z)V

    const/4 v1, 0x1

    .line 6901
    invoke-direct {v9, v1}, Lorg/telegram/ui/PhotoViewer;->setDoubleTapEnabled(Z)V

    .line 6903
    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda86;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda86;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 6925
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v4, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6926
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    const/4 v4, 0x2

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6927
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v1}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6928
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6929
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v5}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6930
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6931
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v1}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6932
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->leftImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v2}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6933
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    iget-object v5, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3, v5}, Lorg/telegram/messenger/ImageReceiver;->setParentView(Landroid/view/View;)V

    .line 6934
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v4}, Lorg/telegram/messenger/ImageReceiver;->setCrossfadeAlpha(B)V

    .line 6935
    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3, v1}, Lorg/telegram/messenger/ImageReceiver;->setInvalidateAll(Z)V

    .line 6936
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->rightImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v1, v2}, Lorg/telegram/messenger/ImageReceiver;->setDelegate(Lorg/telegram/messenger/ImageReceiver$ImageReceiverDelegate;)V

    .line 6938
    sget-object v1, Lorg/telegram/messenger/ApplicationLoader;->applicationContext:Landroid/content/Context;

    const-string v2, "window"

    invoke-virtual {v1, v2}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Landroid/view/WindowManager;

    .line 6939
    invoke-interface {v1}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/Display;->getRotation()I

    move-result v1

    .line 6941
    new-instance v2, Lorg/telegram/ui/Components/CheckBox;

    iget-object v3, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v3

    sget v4, Lorg/telegram/messenger/R$drawable;->selectphoto_large:I

    invoke-direct {v2, v3, v4}, Lorg/telegram/ui/Components/CheckBox;-><init>(Landroid/content/Context;I)V

    iput-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/4 v3, 0x1

    .line 6942
    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/CheckBox;->setDrawBackground(Z)V

    .line 6943
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v2, v3}, Lorg/telegram/ui/Components/CheckBox;->setHasBorder(Z)V

    .line 6944
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v4, 0x22

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/CheckBox;->setSize(I)V

    .line 6945
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    invoke-virtual {v2, v4}, Lorg/telegram/ui/Components/CheckBox;->setCheckOffset(I)V

    .line 6946
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v0

    invoke-virtual {v2, v0, v13}, Lorg/telegram/ui/Components/CheckBox;->setColor(II)V

    .line 6947
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v2, 0x8

    invoke-virtual {v0, v2}, Lorg/telegram/ui/Components/CheckBox;->setVisibility(I)V

    .line 6948
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    const/16 v23, 0x22

    const/16 v24, 0x22

    const/16 v25, 0x35

    const/16 v26, 0x0

    const/4 v3, 0x3

    if-eq v1, v3, :cond_c

    const/4 v3, 0x1

    if-ne v1, v3, :cond_b

    goto :goto_5

    :cond_b
    const/16 v3, 0x47

    goto :goto_6

    :cond_c
    :goto_5
    const/16 v3, 0x3d

    :goto_6
    move/from16 v27, v3

    const/16 v28, 0xb

    const/16 v29, 0x0

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6949
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_d

    .line 6950
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    invoke-virtual {v0}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0

    check-cast v0, Landroid/widget/FrameLayout$LayoutParams;

    iget v2, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    sget v3, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v2, v3

    iput v2, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    .line 6952
    :cond_d
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda35;

    invoke-direct {v2, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda35;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v2}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6959
    new-instance v0, Lorg/telegram/ui/PhotoViewer$CounterView;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v2}, Lorg/telegram/ui/PhotoViewer$CounterView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    .line 6960
    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    const/16 v23, 0x28

    const/16 v24, 0x28

    const/16 v25, 0x35

    const/16 v26, 0x0

    const/4 v3, 0x3

    if-eq v1, v3, :cond_f

    const/4 v3, 0x1

    if-ne v1, v3, :cond_e

    goto :goto_7

    :cond_e
    const/16 v1, 0x44

    goto :goto_8

    :cond_f
    :goto_7
    const/16 v1, 0x3a

    :goto_8
    move/from16 v27, v1

    const/16 v28, 0x40

    const/16 v29, 0x0

    invoke-static/range {v23 .. v29}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v1

    invoke-virtual {v2, v0, v1}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6961
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v0

    if-eqz v0, :cond_10

    .line 6962
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    invoke-virtual {v0}, Landroid/view/View;->getLayoutParams()Landroid/view/ViewGroup$LayoutParams;

    move-result-object v0

    check-cast v0, Landroid/widget/FrameLayout$LayoutParams;

    iget v1, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    sget v2, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    add-int/2addr v1, v2

    iput v1, v0, Landroid/widget/FrameLayout$LayoutParams;->topMargin:I

    .line 6964
    :cond_10
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda39;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda39;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6971
    new-instance v0, Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v0, v1}, Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v1, 0x8

    .line 6972
    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setVisibility(I)V

    .line 6973
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/ViewGroup;->setAlpha(F)V

    .line 6974
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$31;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v3, 0x1

    invoke-direct {v1, v9, v2, v12, v3}, Lorg/telegram/ui/PhotoViewer$31;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;IZ)V

    invoke-virtual {v0, v1}, Landroidx/recyclerview/widget/RecyclerView;->setLayoutManager(Landroidx/recyclerview/widget/RecyclerView$LayoutManager;)V

    .line 6987
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$ListAdapter;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    invoke-direct {v1, v9, v2}, Lorg/telegram/ui/PhotoViewer$ListAdapter;-><init>(Lorg/telegram/ui/PhotoViewer;Landroid/content/Context;)V

    iput-object v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosAdapter:Lorg/telegram/ui/PhotoViewer$ListAdapter;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setAdapter(Landroidx/recyclerview/widget/RecyclerView$Adapter;)V

    .line 6988
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    const/16 v2, 0x67

    const/16 v3, 0x33

    invoke-static {v13, v2, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 6989
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda96;

    invoke-direct {v1, v9}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda96;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/RecyclerListView;->setOnItemClickListener(Lorg/telegram/ui/Components/RecyclerListView$OnItemClickListener;)V

    .line 7005
    new-instance v0, Lorg/telegram/ui/Components/UndoView;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    const/4 v2, 0x0

    invoke-direct {v0, v1, v2, v12, v10}, Lorg/telegram/ui/Components/UndoView;-><init>(Landroid/content/Context;Lorg/telegram/ui/ActionBar/BaseFragment;ZLorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const/16 v1, 0x70

    .line 7006
    invoke-static {v1}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v1

    int-to-float v1, v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/UndoView;->setAdditionalTranslationY(F)V

    .line 7007
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const v1, -0x6ddddde

    invoke-virtual {v0, v1, v13}, Lorg/telegram/ui/Components/UndoView;->setColors(II)V

    .line 7008
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->hintView:Lorg/telegram/ui/Components/UndoView;

    const/4 v2, -0x1

    const/4 v3, -0x2

    const/16 v4, 0x53

    const/16 v5, 0x8

    const/4 v6, 0x0

    const/16 v7, 0x8

    const/16 v8, 0x8

    invoke-static/range {v2 .. v8}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(IIIIIII)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 7010
    invoke-static {}, Lorg/telegram/messenger/AndroidUtilities;->isAccessibilityScreenReaderEnabled()Z

    move-result v0

    if-eqz v0, :cond_11

    .line 7011
    new-instance v0, Landroid/view/View;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->activityContext:Landroid/content/Context;

    invoke-direct {v0, v1}, Landroid/view/View;-><init>(Landroid/content/Context;)V

    iput-object v0, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    .line 7012
    sget v1, Lorg/telegram/messenger/R$string;->AccActionPlay:I

    const-string v2, "AccActionPlay"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/view/View;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 7013
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/view/View;->setFocusable(Z)V

    .line 7014
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    iget-object v2, v9, Lorg/telegram/ui/PhotoViewer;->playButtonAccessibilityOverlay:Landroid/view/View;

    const/16 v3, 0x40

    const/16 v4, 0x11

    invoke-static {v3, v3, v4}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(III)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v0, v2, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    goto :goto_9

    :cond_11
    const/4 v1, 0x1

    .line 7017
    :goto_9
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    move/from16 v2, v30

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    new-array v3, v1, [F

    const/high16 v4, 0x40c00000    # 6.0f

    aput v4, v3, v12

    invoke-static {v2, v3}, Lorg/telegram/ui/ActionBar/Theme$AdaptiveRipple;->filledRect(I[F)Landroid/graphics/drawable/Drawable;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setBackground(Landroid/graphics/drawable/Drawable;)V

    .line 7018
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->doneButtonFullWidth:Landroid/widget/TextView;

    move/from16 v2, v32

    invoke-direct {v9, v2}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v2

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setTextColor(I)V

    .line 7020
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    iput-boolean v1, v0, Lorg/telegram/ui/Cells/TextSelectionHelper;->allowScrollPrentRelative:Z

    .line 7021
    iput-boolean v12, v0, Lorg/telegram/ui/Cells/TextSelectionHelper;->useMovingOffset:Z

    .line 7022
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    invoke-virtual {v1}, Landroid/widget/FrameLayout;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Cells/TextSelectionHelper;->getOverlayView(Landroid/content/Context;)Lorg/telegram/ui/Cells/TextSelectionHelper$TextSelectionOverlay;

    move-result-object v0

    if-eqz v0, :cond_12

    .line 7024
    invoke-static {v0}, Lorg/telegram/messenger/AndroidUtilities;->removeFromParent(Landroid/view/View;)V

    .line 7025
    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v1, v0}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;)V

    .line 7027
    :cond_12
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    iget-object v1, v9, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Cells/TextSelectionHelper;->setParentView(Landroid/view/ViewGroup;)V

    .line 7028
    iget-object v0, v9, Lorg/telegram/ui/PhotoViewer;->textSelectionHelper:Lorg/telegram/ui/Cells/TextSelectionHelper$SimpleTextSelectionHelper;

    invoke-virtual {v0}, Lorg/telegram/ui/Cells/TextSelectionHelper;->setInvalidateParent()V

    return-void

    .line 4561
    :cond_13
    :goto_a
    invoke-virtual/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->updateColors()V

    return-void

    nop

    :array_0
    .array-data 4
        0x32000000
        0x0
    .end array-data

    :array_1
    .array-data 4
        0x32000000
        0x0
    .end array-data
.end method

.method public setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 1

    const/4 v0, 0x0

    .line 4537
    invoke-virtual {p0, p1, v0, p2}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;)V
    .locals 1

    const/4 v0, 0x0

    .line 4541
    invoke-virtual {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentActivity(Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V
    .locals 1

    const/4 v0, 0x0

    .line 4545
    invoke-virtual {p0, v0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->setParentActivity(Landroid/app/Activity;Lorg/telegram/ui/ActionBar/BaseFragment;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    return-void
.end method

.method public setParentAlert(Lorg/telegram/ui/Components/ChatAttachAlert;)V
    .locals 0

    .line 4529
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentAlert:Lorg/telegram/ui/Components/ChatAttachAlert;

    return-void
.end method

.method public setParentChatActivity(Lorg/telegram/ui/ChatActivity;)V
    .locals 0

    .line 14347
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->parentChatActivity:Lorg/telegram/ui/ChatActivity;

    return-void
.end method

.method public setTitle(Ljava/lang/CharSequence;)V
    .locals 1

    .line 14465
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    invoke-virtual {v0, p1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setTitle(Ljava/lang/CharSequence;)V

    const/4 p1, 0x1

    const/4 v0, 0x0

    .line 14466
    invoke-direct {p0, p1, v0}, Lorg/telegram/ui/PhotoViewer;->toggleActionBar(ZZ)V

    return-void
.end method

.method public showAlertDialog(Landroid/app/Dialog;)V
    .locals 1

    .line 9571
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    if-nez v0, :cond_0

    return-void

    .line 9575
    :cond_0
    :try_start_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    if-eqz v0, :cond_1

    .line 9576
    invoke-virtual {v0}, Landroid/app/Dialog;->dismiss()V

    const/4 v0, 0x0

    .line 9577
    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    :catch_0
    move-exception v0

    .line 9580
    invoke-static {v0}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    .line 9585
    :cond_1
    :goto_0
    :try_start_1
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    .line 9586
    invoke-virtual {p1}, Landroid/app/Dialog;->show()V

    .line 9588
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    const/4 v0, 0x1

    invoke-virtual {p1, v0}, Landroid/app/Dialog;->setCanceledOnTouchOutside(Z)V

    .line 9589
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->visibleDialog:Landroid/app/Dialog;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda25;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda25;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V
    :try_end_1
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_1

    goto :goto_1

    :catch_1
    move-exception p1

    .line 9591
    invoke-static {p1}, Lorg/telegram/messenger/FileLog;->e(Ljava/lang/Throwable;)V

    :goto_1
    return-void
.end method

.method public showAlertDialog(Lorg/telegram/ui/ActionBar/AlertDialog$Builder;)V
    .locals 0

    .line 338
    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog$Builder;->create()Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object p1

    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method public showAppUpdateDialog()V
    .locals 1

    .line 357
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    invoke-static {v0}, Lcom/iMe/utils/dialogs/DialogsFactoryKt;->createUpdateAppDialog(Lorg/telegram/ui/ActionBar/BaseFragment;)Lorg/telegram/ui/ActionBar/AlertDialog;

    move-result-object v0

    invoke-virtual {p0, v0}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method public showCaptionLimitBulletin(Landroid/widget/FrameLayout;)Z
    .locals 2

    .line 7033
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->parentFragment:Lorg/telegram/ui/ActionBar/BaseFragment;

    instance-of v1, v0, Lorg/telegram/ui/ChatActivity;

    if-eqz v1, :cond_1

    check-cast v0, Lorg/telegram/ui/ChatActivity;

    invoke-virtual {v0}, Lorg/telegram/ui/ChatActivity;->getCurrentChat()Lorg/telegram/tgnet/TLRPC$Chat;

    move-result-object v0

    invoke-static {v0}, Lorg/telegram/messenger/ChatObject;->isChannelAndNotMegaGroup(Lorg/telegram/tgnet/TLRPC$Chat;)Z

    move-result v0

    if-nez v0, :cond_0

    goto :goto_0

    .line 7036
    :cond_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-static {p1, v0}, Lorg/telegram/ui/Components/BulletinFactory;->of(Landroid/widget/FrameLayout;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)Lorg/telegram/ui/Components/BulletinFactory;

    move-result-object p1

    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->currentAccount:I

    invoke-static {v0}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object v0

    iget v0, v0, Lorg/telegram/messenger/MessagesController;->captionLengthLimitPremium:I

    new-instance v1, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda66;

    invoke-direct {v1, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda66;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {p1, v0, v1}, Lorg/telegram/ui/Components/BulletinFactory;->createCaptionLimitBulletin(ILjava/lang/Runnable;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda73;

    invoke-direct {v0, p0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda73;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    .line 7044
    invoke-virtual {p1, v0}, Lorg/telegram/ui/Components/Bulletin;->setOnHideListener(Ljava/lang/Runnable;)Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    .line 7046
    invoke-virtual {p1}, Lorg/telegram/ui/Components/Bulletin;->show()Lorg/telegram/ui/Components/Bulletin;

    move-result-object p1

    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->limitBulletin:Lorg/telegram/ui/Components/Bulletin;

    const/4 p1, 0x1

    return p1

    :cond_1
    :goto_0
    const/4 p1, 0x0

    return p1
.end method

.method public showErrorToast(Lcom/iMe/storage/domain/model/Result$Error;Lcom/iMe/storage/domain/utils/system/ResourceManager;)V
    .locals 0
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "<T:",
            "Ljava/lang/Object;",
            ">(",
            "Lcom/iMe/storage/domain/model/Result$Error<",
            "+TT;>;",
            "Lcom/iMe/storage/domain/utils/system/ResourceManager;",
            ")V"
        }
    .end annotation

    .line 423
    invoke-virtual {p1}, Lcom/iMe/storage/domain/model/Result$Error;->getError()Lcom/iMe/storage/data/network/model/error/ErrorModel;

    move-result-object p1

    invoke-virtual {p1, p2}, Lcom/iMe/storage/data/network/model/error/ErrorModel;->getErrorMessage(Lcom/iMe/storage/domain/utils/system/ResourceManager;)Ljava/lang/String;

    move-result-object p1

    invoke-static {p1}, Lcom/iMe/utils/extentions/common/ContextExtKt;->longToast(Ljava/lang/CharSequence;)V

    return-void
.end method

.method public showLoadingDialog(ZZLio/reactivex/disposables/Disposable;)V
    .locals 3

    .line 388
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    if-nez v0, :cond_0

    .line 389
    new-instance v0, Lorg/telegram/ui/ActionBar/AlertDialog;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    const/4 v2, 0x3

    invoke-direct {v0, v1, v2}, Lorg/telegram/ui/ActionBar/AlertDialog;-><init>(Landroid/content/Context;I)V

    iput-object v0, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    .line 390
    invoke-virtual {v0, p2}, Lorg/telegram/ui/ActionBar/AlertDialog;->setCanCancel(Z)V

    .line 391
    iget-object p2, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    new-instance v0, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda19;

    invoke-direct {v0, p3}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda19;-><init>(Lio/reactivex/disposables/Disposable;)V

    invoke-virtual {p2, v0}, Lorg/telegram/ui/ActionBar/AlertDialog;->setOnCancelListener(Landroid/content/DialogInterface$OnCancelListener;)V

    :cond_0
    if-eqz p1, :cond_1

    .line 399
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog;->show()V

    goto :goto_0

    .line 401
    :cond_1
    iget-object p1, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    invoke-virtual {p1}, Lorg/telegram/ui/ActionBar/AlertDialog;->dismiss()V

    const/4 p1, 0x0

    .line 402
    iput-object p1, p0, Lorg/telegram/ui/PhotoViewer;->progressDialog:Lorg/telegram/ui/ActionBar/AlertDialog;

    :goto_0
    return-void
.end method

.method public showPhotoObjectsDialog(Ljava/lang/String;)V
    .locals 2

    .line 383
    sget v0, Lorg/telegram/messenger/R$string;->image_recognition_bottom_sheet_title:I

    sget v1, Lorg/telegram/messenger/R$drawable;->fork_photo_objects:I

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->showRecognitionDialog(Ljava/lang/String;II)V

    return-void
.end method

.method public showPhotoTextDialog(Ljava/lang/String;)V
    .locals 2

    .line 378
    sget v0, Lorg/telegram/messenger/R$string;->text_recognition_bottom_sheet_title:I

    sget v1, Lorg/telegram/messenger/R$drawable;->fork_photo_text:I

    invoke-direct {p0, p1, v0, v1}, Lorg/telegram/ui/PhotoViewer;->showRecognitionDialog(Ljava/lang/String;II)V

    return-void
.end method

.method public showToast(Ljava/lang/String;)V
    .locals 0

    .line 418
    invoke-static {p1}, Lcom/iMe/utils/extentions/common/ContextExtKt;->longToast(Ljava/lang/CharSequence;)V

    return-void
.end method

.method public showTranslateDialog(Ljava/lang/String;)V
    .locals 6

    .line 364
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->getPreviousFragment()Lorg/telegram/ui/ActionBar/BaseFragment;

    move-result-object v0

    new-instance v1, Lcom/iMe/model/translation/TranslationArgs;

    sget-object v2, Lcom/iMe/fork/enums/TranslationDialogType;->INCOMING:Lcom/iMe/fork/enums/TranslationDialogType;

    const/4 v3, 0x0

    invoke-direct {v1, v2, p1, v3}, Lcom/iMe/model/translation/TranslationArgs;-><init>(Lcom/iMe/fork/enums/TranslationDialogType;Ljava/lang/String;Lcom/iMe/storage/domain/model/dialogs/DialogTranslationSettings;)V

    sget p1, Lorg/telegram/messenger/UserConfig;->selectedAccount:I

    .line 371
    invoke-static {p1}, Lorg/telegram/messenger/MessagesController;->getInstance(I)Lorg/telegram/messenger/MessagesController;

    move-result-object p1

    iget-wide v4, p0, Lorg/telegram/ui/PhotoViewer;->currentDialogId:J

    neg-long v4, v4

    invoke-virtual {p1, v4, v5}, Lorg/telegram/messenger/MessagesController;->isChatNoForwards(J)Z

    move-result p1

    .line 363
    invoke-static {v0, v1, v3, p1}, Lcom/iMe/fork/ui/dialog/TranslateAlert;->createInstanceForForkTranslation(Lorg/telegram/ui/ActionBar/BaseFragment;Lcom/iMe/model/translation/TranslationArgs;Lcom/iMe/fork/ui/dialog/TranslateAlert$TranslatorActionsDelegate;Z)Lcom/iMe/fork/ui/dialog/TranslateAlert;

    move-result-object p1

    .line 362
    invoke-virtual {p0, p1}, Lorg/telegram/ui/PhotoViewer;->showAlertDialog(Landroid/app/Dialog;)V

    return-void
.end method

.method public switchToEditMode(I)V
    .locals 31

    move-object/from16 v0, p0

    move/from16 v1, p1

    .line 10258
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eq v2, v1, :cond_59

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    const/4 v3, -0x1

    const/4 v4, 0x3

    const/4 v5, 0x0

    if-eqz v2, :cond_0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v5

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v2

    if-eq v2, v4, :cond_0

    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v2, :cond_0

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v2}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v2

    if-eqz v2, :cond_59

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoProgressViews:[Lorg/telegram/ui/PhotoViewer$PhotoProgressView;

    aget-object v2, v2, v5

    invoke-static {v2}, Lorg/telegram/ui/PhotoViewer$PhotoProgressView;->access$24400(Lorg/telegram/ui/PhotoViewer$PhotoProgressView;)I

    move-result v2

    if-ne v2, v3, :cond_59

    :cond_0
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    if-nez v2, :cond_59

    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    if-nez v2, :cond_59

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isCaptionOpen()Z

    move-result v2

    if-eqz v2, :cond_1

    goto/16 :goto_2d

    .line 10261
    :cond_1
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->placeProvider:Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;

    const/4 v6, 0x1

    if-eqz v2, :cond_4

    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-eqz v7, :cond_2

    if-nez v1, :cond_4

    :cond_2
    if-eqz v1, :cond_3

    move v7, v6

    goto :goto_0

    :cond_3
    move v7, v5

    .line 10262
    :goto_0
    invoke-interface {v2, v7}, Lorg/telegram/ui/PhotoViewer$PhotoViewerProvider;->onEditModeChanged(Z)V

    .line 10264
    :cond_4
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->windowView:Landroid/widget/FrameLayout;

    const/4 v7, 0x2

    if-ne v1, v7, :cond_5

    move v8, v6

    goto :goto_1

    :cond_5
    move v8, v5

    :goto_1
    invoke-virtual {v2, v8}, Landroid/widget/FrameLayout;->setClipChildren(Z)V

    .line 10266
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2}, Landroid/view/View;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    instance-of v2, v2, Landroid/graphics/drawable/ColorDrawable;

    const/high16 v8, 0x7f000000

    if-eqz v2, :cond_6

    .line 10267
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    invoke-virtual {v2}, Landroid/view/View;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    check-cast v2, Landroid/graphics/drawable/ColorDrawable;

    invoke-virtual {v2}, Landroid/graphics/drawable/ColorDrawable;->getColor()I

    move-result v2

    goto :goto_2

    :cond_6
    move v2, v8

    :goto_2
    if-ne v1, v6, :cond_7

    const/high16 v8, -0x34000000    # -3.3554432E7f

    goto :goto_3

    :cond_7
    if-ne v1, v4, :cond_8

    const/high16 v8, -0x1000000

    goto :goto_3

    :cond_8
    if-nez v1, :cond_9

    .line 10274
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->fancyShadows:Z

    if-eqz v9, :cond_9

    move v8, v5

    .line 10279
    :cond_9
    :goto_3
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->editing:Z

    if-eqz v9, :cond_a

    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->savedState:Lorg/telegram/ui/PhotoViewer$SavedState;

    if-nez v9, :cond_a

    if-nez v1, :cond_a

    move v9, v6

    goto :goto_4

    :cond_a
    move v9, v5

    :goto_4
    invoke-direct {v0, v9, v6}, Lorg/telegram/ui/PhotoViewer;->showEditCaption(ZZ)V

    .line 10280
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eq v1, v7, :cond_b

    move v11, v5

    goto :goto_5

    :cond_b
    const/4 v11, 0x4

    :goto_5
    invoke-virtual {v9, v11}, Landroid/view/View;->setVisibility(I)V

    .line 10281
    iput v1, v0, Lorg/telegram/ui/PhotoViewer;->switchingToMode:I

    .line 10282
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-nez v9, :cond_d

    .line 10283
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v9, :cond_c

    invoke-virtual {v9}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->isShown()Z

    move-result v9

    if-eqz v9, :cond_c

    move v9, v6

    goto :goto_6

    :cond_c
    move v9, v5

    :goto_6
    iput-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->wasCountViewShown:Z

    .line 10285
    :cond_d
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->countView:Lorg/telegram/ui/PhotoViewer$PhotoCountView;

    if-eqz v9, :cond_f

    if-nez v1, :cond_e

    .line 10286
    iget-boolean v11, v0, Lorg/telegram/ui/PhotoViewer;->wasCountViewShown:Z

    if-eqz v11, :cond_e

    move v11, v6

    goto :goto_7

    :cond_e
    move v11, v5

    :goto_7
    invoke-virtual {v9, v11, v6}, Lorg/telegram/ui/PhotoViewer$PhotoCountView;->updateShow(ZZ)V

    :cond_f
    const/high16 v11, 0x3f800000    # 1.0f

    const-string v14, "backgroundColor"

    if-nez v1, :cond_2e

    .line 10289
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v3

    const/16 v16, 0xc

    if-eqz v3, :cond_2a

    .line 10291
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v3}, Lorg/telegram/messenger/ImageReceiver;->getBitmapWidth()I

    move-result v3

    .line 10292
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v12}, Lorg/telegram/messenger/ImageReceiver;->getBitmapHeight()I

    move-result v12

    .line 10296
    iget v13, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    const/16 v9, 0x10e

    const/16 v10, 0x5a

    if-ne v13, v4, :cond_15

    .line 10297
    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v11, v6, :cond_11

    .line 10298
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v11}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v11

    if-eq v11, v10, :cond_10

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v10

    if-ne v10, v9, :cond_14

    :cond_10
    move v9, v3

    move v3, v12

    goto :goto_8

    .line 10304
    :cond_11
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v11, v11, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v11, :cond_14

    .line 10305
    iget v13, v11, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v13, v10, :cond_12

    if-ne v13, v9, :cond_13

    :cond_12
    move/from16 v30, v12

    move v12, v3

    move/from16 v3, v30

    :cond_13
    int-to-float v3, v3

    .line 10310
    iget v9, v11, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v9

    float-to-int v3, v3

    int-to-float v9, v12

    .line 10311
    iget v10, v11, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v9, v10

    float-to-int v9, v9

    goto :goto_8

    :cond_14
    move v9, v12

    .line 10314
    :goto_8
    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v10

    int-to-float v10, v10

    int-to-float v3, v3

    div-float/2addr v10, v3

    invoke-direct {v0, v5}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v11

    int-to-float v11, v11

    int-to-float v9, v9

    div-float/2addr v11, v9

    invoke-static {v10, v11}, Ljava/lang/Math;->min(FF)F

    move-result v10

    .line 10315
    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v11

    int-to-float v11, v11

    div-float/2addr v11, v3

    invoke-direct {v0, v4}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v9

    invoke-static {v11, v3}, Ljava/lang/Math;->min(FF)F

    move-result v3

    goto/16 :goto_e

    :cond_15
    if-eq v13, v6, :cond_18

    .line 10317
    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v13, v13, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v13, :cond_18

    iget v13, v13, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v13, v10, :cond_16

    if-ne v13, v9, :cond_18

    .line 10318
    :cond_16
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v13

    int-to-float v13, v13

    int-to-float v4, v12

    div-float/2addr v13, v4

    int-to-float v7, v3

    mul-float v17, v13, v7

    .line 10319
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v15

    int-to-float v15, v15

    cmpl-float v15, v17, v15

    if-lez v15, :cond_17

    .line 10320
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v7

    .line 10322
    :cond_17
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v15

    int-to-float v15, v15

    div-float/2addr v15, v7

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v7

    int-to-float v7, v7

    div-float/2addr v7, v4

    invoke-static {v15, v7}, Ljava/lang/Math;->min(FF)F

    move-result v4

    div-float/2addr v13, v4

    div-float/2addr v11, v13

    .line 10324
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    goto :goto_9

    .line 10325
    :cond_18
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v6, :cond_1b

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-eq v4, v10, :cond_19

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-ne v4, v9, :cond_1b

    .line 10326
    :cond_19
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v4

    int-to-float v4, v4

    int-to-float v7, v12

    div-float/2addr v4, v7

    int-to-float v13, v3

    mul-float v15, v4, v13

    .line 10327
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v5

    int-to-float v5, v5

    cmpl-float v5, v15, v5

    if-lez v5, :cond_1a

    .line 10328
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v13

    .line 10330
    :cond_1a
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    int-to-float v5, v5

    div-float/2addr v5, v13

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v13

    int-to-float v13, v13

    div-float/2addr v13, v7

    invoke-static {v5, v13}, Ljava/lang/Math;->min(FF)F

    move-result v5

    .line 10331
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v7

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v13}, Lorg/telegram/ui/Components/Crop/CropTransform;->getTrueCropScale()F

    move-result v13

    div-float/2addr v7, v13

    mul-float/2addr v7, v4

    div-float/2addr v7, v5

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getMinScale()F

    move-result v4

    div-float/2addr v7, v4

    div-float/2addr v11, v7

    .line 10332
    iput v11, v0, Lorg/telegram/ui/PhotoViewer;->scale:F

    .line 10334
    :cond_1b
    :goto_9
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v4, v4, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v4, :cond_1e

    .line 10335
    iget v5, v4, Lorg/telegram/messenger/MediaController$CropState;->transformRotation:I

    if-eq v5, v10, :cond_1c

    if-ne v5, v9, :cond_1d

    :cond_1c
    move/from16 v30, v12

    move v12, v3

    move/from16 v3, v30

    :cond_1d
    int-to-float v3, v3

    .line 10340
    iget v5, v4, Lorg/telegram/messenger/MediaController$CropState;->cropPw:F

    mul-float/2addr v3, v5

    float-to-int v3, v3

    int-to-float v5, v12

    .line 10341
    iget v4, v4, Lorg/telegram/messenger/MediaController$CropState;->cropPh:F

    mul-float/2addr v5, v4

    float-to-int v4, v5

    goto :goto_a

    .line 10342
    :cond_1e
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v4, v6, :cond_20

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-eq v4, v10, :cond_1f

    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v4

    if-ne v4, v9, :cond_20

    :cond_1f
    move v4, v3

    move v3, v12

    goto :goto_a

    :cond_20
    move v4, v12

    .line 10347
    :goto_a
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth()I

    move-result v5

    int-to-float v5, v5

    int-to-float v3, v3

    div-float/2addr v5, v3

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight()I

    move-result v7

    int-to-float v7, v7

    int-to-float v4, v4

    div-float/2addr v7, v4

    invoke-static {v5, v7}, Ljava/lang/Math;->min(FF)F

    move-result v5

    .line 10348
    iget v7, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v7, v6, :cond_23

    .line 10349
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    if-eq v3, v10, :cond_22

    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    if-ne v3, v9, :cond_21

    goto :goto_b

    :cond_21
    const/4 v3, 0x0

    goto :goto_c

    :cond_22
    :goto_b
    move v3, v6

    :goto_c
    invoke-direct {v0, v3}, Lorg/telegram/ui/PhotoViewer;->getCropFillScale(Z)F

    move-result v10

    goto :goto_d

    :cond_23
    const/4 v7, 0x0

    .line 10351
    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewWidth(I)I

    move-result v9

    int-to-float v9, v9

    div-float/2addr v9, v3

    invoke-direct {v0, v7}, Lorg/telegram/ui/PhotoViewer;->getContainerViewHeight(I)I

    move-result v3

    int-to-float v3, v3

    div-float/2addr v3, v4

    invoke-static {v9, v3}, Ljava/lang/Math;->min(FF)F

    move-result v10

    :goto_d
    move v3, v5

    :goto_e
    div-float/2addr v10, v3

    .line 10354
    iput v10, v0, Lorg/telegram/ui/PhotoViewer;->animateToScale:F

    const/4 v3, 0x0

    .line 10355
    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToX:F

    .line 10356
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getLeftInset()I

    move-result v3

    const/4 v4, 0x2

    div-int/2addr v3, v4

    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->getRightInset()I

    move-result v5

    div-int/2addr v5, v4

    sub-int/2addr v3, v5

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->translationX:F

    .line 10357
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    const/high16 v5, 0x40000000    # 2.0f

    if-ne v3, v6, :cond_25

    .line 10358
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v4, :cond_24

    const/16 v3, 0x24

    .line 10359
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_10

    :cond_24
    const/4 v4, 0x3

    if-ne v3, v4, :cond_29

    .line 10361
    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    neg-int v3, v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10362
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v4, :cond_29

    .line 10363
    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_10

    .line 10367
    :cond_25
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v3, v6, :cond_26

    const/16 v3, 0x38

    .line 10368
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_f

    :cond_26
    const/4 v4, 0x2

    if-ne v3, v4, :cond_27

    const/16 v3, 0x5d

    .line 10370
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    goto :goto_f

    :cond_27
    const/4 v4, 0x3

    if-ne v3, v4, :cond_28

    const/16 v3, 0x2c

    .line 10372
    invoke-static {v3}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v3

    int-to-float v3, v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10373
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v4, :cond_28

    .line 10374
    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalTop()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10375
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getAdditionalBottom()I

    move-result v4

    int-to-float v4, v4

    div-float/2addr v4, v5

    add-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10378
    :cond_28
    :goto_f
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->isStatusBarVisible()Z

    move-result v3

    if-eqz v3, :cond_29

    .line 10379
    iget v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    sget v4, Lorg/telegram/messenger/AndroidUtilities;->statusBarHeight:I

    const/4 v5, 0x2

    div-int/2addr v4, v5

    int-to-float v4, v4

    sub-float/2addr v3, v4

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->animateToY:F

    .line 10382
    :cond_29
    :goto_10
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    iput-wide v3, v0, Lorg/telegram/ui/PhotoViewer;->animationStartTime:J

    .line 10383
    iput-boolean v6, v0, Lorg/telegram/ui/PhotoViewer;->zoomAnimation:Z

    const/4 v3, 0x0

    goto :goto_11

    :cond_2a
    move v3, v5

    .line 10385
    :goto_11
    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->padImageForHorizontalInsets:Z

    .line 10387
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    .line 10388
    new-instance v3, Ljava/util/ArrayList;

    const/4 v4, 0x4

    invoke-direct {v3, v4}, Ljava/util/ArrayList;-><init>(I)V

    .line 10389
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->currentEditMode:I

    if-ne v4, v6, :cond_2b

    .line 10390
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    const/16 v9, 0x30

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10391
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_0

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10392
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v7, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v6, [F

    const/4 v11, 0x0

    aput v11, v9, v10

    invoke-static {v4, v7, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    new-array v4, v5, [F

    .line 10393
    fill-array-data v4, :array_1

    invoke-static {v4}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v4

    .line 10394
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda3;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda3;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10402
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto/16 :goto_12

    :cond_2b
    const/4 v5, 0x2

    if-ne v4, v5, :cond_2c

    .line 10404
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->shutdown()V

    .line 10405
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getToolsView()Landroid/widget/FrameLayout;

    move-result-object v4

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v7, v6, [F

    const/16 v9, 0xba

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    const/4 v10, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10406
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getCurveControl()Lorg/telegram/ui/Components/PhotoFilterCurvesControl;

    move-result-object v4

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v6, [F

    const/4 v9, 0x0

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10407
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v4}, Lorg/telegram/ui/Components/PhotoFilterView;->getBlurControl()Lorg/telegram/ui/Components/PhotoFilterBlurControl;

    move-result-object v4

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v6, [F

    aput v9, v7, v10

    invoke-static {v4, v5, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10408
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_2

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_12

    :cond_2c
    const/4 v7, 0x3

    if-ne v4, v7, :cond_2d

    new-array v4, v5, [F

    .line 10410
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->getOffsetTranslationY()F

    move-result v7

    const/4 v9, 0x0

    aput v7, v4, v9

    const/16 v7, 0x7e

    invoke-static {v7}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v7

    int-to-float v7, v7

    aput v7, v4, v6

    invoke-static {v4}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v4

    new-array v7, v5, [F

    const/4 v5, 0x0

    aput v5, v7, v9

    .line 10411
    invoke-static/range {v16 .. v16}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    neg-int v5, v5

    int-to-float v5, v5

    aput v5, v7, v6

    invoke-static {v7}, Landroid/animation/ValueAnimator;->ofFloat([F)Landroid/animation/ValueAnimator;

    move-result-object v5

    .line 10412
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda14;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda14;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v4, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10413
    new-instance v7, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda15;

    invoke-direct {v7, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda15;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v5, v7}, Landroid/animation/ValueAnimator;->addUpdateListener(Landroid/animation/ValueAnimator$AnimatorUpdateListener;)V

    .line 10414
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/PaintingOverlay;->showAll()V

    .line 10415
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-virtual {v7}, Landroid/widget/FrameLayout;->invalidate()V

    .line 10416
    iget-object v7, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v7}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->shutdown()V

    .line 10417
    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10418
    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10419
    sget-object v4, Lorg/telegram/ui/Components/AnimationProperties;->PHOTO_VIEWER_ANIMATION_VALUE:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_3

    invoke-static {v0, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10420
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    invoke-virtual {v4, v6}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->onAnimationStateChanged(Z)V

    .line 10422
    :cond_2d
    :goto_12
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v7, Landroid/animation/ArgbEvaluator;

    invoke-direct {v7}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v5, v5, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v9, 0x0

    aput-object v2, v5, v9

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v5, v6

    invoke-static {v4, v14, v7, v5}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10423
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10424
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10425
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$53;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$53;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10536
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->imageMoveAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2c

    :cond_2e
    const/16 v4, 0x3a

    const/16 v5, 0x9a

    const/16 v7, 0x60

    if-ne v1, v6, :cond_38

    .line 10538
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10539
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createCropView()V

    .line 10540
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->hasViewTransform()Z

    move-result v3

    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousHasTransform:Z

    .line 10541
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPx()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPx:F

    .line 10542
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPy()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPy:F

    .line 10543
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getScale()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropScale:F

    .line 10544
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getRotation()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropRotation:F

    .line 10545
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getOrientation()I

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropOrientation:I

    .line 10546
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPw()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPw:F

    .line 10547
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->getCropPh()F

    move-result v3

    iput v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropPh:F

    .line 10548
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v3

    iput-boolean v3, v0, Lorg/telegram/ui/PhotoViewer;->previousCropMirrored:Z

    .line 10549
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoCropView;->onAppear()V

    .line 10551
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v3, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v9, Lorg/telegram/messenger/R$string;->Crop:I

    const-string v10, "Crop"

    invoke-static {v10, v9}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 10552
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    iget-object v3, v3, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    sget v9, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {v0, v9}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v9

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setTextColor(I)V

    .line 10554
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10555
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 10556
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v10, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v12, 0x2

    new-array v13, v12, [F

    const/4 v12, 0x0

    const/4 v15, 0x0

    aput v12, v13, v15

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v12

    iget-object v15, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v15}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v15

    add-int/2addr v12, v15

    iget-boolean v15, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v15, :cond_2f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    goto :goto_13

    :cond_2f
    const/4 v4, 0x0

    :goto_13
    add-int/2addr v12, v4

    int-to-float v4, v12

    aput v4, v13, v6

    invoke-static {v9, v10, v13}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10557
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v6, [F

    const/4 v12, 0x0

    const/4 v13, 0x0

    aput v12, v10, v13

    invoke-static {v4, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10558
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v15, v10, [F

    aput v12, v15, v13

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_30

    move v10, v5

    goto :goto_14

    :cond_30
    move v10, v7

    :goto_14
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    int-to-float v10, v10

    aput v10, v15, v6

    invoke-static {v4, v9, v15}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10559
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v12, v10, [F

    const/4 v13, 0x0

    const/4 v15, 0x0

    aput v13, v12, v15

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v13

    neg-int v13, v13

    int-to-float v13, v13

    aput v13, v12, v6

    invoke-static {v4, v9, v12}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10560
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v9, Landroid/animation/ArgbEvaluator;

    invoke-direct {v9}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v12, v10, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v13, 0x0

    aput-object v2, v12, v13

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v12, v6

    invoke-static {v4, v14, v9, v12}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10561
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v2, :cond_32

    .line 10562
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v8, v10, [F

    const/4 v9, 0x0

    aput v9, v8, v13

    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v9, :cond_31

    goto :goto_15

    :cond_31
    move v5, v7

    :goto_15
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    aput v5, v8, v6

    invoke-static {v2, v4, v8}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10564
    :cond_32
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v2, :cond_34

    const/4 v4, 0x4

    if-ne v2, v4, :cond_33

    goto :goto_16

    :cond_33
    const/4 v5, 0x2

    goto :goto_17

    .line 10565
    :cond_34
    :goto_16
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v5, 0x2

    new-array v7, v5, [F

    fill-array-data v7, :array_4

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10566
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v5, [F

    fill-array-data v7, :array_5

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10568
    :goto_17
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v2}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v2

    if-nez v2, :cond_35

    .line 10569
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v7, v5, [F

    fill-array-data v7, :array_6

    invoke-static {v2, v4, v7}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10571
    :cond_35
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_36

    .line 10572
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v5, [F

    fill-array-data v5, :array_7

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10574
    :cond_36
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    if-eqz v2, :cond_37

    .line 10575
    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v6, [F

    const/4 v6, 0x0

    aput v11, v5, v6

    invoke-static {v2, v4, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10577
    :cond_37
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10578
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10579
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$54;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$54;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10679
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2c

    :cond_38
    const/4 v9, 0x2

    if-ne v1, v9, :cond_4e

    .line 10681
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10682
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-nez v9, :cond_46

    .line 10687
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    invoke-virtual {v9}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v9

    const/4 v10, 0x0

    if-nez v9, :cond_3a

    .line 10688
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->imagesArrLocals:Ljava/util/ArrayList;

    iget v11, v0, Lorg/telegram/ui/PhotoViewer;->currentIndex:I

    invoke-virtual {v9, v11}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v9

    .line 10689
    instance-of v11, v9, Lorg/telegram/messenger/MediaController$PhotoEntry;

    if-eqz v11, :cond_39

    .line 10690
    move-object v11, v9

    check-cast v11, Lorg/telegram/messenger/MediaController$PhotoEntry;

    .line 10691
    iget v11, v11, Lorg/telegram/messenger/MediaController$PhotoEntry;->orientation:I

    goto :goto_18

    :cond_39
    const/4 v11, 0x0

    .line 10693
    :goto_18
    check-cast v9, Lorg/telegram/messenger/MediaController$MediaEditState;

    .line 10694
    iget-object v12, v9, Lorg/telegram/messenger/MediaController$MediaEditState;->savedFilterState:Lorg/telegram/messenger/MediaController$SavedFilterState;

    .line 10695
    invoke-virtual {v9}, Lorg/telegram/messenger/MediaController$MediaEditState;->getPath()Ljava/lang/String;

    move-result-object v9

    move-object/from16 v23, v12

    goto :goto_19

    :cond_3a
    move-object v9, v10

    move-object/from16 v23, v9

    const/4 v11, 0x0

    .line 10697
    :goto_19
    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v12, :cond_3b

    move-object/from16 v21, v10

    :goto_1a
    move/from16 v22, v11

    goto :goto_1c

    :cond_3b
    if-nez v23, :cond_3c

    .line 10701
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v9}, Lorg/telegram/messenger/ImageReceiver;->getBitmap()Landroid/graphics/Bitmap;

    move-result-object v9

    .line 10702
    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->centerImage:Lorg/telegram/messenger/ImageReceiver;

    invoke-virtual {v11}, Lorg/telegram/messenger/ImageReceiver;->getOrientation()I

    move-result v11

    goto :goto_1b

    .line 10704
    :cond_3c
    invoke-static {v9}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v9

    :goto_1b
    move-object/from16 v21, v9

    goto :goto_1a

    .line 10709
    :goto_1c
    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v9, v6, :cond_3d

    move/from16 v25, v6

    goto :goto_1f

    .line 10711
    :cond_3d
    iget-boolean v9, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-nez v9, :cond_40

    iget v9, v0, Lorg/telegram/ui/PhotoViewer;->currentImageHasFace:I

    const/4 v11, 0x2

    if-ne v9, v11, :cond_3e

    goto :goto_1e

    :cond_3e
    if-ne v9, v6, :cond_3f

    move v9, v6

    goto :goto_1d

    :cond_3f
    const/4 v9, 0x0

    :goto_1d
    move/from16 v25, v9

    goto :goto_1f

    :cond_40
    :goto_1e
    const/16 v25, 0x2

    .line 10716
    :goto_1f
    new-instance v9, Lorg/telegram/ui/Components/PhotoFilterView;

    iget-object v11, v0, Lorg/telegram/ui/PhotoViewer;->parentActivity:Landroid/app/Activity;

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->videoTextureView:Landroid/view/TextureView;

    if-eqz v12, :cond_41

    move-object v13, v12

    check-cast v13, Lorg/telegram/ui/Components/VideoEditTextureView;

    move-object/from16 v20, v13

    goto :goto_20

    :cond_41
    move-object/from16 v20, v10

    :goto_20
    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_42

    goto :goto_21

    :cond_42
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->paintingOverlay:Lorg/telegram/ui/Components/PaintingOverlay;

    :goto_21
    move-object/from16 v24, v10

    if-nez v12, :cond_45

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->editState:Lorg/telegram/ui/PhotoViewer$EditState;

    iget-object v10, v10, Lorg/telegram/ui/PhotoViewer$EditState;->cropState:Lorg/telegram/messenger/MediaController$CropState;

    if-eqz v10, :cond_43

    iget-boolean v10, v10, Lorg/telegram/messenger/MediaController$CropState;->mirrored:Z

    if-nez v10, :cond_44

    :cond_43
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->cropTransform:Lorg/telegram/ui/Components/Crop/CropTransform;

    invoke-virtual {v10}, Lorg/telegram/ui/Components/Crop/CropTransform;->isMirrored()Z

    move-result v10

    if-eqz v10, :cond_45

    :cond_44
    move/from16 v26, v6

    goto :goto_22

    :cond_45
    const/16 v26, 0x0

    :goto_22
    const/16 v27, 0x1

    const/16 v28, 0x0

    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    move-object/from16 v18, v9

    move-object/from16 v19, v11

    move-object/from16 v29, v10

    invoke-direct/range {v18 .. v29}, Lorg/telegram/ui/Components/PhotoFilterView;-><init>(Landroid/content/Context;Lorg/telegram/ui/Components/VideoEditTextureView;Landroid/graphics/Bitmap;ILorg/telegram/messenger/MediaController$SavedFilterState;Lorg/telegram/ui/Components/PaintingOverlay;IZZLorg/telegram/ui/Components/BlurringShader$BlurManager;Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    iput-object v9, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    .line 10717
    iget-object v10, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    invoke-static {v3, v3}, Lorg/telegram/ui/Components/LayoutHelper;->createFrame(II)Landroid/widget/FrameLayout$LayoutParams;

    move-result-object v3

    invoke-virtual {v10, v9, v3}, Landroid/widget/FrameLayout;->addView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V

    .line 10718
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getDoneTextView()Landroid/widget/TextView;

    move-result-object v3

    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda31;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda31;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10722
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getCancelTextView()Landroid/widget/TextView;

    move-result-object v3

    new-instance v9, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda47;

    invoke-direct {v9, v0}, Lorg/telegram/ui/PhotoViewer$$ExternalSyntheticLambda47;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v3, v9}, Landroid/widget/TextView;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10737
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    invoke-virtual {v3}, Lorg/telegram/ui/Components/PhotoFilterView;->getToolsView()Landroid/widget/FrameLayout;

    move-result-object v3

    const/16 v9, 0xba

    invoke-static {v9}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v9

    int-to-float v9, v9

    invoke-virtual {v3, v9}, Landroid/widget/FrameLayout;->setTranslationY(F)V

    .line 10740
    :cond_46
    new-instance v3, Landroid/animation/AnimatorSet;

    invoke-direct {v3}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v3, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10741
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 10742
    iget-object v9, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v10, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v11, 0x2

    new-array v12, v11, [F

    const/4 v11, 0x0

    const/4 v13, 0x0

    aput v11, v12, v13

    invoke-virtual {v9}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v13, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v13}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v13

    add-int/2addr v11, v13

    iget-boolean v13, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v13, :cond_47

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    goto :goto_23

    :cond_47
    const/4 v4, 0x0

    :goto_23
    add-int/2addr v11, v4

    int-to-float v4, v11

    aput v4, v12, v6

    invoke-static {v9, v10, v12}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10743
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v10, v6, [F

    const/4 v11, 0x0

    const/4 v12, 0x0

    aput v11, v10, v12

    invoke-static {v4, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10744
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v10, 0x2

    new-array v13, v10, [F

    aput v11, v13, v12

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_48

    goto :goto_24

    :cond_48
    move v5, v7

    :goto_24
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    aput v5, v13, v6

    invoke-static {v4, v9, v13}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10745
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v5, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    const/4 v7, 0x2

    new-array v9, v7, [F

    const/4 v7, 0x0

    const/4 v10, 0x0

    aput v7, v9, v10

    invoke-virtual {v4}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v7

    neg-int v7, v7

    int-to-float v7, v7

    aput v7, v9, v6

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10746
    iget v4, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v4, :cond_4b

    const/4 v5, 0x4

    if-ne v4, v5, :cond_49

    goto :goto_25

    :cond_49
    if-ne v4, v6, :cond_4a

    .line 10750
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v7, 0x2

    new-array v9, v7, [F

    fill-array-data v9, :array_8

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_26

    :cond_4a
    const/4 v7, 0x2

    goto :goto_26

    :cond_4b
    :goto_25
    const/4 v7, 0x2

    .line 10747
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_9

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10748
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_a

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10752
    :goto_26
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v4}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v4

    if-nez v4, :cond_4c

    .line 10753
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_b

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10755
    :cond_4c
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v4}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v4

    if-eqz v4, :cond_4d

    .line 10756
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v5, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v7, [F

    fill-array-data v9, :array_c

    invoke-static {v4, v5, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10758
    :cond_4d
    iget-object v4, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v5, Landroid/animation/ArgbEvaluator;

    invoke-direct {v5}, Landroid/animation/ArgbEvaluator;-><init>()V

    new-array v7, v7, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const/4 v9, 0x0

    aput-object v2, v7, v9

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v7, v6

    invoke-static {v4, v14, v5, v7}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v3, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10759
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10760
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v3, 0xc8

    invoke-virtual {v2, v3, v4}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10761
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v3, Lorg/telegram/ui/PhotoViewer$55;

    invoke-direct {v3, v0, v1}, Lorg/telegram/ui/PhotoViewer$55;-><init>(Lorg/telegram/ui/PhotoViewer;I)V

    invoke-virtual {v2, v3}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10850
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    goto/16 :goto_2c

    :cond_4e
    const/4 v3, 0x3

    if-ne v1, v3, :cond_58

    .line 10852
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->startVideoPlayer()V

    .line 10853
    invoke-direct/range {p0 .. p0}, Lorg/telegram/ui/PhotoViewer;->createPaintView()V

    .line 10855
    new-instance v1, Landroid/animation/AnimatorSet;

    invoke-direct {v1}, Landroid/animation/AnimatorSet;-><init>()V

    iput-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    .line 10856
    new-instance v1, Ljava/util/ArrayList;

    invoke-direct {v1}, Ljava/util/ArrayList;-><init>()V

    .line 10857
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v9, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v10, v6, [F

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v11

    iget-object v12, v0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    invoke-virtual {v12}, Lorg/telegram/ui/Stories/recorder/CaptionContainerView;->getEditTextHeight()I

    move-result v12

    add-int/2addr v11, v12

    iget-boolean v12, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v12, :cond_4f

    invoke-static {v4}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v4

    goto :goto_27

    :cond_4f
    const/4 v4, 0x0

    :goto_27
    add-int/2addr v11, v4

    int-to-float v4, v11

    const/4 v11, 0x0

    aput v4, v10, v11

    invoke-static {v3, v9, v10}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10858
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerView:Landroid/widget/FrameLayout;

    sget-object v4, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v9, v6, [F

    const/4 v10, 0x0

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10859
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v6, [F

    iget-boolean v10, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v10, :cond_50

    move v10, v5

    goto :goto_28

    :cond_50
    move v10, v7

    :goto_28
    invoke-static {v10}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v10

    int-to-float v10, v10

    const/4 v11, 0x0

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10860
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->actionBar:Lorg/telegram/ui/ActionBar/ActionBar;

    sget-object v4, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v9, v6, [F

    invoke-virtual {v3}, Landroid/widget/FrameLayout;->getHeight()I

    move-result v10

    neg-int v10, v10

    int-to-float v10, v10

    aput v10, v9, v11

    invoke-static {v3, v4, v9}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10861
    iget-object v3, v0, Lorg/telegram/ui/PhotoViewer;->navigationBar:Landroid/view/View;

    new-instance v4, Landroid/animation/ArgbEvaluator;

    invoke-direct {v4}, Landroid/animation/ArgbEvaluator;-><init>()V

    const/4 v9, 0x2

    new-array v10, v9, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v10, v11

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v10, v6

    invoke-static {v3, v14, v4, v10}, Landroid/animation/ObjectAnimator;->ofObject(Ljava/lang/Object;Ljava/lang/String;Landroid/animation/TypeEvaluator;[Ljava/lang/Object;)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10862
    iget-boolean v2, v0, Lorg/telegram/ui/PhotoViewer;->needCaptionLayout:Z

    if-eqz v2, :cond_52

    .line 10863
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->captionTextViewSwitcher:Lorg/telegram/ui/PhotoViewer$CaptionTextViewSwitcher;

    sget-object v3, Landroid/view/View;->TRANSLATION_Y:Landroid/util/Property;

    new-array v4, v6, [F

    iget-boolean v8, v0, Lorg/telegram/ui/PhotoViewer;->isCurrentVideo:Z

    if-eqz v8, :cond_51

    goto :goto_29

    :cond_51
    move v5, v7

    :goto_29
    invoke-static {v5}, Lorg/telegram/messenger/AndroidUtilities;->dp(I)I

    move-result v5

    int-to-float v5, v5

    const/4 v7, 0x0

    aput v5, v4, v7

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10865
    :cond_52
    iget v2, v0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-eqz v2, :cond_55

    const/4 v3, 0x4

    if-ne v2, v3, :cond_53

    goto :goto_2a

    :cond_53
    if-ne v2, v6, :cond_54

    .line 10869
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photoCropView:Lorg/telegram/ui/Components/PhotoCropView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    const/4 v4, 0x2

    new-array v5, v4, [F

    fill-array-data v5, :array_d

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_2b

    :cond_54
    const/4 v4, 0x2

    goto :goto_2b

    :cond_55
    :goto_2a
    const/4 v4, 0x2

    .line 10866
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_e

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10867
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->photosCounterView:Lorg/telegram/ui/PhotoViewer$CounterView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_f

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10871
    :goto_2b
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v2}, Landroid/view/ViewGroup;->getVisibility()I

    move-result v2

    if-nez v2, :cond_56

    .line 10872
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v5, v4, [F

    fill-array-data v5, :array_10

    invoke-static {v2, v3, v5}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10874
    :cond_56
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v2}, Landroid/widget/ImageView;->getTag()Ljava/lang/Object;

    move-result-object v2

    if-eqz v2, :cond_57

    .line 10875
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget-object v3, Landroid/view/View;->ALPHA:Landroid/util/Property;

    new-array v4, v4, [F

    fill-array-data v4, :array_11

    invoke-static {v2, v3, v4}, Landroid/animation/ObjectAnimator;->ofFloat(Ljava/lang/Object;Landroid/util/Property;[F)Landroid/animation/ObjectAnimator;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 10877
    :cond_57
    iget-object v2, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v2, v1}, Landroid/animation/AnimatorSet;->playTogether(Ljava/util/Collection;)V

    .line 10878
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    const-wide/16 v2, 0xc8

    invoke-virtual {v1, v2, v3}, Landroid/animation/AnimatorSet;->setDuration(J)Landroid/animation/AnimatorSet;

    .line 10879
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    new-instance v2, Lorg/telegram/ui/PhotoViewer$56;

    invoke-direct {v2, v0}, Lorg/telegram/ui/PhotoViewer$56;-><init>(Lorg/telegram/ui/PhotoViewer;)V

    invoke-virtual {v1, v2}, Landroid/animation/AnimatorSet;->addListener(Landroid/animation/Animator$AnimatorListener;)V

    .line 10885
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->changeModeAnimation:Landroid/animation/AnimatorSet;

    invoke-virtual {v1}, Landroid/animation/AnimatorSet;->start()V

    .line 10888
    :cond_58
    :goto_2c
    iget-object v1, v0, Lorg/telegram/ui/PhotoViewer;->containerView:Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;

    if-eqz v1, :cond_59

    .line 10889
    invoke-virtual {v1}, Lorg/telegram/ui/PhotoViewer$FrameLayoutDrawer;->updateExclusionRects()V

    :cond_59
    :goto_2d
    return-void

    nop

    :array_0
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_1
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_2
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_3
    .array-data 4
        0x0
        0x3f800000    # 1.0f
    .end array-data

    :array_4
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_5
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_6
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_7
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_8
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_9
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_a
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_b
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_c
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_d
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_e
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_f
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_10
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data

    :array_11
    .array-data 4
        0x3f800000    # 1.0f
        0x0
    .end array-data
.end method

.method public updateColors()V
    .locals 8

    .line 8627
    sget v0, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButton:I

    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v1

    .line 8628
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    const/4 v3, 0x0

    const/4 v4, 0x1

    if-eqz v2, :cond_1

    .line 8629
    invoke-virtual {v2}, Landroid/widget/ImageView;->getBackground()Landroid/graphics/drawable/Drawable;

    move-result-object v2

    .line 8630
    invoke-static {v2, v1, v3}, Lorg/telegram/ui/ActionBar/Theme;->setSelectorDrawableColor(Landroid/graphics/drawable/Drawable;IZ)V

    .line 8631
    sget v5, Landroid/os/Build$VERSION;->SDK_INT:I

    const/16 v6, 0x15

    if-lt v5, v6, :cond_0

    sget v5, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingButtonPressed:I

    goto :goto_0

    :cond_0
    move v5, v0

    :goto_0
    invoke-direct {p0, v5}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v5

    invoke-static {v2, v5, v4}, Lorg/telegram/ui/ActionBar/Theme;->setSelectorDrawableColor(Landroid/graphics/drawable/Drawable;IZ)V

    .line 8632
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->pickerViewSendButton:Landroid/widget/ImageView;

    new-instance v5, Landroid/graphics/PorterDuffColorFilter;

    sget v6, Lorg/telegram/ui/ActionBar/Theme;->key_dialogFloatingIcon:I

    invoke-direct {p0, v6}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v6

    sget-object v7, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v5, v6, v7}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    invoke-virtual {v2, v5}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8634
    :cond_1
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->checkImageView:Lorg/telegram/ui/Components/CheckBox;

    if-eqz v2, :cond_2

    .line 8635
    invoke-direct {p0, v0}, Lorg/telegram/ui/PhotoViewer;->getThemedColor(I)I

    move-result v0

    const/4 v5, -0x1

    invoke-virtual {v2, v0, v5}, Lorg/telegram/ui/Components/CheckBox;->setColor(II)V

    .line 8637
    :cond_2
    new-instance v0, Landroid/graphics/PorterDuffColorFilter;

    sget-object v2, Landroid/graphics/PorterDuff$Mode;->MULTIPLY:Landroid/graphics/PorterDuff$Mode;

    invoke-direct {v0, v1, v2}, Landroid/graphics/PorterDuffColorFilter;-><init>(ILandroid/graphics/PorterDuff$Mode;)V

    .line 8638
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_3

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_3

    .line 8639
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->paintItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8641
    :cond_3
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_4

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_4

    .line 8642
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->cropItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8644
    :cond_4
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_5

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_5

    .line 8645
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->tuneItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8647
    :cond_5
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_6

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_6

    .line 8648
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->rotateItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8650
    :cond_6
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    if-eqz v2, :cond_7

    invoke-virtual {v2}, Landroid/widget/ImageView;->getColorFilter()Landroid/graphics/ColorFilter;

    move-result-object v2

    if-eqz v2, :cond_7

    .line 8651
    iget-object v2, p0, Lorg/telegram/ui/PhotoViewer;->mirrorItem:Landroid/widget/ImageView;

    invoke-virtual {v2, v0}, Landroid/widget/ImageView;->setColorFilter(Landroid/graphics/ColorFilter;)V

    .line 8653
    :cond_7
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->editorDoneLayout:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    if-eqz v0, :cond_8

    .line 8654
    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 8656
    :cond_8
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->qualityPicker:Lorg/telegram/ui/Components/PickerBottomLayoutViewer;

    if-eqz v0, :cond_9

    .line 8657
    iget-object v0, v0, Lorg/telegram/ui/Components/PickerBottomLayoutViewer;->doneButton:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setTextColor(I)V

    .line 8659
    :cond_9
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoPaintView:Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;

    if-eqz v0, :cond_a

    .line 8660
    invoke-virtual {v0}, Lorg/telegram/ui/Components/Paint/Views/LPhotoPaintView;->updateColors()V

    .line 8662
    :cond_a
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->photoFilterView:Lorg/telegram/ui/Components/PhotoFilterView;

    if-eqz v0, :cond_b

    .line 8663
    invoke-virtual {v0}, Lorg/telegram/ui/Components/PhotoFilterView;->updateColors()V

    .line 8665
    :cond_b
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->captionEdit:Lorg/telegram/ui/Components/CaptionPhotoViewer;

    if-eqz v0, :cond_c

    .line 8666
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->resourcesProvider:Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/CaptionPhotoViewer;->updateColors(Lorg/telegram/ui/ActionBar/Theme$ResourcesProvider;)V

    .line 8668
    :cond_c
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    if-eqz v0, :cond_d

    .line 8669
    invoke-virtual {v0}, Landroid/view/View;->invalidate()V

    .line 8671
    :cond_d
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    if-eqz v0, :cond_f

    .line 8672
    invoke-virtual {v0}, Landroid/view/ViewGroup;->getChildCount()I

    move-result v0

    :goto_1
    if-ge v3, v0, :cond_f

    .line 8674
    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->selectedPhotosListView:Lorg/telegram/ui/PhotoViewer$SelectedPhotosListView;

    invoke-virtual {v1, v3}, Landroid/view/ViewGroup;->getChildAt(I)Landroid/view/View;

    move-result-object v1

    .line 8675
    instance-of v2, v1, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;

    if-eqz v2, :cond_e

    .line 8676
    check-cast v1, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;

    invoke-virtual {v1}, Lorg/telegram/ui/Cells/PhotoPickerPhotoCell;->updateColors()V

    :cond_e
    add-int/lit8 v3, v3, 0x1

    goto :goto_1

    .line 8680
    :cond_f
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->masksAlert:Lorg/telegram/ui/Components/StickersAlert;

    if-eqz v0, :cond_10

    .line 8681
    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/StickersAlert;->updateColors(Z)V

    :cond_10
    return-void
.end method

.method public updateMuteButton()V
    .locals 7

    .line 17985
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoPlayer:Lorg/telegram/ui/Components/VideoPlayer;

    if-eqz v0, :cond_0

    .line 17986
    iget-boolean v1, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoPlayer;->setMute(Z)V

    .line 17988
    :cond_0
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->videoConvertSupported:Z

    const/high16 v1, 0x3f000000    # 0.5f

    const-wide/16 v2, 0xb4

    const/4 v4, 0x0

    if-nez v0, :cond_1

    .line 17989
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setEnabled(Z)V

    .line 17990
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v4}, Landroid/widget/ImageView;->setClickable(Z)V

    .line 17991
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v1}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 17992
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    goto/16 :goto_1

    .line 17994
    :cond_1
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    const/4 v5, 0x1

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setEnabled(Z)V

    .line 17995
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0, v5}, Landroid/widget/ImageView;->setClickable(Z)V

    .line 17996
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    invoke-virtual {v0}, Landroid/widget/ImageView;->animate()Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    const/high16 v6, 0x3f800000    # 1.0f

    invoke-virtual {v0, v6}, Landroid/view/ViewPropertyAnimator;->alpha(F)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0, v2, v3}, Landroid/view/ViewPropertyAnimator;->setDuration(J)Landroid/view/ViewPropertyAnimator;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/ViewPropertyAnimator;->start()V

    .line 17997
    iget-boolean v0, p0, Lorg/telegram/ui/PhotoViewer;->muteVideo:Z

    if-eqz v0, :cond_5

    .line 17998
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->customTitle:Ljava/lang/CharSequence;

    if-nez v0, :cond_2

    .line 17999
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    sget v2, Lorg/telegram/messenger/R$string;->SoundMuted:I

    const-string v3, "SoundMuted"

    invoke-static {v3, v2}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 18001
    :cond_2
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v2, Lorg/telegram/messenger/R$drawable;->video_send_mute:I

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 18002
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_3

    .line 18003
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v1}, Landroid/view/View;->setAlpha(F)V

    .line 18004
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v4}, Landroid/view/View;->setEnabled(Z)V

    .line 18006
    :cond_3
    iget v0, p0, Lorg/telegram/ui/PhotoViewer;->sendPhotoType:I

    if-ne v0, v5, :cond_4

    .line 18007
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    const/high16 v1, 0x46160000    # 9600.0f

    iget v2, p0, Lorg/telegram/ui/PhotoViewer;->videoDuration:F

    div-float/2addr v1, v2

    invoke-virtual {v0, v1}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 18008
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v5}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    .line 18009
    invoke-direct {p0}, Lorg/telegram/ui/PhotoViewer;->updateVideoInfo()V

    goto :goto_0

    .line 18011
    :cond_4
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 18012
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    .line 18014
    :goto_0
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$string;->NoSound:I

    const-string v2, "NoSound"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    goto :goto_1

    .line 18016
    :cond_5
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->actionBarContainer:Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;

    iget-object v1, p0, Lorg/telegram/ui/PhotoViewer;->currentSubtitle:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lorg/telegram/ui/PhotoViewer$PhotoViewerActionBarContainer;->setSubtitle(Ljava/lang/CharSequence;)V

    .line 18017
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$drawable;->video_send_unmute:I

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 18018
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->muteItem:Landroid/widget/ImageView;

    sget v1, Lorg/telegram/messenger/R$string;->Sound:I

    const-string v2, "Sound"

    invoke-static {v2, v1}, Lorg/telegram/messenger/LocaleController;->getString(Ljava/lang/String;I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setContentDescription(Ljava/lang/CharSequence;)V

    .line 18019
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0}, Landroid/view/View;->getTag()Ljava/lang/Object;

    move-result-object v0

    if-eqz v0, :cond_6

    .line 18020
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v6}, Landroid/view/View;->setAlpha(F)V

    .line 18021
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->compressItem:Lorg/telegram/ui/Components/VideoCompressButton;

    invoke-virtual {v0, v5}, Landroid/view/View;->setEnabled(Z)V

    .line 18023
    :cond_6
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v6}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMaxProgressDiff(F)V

    .line 18024
    iget-object v0, p0, Lorg/telegram/ui/PhotoViewer;->videoTimelineView:Lorg/telegram/ui/Components/VideoTimelinePlayView;

    invoke-virtual {v0, v4}, Lorg/telegram/ui/Components/VideoTimelinePlayView;->setMode(I)V

    :goto_1
    return-void
.end method

.method public updateWebPlayerState(ZI)V
    .locals 0

    .line 8719
    invoke-direct {p0, p1, p2}, Lorg/telegram/ui/PhotoViewer;->updatePlayerState(ZI)V

    return-void
.end method

.method public zoomOut()V
    .locals 3

    const/high16 v0, 0x3f800000    # 1.0f

    const/4 v1, 0x0

    const/4 v2, 0x0

    .line 16358
    invoke-direct {p0, v0, v1, v1, v2}, Lorg/telegram/ui/PhotoViewer;->animateTo(FFFZ)V

    return-void
.end method
